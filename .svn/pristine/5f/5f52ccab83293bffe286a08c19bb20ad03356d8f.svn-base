"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[5021,5682],{87350:(e,o,t)=>{t.d(o,{Bs:()=>Z,C4:()=>R,CY:()=>$,D7:()=>O,DD:()=>M,EF:()=>ne,FN:()=>F,FZ:()=>j,Fb:()=>l,Gm:()=>g,Hg:()=>J,Kc:()=>y,Ko:()=>S,LI:()=>x,MC:()=>b,NP:()=>L,Nq:()=>h,OK:()=>B,QI:()=>q,SU:()=>X,Tf:()=>N,Ux:()=>W,V9:()=>v,VG:()=>m,VT:()=>Y,Ww:()=>T,XC:()=>G,Xc:()=>r,_V:()=>P,ae:()=>K,c0:()=>_,c1:()=>C,c_:()=>ee,cn:()=>z,db:()=>D,f7:()=>k,fL:()=>u,fi:()=>p,gK:()=>V,hE:()=>c,hG:()=>H,je:()=>d,n5:()=>U,nR:()=>oe,nY:()=>I,nr:()=>w,pp:()=>te,qg:()=>ae,sb:()=>A,sd:()=>f,t2:()=>Q,w4:()=>E,xl:()=>i});var a=t(54048),n=t(46152);const s=t(74569);async function r(e,o){const t=o?"&search=".concat(o):"",a="/promomaster/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode).concat(t);return n.Z.fetchData({url:a,method:"get",data:e})}async function i(e,o){let t="/promomaster/filter/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode);return o.PromoTypeCode&&(t+="&PromoTypeCode=".concat(o.PromoTypeCode)),o.Caption&&(t+="&Caption=".concat(o.Caption)),o.Duration[0]&&(t+="&Duration1=".concat(o.Duration[0])),o.Duration[1]&&(t+="&Duration2=".concat(o.Duration[1])),o.VideoID&&(t+="&VideoID=".concat(o.VideoID)),n.Z.fetchData({url:t,method:"get",data:o})}async function l(e){return n.Z.fetchData({url:"/smartshufflesetting/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}async function c(e,o){return n.Z.fetchData({url:"/smartshufflesetting/".concat(o),method:"put",data:e})}async function d(e){return n.Z.fetchData({url:"/smartshufflesetting/",method:"post",data:e})}async function m(e){return n.Z.fetchData({url:"/songgenre/",method:"get",data:e})}async function u(e){return n.Z.fetchData({url:"/songcategory/",method:"get",data:e})}async function h(e){return n.Z.fetchData({url:"/songmaster/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}async function p(e){return n.Z.fetchData({url:"/songmaster/".concat(e),method:"get"})}const C=(e,o)=>fetch(a.Z.apiPrefix+"/songgenre/".concat(e.SongGenreCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},body:JSON.stringify({SongGenreName:e.SongGenreName,IsActive:e.IsActive})}),g=(e,o)=>fetch(a.Z.apiPrefix+"/moviealbummaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},body:JSON.stringify({MovieAlbumName:e.MovieAlbumName,IsActive:e.IsActive})}),x=(e,o)=>fetch(a.Z.apiPrefix+"/moviealbummaster/".concat(e.MovieAlbumCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},body:JSON.stringify({MovieAlbumName:e.MovieAlbumName,IsActive:e.IsActive})}),f=(e,o)=>(console.log(e),fetch(a.Z.apiPrefix+"/songcategory/".concat(e.SongCategoryCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},body:JSON.stringify({SongCategoryName:e.SongCategoryName,IsActive:e.IsActive})})),y=(e,o)=>fetch(a.Z.apiPrefix+"/songgenre",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},body:JSON.stringify({SongGenreName:e.SongGenreName,IsActive:e.IsActive})}),S=(e,o)=>fetch(a.Z.apiPrefix+"/songcategory",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},body:JSON.stringify({SongCategoryName:e.SongCategoryName,IsActive:e.IsActive})}),v=(e,o)=>new Promise(((t,n)=>{let r={method:"post",maxBodyLength:1/0,url:a.Z.apiPrefix+"/promomaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:e};s.request(r).then((e=>{t(e)})).catch((e=>{n(e)}))})),N=(e,o,t)=>new Promise(((n,r)=>{let i={method:"put",maxBodyLength:1/0,url:a.Z.apiPrefix+"/promomaster/".concat(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:e};s.request(i).then((e=>{n(e)})).catch((e=>{r(e)}))}));async function T(e){return n.Z.fetchData({url:"/promotypemaster/drop/",method:"get",data:e})}async function P(e){return n.Z.fetchData({url:"/songgenre/drop/",method:"get",data:e})}async function j(e){return n.Z.fetchData({url:"/tapetypemaster/drop/",method:"get",data:e})}async function D(e){return n.Z.fetchData({url:"/songtempo/drop/",method:"get",data:e})}async function I(e,o,t){const a="promoscheduling/USP_Sch_PromoScheduling_GetDetails/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(o,"&Mode=").concat(t);return n.Z.fetchData({url:a,method:"get"})}async function b(e,o,t){const a="ntcscheduling/USP_Sch_NTCScheduling_GetDetails/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(o,"&Mode=").concat(t);return n.Z.fetchData({url:a,method:"get"})}async function L(e,o,t){const a="songscheduling/USP_Sch_SongScheduling_GetDetails/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(o,"&Mode=").concat(t);return n.Z.fetchData({url:a,method:"get"})}async function Z(e,o,t){const a="transmissionlog/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(o,"&Mode=").concat(t);return n.Z.fetchData({url:a,method:"get"})}async function A(e,o){const t="transmissionlog/Scheduling_FinalLog_ProgramChange?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(o);return n.Z.fetchData({url:t,method:"get"})}async function E(e,o){const t="/transmissionlog/USP_Sch_Finalog_ExportCsv/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(o,"&Mode=S");return n.Z.fetchData({url:t,method:"get"})}async function M(e){const o="restore/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(e.TelecastDate,"&FormName=").concat(e.FormName);return n.Z.fetchData({url:o,method:"get"})}async function w(e,o,t){const a="songscheduling/GetSongschedulDetails/?SongCode=".concat(e,"&TelecastDate=").concat(o,"&InHour=").concat(t);return n.Z.fetchData({url:a,method:"get"})}async function F(e){const o="restore/audit_data/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(e.TelecastDate,"&FormName=").concat(e.FormName,"&D_date=").concat(e.D_date);return n.Z.fetchData({url:o,method:"post"})}async function z(e){const o="commercialscheduling/restoreauditcommercialscheduling/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&ScheduleDate=").concat(e.ScheduleDate,"&D_date=").concat(e.D_date);return n.Z.fetchData({url:o,method:"post"})}async function k(e,o){const t="commercialscheduling/getauditpromoscheduling/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&ScheduleDate=").concat(o);return n.Z.fetchData({url:t,method:"get"})}async function _(e,o){const t="globle/GetDailyFPCStatus?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&Screen=").concat(e.Screen,"&TelecastDate=").concat(o);return n.Z.fetchData({url:t,method:"get"})}async function B(e,o,t,a){const s="promoscheduling/USP_Sch_Get_All_Promo/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(o,"&PromoTypeCode=").concat(t,"&PromoName=").concat(a);return n.Z.fetchData({url:s,method:"get"})}async function U(e,o,t,a){const s="ntcmaster/USP_Sch_Get_All_NTC/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&NTCTypeCode=").concat(t,"&NTCName=").concat(a);return n.Z.fetchData({url:s,method:"get"})}async function O(e,o,t,a){const s="songscheduling/USP_Sch_Get_All_Song/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(o,"&SongType=").concat(t,"&OrderBy=2&SearchText=").concat(a);return n.Z.fetchData({url:s,method:"get"})}async function q(e){return n.Z.fetchData({url:"/musicagencymst/drop/",method:"get",data:e})}async function G(e){return n.Z.fetchData({url:"/moviealbummaster/drop/",method:"get",data:e})}async function J(e){return n.Z.fetchData({url:"/transmissionlog/addaudit/",method:"post",data:e})}async function H(e){return n.Z.fetchData({url:"/transmissionlog/insertdata/",method:"post",data:e})}async function R(e){return n.Z.fetchData({url:"/transmissionlog/updatedata/",method:"put",data:e})}async function V(e,o){return n.Z.fetchData({url:"/transmissionlog/deletedata/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(o),method:"delete"})}const K=(e,o)=>new Promise(((t,n)=>{let r={method:"post",maxBodyLength:1/0,url:a.Z.apiPrefix+"/promoscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:e};s.request(r).then((e=>{t(e)})).catch((e=>{n(e)}))})),W=(e,o)=>new Promise(((t,n)=>{let r={method:"post",maxBodyLength:1/0,url:a.Z.apiPrefix+"/songscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:e};s.request(r).then((e=>{t(e)})).catch((e=>{n(e)}))})),Y=(e,o)=>new Promise(((t,n)=>{let r={method:"post",maxBodyLength:1/0,url:a.Z.apiPrefix+"/ntcscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:e};s.request(r).then((e=>{t(e)})).catch((e=>{n(e)}))})),X=(e,o)=>new Promise(((t,n)=>{let r={method:"post",maxBodyLength:1/0,url:a.Z.apiPrefix+"/transmissionlog/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:e};s.request(r).then((e=>{t(e)})).catch((e=>{n(e)}))})),$=(e,o)=>(console.log("url"),new Promise(((t,n)=>{let r={method:"put",maxBodyLength:1/0,url:a.Z.apiPrefix+"/commercialscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:e};s.request(r).then((e=>{t(e)})).catch((e=>{n(e)}))}))),Q=(e,o)=>new Promise(((t,n)=>{let r={method:"post",maxBodyLength:1/0,url:a.Z.apiPrefix+"/songmaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:e};s.request(r).then((e=>{t(e)})).catch((e=>{n(e)}))})),ee=(e,o,t)=>new Promise(((n,r)=>{let i={method:"put",maxBodyLength:1/0,url:a.Z.apiPrefix+"/songmaster/".concat(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:e};s.request(i).then((e=>{n(e)})).catch((e=>{r(e)}))})),oe=(e,o)=>new Promise(((t,n)=>{let r={method:"post",maxBodyLength:1/0,url:a.Z.apiPrefix+"/columnsetting/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:e};s.request(r).then((e=>{t(e)})).catch((e=>{n(e)}))})),te=(e,o,t)=>new Promise(((n,r)=>{let i={method:"put",maxBodyLength:1/0,url:a.Z.apiPrefix+"/bookingdetails/bookingstatuschange/?BookingStatus=".concat(o),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};s.request(i).then((e=>{n(e)})).catch((e=>{r(e)}))}));async function ae(e){return n.Z.fetchData({url:"teammapping/",method:"post",data:e})}async function ne(e){return n.Z.fetchData({url:"geneventcontent/Contentadd/",method:"post",data:e})}},44630:(e,o,t)=>{t.d(o,{Z:()=>n});var a=t(72791);const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;const[o,t]=(0,a.useState)("");return(0,a.useEffect)((()=>{if(o){let o=setTimeout((()=>t("")),e);return()=>{clearTimeout(o)}}}),[o]),[o,t]}},56214:(e,o,t)=>{t.d(o,{Z:()=>c});var a=t(1413),n=t(1063),s=t(99917),r=t(72791),i=t(60364),l=t(80184);const c=e=>{let{List:o,selectedList:t,setSelectedList:c}=e;const[d,m]=(0,r.useState)([]),u=(0,i.useSelector)((e=>e.theme.mode));return(0,r.useEffect)((()=>{const e=o.map((e=>(0,a.Z)((0,a.Z)({},e),{},{value:"".concat(e.LocationCode,"-").concat(e.ChannelCode),label:"".concat(e.LocationName,"-").concat(e.ChannelName)})));m(e)}),[]),(0,r.useEffect)((()=>{const e=o.map((e=>(0,a.Z)((0,a.Z)({},e),{},{value:"".concat(e.LocationCode,"-").concat(e.ChannelCode),label:"".concat(e.LocationName,"-").concat(e.ChannelName)})));m(e)}),[o]),(0,r.useEffect)((()=>{const e=t.map((e=>(0,a.Z)((0,a.Z)({},e),{},{value:"".concat(e.LocationCode,"-").concat(e.ChannelCode)})));c(e)}),[]),(0,l.jsx)("div",{children:(0,l.jsxs)(s.w,{scrollable:!0,scrollHeight:"400px",virtualScrollerOptions:{itemSize:46},size:"small",value:d,selectionMode:"checkbox",selection:t,onSelectionChange:e=>c(e.value),dataKey:"value",children:[(0,l.jsx)(n.s,{selectionMode:"multiple",style:{height:50,border:"1px solid transparent",borderBottom:"2px solid #374151",borderStyle:"dashed"}}),(0,l.jsx)(n.s,{field:"label",header:"Select Channel",style:{height:50,border:"1px solid transparent",borderBottom:"2px solid #374151",borderStyle:"dashed"},bodyStyle:"dark"==u?{}:{border:"1px solid #e5e7eb",color:"black"}})]})})}},88449:(e,o,t)=>{t.d(o,{Z:()=>r});var a=t(2803),n=t(78820),s=t(80184);const r=e=>{let{onSaveClick:o,onCancel:t,BtnSaveTxt:r="Save",BtnCancelTxt:i="Discard"}=e;return(0,s.jsxs)("div",{className:"text-left w-full flex",children:[(0,s.jsx)(a.zx,{size:"sm",className:"mr-2",onClick:t,children:i}),(0,s.jsx)(a.zx,{size:"sm",className:"mr-2",variant:"solid",onClick:o,icon:(0,s.jsx)(n.JMf,{}),children:r})]})}},45682:(e,o,t)=>{t.r(o),t.d(o,{default:()=>s});var a=t(2803),n=(t(72791),t(80184));const s=function(e){let{showLoader:o}=e;return(0,n.jsx)(n.Fragment,{children:o?(0,n.jsx)("div",{className:"dialog-overlay flex justify-center items-center z-50",children:(0,n.jsx)(a.$j,{size:"3.25rem"})}):(0,n.jsx)(n.Fragment,{})})}},54547:(e,o,t)=>{t.d(o,{Z:()=>r});var a=t(1413),n=t(2803),s=(t(72791),t(80184));const r=e=>{let{selected:o,setSelected:t,List:r,name:i,handlePromoTypeChange:l,dis:c}=e;return(0,s.jsx)("div",{className:"card flex flex-column align-items-center  h-9",children:(0,s.jsx)(n.Ph,{size:"sm",className:"mb-4 w-full",placeholder:"Select",options:r,isDisabled:!!c,value:null!==r?r.filter((e=>e.value==o)):[{value:"",label:"Data Not Found"}].filter((e=>e.value)),onChange:e=>{"PromoTypeCode"!=i&&"CommercialType"!=i&&"SongCategoryCode"!=i||l(e.value),t((o=>(0,a.Z)((0,a.Z)({},o),{},{epNo:e.end}))),t((o=>(0,a.Z)((0,a.Z)({},o),{},{[i]:e.value})))}})})}},1680:(e,o,t)=>{t.r(o),t.d(o,{CLIENT:()=>a,CLIENTWiseUploadPath:()=>n});const a={LOCAL:"LOCAL",INDIA_SPORTS:"INDIA SPORTS TV",USA_Forbes:"Forbes",FOOD_INDIA:"India Food Food",FOOD_USA:"USA Food Food INT",SWAMI:"INDIA SWAMI FILMS",GEC:"GEC CHANNEL",USA_GEC:"USA GEC CHANNEL",INDIA_GEC:"INDIA GEC CHANNEL",NEWS:"NEWS CHANNEL",USA_NEWS:"NEWS CHANNEL USA",BeIN_Sports:"BeIN Sports",MASST_INDIA:"INDIA MASST",ASIANET:"INDIA ASIANET CINEMA",INDIAMYMOVIES:"INDIA MY MOVIES",ANI_PLUS:"SINGAPORE ANI PLUS",SATHIYAM_TV:"INDIA SATHIYAM TV"},n={USA_Forbes:"/playlist",ASIANET:"/video/volume1/playlist"}},92580:(e,o,t)=>{t.d(o,{Z:()=>u});var a=t(2803),n=t(92506),s=t(81724),r=t(67388),i=t(60364),l=t(72791),c=t(81320),d=(t(11308),t(80184));const m=s.Ry().shape({PromoTypeName:s.Z_().min(3,"Too Short!").max(100,"Too Long!").required("PromoType Name Required"),PromoTypeShortName:s.Z_().min(3,"Too Short!").max(20,"Too Long!").required("PromoType Short Name Required"),EventDefaultFrontColor:s.Z_().min(1,"Too Short!").max(50,"Too Long!").required("Event Front Color Required"),EventDefaultBackColor:s.Z_().min(1,"Too Short!").max(50,"Too Long!").required("Event Back Color Required"),ChannelSpecific:s.Z_().required("ChannelSpecific Required"),IsActive:s.Z_().required("IsActives Required"),rememberMe:s.Xg()}),u=(0,l.forwardRef)(((e,o)=>{const{onDrawerClose:t,editData:s,setMessage:l,setlog:u}=e,h=(0,i.useSelector)((e=>e.auth.session.token));return(0,d.jsx)("div",{children:(0,d.jsx)(n.J9,{innerRef:o,initialValues:{PromoTypeCode:s.PromoTypeCode||"",PromoTypeName:s.PromoTypeName||"",PromoTypeShortName:s.PromoTypeShortName||"",EventDefaultFrontColor:s.EventDefaultFrontColor||"",EventDefaultBackColor:s.EventDefaultBackColor||"",ChannelSpecific:1===s.ChannelSpecific,IsActive:1===s.IsActive},validationSchema:m,onSubmit:(e,o)=>{let{resetForm:a,setSubmitting:n}=o;setTimeout((()=>{s.PromoTypeCode?new Promise(((o,a)=>{n(!1),(async(e,o)=>{try{const t=await(0,r.Putpromotype)(e,o);if(200==t.status)return void(0,c.openNotification)("success","Data Updated Successfully");if(204==t.status)return void(0,c.openNotification)("info","Data already Exists")}catch(t){if(500==t.response.status)return void(0,c.openNotification)("danger","Server Error.")}})(e,h).then((e=>{t(0,0),o(e)})).catch((e=>{a(e)}))})):new Promise(((o,a)=>{(async(e,o)=>{try{const t=await(0,r.Postpromotype)(e,o);if(200==t.status)return void(0,c.openNotification)("success","Data Inserted Successfully.");if(204==t.status)return void(0,c.openNotification)("info","Data Already Exists.")}catch(t){if(500==t.response.status)return void(0,c.openNotification)("danger","Server Error.")}})(e,h).then((e=>{t(0,0),o(e)})).catch((e=>{a(e)}))})),a()}),400)},children:e=>{let{values:o,touched:t,errors:s}=e;return(0,d.jsx)(n.l0,{children:(0,d.jsxs)(a.Yb,{children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsxs)("div",{className:"col-span-1",children:[(0,d.jsx)(n.gN,{type:"PromoTypeCode",autoComplete:"off",name:"PromoTypeCode",placeholder:"PromoTypeCode",component:a.II,hidden:!0}),(0,d.jsx)(a.xJ,{asterisk:!0,label:"PromoType Name",invalid:s.PromoTypeName&&t.PromoTypeName,errorMessage:s.PromoTypeName,children:(0,d.jsx)(n.gN,{size:"sm",name:"PromoTypeName",children:e=>{let{field:t,form:n}=e;return(0,d.jsx)(a.II,{field:t,maxLength:"100",form:n,size:"sm",placeholder:"PromoType Name",value:o.PromoTypeName,onChange:e=>{/^[a-zA-Z][a-zA-Z\s]*$/.test(e.target.value)&&n.setFieldValue(t.name,e.target.value)}})}})})]}),(0,d.jsx)(a.xJ,{asterisk:!0,label:"PromoType Short Name",invalid:s.PromoTypeShortName&&t.PromoTypeShortName,errorMessage:s.PromoTypeShortName,children:(0,d.jsx)(n.gN,{size:"sm",name:"PromoTypeShortName",children:e=>{let{field:t,form:n}=e;return(0,d.jsx)(a.II,{field:t,maxLength:"5",form:n,size:"sm",placeholder:"PromoType Short Name",value:o.PromoTypeShortName,onChange:e=>{/^[a-zA-Z][a-zA-Z\s]*$/.test(e.target.value)&&n.setFieldValue(t.name,e.target.value)}})}})}),(0,d.jsx)(a.xJ,{asterisk:!0,label:"Event Front Color",invalid:s.EventDefaultFrontColor&&t.EventDefaultFrontColor,errorMessage:s.EventDefaultFrontColor,children:(0,d.jsx)(n.gN,{size:"sm",type:"color",maxlength:"20",autoComplete:"off",name:"EventDefaultFrontColor",placeholder:"EventDefaultFrontColor",component:a.II})}),(0,d.jsx)(a.xJ,{asterisk:!0,label:"Event Back Color",invalid:s.EventDefaultBackColor&&t.EventDefaultBackColor,errorMessage:s.EventDefaultBackColor,children:(0,d.jsx)(n.gN,{size:"sm",type:"color",maxlength:"20",autoComplete:"off",name:"EventDefaultBackColor",placeholder:"EventDefaultBackColor",component:a.II})}),(0,d.jsxs)("div",{className:"col-span-1 flex justify-between",children:[(0,d.jsx)(a.xJ,{label:"ChannelSpecific",invalid:s.ChannelSpecific&&t.ChannelSpecific,errorMessage:s.ChannelSpecific,children:(0,d.jsx)(n.gN,{name:"ChannelSpecific",component:a.T5})}),(0,d.jsx)(a.xJ,{label:"Status",invalid:s.IsActive&&t.IsActive,errorMessage:s.IsActive,children:(0,d.jsx)("div",{children:(0,d.jsx)(n.gN,{name:"IsActive",component:a.T5})})})]})]}),(0,d.jsx)(a.xJ,{asterisk:!0,label:"Event Front Color",invalid:s.EventDefaultFrontColor&&t.EventDefaultFrontColor,errorMessage:s.EventDefaultFrontColor,children:(0,d.jsx)(n.gN,{size:"sm",type:"color",maxlength:"20",autoComplete:"off",name:"EventDefaultFrontColor",placeholder:"EventDefaultFrontColor",component:a.II})}),(0,d.jsx)(a.xJ,{asterisk:!0,label:"Event Back Color",invalid:s.EventDefaultBackColor&&t.EventDefaultBackColor,errorMessage:s.EventDefaultBackColor,children:(0,d.jsx)(n.gN,{size:"sm",type:"color",maxlength:"20",autoComplete:"off",name:"EventDefaultBackColor",placeholder:"EventDefaultBackColor",component:a.II})})]})})}})})}))},85021:(e,o,t)=>{t.r(o),t.d(o,{default:()=>b});var a=t(1413),n=t(2803),s=t(72791),r=t(56214),i=t(54547),l=t(81721),c=t(87350),d=t(11308),m=t(81320),u=t(60364),h=t(46657),p=t(67388),C=t(44630),g=t(92580),x=t(58617),f=t(88449),y=t(57689),S=t(54748),v=t(97892),N=t.n(v),T=t(76053),P=t(73728),j=t(1680),D=t(45682),I=t(80184);const b=(0,s.forwardRef)(((e,o)=>{var t,v;const b=(0,y.s0)(),{Content:L}=(0,u.useSelector)((e=>e.base.common)),Z=(0,u.useSelector)((e=>e.locale.selectedChannel)),A=Z.label===j.CLIENT.USA_Forbes,[E,M]=(0,s.useState)(!1),[w,F]=(0,C.Z)(),[z,k]=(0,s.useState)(!1),[_,B]=(0,s.useState)(""),[U,O]=(0,s.useState)({PromoTypeCode:!1,PromoCaption:!1,PromoDuration:!1,LanguageCode:!1,TCIN:!1,TCOUT:!1}),[q,G]=(0,s.useState)({PromoCaption:L.PromoCaption?L.PromoCaption:"",VideoID:L.VideoID?L.VideoID:"",HouseID:L.HouseID?L.HouseID:"",StartTime:L.StartTime?L.StartTime:"",TCIN:L.TCIN?L.TCIN:"00:00:00:00",TCOUT:L.TCOUT?L.TCOUT:"00:00:",PromoDuration:L.PromoDuration?L.PromoDuration:"",EndTime:L.EndTime?L.EndTime:"",PromoTypeCode:L.PromoTypeCode?L.PromoTypeCode:null,TapeID:L.TapeID?L.TapeID:null,PromoPriority:L.PromoPriorityCode?L.PromoPriorityCode:null,Priority:L.PromoPriorityCode?L.PromoPriorityCode:null,LanguageCode:L.LanguageCode?L.LanguageCode:null,ProgramCode:L.ProgramCode?L.ProgramCode:null,SeasonNo:L.SeasonNo?L.SeasonNo:null,epNo:"",IsDated:!!L.IsDated&&L.IsDated,EpisodeNo:L.EpisodeNo?L.EpisodeNo:null,StartDate:L.StartDate?L.StartDate:null,LongSynopsis:L.LongSynopsis?L.LongSynopsis:"",ShortSynopsis:L.ShortSynopsis?L.ShortSynopsis:"",KillDate:L.KillDate?L.KillDate:null,SegmentNo:L.SegmentNo?L.SegmentNo:null,EPGCaption:L.EPGCaption?L.EPGCaption:"",IsActive:L.IsActive?L.IsActive:1,Promo_Image:L.Promo_Image?L.Promo_Image:""}),J=e=>{var o;const{name:t,value:n}=e.target,s=(0,m.formatOnHHMMSSFFBlur)(n,Number((null===(o=K[0])||void 0===o?void 0:o.FramePerSec)||24));G((e=>(0,a.Z)((0,a.Z)({},e),{},{[t]:s})))};(0,s.useEffect)((()=>{const e=q.TCOUT.split(":"),o=new Date;o.setHours(parseInt(e[0],10)),o.setMinutes(parseInt(e[1],10)),o.setSeconds(parseInt(e[2],10)),o.setMilliseconds(parseInt(e[3],10));const t=q.TCIN.split(":"),n=36e5*parseInt(t[0],10)+6e4*parseInt(t[1],10)+1e3*parseInt(t[2],10)+parseInt(t[3],10);o.setMilliseconds(o.getMilliseconds()-n);const s="".concat(o.getHours().toString().padStart(2,"0"),":").concat(o.getMinutes().toString().padStart(2,"0"),":").concat(o.getSeconds().toString().padStart(2,"0"),":").concat(o.getMilliseconds().toString().slice(0,2).padStart(2,"0"));q.TCOUT.length>6&&G((e=>(0,a.Z)((0,a.Z)({},e),{},{PromoDuration:s})))}),[q.TCIN,q.TCOUT]);const H=(0,u.useSelector)((e=>e.auth.session.LoginId)),R=(0,u.useSelector)((e=>e.auth.session.token)),V=(0,u.useSelector)((e=>e.auth.session.Username)),K=(0,u.useSelector)((e=>e.auth.session.ChannelSetting)),W=(0,s.useRef)(),Y=(0,s.useRef)(null),[X,$]=(0,s.useState)(L.details?L.details.map(((e,o)=>({id:o,LocationCode:e.LocationCode,ChannelCode:e.ChannelCode}))):[Z].map(((e,o)=>({id:o,LocationCode:e.LocationCode,ChannelName:e.label,ChannelCode:e.ChannelCode})))),[Q,ee]=(0,s.useState)(1==q.IsDated),[oe,te]=(0,s.useState)(!!q.ProgramCode),[ae,ne]=(0,s.useState)(!!q.IsActive),se=e=>{const{name:o,value:t}=e.target;G((e=>(0,a.Z)((0,a.Z)({},e),{},{[o]:t})))},re=(e,o)=>{G((t=>(0,a.Z)((0,a.Z)({},t),{},{[o]:e})))},[ie,le]=(0,s.useState)([]),[ce,de]=(0,s.useState)([]),[me,ue]=(0,s.useState)([]),[he,pe]=(0,s.useState)([]),[Ce,ge]=(0,s.useState)([]),[xe,fe]=(0,s.useState)([]),[ye,Se]=(0,s.useState)([]),[ve,Ne]=(0,s.useState)([]),[Te,Pe]=(0,s.useState)(0),{ProgramCode:je,epNo:De}=q,Ie=async()=>{M(!1);try{const e=await(0,c.Ww)();ue(e.data.map((e=>({value:e.PromoTypeCode,label:e.PromoTypeName}))))}catch(e){console.error("Error fetching promo types on drawer close:",e)}Ne([""])};(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,d.H9)(je,R);pe(e.data.map((e=>({value:e.SeasonNo,label:e.SeasonNo,end:e.EndEpisodes}))))}catch(e){console.error("Error fetching seasons:",e),pe([])}})()}),[je]),(0,s.useEffect)((()=>{(async()=>{try{const[e,o,t,a,n]=await Promise.all([(0,c.Ww)(),(0,p.apiGetContentmasterDrop)(void 0,Z.LocationCode,Z.ChannelCode,0),(0,c.FZ)(),(0,d.Hq)(),(0,d.bu)(H)]);ue(e.data.map((e=>({value:e.PromoTypeCode,label:e.PromoTypeName})))),fe(o.data.map((e=>({value:e.ContentCode,label:e.ContentName})))),Se(t.data.map((e=>({value:toString(e.TapeTypeCode),label:e.TapeTypeName})))),le(a.data.map((e=>({value:e.LanguageCode,label:e.LanguageName})))),de(n.data.map(((e,o)=>({id:o,ChannelName:e.ChannelName,ChannelCode:e.ChannelCode,LocationCode:e.LocationCode,LocationName:e.LocationName}))))}catch(e){console.error("Error fetching dropdowns:",e)}})()}),[]),(0,s.useEffect)((()=>{(()=>{if(De){const e=Array.from({length:De},((e,o)=>({label:(o+1).toString(),value:(o+1).toString()})));ge(e)}})()}),[De]);const be=(e,o,t,n,s)=>{const r=((e,o)=>{const t=((e,o)=>{const t=[];for(const a of o)e[a]||t.push(a);return t})(e,Object.keys(o));return console.log(t),"00:00:00:00"===e.PromoDuration?{isValid:!1,message:"Promo Duration cannot be zero.",emptyFields:[]}:t.length>0?{isValid:!1,message:"Some required fields are empty.",emptyFields:t}:{isValid:!0,message:"",emptyFields:[]}})(e,U);return r.isValid?function(e,o,t,n){var s;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,a.Z)({PromoMaster:(0,a.Z)((0,a.Z)({},e),{},{IsPaid:1,IsDated:t?1:0,SupplierCode:1,StartTime:e.StartTime,EndTime:e.EndTime,IsTAGPromo:1,PromoPriorityCode:e.PromoPriority,PromoPriority:(null===(s=e.PromoPriority)||void 0===s?void 0:s.label)||"null",IsActive:n?1:0,Promo_Image:e.Promo_Image||""}),Details:o.map((e=>{let{LocationCode:o,ChannelCode:t}=e;return{LocationCode:o,ChannelCode:t}}))},r)}(e,o,t,n,s):(F(r.message),r.emptyFields.forEach((e=>{O((o=>(0,a.Z)((0,a.Z)({},o),{},{[e]:!0})))})),null)};(0,s.useEffect)((()=>{Te>1&&(()=>{const e=Object.keys(q).reduce(((e,o)=>(e[o]=!q[o],e)),{});O(e)})()}),[q,Te]);const[Le,Ze]=(0,s.useState)("");return(0,I.jsxs)(n.Zb,{children:[(0,I.jsx)(D.default,{showLoader:z}),w&&(0,I.jsx)(n.bZ,{className:"mb-4",type:_,showIcon:!0,children:w}),(0,I.jsx)(h.F,{ref:Y}),(0,I.jsx)("div",{className:"border-b-2 border-inherit mb-2",children:(0,I.jsx)("h1",{className:"text-xl font-semibold",children:A?"Content Master":"Promo Master"})}),(0,I.jsx)(n.Yb,{children:(0,I.jsxs)("div",{className:"grid grid-cols-5 gap-2",children:[(0,I.jsx)("div",{className:"col-span-4 ",children:(0,I.jsxs)("div",{className:"grid grid-cols-12 gap-2 ",children:[(0,I.jsx)("div",{className:"col-span-3",children:(0,I.jsx)(n.xJ,{label:A?"Content Type":"Promo Type",asterisk:!0,errorMessage:U.PromoTypeCode?"Promo Type  Is Required":null,invalid:U.PromoTypeCode&&U.PromoTypeCode,children:(0,I.jsx)(i.Z,{selected:q.PromoTypeCode,setSelected:G,List:me,name:"PromoTypeCode",handlePromoTypeChange:async e=>{var o;if(console.log("YES"),0!==Object.keys(Z).length)if(1===(null===(o=K[0])||void 0===o?void 0:o.IsTapeCounterFlag))try{const o=(await(0,d.Ij)(Z.LocationCode,Z.ChannelCode,"Promo master",e,0)).data[0].CommVideoID;q.HouseID!==o&&F("HouseId Updated"),G((e=>(0,a.Z)((0,a.Z)({},e),{},{HouseID:o,VideoID:o})))}catch(n){var t;console.error("Error generating video ID:",n);const e=500===(null===(t=n.response)||void 0===t?void 0:t.status)?"Internal Server Error":"HouseId Is Not Configured With This Promo Type";F(e),G((e=>(0,a.Z)((0,a.Z)({},e),{},{HouseID:"",VideoID:""})))}else F("IsTapeCounterFlag Is Not Configured With This Promo Type");else F("Kindly Select Global Channel")},dis:L.PromoCode})})}),(0,I.jsx)("div",{className:"col-span-1 mt-5 pt-2",children:(0,I.jsx)(n.u,{title:A?"Add New Content Type":"Add New Promo Type",children:(0,I.jsx)(n.zx,{variant:"solid",size:"sm",icon:(0,I.jsx)(x.yEd,{}),onClick:()=>M(!0)})})}),(0,I.jsx)("div",{className:"col-span-8",children:(0,I.jsx)(n.xJ,{label:"Caption",asterisk:!0,errorMessage:U.PromoCaption?"Caption Is Required":null,invalid:U.PromoCaption&&U.PromoCaption,children:(0,I.jsx)(n.II,{size:"sm",name:"PromoCaption",maxLength:"99",placeholder:"Promo Caption",value:q.PromoCaption,onChange:se})})}),(0,I.jsx)("div",{className:"col-span-2",children:(0,I.jsx)(n.xJ,{label:"TC IN",asterisk:!0,errorMessage:U.TCIN?"Kindly Enter TC IN":null,invalid:U.TCIN&&U.TCIN,children:(0,I.jsx)(n.II,{size:"sm",placeholder:"TC IN",maxLength:"12",disabled:!0,name:"TCIN",value:q.TCIN,onChange:e=>{var o;return(0,m.handleChangeWithFrameNew)(e,G,Number((null===(o=K[0])||void 0===o?void 0:o.FramePerSec)||24))},onBlur:J})})}),(0,I.jsx)("div",{className:"col-span-2",children:(0,I.jsx)(n.xJ,{label:"TC OUT",asterisk:!0,errorMessage:U.TCOUT?"Kindly Enter TC OUT":null,invalid:U.TCOUT&&U.TCOUT,children:(0,I.jsx)(n.II,{size:"sm",placeholder:"TC OUT",name:"TCOUT",maxLength:"12",value:q.TCOUT,onChange:e=>{var o;return(0,m.handleChangeWithFrameNew)(e,G,Number((null===(o=K[0])||void 0===o?void 0:o.FramePerSec)||24))},onBlur:J})})}),(0,I.jsx)("div",{className:"col-span-2",children:(0,I.jsx)(n.xJ,{label:"Duration",asterisk:!0,errorMessage:U.PromoDuration?"Duration Is Required":null,invalid:U.PromoDuration&&U.PromoDuration,children:(0,I.jsx)(n.II,{disabled:!0,size:"sm",placeholder:"HH:MM:SS:FF",name:"PromoDuration",value:q.PromoDuration,onChange:e=>{var o;return(0,m.handleChangeWithFrameNew)(e,G,Number((null===(o=K[0])||void 0===o?void 0:o.FramePerSec)||24))}})})}),(0,I.jsx)("div",{className:"col-span-3",children:(0,I.jsx)(n.xJ,{label:"Tape Type",children:(0,I.jsx)(i.Z,{selected:q.TapeID,setSelected:G,List:ye,name:"TapeID"})})}),(0,I.jsx)("div",{className:"col-span-3",children:(0,I.jsx)(n.xJ,{label:"Sequence Priority",children:(0,I.jsx)(i.Z,{selected:q.PromoPriority,setSelected:G,List:[{label:"HIGH",value:1},{label:"MEDIUM",value:2},{label:"NO PRIORITY",value:3},,],name:"PromoPriority"})})}),(0,I.jsx)("div",{className:"col-span-3",children:(0,I.jsx)(n.xJ,{label:"Priority",children:(0,I.jsx)(i.Z,{selected:q.Priority,setSelected:G,List:[{label:"HIGH",value:1},{label:"MEDIUM",value:2},{label:"LOW",value:3}],name:"Priority"})})}),(0,I.jsx)("div",{className:"col-span-3",children:(0,I.jsx)(n.xJ,{label:"Language",asterisk:!0,errorMessage:U.LanguageCode?"Language Is Required":null,invalid:U.LanguageCode&&U.LanguageCode,children:(0,I.jsx)(i.Z,{selected:q.LanguageCode,setSelected:G,List:ie,name:"LanguageCode"})})}),(0,I.jsx)("div",{className:"col-span-3",children:(0,I.jsx)(n.xJ,{label:"Video Id",children:(0,I.jsx)(n.II,{size:"sm",disabled:1===(null===(t=K[0])||void 0===t?void 0:t.IsTapeCounterFlag),name:"VideoID",maxLength:"100",placeholder:"VideoID",value:q.VideoID,onChange:se})})}),(0,I.jsx)("div",{className:"col-span-3",children:(0,I.jsx)(n.xJ,{label:"House Id",children:(0,I.jsx)(n.II,{size:"sm",disabled:1===(null===(v=K[0])||void 0===v?void 0:v.IsTapeCounterFlag),name:"HouseID",maxLength:"100",placeholder:"HouseID",value:q.HouseID,onChange:se})})}),(0,I.jsxs)("div",{className:"col-span-12 flex item-center",children:[(0,I.jsx)(n.XZ,{checked:oe,onChange:e=>{te(!oe)},children:"Is Program Specific"}),(0,I.jsx)(n.XZ,{onChange:e=>{ee(!Q)},checked:Q,children:"Is Restriction"}),(0,I.jsxs)("div",{className:"flex item-center",children:[(0,I.jsx)(n.T5,{checked:ae,onChange:e=>{ne(!ae)}}),(0,I.jsx)("p",{className:"ml-2",children:"Status"})]})]}),oe?(0,I.jsx)("div",{className:"col-span-12",children:(0,I.jsxs)(n.Zb,{children:[(0,I.jsx)("div",{}),(0,I.jsxs)("div",{className:"grid grid-cols-12 gap-1",children:[(0,I.jsx)("div",{className:"col-span-6",children:(0,I.jsx)(n.xJ,{label:"Content Name",errorMessage:U.ProgramCode?"Required":null,invalid:U.ProgramCode&&U.ProgramCode,children:(0,I.jsx)(i.Z,{selected:q.ProgramCode,setSelected:G,List:xe,name:"ProgramCode"})})}),(0,I.jsx)("div",{className:"col-span-2",children:(0,I.jsx)(n.xJ,{label:"Season No",errorMessage:U.SeasonNo?"Required":null,invalid:U.SeasonNo&&U.SeasonNo,children:(0,I.jsx)(i.Z,{selected:q.SeasonNo,setSelected:G,List:he,name:"SeasonNo"})})}),(0,I.jsx)("div",{className:"col-span-2",children:(0,I.jsx)(n.xJ,{label:"Episode No",errorMessage:U.EpisodeNo?"Required":null,invalid:U.EpisodeNo&&U.EpisodeNo,children:L.EpisodeNo?(0,I.jsx)(n.II,{size:"sm",value:q.EpisodeNo,disabled:!0}):(0,I.jsx)(i.Z,{selected:q.EpisodeNo,setSelected:G,List:Ce,name:"EpisodeNo"})})}),(0,I.jsx)("div",{className:"col-span-2",children:(0,I.jsx)(n.xJ,{label:"Segment No",errorMessage:U.SegmentNo?"Required":null,invalid:U.SegmentNo&&U.SegmentNo,children:(0,I.jsx)(n.II,{size:"sm",placeholder:"Segment No",type:"number",name:"SegmentNo",value:q.SegmentNo,onChange:se,disabled:!!q.SegmentNo})})})]})]})}):null,(0,I.jsx)("div",{className:"col-span-6",children:(0,I.jsxs)(n.Zb,{children:[(0,I.jsx)("div",{children:(0,I.jsx)("h1",{className:"text-xl font-semibold",children:"Captions"})}),(0,I.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[(0,I.jsx)("div",{className:"col-span-3",children:(0,I.jsx)(n.xJ,{label:"EPG Detail",children:(0,I.jsx)(n.II,{size:"sm",placeholder:"",maxLength:"99",name:"EPGCaption",value:q.EPGCaption,onChange:se})})}),(0,I.jsx)("div",{className:"col-span-3 ",children:(0,I.jsx)(n.xJ,{label:"Short Synopsis",children:(0,I.jsx)(n.II,{size:"sm",value:q.ShortSynopsis,name:"ShortSynopsis",maxLength:"255",placeholder:"",onChange:e=>se(e)})})}),(0,I.jsx)("div",{className:"col-span-3 ",children:(0,I.jsx)(n.xJ,{label:"LongSynopsis",children:(0,I.jsx)(n.II,{textArea:!0,name:"LongSynopsis",maxLength:"500",placeholder:"",value:q.LongSynopsis,onChange:e=>se(e)})})})]})]})}),(0,I.jsxs)(n.Zb,{className:"col-span-6",children:[(0,I.jsx)(n.xJ,{label:A?"Content Image":"Promo Image",children:(0,I.jsx)("div",{style:{display:"grid"},children:(0,I.jsx)(n.gq,{uploadLimit:1,beforeUpload:e=>{const o=["image/jpeg","image/png"];for(const t of e){if(!o.includes(t.type))return"Please upload a .jpeg or .png file!";if(t.size>=5e5)return"Upload image cannot be more than 500KB!"}return!0},accept:".jpg, .jpeg, .png, .bmp, .svg",showList:!1,onChange:e=>{const o=new FileReader,t=e[0];t&&t.size>0?(o.readAsDataURL(t),o.onloadend=()=>{G((e=>(0,a.Z)((0,a.Z)({},e),{},{Promo_Image:o.result}))),Ze(o.result)}):(G((e=>(0,a.Z)((0,a.Z)({},e),{},{Promo_Image:""}))),Ze(""))},children:(0,I.jsx)("div",{className:"border-dashed border-gray-500 border-2 p-3 rounded-lg w-full hover:cursor-pointer mt-1",children:Le?(0,I.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,I.jsxs)("div",{className:"relative",children:[(0,I.jsx)(n.u,{title:"Click to upload logo",children:(0,I.jsx)("img",{src:Le,style:{height:"150px",width:"auto"},alt:"Preview",className:"hover:opacity-80"})}),(0,I.jsx)(n.u,{title:"Remove Logo",className:"relative",wrapperClass:"absolute -top-3 -right-3",children:(0,I.jsx)(n.zx,{shape:"circle",size:"xs",variant:"solid",color:"red-500",icon:(0,I.jsx)(T.nfZ,{}),type:"button",onClick:e=>{e.stopPropagation(),G((e=>(0,a.Z)((0,a.Z)({},e),{},{Promo_Image:""}))),Ze("")}})})]})}):(0,I.jsx)("div",{className:"h-28 flex items-center justify-center w-full",children:(0,I.jsxs)(n.u,{title:"Click to upload logo",wrapperClass:"flex flex-col items-center justify-center",children:[(0,I.jsx)(P.Z30,{size:25}),(0,I.jsx)("p",{className:"text-xs mt-1 opacity-60 dark:text-white",children:"Support: jpeg, png, bmp, svg"}),(0,I.jsx)("p",{className:" text-xs mt-1 opacity-60 dark:text-white",children:"(Max 1MB)"})]})})})})})}),Q?(0,I.jsxs)("div",{className:"mt-2",children:[(0,I.jsx)("div",{children:(0,I.jsx)("h1",{className:"text-xl font-semibold",children:"Restriction Details"})}),(0,I.jsxs)("div",{className:"grid grid-cols-2 gap-1",children:[(0,I.jsx)("div",{className:"col-span-1",children:(0,I.jsx)(n.xJ,{label:"Start Date",errorMessage:U.StartDate?"Required":null,invalid:U.StartDate&&U.StartDate,children:(0,I.jsx)(n.Mt,{size:"sm",name:"StartDate",prefix:(0,I.jsx)(x.Gmo,{className:"text-xl"}),value:(0,S.Gu)(q.StartDate)?new Date(q.StartDate):"",onChange:e=>{re((0,S.Tk)(e),"StartDate"),G((e=>(0,a.Z)((0,a.Z)({},e),{},{KillDate:null})))}})})}),(0,I.jsx)("div",{className:"col-span-1",children:(0,I.jsx)(n.xJ,{label:"Kill Date",errorMessage:U.KillDate?"Required":null,invalid:U.KillDate&&U.KillDate,children:(0,I.jsx)(n.Mt,{size:"sm",name:"KillDate",minDate:N()(new Date(q.StartDate)).subtract(0,"day").startOf("day").toDate(),value:(0,S.Gu)(q.KillDate)?new Date(q.KillDate):"",onChange:e=>{re((0,S.Tk)(e),"KillDate")}})})})]})]}):null]})]})}),(0,I.jsx)("div",{className:"col-span-1",children:(0,I.jsx)(n.Zb,{children:(0,I.jsx)(r.Z,{List:ce,selectedList:X,setSelectedList:$})})})]})}),(0,I.jsx)(l.gi,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:(0,I.jsxs)("div",{className:"md:flex items-center",children:[L.PromoCode?(0,I.jsx)(n.zx,{variant:"solid",type:"submit",onClick:()=>(async()=>{k(!0);const e=be(q,X,Q,ae);if(e)try{const o=await(0,c.Tf)(e,R,L.PromoCode),t=200===o.status?"Data Updated Successfully":"Data Already Exist";(0,m.openNotification)(200===o.status?"success":"warning",t),await(0,p.apisendnotification)({NotificationId:(Math.random()+1).toString(36).substring(7),user_ids:[6],message:L.PromoCaption+" Promo Modified.",image:"",type:"1",location:"Promo Modified.",locationLabel:V,Status:"1",isGroup:1,Ispriority:1,readed:0}),b(A?"/Contentmasters":"/PromoMaster"),Pe(2)}catch(o){(0,m.openNotification)("danger","Server Error"),B("error")}finally{k(!1)}else k(!1)})(),children:"Update"}):(0,I.jsx)(n.zx,{variant:"solid",type:"submit",onClick:()=>(async()=>{if(k(!0),0===X.length)return B("danger"),F("Kindly Select Channel"),void k(!1);const e={GenvideoId:{LocationCode:Z.LocationCode,ChannelCode:Z.ChannelCode,FormName:"Promo master",EventTypeCode:Number(q.PromoTypeCode),Mode:1}},o=be(q,X,Q,ae,e);if(o)try{const e=await(0,c.V9)(o,R,V),t=200===e.status?"Data Inserted Successfully":"Data Already Exist";(0,m.openNotification)(200===e.status?"success":"warning",t),await(0,p.apisendnotification)({NotificationId:(Math.random()+1).toString(36).substring(7),user_ids:[6],message:L.PromoCaption+" Promo Added.",image:"",type:"1",location:"Promo Added.",locationLabel:V,Status:"1",isGroup:1,Ispriority:1,readed:0}),b(A?"/Contentmasters":"/PromoMaster"),Pe(2)}catch(t){(0,m.openNotification)("danger","Server Error")}finally{k(!1)}else k(!1)})(),children:"Submit"}),"\xa0",(0,I.jsx)(n.zx,{type:"button",onClick:()=>b(A?"/Contentmasters":"/PromoMaster"),children:"Discard"})]})}),(0,I.jsx)(n.dy,{title:ve.PromoTypeName?(0,I.jsxs)("p",{className:"text-xl font-medium  flex ",children:[(0,I.jsx)("center",{children:(0,I.jsx)(n.zx,{size:"xs",variant:"twoTone",icon:(0,I.jsx)(x._vs,{})})}),"\xa0\xa0PromoType Master"]}):(0,I.jsxs)("p",{className:"text-xl font-medium  flex ",children:[(0,I.jsx)("center",{children:(0,I.jsx)(n.zx,{size:"xs",variant:"twoTone",icon:(0,I.jsx)(x.HQD,{})})}),"\xa0\xa0PromoType Master"]}),isOpen:E,onClose:Ie,onRequestClose:Ie,width:600,footer:(0,I.jsx)(f.Z,{onCancel:Ie,onSaveClick:()=>{var e;null===(e=W.current)||void 0===e||e.submitForm()}}),children:(0,I.jsx)(g.Z,{ref:W,onDrawerClose:Ie,editData:ve,setMessage:F,setlog:B})})]})}))}}]);
//# sourceMappingURL=5021.9d2f2a0f.chunk.js.map