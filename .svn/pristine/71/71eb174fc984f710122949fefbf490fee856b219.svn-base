"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[7450],{25579:(e,t,s)=>{s.d(t,{Ei:()=>j,I6:()=>f,Qj:()=>d,U$:()=>x,Uy:()=>N,Z_:()=>c,_K:()=>u,b6:()=>r,d:()=>o,db:()=>g,fh:()=>m,gg:()=>p,hu:()=>n,iD:()=>i,rd:()=>h,w_:()=>y});s(54048);var a=s(46152),l=s(54748);s(74569);async function n(e){return a.Z.fetchData({url:"/dealmaster/".concat(e),method:"get"})}async function c(e){return a.Z.fetchData({url:"/dealattachment/".concat(e),method:"get"})}async function r(e,t,s){return a.Z.fetchData({url:"/dealmaster/dealforapproval/?DealNumber=".concat(e,"&IsApproved=").concat(t,"&RejectRemark=").concat(s),method:"get"})}async function o(e,t){return a.Z.fetchData({url:"/dealmaster/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&StartDate=").concat((0,l.Tk)(t[0]),"&EndDate=").concat((0,l.Tk)(t[1])),method:"get"})}async function d(e){return a.Z.fetchData({url:"/sponsortypemaster/drop/",method:"get",data:e})}async function i(e){return a.Z.fetchData({url:"/spottypemaster/drop/",method:"get",data:e})}async function x(e){return a.Z.fetchData({url:"/dealdetail/".concat(e),method:"get"})}async function h(e){return a.Z.fetchData({url:"/dealmaster/USP_Sch_DealConsumptionCheck/?DealNumber=".concat(e),method:"get"})}async function m(e,t,s,l,n,c){return a.Z.fetchData({url:"/dealmaster/bindstartnendtime/?LocationCode=".concat(n,"&ChannelCode=").concat(c,"&DealPeriodToDate=").concat(e,"&DealPeriodFromDate=").concat(t,"&ContentCode=").concat(s,"&OriginalRepeatCode=").concat(l),method:"get"})}async function u(e,t,s){return a.Z.fetchData({url:"/bookingdetails/bookingchange/?flag=".concat(e,"&IsNtc=").concat(s),method:"put",data:t})}async function p(e,t){var s={params:t};return a.Z.fetchData({url:"/callstoreprocedure/"+e,data:s,method:"post"})}async function j(e){return a.Z.fetchData({url:"/callstoreprocedure/"+e,data:{params:{}},method:"post"})}async function f(e,t,s){var l={params:{Bookingcode:t,IsNTC:s}};return a.Z.fetchData({url:"/callstoreprocedure/"+e,data:l,method:"post"})}async function g(e){var t={params:{CheckMonth:e}};return a.Z.fetchData({url:"/callstoreprocedure/USP_DealDashboardDoughnut",data:t,method:"post"})}async function N(e,t){var s={params:{BookingNumber:t,deallineitemno:0}};return a.Z.fetchData({url:"/callstoreprocedure/"+e,data:s,method:"post"})}async function y(e){return a.Z.fetchData({url:"currencyexchangerate/?basecurrency=".concat(e),method:"post"})}},27450:(e,t,s)=>{s.d(t,{Z:()=>S});var a=s(2803),l=s(72791),n=s(16856),c=s(81320),r=s(80184);const o=function(e){let{dealLineInfo:t,setDealLineInfo:s}=e;return(0,r.jsxs)("div",{className:"h-full flex flex-col",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h6",{className:"mb-2",children:"Deal Line Info"}),(0,r.jsx)(a.zx,{size:"sm",className:"py-0 !px-2 mb-2 !h-8",onClick:()=>s(null),children:(0,r.jsx)("span",{children:"Close"})})]}),(0,r.jsx)(r.Fragment,{children:t.length>0?(0,r.jsx)("div",{className:"max-h-[31.5rem] overflow-y-auto no-scrollbar flex flex-col gap-4",children:t.map(((e,t)=>(0,r.jsxs)(a.Zb,{bordered:!1,style:{backgroundColor:"rgb(41 52 69)"},bodyClass:"p-3 flex flex-col gap-2",children:[(0,r.jsxs)("p",{className:"text-[15px] font-semibold border-b border-b-gray-600 pb-2 mb-1 text-white",children:["RODP Wise"===e.DealLineItemTypeName?"RODP":""," ","- ",e.TimeBandName]}),(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-x-2 gap-y-7",children:[(0,r.jsxs)("div",{className:"col-span-3",children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Spot Type"}),(0,r.jsx)("p",{className:"text-white text-[14px]",children:e.SpotTypeName})]}),(0,r.jsx)("div",{className:"col-span-6 flex justify-center",children:(0,r.jsxs)("div",{className:"text-center mr-2",children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Week Days"}),(0,r.jsx)("p",{className:"flex items-center gap-1",children:Array.from({length:7},((e,t)=>t)).map((t=>(0,r.jsx)("span",{className:"".concat(e.weekendsdetail.filter((e=>e.Day===t)).length>0?"text-[14px] text-white":"text-[15px] text-gray-500 font-semibold"),children:0===t?"S":1===t?"M":2===t?"T":3===t?"W":4===t?"T":5===t?"F":"S"},t)))})]})}),(0,r.jsxs)("div",{className:"col-span-3",children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Rate"}),(0,r.jsxs)("p",{className:"text-white text-[14px]",children:["\u20b9"," ",(0,c.numberToINRFormat)(e.Rate)]})]}),(0,r.jsxs)("div",{className:"col-span-6 flex gap-3",children:[(0,r.jsx)("div",{className:"relative h-full w-1 rounded-full bg-gray-800",children:(0,r.jsx)("div",{className:"absolute bottom-0 w-full rounded-full ".concat(e.BalancedAmount/e.Amount*100>=60?"bg-emerald-600":e.BalancedAmount/e.Amount*100>20&&e.BalancedAmount/e.Amount*100<60?"bg-yellow-600":"bg-red-600"),style:{height:"".concat(e.BalancedAmount/e.Amount*100,"%")}})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Total Amount"}),(0,r.jsxs)("p",{className:"text-white text-[15px]",children:["\u20b9"," ",(0,c.numberToINRFormat)(e.Amount)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Used Amount"}),(0,r.jsxs)("p",{className:"text-white text-[15px]",children:["\u20b9"," ",(0,c.numberToINRFormat)(e.ConsumedAmount)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Balanced Amount"}),(0,r.jsxs)("p",{className:"text-white text-[15px]",children:["\u20b9"," ",(0,c.numberToINRFormat)(e.BalancedAmount)]})]})]})]}),(0,r.jsxs)("div",{className:"col-span-6 flex gap-3",children:[(0,r.jsx)("div",{className:"relative h-full w-1 rounded-full bg-gray-800",children:(0,r.jsx)("div",{className:"absolute bottom-0 w-full rounded-full ".concat(e.BalancedSeconds/e.Seconds*100>=60?"bg-emerald-600":e.BalancedSeconds/e.Seconds*100>20&&e.BalancedSeconds/e.Seconds*100<60?"bg-yellow-600":"bg-red-600"),style:{height:"".concat(e.BalancedSeconds/e.Seconds*100,"%")}})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Total Seconds"}),(0,r.jsx)("p",{className:"text-white text-[15px]",children:e.Seconds.toLocaleString("en-IN")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Used Seconds"}),(0,r.jsx)("p",{className:"text-white text-[15px]",children:e.ConsumedSeconds.toLocaleString("en-IN")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-[12px]",children:"Balanced Seconds"}),(0,r.jsx)("p",{className:"text-white text-[15px]",children:e.BalancedSeconds.toLocaleString("en-IN")})]})]})]})]})]},t)))}):(0,r.jsx)(a.Zb,{className:"grow",bodyClass:"h-full flex justify-center items-center",children:"No deal line info to show"})})]})};var d=s(25579);const i=function(e){let{dealDetails:t}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:"mb-2",children:"Agency"}),(0,r.jsxs)(a.Zb,{bordered:!1,style:{backgroundColor:"rgb(41 52 69)"},bodyClass:"p-3 flex flex-col gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Agency"}),(0,r.jsx)("p",{className:"text-white",children:t.AgencyName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"City"}),(0,r.jsx)("p",{className:"text-white",children:t.AgencyPlaceName})]})]})]})};const x=function(e){let{dealDetails:t}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:"mb-2",children:"Client"}),(0,r.jsxs)(a.Zb,{bordered:!1,style:{backgroundColor:"rgb(41 52 69)"},bodyClass:"p-3 flex flex-col gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Client"}),(0,r.jsx)("p",{className:"text-white",children:t.ClientName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"City"}),(0,r.jsx)("p",{className:"text-white",children:t.ClientPlaceName})]})]})]})};const h=function(e){let{dealDetails:t}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("h6",{className:"mb-2",children:"Executive"}),(0,r.jsxs)(a.Zb,{bordered:!1,style:{backgroundColor:"rgb(41 52 69)"},bodyClass:"p-3 flex flex-col gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Executive"}),(0,r.jsxs)("p",{className:"text-white",children:[t.Emp_FirstName," ",t.Emp_LastName]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Zone"}),(0,r.jsx)("p",{className:"text-white",children:t.ZoneName})]})]})]})};var m=s(43235);const u=function(e){let{dealDetails:t}=e;const s=(e,t,s)=>{try{const a=new Date,l=new Date(e),n=new Date(t);return 1===s&&(a<=l||a>=l&&a<=n)}catch(a){console.error(a)}};return(0,r.jsxs)(a.Zb,{style:{backgroundColor:"rgb(41 52 69)"},bordered:!1,bodyClass:"grid grid-cols-5 gap-x-4 gap-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Reference No"}),(0,r.jsx)("p",{className:"text-white",children:t.DealReferenceNumber})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Status"}),(0,r.jsx)("p",{className:"".concat(s(t.DealPeriodFromDate,t.DealPeriodToDate,t.IsActive)?"text-emerald-400 font-semibold":"text-red-500 font-bold"," "),children:s(t.DealPeriodFromDate,t.DealPeriodToDate,t.IsActive)?"Active":"Expired"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Added By"}),(0,r.jsxs)("p",{className:"text-white",children:[t.Emp_FirstName," ",t.Emp_LastName]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Deal Date"}),(0,r.jsx)("p",{className:"text-white",children:(0,m.WU)(new Date(t.DealCreatedDate),"dd-MMM-yyyy")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Deal Duration"}),(0,r.jsxs)("p",{className:"text-white",children:[(0,m.WU)(new Date(t.DealPeriodFromDate),"dd-MMM-yyyy")," to"," ",(0,m.WU)(new Date(t.DealPeriodToDate),"dd-MMM-yyyy")]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Days Remaining"}),(0,r.jsxs)("p",{className:"text-white",children:[((e,t)=>{try{const s=new Date,a=new Date(e),l=new Date(t);return s<=a?Math.ceil((l-a)/864e5):s>=a&&s<=l?Math.ceil((l-s)/864e5):0}catch(s){console.error(s)}})(t.DealPeriodFromDate,t.DealPeriodToDate)," ","Days"]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-6 ml-9",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Deal Type"}),(0,r.jsx)("p",{className:"text-white",children:t.DealTypeName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Currency"}),(0,r.jsxs)("p",{className:"text-white",children:[t.CurrencyName," (",t.CurrencySymbol,")"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Pay route"}),(0,r.jsx)("p",{className:"text-white",children:t.PayRouteName})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("div",{className:"relative h-full w-1 rounded-full bg-gray-800",children:(0,r.jsx)("div",{className:"absolute bottom-0 w-full rounded-full ".concat(t.BalanceAmount/t.TotalAmount*100>=60?"bg-emerald-600":t.BalanceAmount/t.TotalAmount*100>20&&t.BalanceAmount/t.TotalAmount*100<60?"bg-yellow-600":"bg-red-600"),style:{height:"".concat(t.BalanceAmount/t.TotalAmount*100,"%")}})}),(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Total Amount"}),(0,r.jsxs)("p",{className:"text-white text-[15px] font-semibold",children:[t.CurrencySymbol,(0,c.numberToINRFormat)(t.TotalAmount)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Used Amount"}),(0,r.jsxs)("p",{className:"text-white text-[15px] font-semibold",children:[t.CurrencySymbol," ",(0,c.numberToINRFormat)(t.TotalAmount-t.BalanceAmount)]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Balanced Amount"}),(0,r.jsxs)("p",{className:"text-white text-[15px] font-semibold",children:[t.CurrencySymbol," ",(0,c.numberToINRFormat)(t.BalanceAmount)]})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("div",{className:"relative h-full w-1 rounded-full bg-gray-800",children:(0,r.jsx)("div",{className:"absolute bottom-0 w-full rounded-full ".concat(100/t.TotalSeconds*100>=60?"bg-emerald-600":100/t.TotalSeconds*100>20&&100/t.TotalSeconds*100<60?"bg-yellow-600":"bg-red-600"),style:{height:"".concat(100/t.TotalSeconds*100,"%")}})}),(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Total Seconds"}),(0,r.jsx)("p",{className:"text-white text-[15px] font-semibold",children:t.TotalSeconds.toLocaleString("en-IN")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Used Seconds"}),(0,r.jsx)("p",{className:"text-white text-[15px] font-semibold",children:"0"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Balanced Seconds"}),(0,r.jsx)("p",{className:"text-white text-[15px] font-semibold",children:"0"})]})]})]})]})};var p=s(60364),j=s(11723),f=s(56355),g=s(17425),N=s(40071),y=s(39126),b=s(41578),w=s(25763),v=s(96907);const D={pdf:(0,r.jsx)(f.B$y,{className:"text-red-500 text-2xl"}),xlsx:(0,r.jsx)(g.WlY,{className:"text-green-500 text-2xl"}),xls:(0,r.jsx)(g.WlY,{className:"text-green-500 text-2xl"}),csv:(0,r.jsx)(g.WlY,{className:"text-teal-500 text-2xl"}),txt:(0,r.jsx)(N.jyt,{className:"text-blue-500 text-2xl"}),jpg:(0,r.jsx)(y.jE9,{className:"text-sky-500 text-2xl"}),jpeg:(0,r.jsx)(y.jE9,{className:"text-sky-500 text-2xl"}),png:(0,r.jsx)(b.ER4,{className:"text-sky-500 text-2xl"}),gif:(0,r.jsx)(y.ltJ,{className:"text-sky-500 text-2xl"}),zip:(0,r.jsx)(w.I4q,{className:"text-yellow-500 text-2xl"}),json:(0,r.jsx)(y.kLY,{className:"text-yellow-500 text-2xl"}),doc:(0,r.jsx)(v.Mw8,{className:"text-blue-500 text-2xl"}),docx:(0,r.jsx)(v.Mw8,{className:"text-blue-500 text-2xl"})},C=e=>{let{dealAttachment:t,setDealAttachment:s,handleDownloadAndView:l}=e;return t&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h6",{className:"mb-2",children:"Attachment"}),(0,r.jsx)(a.zx,{size:"sm",className:"py-0 !px-2 mb-2 !h-8",onClick:()=>s(null),children:(0,r.jsx)("span",{children:"Close"})})]}),0==t.length?(0,r.jsx)("p",{className:"flex justify-center items-center",children:"Not File Attached"}):t.map(((e,t)=>{const s=(n=e.AttachmentName)&&"string"===typeof n?n.split(".").pop().toLowerCase():"";var n;return(0,r.jsx)(a.Zb,{bordered:!1,style:{backgroundColor:"rgb(41 52 69)"},bodyClass:"p-3 flex flex-col gap-6 mb-2 cursor-pointer",children:(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-4 ",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 col-span-9 ",children:[(0,r.jsx)(a.u,{title:s,children:D[s]||(0,r.jsx)(N.jyt,{className:"text-yellow-500 text-2xl"})}),(0,r.jsx)(a.u,{title:"Download This Attachment",children:(0,r.jsx)("p",{onClick:()=>l(e.AttachmentName),children:e.AttachmentName})})]}),(0,r.jsxs)("p",{className:"flex items-center col-span-3",children:[(0,r.jsx)(a.qE,{shape:"circle",size:"sm",className:"mr-2 bg-indigo-100 text-indigo-600 dark:bg-indigo-500/20 dark:text-indigo-100",children:e.LoginName[0]}),e.LoginName]})]})},t)}))]})};const S=function(e){let{isDialogOpen:t,setIsDialogOpen:s,dealNumber:m,dealCode:f}=e;const g=(0,p.useSelector)((e=>e.auth.session.token)),[N,y]=(0,l.useState)(null),[b,w]=(0,l.useState)(null),[v,D]=(0,l.useState)(null);(0,l.useEffect)((()=>{(async()=>{try{if(t&&m){(0,c.showCursorLoader)();const e=await(0,d.hu)(m);200===e.status?y(e.data):204!==e.status&&(0,c.openNotification)("danger","Something went wrong while fetching deal details. Server responded with status code ".concat(e.status))}}catch(e){(0,c.openNotification)("danger","Something went wrong while fetching deal details"),console.error(e)}finally{(0,c.hideCursorLoader)()}})()}),[t,m]);const S=()=>{try{s(!1),w(!1),D(!1)}catch(e){console.error(e)}};return(0,r.jsx)(a.Vq,{isOpen:t,onClose:S,onRequestClose:S,className:"transition-all ".concat(b||v?"!w-[95vw] !max-w-[95vw]":"!w-[80vw] !max-w-[80vw]"),contentClassName:"mt-8 pt-4",children:(0,r.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,r.jsx)("h4",{className:"mb-4",children:"Deal Info"}),N?(0,r.jsxs)("div",{className:"flex h-full",children:[(0,r.jsxs)("div",{className:"max-h-[34rem] overflow-y-auto no-scrollbar ".concat(b||v?"border-r border-r-gray-700 pr-4 w-[70%]":"w-full"),children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"grid grid-cols-2",children:[(0,r.jsx)("h6",{className:"mb-2",children:f}),(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[!v&&(0,r.jsxs)("div",{className:"font-normal bg-gray-700 pl-3 pr-1.5 py-2 rounded-md mb-2 text-white flex items-center justify-center hover:!bg-gray-600 hover:cursor-pointer transition-all",style:{backgroundColor:"rgb(47 58 75)"},onClick:async()=>{try{(0,c.showCursorLoader)();const e=await(0,d.Z_)(m);200===e.status?D(e.data):204===e.status?D([]):(D([]),(0,c.openNotification)("danger","Something went wrong while fetching deal attachment. Server responded with status code ".concat(e.status)))}catch(e){(0,c.openNotification)("danger","Something went wrong while fetching deal attachment"),console.error(e)}finally{(0,c.hideCursorLoader)()}},children:[(0,r.jsx)("span",{children:"View Attachment"}),(0,r.jsx)(n.FNi,{className:"text-[20px]"})]}),!b&&(0,r.jsxs)("div",{className:"font-normal bg-gray-700 pl-3 pr-1.5 py-2 rounded-md mb-2 text-white flex items-center justify-center hover:!bg-gray-600 hover:cursor-pointer transition-all",style:{backgroundColor:"rgb(47 58 75)"},onClick:async()=>{try{(0,c.showCursorLoader)();const e=await(0,d.U$)(m);200===e.status?w(e.data):204===e.status?w([]):(w([]),(0,c.openNotification)("danger","Something went wrong while fetching deal line details. Server responded with status code ".concat(e.status)))}catch(e){(0,c.openNotification)("danger","Something went wrong while fetching deal line details"),console.error(e)}finally{(0,c.hideCursorLoader)()}},children:[(0,r.jsx)("span",{children:"View Details"}),(0,r.jsx)(n.FNi,{className:"text-[20px]"})]})]})]}),(0,r.jsx)(u,{dealDetails:N})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-x-4 mt-4",children:[(0,r.jsx)(i,{dealDetails:N}),(0,r.jsx)(x,{dealDetails:N}),(0,r.jsx)(h,{dealDetails:N})]})]}),b&&(0,r.jsx)("div",{className:"w-[30%] ml-4",children:(0,r.jsx)(o,{dealLineInfo:b,setDealLineInfo:w})}),v&&(0,r.jsx)("div",{className:"w-[30%] ml-4",children:(0,r.jsx)(C,{dealAttachment:v,setDealAttachment:D,handleDownloadAndView:async e=>{try{const t=await fetch("http://103.14.97.155:8080/dealmaster/readuploadedfile/".concat(e),{method:"GET",headers:{[j.h]:"".concat(j.K).concat(g),"Content-Type":"application/json"}});if(204==t.status)throw new Error("Server Error: ".concat(t.status));if(!t.headers||"function"!==typeof t.headers.get)throw new Error("Invalid response format, expected Response object");const s=t.headers.get("content-type");if(s&&s.includes("application/json")){const e=await t.json();alert("Text File Content:\n".concat(e.content))}else{const s=await t.blob(),a=window.URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=e,document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(a),document.body.removeChild(l)}}catch(t){console.error("Error downloading file:",t)}}})})]}):(0,r.jsx)("div",{className:"flex h-full",children:(0,r.jsxs)("div",{className:"max-h-full overflow-y-auto no-scrollbar ".concat(b?"border-r border-r-gray-700 pr-4 w-[70%]":"w-full"),children:[(0,r.jsx)("h6",{className:"mb-2",children:f}),(0,r.jsx)(a.Zb,{className:"h-[75vh]",bodyClass:"h-full flex justify-center items-center",children:"No deal details to show"})]})})]})})}}}]);
//# sourceMappingURL=7450.c041b07e.chunk.js.map