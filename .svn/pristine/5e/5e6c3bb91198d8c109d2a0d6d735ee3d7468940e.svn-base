{"version":3,"file":"static/js/9207.4e99df48.chunk.js","mappings":"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","sources":["services/SalesAdminService.js","views/Controls/ExportToCSV.js","views/Scheduling/Scheduler/components/SchedulingArea/components/DraggableTable/utils.js","views/Scheduling/Scheduler/components/SchedulingArea/components/Summary/utils.js","views/Scheduling/Scheduler/components/SchedulingArea/components/Toolbar/utils/playoutExportUtils/format2.js","views/Scheduling/Scheduler/components/SchedulingArea/components/Toolbar/utils/playoutExportUtils/ply.js","views/Scheduling/Scheduler/components/SchedulingArea/components/Toolbar/utils/playoutExportUtils/osc.js","views/Scheduling/Scheduler/components/SchedulingArea/components/Toolbar/utils/playoutExportUtils/xml.js","views/Scheduling/Scheduler/components/SchedulingArea/components/Toolbar/utils/utils.js","views/Scheduling/Scheduler/components/SchedulingArea/components/Toolbar/utils/playoutExportUtils/csv.js","views/Scheduling/Scheduler/components/SchedulingArea/components/Toolbar/utils/playoutExportUtils/usaFoodFood2.js","views/Scheduling/Scheduler/components/SchedulingArea/utils/utils.js","views/Scheduling/Scheduler/constants.js","views/Scheduling/Scheduler/context/utils.js","views/Scheduling/general.js"],"sourcesContent":["import appConfig from 'configs/app.config';\r\nimport ApiService from './ApiService';\r\nimport { data } from 'autoprefixer';\r\nconst axios = require('axios');\r\nconst APIURL = process.env.APIURL;\r\n\r\nexport async function apiGetCommercialtypemaster(data) {\r\n  return ApiService.fetchData({\r\n    url: '/commercialtypemaster/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nexport async function apispotcancellation(data, i, IsNTC) {\r\n  return ApiService.fetchData({\r\n    url: `/spotcancellation/?CancelRemarkCode=${i}&IsNTC=${IsNTC}`,\r\n    method: 'put',\r\n    data,\r\n  });\r\n}\r\n\r\nconst Postcommercialtype = (param, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let data = JSON.stringify({\r\n      CommercialTypeName: param.CommercialTypeName,\r\n      CommercialTypeShortName: param.CommercialTypeShortName,\r\n      IsActive: param.IsActive ? 1 : 0,\r\n    });\r\n\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/commercialtypemaster/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst Putcommercialtype = (param, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let data = JSON.stringify({\r\n      CommercialTypeName: param.CommercialTypeName,\r\n      CommercialTypeShortName: param.CommercialTypeShortName,\r\n      IsActive: param.IsActive ? 1 : 0,\r\n    });\r\n\r\n    let config = {\r\n      method: 'put',\r\n      maxBodyLength: Infinity,\r\n      url:\r\n        appConfig.apiPrefix +\r\n        `/commercialtypemaster/${param.CommercialTypeCode}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nexport async function apiGetCommercialmaster(data) {\r\n  return ApiService.fetchData({\r\n    url: `/commercialmaster/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&IsNTC=${data.IsNTC}&fromdate=${data.FromDate}&todate=${data.ToDate}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetBooking(data, id) {\r\n  return ApiService.fetchData({\r\n    url: `/bookingmaster/?IsNTC=${data.IsNTC}&LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}`,\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiUSP_SA_RO_SpotSchedule(\r\n  From_DT,\r\n  To_DT,\r\n  DealNumber,\r\n  BookingNumber,\r\n  ScheduleDate,\r\n  ChannelCode,\r\n  LocationCode,\r\n  checked,\r\n  BookingRefNumber,\r\n  IsNTCPage,\r\n  Brand,\r\n) {\r\n  return ApiService.fetchData({\r\n    url: `/spotschedule/USP_SA_RO_SpotSchedule/?From_DT=${From_DT}&To_DT=${To_DT}&DealNumber=${DealNumber}&BookingNumber=${BookingNumber}&ChannelCode=${ChannelCode}&LocationCode=${LocationCode}&ScheduleDate=${ScheduleDate}&IsMakeGoodRO=${checked ? 1 : 0\r\n      }&BookingRefNumber=${BookingRefNumber}&IsNTC=${IsNTCPage}&BrandCode=${Brand}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetCommercialmasterdrop() {\r\n  return ApiService.fetchData({\r\n    url: '/commercialmaster/drop/',\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetCommercialClientBrandwisedro2p(\r\n  selectedBrand,\r\n  selectedClient,\r\n  selectedCommercial,\r\n  LocationCode,\r\n  ChannelCode,\r\n  IsNTC,\r\n) {\r\n  return ApiService.fetchData({\r\n    url: `/commercialmaster/get_Commercial/?LocationCode=${LocationCode}&ChannelCode=${ChannelCode}&ClientCode=${selectedClient.value}&BrandCode=${selectedBrand.value}&DurInSec=${selectedCommercial.DurInSec}&IsNTC=${IsNTC}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetCommercialClientBrandwisedrop(\r\n  selectedBrand,\r\n  selectedClient,\r\n  LocationCode,\r\n  ChannelCode,\r\n  IsNTC,\r\n) {\r\n  return ApiService.fetchData({\r\n    url: `/commercialmaster/get_Commercial/?LocationCode=${LocationCode}&ChannelCode=${ChannelCode}&ClientCode=${selectedClient}&BrandCode=${selectedBrand}&IsNTC=${IsNTC}`,\r\n    method: 'get',\r\n  });\r\n}\r\nconst Postcommercial = (data, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/commercialmaster/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n    console.log(config.url);\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst Putcommercial = (data, token, id) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'put',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + `/commercialmaster/${id}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nexport async function apiGetPositionDrop(data) {\r\n  return ApiService.fetchData({\r\n    url: '/positionmaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetYearDrop(data) {\r\n  return ApiService.fetchData({\r\n    url: '/yearmaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetSpotPositionDrop(data) {\r\n  return ApiService.fetchData({\r\n    url: '/spotpositiontypemaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetCancelRemarkMaster(data) {\r\n  return ApiService.fetchData({\r\n    url: '/cancelremarkmaster/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nconst AddCancelremark = (row, token) => {\r\n  return fetch(appConfig.apiPrefix + `/cancelremarkmaster`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      CancelRemarkName: row.CancelRemarkName,\r\n      IsActive: row.IsActive,\r\n    }),\r\n  });\r\n};\r\n\r\nconst UpdateCancelremark = (row, token) => {\r\n  return fetch(\r\n    appConfig.apiPrefix + `/cancelremarkmaster/${row.CancelRemarkCode}`,\r\n    {\r\n      method: 'PUT',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        CancelRemarkName: row.CancelRemarkName,\r\n        IsActive: row.IsActive,\r\n      }),\r\n    },\r\n  );\r\n};\r\n\r\nexport async function apiGetYearMaster(data) {\r\n  return ApiService.fetchData({\r\n    url: '/yearmaster/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nconst AddYear = (row, token) => {\r\n  return fetch(appConfig.apiPrefix + `/yearmaster`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      Description: row.Description,\r\n      StartDate: row.StartDate,\r\n      EndDate: row.EndDate,\r\n      IsActive: row.IsActive,\r\n    }),\r\n  });\r\n};\r\n\r\nconst UpdateYear = (row, token) => {\r\n  return fetch(appConfig.apiPrefix + `/yearmaster/${row.Yearcode}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      Description: row.Description,\r\n      StartDate: row.StartDate,\r\n      EndDate: row.EndDate,\r\n      IsActive: row.IsActive,\r\n    }),\r\n  });\r\n};\r\n\r\nexport async function apiGetTaxMaster(data) {\r\n  return ApiService.fetchData({\r\n    url: '/taxmaster/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function AddTax(data) {\r\n  return ApiService.fetchData({\r\n    url: '/taxmaster/',\r\n    method: 'post',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function UpdateTax(data, TaxCode) {\r\n  return ApiService.fetchData({\r\n    url: `/taxmaster/${TaxCode}`,\r\n    method: 'put',\r\n    data,\r\n  });\r\n}\r\n\r\nconst apiGetTrafficDayClose = (date, channel, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/trafficdayclose/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}&traficmonth=${date}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst apiGetTrafficDayCloseByDateRange = (fromdate, todate, channel, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/trafficdayclose/asperfromto/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}&fromdate=${fromdate}&todate=${todate}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\nconst apiCreateTrafficDayClose = async (data, channel, token) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'post',\r\n        maxBodyLength: Infinity,\r\n        url:\r\n          appConfig.apiPrefix +\r\n          `/trafficdayclose/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        data: data,\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst apiPUTBookingStatusChange = (data, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'put',\r\n      maxBodyLength: Infinity,\r\n      url:\r\n        appConfig.apiPrefix + `/bookingdetails/bookingchange/?BookingStatus=E`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst apiGetBookingByClient = (clientCode, channel, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/bookingmaster/getbookingbyclient/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}&ClientCode=${clientCode}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst apiGetBookingActivityForBookingCode = (bookingNumber, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/bookingactivity/get_bookingactivity/?BookingNumber=${bookingNumber}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst apiGet_BookinActivityByDate = (activity, bookingNumber, token) => {\r\n  try {\r\n    console.log(activity);\r\n\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/bookingactivity/get_bookingactivitybydate?BookingNumber=${bookingNumber}&ChangeType=${activity.type}&ChangeOn=${activity.dateTime}&ChangeBy=${activity.executerId}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\nexport {\r\n  Postcommercialtype,\r\n  Putcommercialtype,\r\n  AddCancelremark,\r\n  UpdateCancelremark,\r\n  AddYear,\r\n  UpdateYear,\r\n  Putcommercial,\r\n  Postcommercial,\r\n  apiGetTrafficDayClose,\r\n  apiCreateTrafficDayClose,\r\n  apiPUTBookingStatusChange,\r\n  apiGetBookingByClient,\r\n  apiGetBookingActivityForBookingCode,\r\n  apiGet_BookinActivityByDate,\r\n  apiGetTrafficDayCloseByDateRange,\r\n};\r\n","import { saveAs } from 'file-saver';\r\nimport { jsonArrayToCSV } from './GLOBALFUNACTION';\r\n\r\nexport const ExportToCSV = (data) => {\r\n  // Ensure data is an array\r\n  if (!Array.isArray(data)) {\r\n    console.error('Data is not an array.');\r\n    return;\r\n  }\r\n  // Convert JSON objects to CSV content with double quotes\r\n  // const csvContent = jsonArrayToCSV(data);\r\n\r\n  // Convert JSON objects to CSV content without double quotes\r\n  const csvContent = data.map(row => Object.values(row).join(',')).join('\\n');\r\n  // Create Blob and save as CSV\r\n  const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8' });\r\n  saveAs(blob, 'PlayList.csv');\r\n};\r\n\r\nexport const ExportToCSVCustomName = (data, name) => {\r\n  // Ensure data is an array\r\n  if (!Array.isArray(data)) {\r\n    console.error('Data is not an array.');\r\n    return;\r\n  }\r\n  // Convert JSON objects to CSV content with double quotes\r\n  // const csvContent = jsonArrayToCSV(data);\r\n\r\n  // Convert JSON objects to CSV content without double quotes\r\n  const csvContent = data.map(row => Object.values(row).join(',')).join('\\n');\r\n  // Create Blob and save as CSV\r\n  const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8' });\r\n  saveAs(blob, `${name}.csv`);\r\n};","import {\r\n  getUniqueObjects,\r\n  openNotification,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport {\r\n  getNTCParentRow,\r\n  getRowWithNTC,\r\n} from 'views/Scheduling/Scheduler/context/utils';\r\nimport {\r\n  featuresEnum,\r\n  pagesEnum,\r\n  rowDataTypesEnum,\r\n  tableTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\n\r\nconst isRowDragDisabled = (\r\n  page,\r\n  activeFeatures,\r\n  row,\r\n  index,\r\n  tableType,\r\n  secondaryTableSelectedRows,\r\n) => {\r\n  try {\r\n    if (\r\n      secondaryTableSelectedRows.length > 0 &&\r\n      tableType === tableTypesEnum.SCHEDULING\r\n    )\r\n      return true;\r\n    else if (page === pagesEnum.COMMERCIAL) {\r\n      if (row.F_C_S_P !== rowDataTypesEnum.COMMERCIAL) return true;\r\n    } else if (page === pagesEnum.PROMO) {\r\n      if (row.F_C_S_P !== rowDataTypesEnum.PROMO) return true;\r\n    } else if (page === pagesEnum.SONG) {\r\n      if (row.F_C_S_P !== rowDataTypesEnum.SONG) return true;\r\n    } else if (page === pagesEnum.NTC) {\r\n      if (row.F_C_S_P !== rowDataTypesEnum.NTC || isNTCDragDisabled(row))\r\n        return true;\r\n    } else if (page === pagesEnum.FINAL_LOG) {\r\n      if (\r\n        (!activeFeatures[featuresEnum.MANAGE_SEGMENT] &&\r\n          (row.F_C_S_P === rowDataTypesEnum.SEGMENT ||\r\n            row.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION)) ||\r\n        (activeFeatures[featuresEnum.MANAGE_SEGMENT] &&\r\n          tableType === tableTypesEnum.SCHEDULING &&\r\n          index === 1) ||\r\n        isNTCDragDisabled(row)\r\n      )\r\n        return true;\r\n    }\r\n    return false;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst isRowSelected = (selectedRows, row) => {\r\n  try {\r\n    return selectedRows\r\n      .map((selectedRow) => selectedRow.rowId)\r\n      .includes(row.rowId);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst isRowLeftClicked = (\r\n  tableType,\r\n  leftClickedSchTableRow,\r\n  leftClickedSecTableRow,\r\n  selectedRows,\r\n  row,\r\n) => {\r\n  try {\r\n    return (\r\n      (tableType === tableTypesEnum.SCHEDULING &&\r\n        leftClickedSchTableRow &&\r\n        row.rowId === leftClickedSchTableRow.rowId &&\r\n        !isRowSelected(selectedRows, row)) ||\r\n      (tableType === tableTypesEnum.SECONDARY &&\r\n        leftClickedSecTableRow &&\r\n        row.rowId === leftClickedSecTableRow.rowId &&\r\n        !isRowSelected(selectedRows, row))\r\n    );\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst isColumnWarningColumn = (cellWarning, column) => {\r\n  try {\r\n    for (let index = cellWarning.length - 1; index >= 0; index--) {\r\n      const curCellWarning = cellWarning[index];\r\n      if (curCellWarning.cell === column.accessorKey) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getFontColor = (\r\n  tableType,\r\n  leftClickedSchTableRow,\r\n  leftClickedSecTableRow,\r\n  selectedRows,\r\n  row,\r\n  column,\r\n) => {\r\n  try {\r\n    if (\r\n      Array.isArray(row.cellWarning) &&\r\n      isColumnWarningColumn(row.cellWarning, column)\r\n    ) {\r\n      for (let index = row.cellWarning.length - 1; index >= 0; index--) {\r\n        const cellWarning = row.cellWarning[index];\r\n        if (cellWarning.cell === column.accessorKey) {\r\n          return cellWarning.fontColor;\r\n        }\r\n      }\r\n    } else if (\r\n      isRowLeftClicked(\r\n        tableType,\r\n        leftClickedSchTableRow,\r\n        leftClickedSecTableRow,\r\n        selectedRows,\r\n        row,\r\n      )\r\n    ) {\r\n      return 'rgb(229 231 235)';\r\n    } else if (isRowSelected(selectedRows, row)) {\r\n      return 'rgb(229 231 235)';\r\n    }\r\n    return row.EventDefaultFrontColor;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst getBgColor = (\r\n  tableType,\r\n  leftClickedSchTableRow,\r\n  leftClickedSecTableRow,\r\n  selectedRows,\r\n  row,\r\n  column,\r\n) => {\r\n  try {\r\n    if (\r\n      Array.isArray(row.cellWarning) &&\r\n      isColumnWarningColumn(row.cellWarning, column)\r\n    ) {\r\n      for (let index = row.cellWarning.length - 1; index >= 0; index--) {\r\n        const cellWarning = row.cellWarning[index];\r\n        if (cellWarning.cell === column.accessorKey) {\r\n          return cellWarning.bgColor;\r\n        }\r\n      }\r\n    } else if (\r\n      isRowLeftClicked(\r\n        tableType,\r\n        leftClickedSchTableRow,\r\n        leftClickedSecTableRow,\r\n        selectedRows,\r\n        row,\r\n      )\r\n    ) {\r\n      return 'rgba(148, 163, 184, 0.9)';\r\n    } else if (isRowSelected(selectedRows, row)) {\r\n      return 'rgb(71 85 105)';\r\n    }\r\n    if (\r\n      tableType === tableTypesEnum.SCHEDULING &&\r\n      row.customCellColor &&\r\n      column.accessorKey in row.customCellColor\r\n    )\r\n      return row.customCellColor[column.accessorKey];\r\n    else return row.EventDefaultBackColor;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst getBorderColor = (selectedRows, row) => {\r\n  try {\r\n    if (isRowSelected(selectedRows, row)) {\r\n      return 'rgb(156 163 175)';\r\n    }\r\n    return 'rgb(107 114 128)';\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst getUpdatedSelectedRows = (\r\n  selectedRows,\r\n  clickedRow,\r\n  tableType,\r\n  schedulingTableData,\r\n  secTableSelRows,\r\n) => {\r\n  let newSelectedRows = [...selectedRows];\r\n  const isSelected = isRowSelected(newSelectedRows, clickedRow);\r\n  if (tableType === tableTypesEnum.SECONDARY) {\r\n    return isSelected\r\n      ? newSelectedRows.filter((row) => row.rowId !== clickedRow.rowId)\r\n      : [...newSelectedRows, clickedRow];\r\n  }\r\n  if (newSelectedRows.length === 0) {\r\n    // Allow all selections\r\n    if (\r\n      clickedRow.F_C_S_P === rowDataTypesEnum.COMMERCIAL ||\r\n      clickedRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION\r\n    ) {\r\n      newSelectedRows = isSelected\r\n        ? newSelectedRows.filter((row) => row.rowId !== clickedRow.rowId)\r\n        : [...newSelectedRows, clickedRow];\r\n    } else if (\r\n      clickedRow.F_C_S_P === rowDataTypesEnum.PROMO ||\r\n      clickedRow.F_C_S_P === rowDataTypesEnum.SONG ||\r\n      clickedRow.F_C_S_P === rowDataTypesEnum.SEGMENT ||\r\n      clickedRow.F_C_S_P === rowDataTypesEnum.LIVE\r\n    ) {\r\n      const rowWithNTCs =\r\n        secTableSelRows.length > 0\r\n          ? [clickedRow]\r\n          : getRowWithNTC([clickedRow], schedulingTableData);\r\n      const unselectingRowIds = rowWithNTCs.map((row) => row.rowId);\r\n      newSelectedRows = isSelected\r\n        ? newSelectedRows.filter(\r\n            (row) => !unselectingRowIds.includes(row.rowId),\r\n          )\r\n        : [...newSelectedRows, ...rowWithNTCs];\r\n    } else if (clickedRow.F_C_S_P === rowDataTypesEnum.NTC) {\r\n      if (!isSelected) {\r\n        newSelectedRows.push(clickedRow);\r\n      } else {\r\n        newSelectedRows = newSelectedRows.filter(\r\n          (row) => row.rowId !== clickedRow.rowId,\r\n        );\r\n      }\r\n    }\r\n  } else {\r\n    const isAllSelectedRowsNTCs = newSelectedRows.every(\r\n      (row) => row.F_C_S_P === rowDataTypesEnum.NTC,\r\n    );\r\n    if (!isAllSelectedRowsNTCs) {\r\n      if (\r\n        clickedRow.F_C_S_P === rowDataTypesEnum.COMMERCIAL ||\r\n        clickedRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION\r\n      ) {\r\n        newSelectedRows = isSelected\r\n          ? newSelectedRows.filter((row) => row.rowId !== clickedRow.rowId)\r\n          : [...newSelectedRows, clickedRow];\r\n      } else if (\r\n        clickedRow.F_C_S_P === rowDataTypesEnum.PROMO ||\r\n        clickedRow.F_C_S_P === rowDataTypesEnum.SONG ||\r\n        clickedRow.F_C_S_P === rowDataTypesEnum.SEGMENT ||\r\n        clickedRow.F_C_S_P === rowDataTypesEnum.LIVE\r\n      ) {\r\n        const rowWithNTCs =\r\n          secTableSelRows.length > 0\r\n            ? [clickedRow]\r\n            : getRowWithNTC([clickedRow], schedulingTableData);\r\n        const unselectingRowIds = rowWithNTCs.map((row) => row.rowId);\r\n        newSelectedRows = isSelected\r\n          ? newSelectedRows.filter(\r\n              (row) => !unselectingRowIds.includes(row.rowId),\r\n            )\r\n          : [...newSelectedRows, ...rowWithNTCs];\r\n      } else {\r\n        openNotification(\r\n          'danger',\r\n          'You cannot select NTCs since your previous selection contains non NTC rows',\r\n        );\r\n      }\r\n    } else {\r\n      if (clickedRow.F_C_S_P === rowDataTypesEnum.NTC) {\r\n        if (!isSelected) {\r\n          newSelectedRows.push(clickedRow);\r\n        } else {\r\n          newSelectedRows = newSelectedRows.filter(\r\n            (row) => row.rowId !== clickedRow.rowId,\r\n          );\r\n        }\r\n      } else {\r\n        openNotification(\r\n          'danger',\r\n          'You can only select NTC rows since your previous selection contains only NTC rows',\r\n        );\r\n      }\r\n    }\r\n  }\r\n  return newSelectedRows;\r\n};\r\n\r\nconst isRowNTCCompatible = (row) => {\r\n  try {\r\n    return (\r\n      row.F_C_S_P !== rowDataTypesEnum.COMMERCIAL &&\r\n      row.F_C_S_P !== rowDataTypesEnum.CONTENT_TERMINATION &&\r\n      row.F_C_S_P !== rowDataTypesEnum.NTC\r\n    );\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getNTCRowsForParentRow = (parentRow, tableData) => {\r\n  try {\r\n    let index = parentRow.rowIndex + 1;\r\n    let ntcRows = [];\r\n    while (tableData[index].F_C_S_P === rowDataTypesEnum.NTC) {\r\n      ntcRows.push(tableData[index]);\r\n      index++;\r\n    }\r\n    return ntcRows;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getUpdatedSelectedRowsForShiftClick = (\r\n  row,\r\n  selectedRows,\r\n  tableData,\r\n  tableType,\r\n  isManageSegmentActive,\r\n) => {\r\n  try {\r\n    if (selectedRows.length === 0) return [row];\r\n    let lastSelectedRow = selectedRows[selectedRows.length - 1];\r\n    let newSelectedRows = [];\r\n    if (row.rowIndex < lastSelectedRow.rowIndex) {\r\n      newSelectedRows = tableData\r\n        .slice(row.rowIndex, lastSelectedRow.rowIndex + 1)\r\n        .reverse();\r\n      let firstRow = newSelectedRows[0];\r\n      if (\r\n        tableType === tableTypesEnum.SCHEDULING &&\r\n        isRowNTCCompatible(firstRow)\r\n      ) {\r\n        newSelectedRows = [\r\n          ...getNTCRowsForParentRow(firstRow, tableData),\r\n          ...newSelectedRows,\r\n        ];\r\n      }\r\n    } else {\r\n      newSelectedRows = tableData.slice(\r\n        lastSelectedRow.rowIndex,\r\n        row.rowIndex + 1,\r\n      );\r\n      let lastRow = newSelectedRows[newSelectedRows.length - 1];\r\n      if (\r\n        tableType === tableTypesEnum.SCHEDULING &&\r\n        isRowNTCCompatible(lastRow)\r\n      ) {\r\n        newSelectedRows = [\r\n          ...newSelectedRows,\r\n          ...getNTCRowsForParentRow(lastRow, tableData),\r\n        ];\r\n      }\r\n    }\r\n    if (isManageSegmentActive)\r\n      newSelectedRows = newSelectedRows.filter(\r\n        (row) =>\r\n          (row.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION ||\r\n            row.F_C_S_P === rowDataTypesEnum.SEGMENT) &&\r\n          row.rowIndex !== 0 &&\r\n          row.rowIndex !== 1,\r\n      );\r\n    else\r\n      newSelectedRows = newSelectedRows.filter(\r\n        (row) =>\r\n          row.F_C_S_P !== rowDataTypesEnum.CONTENT_TERMINATION &&\r\n          row.F_C_S_P !== rowDataTypesEnum.SEGMENT,\r\n      );\r\n    return newSelectedRows;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst isNTCDragDisabled = (row) => {\r\n  return row.F_C_S_P === rowDataTypesEnum.NTC && row.NTCGroupCode === 999;\r\n};\r\n\r\nexport {\r\n  isRowDragDisabled,\r\n  getFontColor,\r\n  getBgColor,\r\n  getBorderColor,\r\n  getUpdatedSelectedRows,\r\n  getUpdatedSelectedRowsForShiftClick,\r\n  isRowNTCCompatible,\r\n};\r\n","import { CgTimer } from 'react-icons/cg';\r\nimport { IoIosMusicalNotes } from 'react-icons/io';\r\nimport {\r\n  RiAdvertisementLine,\r\n  RiBox3Line,\r\n  RiLayoutBottom2Line,\r\n  RiMovie2Line,\r\n} from 'react-icons/ri';\r\nimport { pagesEnum, rowDataTypesEnum } from 'views/Scheduling/Scheduler/enum';\r\n\r\nconst getSummary = (tableData, key, eventType, title) => {\r\n  try {\r\n    let total = 0;\r\n    tableData.forEach((row) => {\r\n      if (row[key] === eventType) {\r\n        total += 1;\r\n      }\r\n    });\r\n    return { total, title };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n// const addTimes = (time1, time2) => {\r\n//   try {\r\n//     /* FUNCTION FROM CHAT-GPT */\r\n//     const maxFrames = 24;\r\n//     const [h1, m1, s1, f1] = time1.split(':').map(Number);\r\n//     const [h2, m2, s2, f2] = time2.split(':').map(Number);\r\n//     let totalFrames = f1 + f2;\r\n//     let extraSeconds = Math.floor(totalFrames / maxFrames);\r\n//     totalFrames = totalFrames % maxFrames;\r\n//     let totalSeconds = s1 + s2 + extraSeconds;\r\n//     let extraMinutes = Math.floor(totalSeconds / 60);\r\n//     totalSeconds = totalSeconds % 60;\r\n//     let totalMinutes = m1 + m2 + extraMinutes;\r\n//     let extraHours = Math.floor(totalMinutes / 60);\r\n//     totalMinutes = totalMinutes % 60;\r\n//     let totalHours = h1 + h2 + extraHours;\r\n//     const formattedTime =\r\n//       String(totalHours).padStart(2, '0') +\r\n//       ':' +\r\n//       String(totalMinutes).padStart(2, '0') +\r\n//       ':' +\r\n//       String(totalSeconds).padStart(2, '0') +\r\n//       ':' +\r\n//       String(totalFrames).padStart(2, '0');\r\n//     return formattedTime;\r\n//   } catch (error) {\r\n//     throw error;\r\n//   }\r\n// };\r\nconst addTimes = (...times) => {\r\n  /* FUNCTION FROM CHAT-GPT */\r\n  const maxFrames = 24;\r\n  let totalHours = 0,\r\n    totalMinutes = 0,\r\n    totalSeconds = 0,\r\n    totalFrames = 0;\r\n  times.filter((time) => time).forEach((time) => {\r\n    const [h, m, s, f] = time.split(':').map(Number);\r\n    totalHours += h;\r\n    totalMinutes += m;\r\n    totalSeconds += s;\r\n    totalFrames += f;\r\n  });\r\n  let extraSeconds = Math.floor(totalFrames / maxFrames);\r\n  totalFrames = totalFrames % maxFrames;\r\n  totalSeconds += extraSeconds;\r\n  let extraMinutes = Math.floor(totalSeconds / 60);\r\n  totalSeconds = totalSeconds % 60;\r\n  totalMinutes += extraMinutes;\r\n  let extraHours = Math.floor(totalMinutes / 60);\r\n  totalMinutes = totalMinutes % 60;\r\n  totalHours += extraHours;\r\n  return (\r\n    String(totalHours).padStart(2, '0') +\r\n    ':' +\r\n    String(totalMinutes).padStart(2, '0') +\r\n    ':' +\r\n    String(totalSeconds).padStart(2, '0') +\r\n    ':' +\r\n    String(totalFrames).padStart(2, '0')\r\n  );\r\n};\r\n\r\nconst timeToSeconds = (time) => {\r\n  try {\r\n    /* FUNCTION FROM CHAT-GPT */\r\n    const maxFrames = 24;\r\n    const [hours, minutes, seconds, frames] = time.split(':').map(Number);\r\n    const totalSeconds =\r\n      hours * 3600 + minutes * 60 + seconds + frames / maxFrames;\r\n    return totalSeconds;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getTimeTotalInSec = (tableData, key, rowDataType) => {\r\n  try {\r\n    let total = '00:00:00:00';\r\n    const tableDataWithoutDummyRow = [...tableData].slice(1);\r\n    tableDataWithoutDummyRow.forEach((row) => {\r\n      if (row.F_C_S_P === rowDataType) {\r\n        total = addTimes(total, row[key]);\r\n      }\r\n    });\r\n    return timeToSeconds(total);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getProgramsSummary = (tableData) => {\r\n  try {\r\n    let programs = getSummary(\r\n      tableData,\r\n      'F_C_S_P',\r\n      rowDataTypesEnum.CONTENT_TERMINATION,\r\n      'Programs',\r\n    );\r\n    return {\r\n      ...programs,\r\n      icon: <RiMovie2Line className=\"text-xl\" />,\r\n    };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getTotalDroppedSpots = (dropBucket) => {\r\n  return {\r\n    total: dropBucket.length > 0 ? dropBucket.length - 1 : 0,\r\n    title: 'Dropped Spots',\r\n    icon: <RiBox3Line className=\"text-xl\" />,\r\n  };\r\n};\r\n\r\nconst getTotalLastMinuteSpots = (lastMinuteSpots) => {\r\n  return {\r\n    total: lastMinuteSpots.length > 0 ? lastMinuteSpots.length - 1 : 0,\r\n    title: 'Last Minute Spots',\r\n    icon: <CgTimer className=\"text-xl\" />,\r\n  };\r\n};\r\n\r\nconst getSummaryListForPromoSch = (tableData, eventType) => {\r\n  try {\r\n    const programs = getProgramsSummary(tableData);\r\n    const promos = {\r\n      ...getSummary(tableData, 'F_C_S_P', eventType, 'Promos'),\r\n      icon: <RiAdvertisementLine className=\"text-xl\" />,\r\n    };\r\n    const duration = {\r\n      total: getTimeTotalInSec(tableData, 'Duration', eventType),\r\n      title: 'Total Duration',\r\n      icon: <CgTimer className=\"text-xl\" />,\r\n    };\r\n    return [programs, promos, duration];\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getSummaryListForSongSch = (tableData, eventType) => {\r\n  try {\r\n    const programs = getProgramsSummary(tableData);\r\n    const songs = {\r\n      ...getSummary(tableData, 'F_C_S_P', eventType, 'Songs'),\r\n      icon: <IoIosMusicalNotes className=\"text-xl\" />,\r\n    };\r\n    const duration = {\r\n      total: getTimeTotalInSec(tableData, 'Duration', eventType),\r\n      title: 'Total Duration',\r\n      icon: <CgTimer className=\"text-xl\" />,\r\n    };\r\n    return [programs, songs, duration];\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getSummaryListForCommercialSch = (\r\n  tableData,\r\n  dropBucket,\r\n  lastMinuteSpots,\r\n) => {\r\n  try {\r\n    /* EVENT COUNTS */\r\n    const programs = getProgramsSummary(tableData);\r\n    const commercials = {\r\n      ...getSummary(\r\n        tableData,\r\n        'F_C_S_P',\r\n        rowDataTypesEnum.COMMERCIAL,\r\n        'Commercials',\r\n      ),\r\n      icon: <RiAdvertisementLine className=\"text-xl\" />,\r\n    };\r\n    /* EVENT DURATIONS */\r\n    const commercialsDuration = {\r\n      total: getTimeTotalInSec(\r\n        tableData,\r\n        'Duration',\r\n        rowDataTypesEnum.COMMERCIAL,\r\n      ),\r\n      title: 'Total Commercials Duration',\r\n      icon: <CgTimer className=\"text-xl\" />,\r\n    };\r\n\r\n    /* SUMMARY LIST */\r\n    return [\r\n      programs,\r\n      commercials,\r\n      commercialsDuration,\r\n      getTotalDroppedSpots(dropBucket),\r\n      getTotalLastMinuteSpots(lastMinuteSpots),\r\n    ];\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getSummaryListForNTCSch = (tableData) => {\r\n  try {\r\n    /* EVENT COUNTS */\r\n    const programs = getProgramsSummary(tableData);\r\n    const ntcs = {\r\n      ...getSummary(tableData, 'F_C_S_P', rowDataTypesEnum.NTC, 'NTCs'),\r\n      icon: <RiLayoutBottom2Line className=\"text-xl\" />,\r\n    };\r\n    /* EVENT DURATIONS */\r\n    const ntcDuration = {\r\n      total: getTimeTotalInSec(tableData, 'Duration', rowDataTypesEnum.NTC),\r\n      title: 'Total NTC Duration',\r\n      icon: <CgTimer className=\"text-xl\" />,\r\n    };\r\n    /* SUMMARY LIST */\r\n    return [programs, ntcs, ntcDuration];\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getSummaryListForFinalLogSch = (\r\n  tableData,\r\n  dropBucket,\r\n  lastMinuteSpots,\r\n) => {\r\n  try {\r\n    /* EVENT COUNTS */\r\n    const programs = getProgramsSummary(tableData);\r\n    const promos = {\r\n      ...getSummary(tableData, 'F_C_S_P', rowDataTypesEnum.PROMO, 'Promos'),\r\n      icon: <RiAdvertisementLine className=\"text-xl\" />,\r\n    };\r\n    const commercials = {\r\n      ...getSummary(\r\n        tableData,\r\n        'F_C_S_P',\r\n        rowDataTypesEnum.COMMERCIAL,\r\n        'Commercials',\r\n      ),\r\n      icon: <RiAdvertisementLine className=\"text-xl\" />,\r\n    };\r\n    const ntcs = {\r\n      ...getSummary(tableData, 'F_C_S_P', rowDataTypesEnum.NTC, 'NTC'),\r\n      icon: <RiLayoutBottom2Line className=\"text-xl\" />,\r\n    };\r\n    const songs = {\r\n      ...getSummary(tableData, 'F_C_S_P', rowDataTypesEnum.SONG, 'Songs'),\r\n      icon: <IoIosMusicalNotes className=\"text-xl\" />,\r\n    };\r\n    /* EVENT DURATIONS */\r\n    const promosDuration = {\r\n      total: getTimeTotalInSec(tableData, 'Duration', rowDataTypesEnum.PROMO),\r\n      title: 'Total Promos Duration',\r\n      icon: <CgTimer className=\"text-xl\" />,\r\n    };\r\n    const commercialsDuration = {\r\n      total: getTimeTotalInSec(\r\n        tableData,\r\n        'Duration',\r\n        rowDataTypesEnum.COMMERCIAL,\r\n      ),\r\n      title: 'Total Commercials Duration',\r\n      icon: <CgTimer className=\"text-xl\" />,\r\n    };\r\n    const songsDuration = {\r\n      total: getTimeTotalInSec(tableData, 'Duration', rowDataTypesEnum.SONG),\r\n      title: 'Total Songs Duration',\r\n      icon: <CgTimer className=\"text-xl\" />,\r\n    };\r\n    /* SUMMARY LIST */\r\n    const summaryList = [programs];\r\n    if (promos.total > 0) summaryList.push(promos);\r\n    if (commercials.total > 0) summaryList.push(commercials);\r\n    if (ntcs.total > 0) summaryList.push(ntcs);\r\n    if (songs.total > 0) summaryList.push(songs);\r\n    if (promosDuration.total > 0) summaryList.push(promosDuration);\r\n    if (commercialsDuration.total > 0) summaryList.push(commercialsDuration);\r\n    if (songsDuration.total > 0) summaryList.push(songsDuration);\r\n    summaryList.push(getTotalDroppedSpots(dropBucket));\r\n    summaryList.push(getTotalLastMinuteSpots(lastMinuteSpots));\r\n    return summaryList;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getSummaryList = (page, tableData, dropBucket, lastMinuteSpots) => {\r\n  try {\r\n    let summaryList = [];\r\n    if (page === pagesEnum.PROMO) {\r\n      summaryList = getSummaryListForPromoSch(\r\n        tableData,\r\n        rowDataTypesEnum.PROMO,\r\n      );\r\n    } else if (page === pagesEnum.SONG) {\r\n      summaryList = getSummaryListForSongSch(tableData, rowDataTypesEnum.SONG);\r\n    } else if (page === pagesEnum.COMMERCIAL) {\r\n      summaryList = getSummaryListForCommercialSch(\r\n        tableData,\r\n        dropBucket,\r\n        lastMinuteSpots,\r\n      );\r\n    } else if (page === pagesEnum.NTC) {\r\n      summaryList = getSummaryListForNTCSch(tableData);\r\n    } else if (page === pagesEnum.FINAL_LOG) {\r\n      summaryList = getSummaryListForFinalLogSch(\r\n        tableData,\r\n        dropBucket,\r\n        lastMinuteSpots,\r\n      );\r\n    }\r\n    return summaryList;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { getSummaryList, addTimes };\r\n","import { convertDateToDMY } from 'components/validators';\r\nimport { format } from 'date-fns';\r\nimport { ExportxlswithColor } from 'views/Controls/ExportxlswithColor';\r\n\r\nconst exportFormat2 = (tableData, date, channel) => {\r\n  try {\r\n    const tableDataForExport = tableData.map((row) => ({\r\n      FPC_Time: row.FPC_Time ? `${row.FPC_Time}:00:00` : '',\r\n      Tel_Time: row.Tel_Time,\r\n      TRAISLOT: convertTimecodeToRange(row.Tel_Time),\r\n      Event_Name: row.Event_Name,\r\n      Duration: row.Duration,\r\n      TC_IN: row.TC_IN,\r\n      TC_Out: row.TC_Out,\r\n      Video_ID: row.Video_ID,\r\n      F_C_S_P: row.F_C_S_P,\r\n      TelecastDate: date,\r\n      SeasonNo: row.SeasonNo,\r\n      EpisodeNo: row.EpisodeNo,\r\n      DealNo: row.DealNo,\r\n      Agency: row.Agency,\r\n      Client: row.Client,\r\n      Brand: row.Brand,\r\n      Product: row.Product,\r\n      PromoTypeName: row.PromoTypeName,\r\n      RODP_Category: row.RODP_Category,\r\n      BookingDetailCode: row.BookingDetailCode,\r\n    }));\r\n    const columns = [\r\n      {\r\n        header: 'FPCTime',\r\n        accessorKey: 'FPC_Time',\r\n      },\r\n      {\r\n        header: 'GMTTime',\r\n        accessorKey: 'Tel_Time',\r\n      },\r\n      {\r\n        header: 'TRAISLOT',\r\n        accessorKey: 'TRAISLOT',\r\n      },\r\n      {\r\n        header: 'EventCaption',\r\n        accessorKey: 'Event_Name',\r\n      },\r\n      {\r\n        header: 'EventDuration',\r\n        accessorKey: 'Duration',\r\n      },\r\n      {\r\n        header: 'TCIN',\r\n        accessorKey: 'TC_IN',\r\n      },\r\n      {\r\n        header: 'TCOUT',\r\n        accessorKey: 'TC_Out',\r\n      },\r\n      {\r\n        header: 'VideoID',\r\n        accessorKey: 'Video_ID',\r\n      },\r\n      {\r\n        header: 'EventType',\r\n        accessorKey: 'F_C_S_P',\r\n      },\r\n      {\r\n        header: 'PromoTypeName',\r\n        accessorKey: 'PromoTypeName',\r\n      },\r\n      {\r\n        header: 'TelecastDate',\r\n        accessorKey: 'TelecastDate',\r\n      },\r\n      {\r\n        header: 'SeasonNo',\r\n        accessorKey: 'SeasonNo',\r\n      },\r\n      {\r\n        header: 'EpisodeNo',\r\n        accessorKey: 'EpisodeNo',\r\n      },\r\n      {\r\n        header: 'DealNumber',\r\n        accessorKey: 'DealNo',\r\n      },\r\n      {\r\n        header: 'TimeBandName',\r\n        accessorKey: 'RODP_Category',\r\n      },\r\n      {\r\n        header: 'AgencyName',\r\n        accessorKey: 'Agency',\r\n      },\r\n      {\r\n        header: 'ClientName',\r\n        accessorKey: 'Client',\r\n      },\r\n      {\r\n        header: 'BrandName',\r\n        accessorKey: 'Brand',\r\n      },\r\n      {\r\n        header: 'ProductName',\r\n        accessorKey: 'Product',\r\n      },\r\n      {\r\n        header: 'BookingNumber',\r\n        accessorKey: 'BookingDetailCode',\r\n      },\r\n    ];\r\n    ExportxlswithColor(\r\n      false,\r\n      false,\r\n      0,\r\n      0,\r\n      false,\r\n      tableDataForExport,\r\n      `${format(date, 'ddMMyyyy')}FinalLog_${\r\n        channel.label === 'India Food Food' ? 'India' : channel.label\r\n      }`,\r\n      columns,\r\n      false,\r\n    );\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nfunction convertTimecodeToRange(timecode) {\r\n  /* FUNCTION FROM CHAT-GPT */\r\n  const [hours, minutes, seconds, frames] = timecode.split(':').map(Number);\r\n  const startHour = String(hours).padStart(2, '0');\r\n  const endHour = String(hours + 1).padStart(2, '0');\r\n  return `${startHour}:00-${endHour}:00 Hrs`;\r\n}\r\n\r\nexport { exportFormat2 };\r\n","import { saveAs } from 'file-saver';\r\nimport { parseDurationE } from 'views/Controls/GLOBALFUNACTION';\r\n\r\nconst exportPlayoutForPly = (\r\n  telecastDate,\r\n  tableData,\r\n  exportPlayoutFileName,\r\n) => {\r\n  try {\r\n    const content = generateFileContentForPly(\r\n      telecastDate,\r\n      '577252634066',\r\n      exportPlayoutFileName,\r\n      tableData,\r\n    );\r\n    saveAs(\r\n      new Blob([content], { type: 'text/plain;charset=utf-8' }),\r\n      `${exportPlayoutFileName}.ply`,\r\n    );\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst generateFileContentForPly = (\r\n  telecastDate,\r\n  playlistId,\r\n  exportPlayoutFileName,\r\n  tableData,\r\n) => {\r\n  try {\r\n    let content = '';\r\n    content += `#FILENAME ${exportPlayoutFileName}.ply\\n`;\r\n    content += `#PLAYLIST_FILE_NAME ${exportPlayoutFileName}.ply\\n`;\r\n    content += `#PLAYLISTID ${playlistId}\\n`;\r\n    content += `#PLAYLISTTC 00:00:00:00\\n`;\r\n    content += `#LISTNAME \\n`;\r\n    content += `#LISTID ${telecastDate.replaceAll('-', '')}000111\\n`;\r\n    content += `#DYNAMICMEDIA FALSE\\n`;\r\n    content += `#EVENT NOTE ${telecastDate.replaceAll('-', '')}\\n`;\r\n    // Initialize category count outside the loop\r\n    let count = 1;\r\n    tableData.forEach((item) => {\r\n      const listId = `${telecastDate.replaceAll('-', '')}00000${item.SequenceNo\r\n        }\\n`;\r\n      content += `#LISTID ${listId}`;\r\n      content += `#DYNAMICMEDIA FALSE\\n`;\r\n      content += `#TC 0.00000\\n`;\r\n      if (item.F_C_S_P === 'CT') {\r\n        content += `#EVENT NOTE ${item.Event_Name}\\n`;\r\n        content += `#LISTID 431825652124\\n`;\r\n        content += `#METADATA NOW ${item.Event_Name}\\n`;\r\n        content += `#METADATA Sname \\n`;\r\n        content += `#METADATA Mname \\n`;\r\n        content += `#STARTTIME 0;${item.FPC_Time}:00:00;-1;-1;0;;0\\n`;\r\n        content += `#PLAYLISTID ${listId}`;\r\n        content += `#PLAYLISTTC 00:00:00:00\\n`;\r\n        content += `#CATEGORY NOW ${count}\\n`;\r\n        content += `#CATEGORY NEXT ${count}\\n`;\r\n        count++; // Increment count for the next item\r\n      } else {\r\n        let mediaPath = '';\r\n        if (item.F_C_S_P === 'S') {\r\n          mediaPath = `V:\\\\MOVIE PLUS\\\\MOVIE'S\\\\${item.Event_Name}\\\\${item.Video_ID}.mov`;\r\n        } else if (item.F_C_S_P === 'SG') {\r\n          mediaPath = `V:\\\\Songs\\\\${item.House_ID}.mov`;\r\n        } else if (item.F_C_S_P === 'PR') {\r\n          mediaPath = `V:\\\\MOVIE PLUS ID'S\\\\${item.Video_ID}.mov`;\r\n        } else if (item.F_C_S_P === 'CM') {\r\n          mediaPath = `V:\\\\TELESHOPPING AD\\\\${item.Video_ID}.mov`;\r\n        }\r\n        content += `\"${mediaPath}\"; 0.00000; ${parseDurationE(24,\r\n          item.Duration,\r\n        )}.00000; ; ${item.Event_Name}\\n`;\r\n      }\r\n    });\r\n    return content;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return '';\r\n  }\r\n};\r\n\r\nexport { exportPlayoutForPly };\r\n","import { convertDateToDMY } from 'components/validators';\r\nimport { format } from 'date-fns';\r\nimport { saveAs } from 'file-saver';\r\nimport { rowDataTypesEnum } from 'views/Scheduling/Scheduler/enum';\r\n\r\nconst exportPlayoutForOsc = (date, tableData, channel) => {\r\n  try {\r\n    const content = generateFileContentForOsc(\r\n      convertDateToDMY(date),\r\n      tableData,\r\n    );\r\n    saveAs(\r\n      new Blob([content], { type: 'text/plain;charset=utf-8' }),\r\n      `${format(date, 'ddMMyyyy')}-0530-530_${\r\n        channel.label === 'India Food Food' ? 'India' : channel.label\r\n      }.osc`,\r\n    );\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst generateFileContentForOsc = (telecastDate, tableData) => {\r\n  try {\r\n    let content = '';\r\n    tableData.forEach((row) => {\r\n      if (row.F_C_S_P !== rowDataTypesEnum.CONTENT_TERMINATION) {\r\n        content += `ITEM\\n`;\r\n        content += `preset_date ${telecastDate.replaceAll('-', '/')}\\n`;\r\n        content += `preset_time ${row.Tel_Time}\\n`;\r\n        content += `clip ${row.Video_ID}\\n`;\r\n        content += `title ${row.Event_Name}\\n`;\r\n        content += `clip_dur ${row.Duration}\\n`;\r\n        content += `mode 1\\n`;\r\n        content += `type 1\\n`;\r\n        content += `end\\n`;\r\n      }\r\n    });\r\n    return content;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return '';\r\n  }\r\n};\r\n\r\nexport { exportPlayoutForOsc };\r\n","import { js2xml } from 'xml-js';\r\nimport { saveAs } from 'file-saver';\r\nimport { parseDurationE, subtractTimes } from 'views/Controls/GLOBALFUNACTION';\r\nimport { format } from 'date-fns';\r\nimport { rowDataTypesEnum } from 'views/Scheduling/Scheduler/enum';\r\nimport { addTimes } from '../../../Summary/utils';\r\n\r\nconst F_C_S_P_MAPPING = {\r\n  [rowDataTypesEnum.SEGMENT]: 'program',\r\n  [rowDataTypesEnum.PROMO]: 'promos',\r\n  [rowDataTypesEnum.COMMERCIAL]: 'commercials',\r\n};\r\n\r\nconst exportPlayoutForXML = (date, tableData, channelSettings) => {\r\n  const jsonForXml = js2xml(getJsonForXml(date, tableData, channelSettings), {\r\n    compact: false,\r\n    spaces: 4,\r\n  });\r\n  const blob = new Blob([jsonForXml], { type: 'application/xml' });\r\n  saveAs(\r\n    blob,\r\n    `FinalLog${channelSettings.locations.LocationName}-${\r\n      channelSettings.Channel.ChannelName\r\n    }A${format(new Date(), 'ddMMyyyy')}.xml`,\r\n  );\r\n};\r\n\r\nconst getJsonForXml = (date, tableData, channelSettings) => {\r\n  let curCtRow = null;\r\n  let curSegRow = null;\r\n  let curBreak = null;\r\n  let itemsElements = [];\r\n  let curReconciliationCount = 0;\r\n  tableData.forEach((row, index) => {\r\n    if (row.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION) {\r\n      curCtRow = row;\r\n    } else if (row.F_C_S_P === rowDataTypesEnum.SEGMENT) {\r\n      curReconciliationCount++;\r\n      curSegRow = row;\r\n      curBreak = curBreak\r\n        ? subtractTimes(row.Start_Time, curBreak) > '00:30:00:00'\r\n          ? addTimes(curBreak, '00:30:00:00')\r\n          : curBreak\r\n        : row.Start_Time;\r\n      itemsElements.push(\r\n        ...getJsonForSegment(\r\n          row,\r\n          curCtRow,\r\n          date,\r\n          curBreak.slice(0, 5),\r\n          channelSettings,\r\n          curReconciliationCount,\r\n        ),\r\n      );\r\n    } else if (\r\n      row.F_C_S_P === rowDataTypesEnum.PROMO ||\r\n      row.F_C_S_P === rowDataTypesEnum.COMMERCIAL ||\r\n      row.F_C_S_P === rowDataTypesEnum.SONG\r\n    ) {\r\n      curReconciliationCount++;\r\n      itemsElements.push(\r\n        ...getJsonForPromoCommSong(\r\n          row,\r\n          curSegRow,\r\n          curCtRow,\r\n          date,\r\n          curBreak.slice(0, 5),\r\n          channelSettings,\r\n          curReconciliationCount,\r\n        ),\r\n      );\r\n    }\r\n    if (\r\n      tableData[index + 1] &&\r\n      tableData[index + 1].F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION\r\n    ) {\r\n      itemsElements.push({\r\n        type: 'element',\r\n        name: 'event',\r\n        attributes: { type: 'BREAK_END' },\r\n        elements: [\r\n          {\r\n            type: 'element',\r\n            name: 'item-id',\r\n            elements: [{ type: 'text', text: crypto.randomUUID() }],\r\n          },\r\n        ],\r\n      });\r\n    }\r\n  });\r\n  return {\r\n    elements: [\r\n      {\r\n        type: 'element',\r\n        name: 'schedule',\r\n        elements: [\r\n          ...getJsonForHeader(channelSettings, date),\r\n          {\r\n            type: 'element',\r\n            name: 'items',\r\n            elements: itemsElements,\r\n          },\r\n          {\r\n            type: 'element',\r\n            name: 'sched-dur',\r\n            elements: [{ type: 'text', text: '01:41:45' }],\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n};\r\n\r\nconst getJsonForHeader = (channelSettings, date) => [\r\n  {\r\n    type: 'element',\r\n    name: 'channel',\r\n    elements: [\r\n      {\r\n        type: 'text',\r\n        text: `${channelSettings.locations.LocationName}-${channelSettings.Channel.ChannelName}`,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    type: 'element',\r\n    name: 'creat-time',\r\n    elements: [\r\n      {\r\n        type: 'text',\r\n        text: `${format(new Date(), 'dd/MM/yyyy')} ${format(\r\n          new Date(),\r\n          'HH:mm:ss',\r\n        )}`,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    type: 'element',\r\n    name: 'sched-start-time',\r\n    elements: [\r\n      {\r\n        type: 'text',\r\n        text: `${format(date, 'yyyy-MM-dd')} ${channelSettings.StartTime.slice(\r\n          0,\r\n          8,\r\n        )}`,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    type: 'element',\r\n    name: 'sched-end-time',\r\n    elements: [\r\n      {\r\n        type: 'text',\r\n        text: `${format(date, 'yyyy-MM-dd')} ${channelSettings.EndTime.slice(\r\n          0,\r\n          8,\r\n        )}`,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    type: 'element',\r\n    name: 'sched-part',\r\n    elements: [{ type: 'text', text: '0' }],\r\n  },\r\n];\r\n\r\nconst getJsonForSegment = (\r\n  segment,\r\n  ctRow,\r\n  date,\r\n  curBreak,\r\n  channelSettings,\r\n  curReconciliationCount,\r\n) => {\r\n  return [\r\n    {\r\n      type: 'element',\r\n      name: 'item',\r\n      elements: [\r\n        {\r\n          type: 'element',\r\n          name: 'item-id',\r\n          elements: [{ type: 'text', text: crypto.randomUUID() }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'clip-id',\r\n          elements: [{ type: 'text', text: segment.Video_ID }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'clip-name',\r\n          elements: [{ type: 'text', text: segment.Event_Name }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data11',\r\n          elements: [{ type: 'text', text: channelSettings.StartTime }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data12',\r\n          elements: [{ type: 'text', text: channelSettings.EndTime }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data13',\r\n          elements: [{ type: 'text', text: ctRow.Event_Name }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data14',\r\n          elements: [\r\n            {\r\n              type: 'text',\r\n              text: `A${format(\r\n                new Date(),\r\n                'ddMMyyyy',\r\n              )}${curReconciliationCount}`,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data10',\r\n          elements: [{ type: 'text', text: 'None' }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data9',\r\n          elements: [{ type: 'text', text: 'NA3' }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data8',\r\n          elements: [{ type: 'text', text: crypto.randomUUID() }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data7',\r\n          elements: [{ type: 'text', text: F_C_S_P_MAPPING[segment.F_C_S_P] }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data6',\r\n          elements: [{ type: 'text', text: crypto.randomUUID() }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data5',\r\n          elements: [{ type: 'text', text: segment.Event_Name }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data4',\r\n          elements: [{ type: 'text', text: 'None' }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'clip-dur',\r\n          elements: [{ type: 'text', text: segment.Duration }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data1',\r\n          elements: [\r\n            { type: 'text', text: parseDurationE(24, segment.Duration) },\r\n          ],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'plan-start-time',\r\n          elements: [\r\n            {\r\n              type: 'text',\r\n              text: `${format(date, 'yyyy-MM-dd')} ${segment.Start_Time}`,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'start-time-min',\r\n          elements: [\r\n            {\r\n              type: 'text',\r\n              text: `${format(\r\n                date,\r\n                'yyyy-MM-dd',\r\n              )} ${channelSettings.StartTime.slice(0, 8)}`,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'start-time-max',\r\n          elements: [\r\n            {\r\n              type: 'text',\r\n              text: `${format(\r\n                date,\r\n                'yyyy-MM-dd',\r\n              )} ${channelSettings.EndTime.slice(0, 8)}`,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'comment',\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'break',\r\n          elements: [\r\n            {\r\n              type: 'text',\r\n              text: `${curBreak}_${ctRow.Event_Name}`,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data3',\r\n          elements: [\r\n            {\r\n              type: 'text',\r\n              text: crypto.randomUUID(),\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      type: 'element',\r\n      name: 'event',\r\n      attributes: { type: 'BREAK_BEGIN' },\r\n      elements: [\r\n        {\r\n          type: 'element',\r\n          name: 'item-id',\r\n          elements: [{ type: 'text', text: crypto.randomUUID() }],\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      type: 'element',\r\n      name: 'event',\r\n      attributes: { type: 'REPLACE_BEGIN' },\r\n      elements: [\r\n        {\r\n          type: 'element',\r\n          name: 'item-id',\r\n          elements: [{ type: 'text', text: crypto.randomUUID() }],\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n};\r\n\r\nconst getJsonForPromoCommSong = (\r\n  event,\r\n  curSegRow,\r\n  ctRow,\r\n  date,\r\n  curBreak,\r\n  channelSettings,\r\n  curReconciliationCount,\r\n) => {\r\n  return [\r\n    {\r\n      type: 'element',\r\n      name: 'item',\r\n      elements: [\r\n        {\r\n          type: 'element',\r\n          name: 'item-id',\r\n          elements: [{ type: 'text', text: crypto.randomUUID() }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'clip-id',\r\n          elements: [{ type: 'text', text: event.Video_ID }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'clip-name',\r\n          elements: [{ type: 'text', text: event.Event_Name }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data11',\r\n          elements: [{ type: 'text', text: channelSettings.StartTime }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data12',\r\n          elements: [{ type: 'text', text: channelSettings.EndTime }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data13',\r\n          elements: [{ type: 'text', text: ctRow.Event_Name }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data14',\r\n          elements: [\r\n            {\r\n              type: 'text',\r\n              text: `A${format(\r\n                new Date(),\r\n                'ddMMyyyy',\r\n              )}${curReconciliationCount}`,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data10',\r\n          elements: [{ type: 'text', text: 'None' }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data9',\r\n          elements: [{ type: 'text', text: 'NA3' }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data8',\r\n          elements: [{ type: 'text', text: crypto.randomUUID() }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data7',\r\n          elements: [{ type: 'text', text: F_C_S_P_MAPPING[event.F_C_S_P] }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data6',\r\n          elements: [{ type: 'text', text: crypto.randomUUID() }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data5',\r\n          elements: [{ type: 'text', text: event.Event_Name }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data4',\r\n          elements: [{ type: 'text', text: 'None' }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'clip-dur',\r\n          elements: [{ type: 'text', text: event.Duration }],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data1',\r\n          elements: [\r\n            { type: 'text', text: parseDurationE(24, event.Duration) },\r\n          ],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'plan-start-time',\r\n          elements: [\r\n            {\r\n              type: 'text',\r\n              text: `${format(date, 'yyyy-MM-dd')} ${event.Start_Time}`,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'start-time-min',\r\n          elements: [\r\n            {\r\n              type: 'text',\r\n              text: `${format(\r\n                date,\r\n                'yyyy-MM-dd',\r\n              )} ${channelSettings.StartTime.slice(0, 8)}`,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'start-time-max',\r\n          elements: [\r\n            {\r\n              type: 'text',\r\n              text: `${format(\r\n                date,\r\n                'yyyy-MM-dd',\r\n              )} ${channelSettings.EndTime.slice(0, 8)}`,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'comment',\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'break',\r\n          elements: [\r\n            {\r\n              type: 'text',\r\n              text: `${curBreak}_${curSegRow.Event_Name}`,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          type: 'element',\r\n          name: 'data3',\r\n          elements: [\r\n            {\r\n              type: 'text',\r\n              text: crypto.randomUUID(),\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n};\r\n\r\nexport { exportPlayoutForXML };\r\n","import classNames from 'classnames';\r\nimport {\r\n  playoutExportFormatEnum,\r\n  featuresEnum,\r\n  operationTypesEnum,\r\n  pagesEnum,\r\n  rowDataTypesEnum,\r\n  tableTypesEnum,\r\n  secondaryTableTypesEnum,\r\n} from '../../../../../enum';\r\nimport { convertDateToDMY } from 'components/validators';\r\nimport {\r\n  apideletedataPosttransmissionlogaddaudit,\r\n  apiPosttransmissionlogaddaudit,\r\n  apiPosttransmissionloginsertdata,\r\n  apiPUTtransmissionlogupdatedata,\r\n  apiUpdateSpotStatus,\r\n  PostNTCScheduling,\r\n  Postpromoscheduling,\r\n  PostSongscheduling,\r\n  Posttransmissionlog,\r\n  PutCommercialSave,\r\n} from 'services/SchedulingService';\r\nimport {\r\n  convertDateFormatyyyyMMdd,\r\n  openNotification,\r\n  parseDurationE,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport { setUnsavedWork } from 'store/auth/scheduling';\r\nimport { ExportxlswithColor } from 'views/Controls/ExportxlswithColor';\r\nimport {\r\n  PLAYOUT_EXPORT_FORMAT,\r\n  FORMATTED_EXPORT_COLUMNS,\r\n} from 'views/Scheduling/Scheduler/constants';\r\nimport { format } from 'date-fns';\r\nimport { exportPlayoutForPly } from './playoutExportUtils/ply';\r\nimport { exportPlayoutForOsc } from './playoutExportUtils/osc';\r\nimport { exportPlayoutForCSV } from './playoutExportUtils/csv';\r\nimport { exportPlayoutForUSAFoodFood2 } from './playoutExportUtils/usaFoodFood2';\r\nimport { exportFormat2 } from './playoutExportUtils/format2';\r\nimport { CLIENT } from 'views/Controls/clientListEnum';\r\nimport { exportPlayoutForXML } from './playoutExportUtils/xml';\r\n\r\nconst getClassNames = (isFeatureActive) => {\r\n  try {\r\n    return classNames(\r\n      isFeatureActive\r\n        ? '!bg-teal-700 hover:!bg-teal-700'\r\n        : 'hover:!bg-teal-800',\r\n      'transition-all',\r\n    );\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst handleFeatureClick = ({\r\n  feature,\r\n  page,\r\n  maintainScrolledOffsetOfTables,\r\n  activeFeatures,\r\n  setActiveFeatures,\r\n  setSchedulingTableSelectedRows,\r\n  setLeftClickedSchTableRow,\r\n  setUpdateSchedulerStateInRedux,\r\n  executeOperation,\r\n  secondaryAreaZindexRef,\r\n}) => {\r\n  try {\r\n    if (\r\n      feature === featuresEnum.MANAGE_COLUMNS ||\r\n      feature === featuresEnum.EXPORT\r\n    ) {\r\n      setActiveFeatures({\r\n        ...activeFeatures,\r\n        [feature]: {\r\n          ...activeFeatures[feature],\r\n          isDropdownVisible: true,\r\n        },\r\n      });\r\n    } else if (\r\n      feature === featuresEnum.HIDE_COMMERCIALS ||\r\n      feature === featuresEnum.SHOW_PROGRAM_BASE_TIME ||\r\n      feature === featuresEnum.SHOW_NTC ||\r\n      feature === featuresEnum.FILTER ||\r\n      feature === featuresEnum.SHOW_SCTE\r\n    ) {\r\n      /* Make feature active */\r\n      const newActiveFeatures = {\r\n        ...activeFeatures,\r\n        [feature]: !activeFeatures[feature],\r\n      };\r\n      if (feature === featuresEnum.HIDE_COMMERCIALS)\r\n        executeOperation({\r\n          operation: operationTypesEnum.HIDE_COMMERCIAL,\r\n          isHideCommercial: newActiveFeatures[feature],\r\n          externalActiveFeatures: newActiveFeatures,\r\n        });\r\n      else if (feature === featuresEnum.SHOW_PROGRAM_BASE_TIME)\r\n        executeOperation({\r\n          operation: operationTypesEnum.SHOW_PROGRAM_BASE_TIME,\r\n          isShowProgramBaseTime: newActiveFeatures[feature],\r\n          externalActiveFeatures: newActiveFeatures,\r\n        });\r\n      else if (feature === featuresEnum.SHOW_NTC)\r\n        executeOperation({\r\n          operation: operationTypesEnum.SHOW_NTC,\r\n          isShowNTC: newActiveFeatures[feature],\r\n          externalActiveFeatures: newActiveFeatures,\r\n        });\r\n      else if (feature === featuresEnum.FILTER) {\r\n        executeOperation({\r\n          operation: operationTypesEnum.FILTER_ROW,\r\n          tableType: [tableTypesEnum.SCHEDULING, tableTypesEnum.SECONDARY],\r\n          selectedFilters: [],\r\n          externalActiveFeatures: {\r\n            ...newActiveFeatures,\r\n            [featuresEnum.SHOW_NTC]: true,\r\n          },\r\n        });\r\n      } else if (feature === featuresEnum.SHOW_SCTE) {\r\n        executeOperation({\r\n          operation: operationTypesEnum.SHOW_SCTE,\r\n          isShowSCTE: newActiveFeatures[feature],\r\n          externalActiveFeatures: newActiveFeatures,\r\n        });\r\n      }\r\n    } else if (feature === featuresEnum.HOURS) {\r\n      setActiveFeatures({\r\n        ...activeFeatures,\r\n        [feature]: !activeFeatures[feature],\r\n        [featuresEnum.FPC_TIME]: false,\r\n      });\r\n    } else if (feature === featuresEnum.FPC_TIME) {\r\n      setActiveFeatures({\r\n        ...activeFeatures,\r\n        [feature]: !activeFeatures[feature],\r\n        [featuresEnum.HOURS]: false,\r\n      });\r\n    } else if (feature === featuresEnum.SUMMARY) {\r\n      setSchedulingTableSelectedRows([]);\r\n      setLeftClickedSchTableRow(null);\r\n      setActiveFeatures({\r\n        ...activeFeatures,\r\n        [feature]: !activeFeatures[feature],\r\n      });\r\n      incrementZindex(secondaryAreaZindexRef, feature);\r\n    } else if (feature === featuresEnum.INSERT) {\r\n      if (\r\n        page === pagesEnum.FINAL_LOG ||\r\n        page === pagesEnum.COMMERCIAL ||\r\n        page === pagesEnum.NTC\r\n      ) {\r\n        setActiveFeatures({\r\n          ...activeFeatures,\r\n          [feature]: {\r\n            ...activeFeatures[feature],\r\n            isDropdownVisible: true,\r\n          },\r\n        });\r\n      } else {\r\n        setSchedulingTableSelectedRows([]);\r\n        setLeftClickedSchTableRow(null);\r\n        let newActiveFeatures = {\r\n          ...activeFeatures,\r\n          [featuresEnum.SUMMARY]: false,\r\n          [featuresEnum.ROTATION_INFO]: false,\r\n          [featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS]: false,\r\n          [featuresEnum.RULE_CHECK]: false,\r\n          [featuresEnum.CHANGE_PROGRAM]: false,\r\n          [featuresEnum.MANAGE_SEGMENT]: false,\r\n          [featuresEnum.HOURWISE_INVENTORY]: false,\r\n          [featuresEnum.DURATION]: false,\r\n          [feature]: {\r\n            ...activeFeatures[feature],\r\n            isDropdownVisible: false,\r\n            isActive: true,\r\n          },\r\n        };\r\n        if (page === pagesEnum.PROMO)\r\n          newActiveFeatures[feature].eventType = secondaryTableTypesEnum.PROMO;\r\n        else if (page === pagesEnum.SONG)\r\n          newActiveFeatures[feature].eventType = secondaryTableTypesEnum.SONG;\r\n        setActiveFeatures(newActiveFeatures);\r\n      }\r\n    } else if (feature === featuresEnum.RULE_CHECK) {\r\n      setSchedulingTableSelectedRows([]);\r\n      setLeftClickedSchTableRow(null);\r\n      setActiveFeatures({\r\n        ...activeFeatures,\r\n        [feature]: {\r\n          ...activeFeatures[feature],\r\n          isDropdownVisible: true,\r\n        },\r\n      });\r\n      incrementZindex(secondaryAreaZindexRef, feature);\r\n    } else if (feature === featuresEnum.ROTATION_INFO) {\r\n      setSchedulingTableSelectedRows((prevState) =>\r\n        prevState.length > 0 ? [prevState.pop()] : [],\r\n      );\r\n      setLeftClickedSchTableRow(null);\r\n      setActiveFeatures({\r\n        ...activeFeatures,\r\n        [feature]: !activeFeatures[feature],\r\n      });\r\n      incrementZindex(secondaryAreaZindexRef, feature);\r\n    } else if (feature === featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS) {\r\n      setSchedulingTableSelectedRows((prevState) =>\r\n        prevState.length > 0 ? [prevState.pop()] : [],\r\n      );\r\n      setLeftClickedSchTableRow(null);\r\n      setActiveFeatures({\r\n        ...activeFeatures,\r\n        [featuresEnum.INSERT]: false,\r\n        [featuresEnum.CHANGE_PROGRAM]: false,\r\n        [featuresEnum.MANAGE_SEGMENT]: false,\r\n        [featuresEnum.ROTATION_INFO]: false,\r\n        [feature]: !activeFeatures[feature],\r\n      });\r\n      incrementZindex(secondaryAreaZindexRef, feature);\r\n    } else if (feature === featuresEnum.CHANGE_PROGRAM) {\r\n      setSchedulingTableSelectedRows([]);\r\n      setLeftClickedSchTableRow(null);\r\n      setActiveFeatures({\r\n        ...activeFeatures,\r\n        [featuresEnum.INSERT]: false,\r\n        [featuresEnum.SUMMARY]: false,\r\n        [featuresEnum.RULE_CHECK]: false,\r\n        [featuresEnum.ROTATION_INFO]: false,\r\n        [featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS]: false,\r\n        [featuresEnum.MANAGE_SEGMENT]: false,\r\n        [featuresEnum.HOURWISE_INVENTORY]: false,\r\n        [featuresEnum.DURATION]: false,\r\n        [feature]: !activeFeatures[feature],\r\n      });\r\n    } else if (feature === featuresEnum.MANAGE_SEGMENT) {\r\n      setSchedulingTableSelectedRows([]);\r\n      setLeftClickedSchTableRow(null);\r\n      setActiveFeatures({\r\n        ...activeFeatures,\r\n        [featuresEnum.INSERT]: false,\r\n        [featuresEnum.SUMMARY]: false,\r\n        [featuresEnum.RULE_CHECK]: false,\r\n        [featuresEnum.ROTATION_INFO]: false,\r\n        [featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS]: false,\r\n        [featuresEnum.CHANGE_PROGRAM]: false,\r\n        [featuresEnum.HOURWISE_INVENTORY]: false,\r\n        [featuresEnum.DURATION]: false,\r\n        [feature]: !activeFeatures[feature],\r\n      });\r\n    } else if (feature === featuresEnum.HOURWISE_INVENTORY) {\r\n      setSchedulingTableSelectedRows([]);\r\n      setLeftClickedSchTableRow(null);\r\n      setActiveFeatures({\r\n        ...activeFeatures,\r\n        [feature]: !activeFeatures[feature],\r\n      });\r\n      incrementZindex(secondaryAreaZindexRef, feature);\r\n    } else if (feature === featuresEnum.DURATION) {\r\n      setSchedulingTableSelectedRows([]);\r\n      setLeftClickedSchTableRow(null);\r\n      setActiveFeatures({\r\n        ...activeFeatures,\r\n        [feature]: !activeFeatures[feature],\r\n      });\r\n      incrementZindex(secondaryAreaZindexRef, feature);\r\n    } else {\r\n      const featureValue = !activeFeatures[feature];\r\n      setActiveFeatures({\r\n        ...activeFeatures,\r\n        [feature]: featureValue,\r\n      });\r\n      if (feature === featuresEnum.MAXIMIZE) {\r\n        handleMaximize(featureValue);\r\n      }\r\n    }\r\n    setUpdateSchedulerStateInRedux(true);\r\n    maintainScrolledOffsetOfTables();\r\n  } catch (error) {\r\n    openNotification('danger', 'Something went wrong');\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst handleMaximize = (isMaximize) => {\r\n  try {\r\n    if (isMaximize) {\r\n      if (document.documentElement.requestFullscreen)\r\n        document.documentElement.requestFullscreen();\r\n      else if (document.documentElement.mozRequestFullScreen)\r\n        document.documentElement.mozRequestFullScreen();\r\n      else if (document.documentElement.webkitRequestFullscreen)\r\n        document.documentElement.webkitRequestFullscreen();\r\n      else if (document.documentElement.msRequestFullscreen)\r\n        document.documentElement.msRequestFullscreen();\r\n    } else {\r\n      if (document.exitFullscreen) document.exitFullscreen();\r\n      else if (document.mozCancelFullScreen) document.mozCancelFullScreen();\r\n      else if (document.webkitExitFullscreen) document.webkitExitFullscreen();\r\n      else if (document.msExitFullscreen) document.msExitFullscreen();\r\n    }\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst handleExport = (page, columns, tableData) => {\r\n  try {\r\n    let exportFileName = '';\r\n    if (page === pagesEnum.PROMO) {\r\n      exportFileName = 'Promo_Schedule';\r\n    } else if (page === pagesEnum.SONG) {\r\n      exportFileName = 'Song_Schedule';\r\n    } else if (page === pagesEnum.COMMERCIAL) {\r\n      exportFileName = 'Commercial_Schedule';\r\n    } else if (page === pagesEnum.NTC) {\r\n      exportFileName = 'NTC_Schedule';\r\n    } else if (page === pagesEnum.FINAL_LOG) {\r\n      exportFileName = 'Final_Log';\r\n    }\r\n    ExportxlswithColor(\r\n      false,\r\n      false,\r\n      0,\r\n      0,\r\n      true,\r\n      tableData,\r\n      exportFileName,\r\n      columns,\r\n      true,\r\n    );\r\n  } catch (error) {\r\n    openNotification('danger', 'Something went wrong while exporting');\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst handleFormattedExport = (date, tableData) => {\r\n  try {\r\n    let exportFileName = 'Final_Log_Formatted_Export';\r\n    let newTableData = [];\r\n    tableData.forEach((row) => {\r\n      let newRow = {\r\n        ...row,\r\n        Date: format(date, 'dd-MMM-yyyy'),\r\n      };\r\n      FORMATTED_EXPORT_COLUMNS.forEach((column) => {\r\n        if (!(column.accessorKey in newRow)) {\r\n          newRow[column.accessorKey] = '';\r\n        }\r\n      });\r\n      newTableData.push(newRow);\r\n    });\r\n    ExportxlswithColor(\r\n      false,\r\n      false,\r\n      0,\r\n      0,\r\n      true,\r\n      newTableData,\r\n      exportFileName,\r\n      FORMATTED_EXPORT_COLUMNS,\r\n      true,\r\n    );\r\n  } catch (error) {\r\n    openNotification('danger', 'Something went wrong while exporting');\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst getDataToPostForPromoSchedule = (schedulingTableData, channel, date) => {\r\n  // Helper function to process scheduling data\r\n  console.log(schedulingTableData);\r\n\r\n  const processEventData = (data) => {\r\n    return data.reduce((result, event, index, array) => {\r\n      if (event.F_C_S_P === 'PR') {\r\n        // Clone the current event to avoid direct mutation\r\n        const updatedEvent = { ...event };\r\n\r\n        // Find the nearest 'CT' event above the current one\r\n        const nearestCT = array\r\n          .slice(0, index)\r\n          .reverse()\r\n          .find((item) => item.F_C_S_P === 'CT');\r\n\r\n        // If found, assign the 'FPC_Time' from the nearest 'CT' event\r\n        if (nearestCT) {\r\n          updatedEvent.FPC_Time = nearestCT.FPC_Time;\r\n        }\r\n        result.push(updatedEvent);\r\n      }\r\n      return result;\r\n    }, []); // Start with an empty array for results\r\n  };\r\n\r\n  try {\r\n    // Process the data\r\n    const promoRows = processEventData(schedulingTableData)\r\n      .map((item, index) => ({ position: index + 1, ...item }))\r\n      .filter((item) => item.F_C_S_P === rowDataTypesEnum.PROMO);\r\n\r\n    // Transform the processed data into the desired format\r\n    return promoRows.map((row) => ({\r\n      LocationCode: channel.LocationCode,\r\n      ChannelCode: channel.ChannelCode,\r\n      TelecastDate: convertDateFormatyyyyMMdd(date),\r\n      NewTelecastDate: convertDateFormatyyyyMMdd(date),\r\n      TelecastTime: row.Start_Time,\r\n      ContentCode: row.ContentCode,\r\n      BreakNumber: Number(row.BreakNumber),\r\n      SeasonNo: row.SeasonNo,\r\n      EpisodeNo: row.Ep_No,\r\n      Position: row.position,\r\n      ActualTelecastTime: row.FPC_Time + ':00:00',\r\n      DayOfWeek: 0,\r\n      NewDayOfWeek: 0,\r\n      FPC_ID: row.FPC_ID,\r\n      IsActive: 1,\r\n      PromoTypeCode: Number(row.PromoTypeCode),\r\n      PromoCode: row.PromoCode,\r\n    }));\r\n  } catch (error) {\r\n    console.error('Error processing promo schedule data:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getDataToPostForSongSchedule = (schedulingTableData, channel, date) => {\r\n  const processEventData = (data) => {\r\n    return data.reduce((result, event, index, array) => {\r\n      if (event.F_C_S_P === 'SG') {\r\n        // Clone the current event to avoid direct mutation\r\n        const updatedEvent = { ...event };\r\n\r\n        // Find the nearest 'CT' event above the current one\r\n        const nearestCT = array\r\n          .slice(0, index)\r\n          .reverse()\r\n          .find((item) => item.F_C_S_P === 'CT');\r\n\r\n        // If found, assign the 'FPC_Time' from the nearest 'CT' event\r\n        if (nearestCT) {\r\n          updatedEvent.FPC_Time = nearestCT.FPC_Time;\r\n        }\r\n        result.push(updatedEvent);\r\n      }\r\n      return result;\r\n    }, []); // Start with an empty array for results\r\n  };\r\n\r\n  try {\r\n    const songRows = processEventData(schedulingTableData)\r\n      .map((item, index) => ({ position: index + 1, ...item }))\r\n      .filter((item) => item.F_C_S_P === rowDataTypesEnum.SONG);\r\n    return songRows.map((row) => ({\r\n      LocationCode: channel.LocationCode,\r\n      ChannelCode: channel.ChannelCode,\r\n      TelecastDate: convertDateFormatyyyyMMdd(date),\r\n      NewTelecastDate: convertDateFormatyyyyMMdd(date),\r\n      TelecastTime: row.Start_Time,\r\n      ContentCode: row.ContentCode,\r\n      BreakNumber: Number(row.BreakNumber),\r\n      SeasonNo: row.SeasonNo,\r\n      EpisodeNo: row.Ep_No,\r\n      Position: row.position,\r\n      ActualTelecastTime: row.FPC_Time + ':00:00',\r\n      DayOfWeek: 0,\r\n      NewDayOfWeek: 0,\r\n      FPC_ID: row.FPC_ID,\r\n      IsActive: 1,\r\n      SongTypeCode: Number(row.SongTypeCode),\r\n      SongCode: row.SongCode,\r\n      SongCategoryCode: Number(row.SongCategoryCode),\r\n    }));\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getDataToPostForCommercialSchedule = (schedulingTableData) => {\r\n  try {\r\n    return schedulingTableData\r\n      .filter((row) => row.F_C_S_P === rowDataTypesEnum.COMMERCIAL)\r\n      .map((row, index) => ({\r\n        Id: row.BookingDetailID,\r\n        BreakNumber: row.BreakNumber != null ? row.BreakNumber : 0,\r\n        ContentCode: row.ContentCode,\r\n        logged: 1,\r\n        BookingStatus: 'B',\r\n        SpotPositionNumber: index + 1,\r\n        ScheduleTime: row.ScheduleTime,\r\n      }));\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getDataToPostForNTCSchedule = (schedulingTableData, channel, date) => {\r\n  try {\r\n    return schedulingTableData\r\n      .filter((row) => row.F_C_S_P === rowDataTypesEnum.NTC)\r\n      .map((row, index) => ({\r\n        Position: index + 1,\r\n        LocationCode: channel.LocationCode,\r\n        ChannelCode: channel.ChannelCode,\r\n        TelecastDate: convertDateFormatyyyyMMdd(date),\r\n        NewTelecastDate: convertDateFormatyyyyMMdd(date),\r\n        TelecastTime: row.Start_Time,\r\n        NTCCode: row.NTCCode,\r\n        ContentCode: row.ContentCode,\r\n        BreakNumber: row.BreakNumber != null ? row.BreakNumber : 0,\r\n        SeasonNo: row.SeasonNo,\r\n        EpisodeNo: row.Ep_No,\r\n        NTCTypeCode: Number(row.NTCTypeCode),\r\n        ActualTelecastTime: row.Start_Time,\r\n        NTCDuration: row.NTCDuration,\r\n        DayOfWeek: 0,\r\n        NewDayOfWeek: 0,\r\n        FPC_ID: row.FPC_ID,\r\n        Sec_ID: 0,\r\n        NTCLayer: row.NTCLayer,\r\n        IsActive: 1,\r\n        OffsetStartTime: row.OffsetStartTime,\r\n        DefaultGAP: row.DefaultGAP,\r\n        NTCGroupCode: row.NTCGroupCode,\r\n      }));\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getDataToPostForFinalLogSchedule = (\r\n  schedulingTableData,\r\n  channel,\r\n  date,\r\n) => {\r\n  try {\r\n    return schedulingTableData.slice(1).map((row, index) => {\r\n      let newRow = {\r\n        ChannelCode: channel.ChannelCode,\r\n        LocationCode: channel.LocationCode,\r\n        TelecastDate: convertDateFormatyyyyMMdd(date),\r\n        NewTelecastDate: convertDateFormatyyyyMMdd(date),\r\n        FPCTime: row.FPC_Time,\r\n        FPC_TimeTo: row.FPC_TimeTo,\r\n        SequenceNo: row.FPC_ID,\r\n        RowNumber: index,\r\n        TransmissionTime: row.Tel_Time,\r\n        GMTTime: ' ',\r\n        EventCode: row.ContentCode,\r\n        EventCaption: row.Event_Name,\r\n        HouseID: row.House_ID || row.HouseID,\r\n        VideoID: row.Video_ID || row.HouseID,\r\n        TapeID: row.TapeID || row.HouseID,\r\n        TCIN: row.TC_IN,\r\n        TCOUT: row.TC_Out,\r\n        EventDuration: row.Duration,\r\n        EventType: row.F_C_S_P,\r\n        SeasonNo: row.SeasonNo,\r\n        EpisodeNo: row.EpisodeNo,\r\n        PartNumber: 0,\r\n        BreakNumber: row.BreakNumber,\r\n        BookingNumber: row.BookingNumber,\r\n        BookingDetailCode: row.BookingDetailCode,\r\n        BookingDetailID: row.BookingDetailID,\r\n        BookingSeqNo: row.BookingSeqNo,\r\n        DealNumber: row.DealNo,\r\n        DealLineItemNo: row.DealLineItemNo,\r\n        TimeBandCode: row.TimeBandCode,\r\n        PrimaryID: 0,\r\n        TxTimeinSec: row.TxTimeinSec,\r\n        IsActive: 1,\r\n        NtcTypeName: row.NtcTypeName,\r\n        NTCTypeName: row.NtcTypeName,\r\n      };\r\n      if (channel.label === CLIENT.USA_Forbes) {\r\n        newRow.Description = row.Description;\r\n      }\r\n      return newRow;\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst updateDropBox = async (droppedSpots, token) => {\r\n  try {\r\n    if (\r\n      !Array.isArray(droppedSpots) ||\r\n      (Array.isArray(droppedSpots) && droppedSpots.length === 0)\r\n    )\r\n      return;\r\n    const data = [...droppedSpots]\r\n      .splice(1)\r\n      .map((row) => ({ Id: row.BookingDetailID }));\r\n    await apiUpdateSpotStatus(data, 'E', token);\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst saveSchedule = async (\r\n  dataToPost,\r\n  token,\r\n  page,\r\n  isAutoSave,\r\n  droppedSpots,\r\n) => {\r\n  try {\r\n    let response;\r\n    if (page === pagesEnum.PROMO) {\r\n      response = await Postpromoscheduling(dataToPost, token);\r\n    } else if (page === pagesEnum.SONG) {\r\n      response = await PostSongscheduling(dataToPost, token);\r\n    } else if (page === pagesEnum.COMMERCIAL) {\r\n      response = await PutCommercialSave(dataToPost, token);\r\n      await updateDropBox(droppedSpots, token);\r\n    } else if (page === pagesEnum.NTC) {\r\n      response = await PostNTCScheduling(dataToPost, token);\r\n      await updateDropBox(droppedSpots, token);\r\n    } else if (page === pagesEnum.FINAL_LOG) {\r\n      response = await Posttransmissionlog(dataToPost, token);\r\n      await updateDropBox(droppedSpots, token);\r\n    }\r\n    if (response.status === 200) {\r\n      isAutoSave\r\n        ? openNotification('success', 'Auto saved schedule successfully')\r\n        : openNotification('success', 'Schedule saved successfully');\r\n    } else if (response === 204) {\r\n      isAutoSave\r\n        ? openNotification('success', 'Auto saved schedule successfully')\r\n        : openNotification('success', 'Schedule already saved');\r\n    } else {\r\n      openNotification(\r\n        'danger',\r\n        `Something went wrong while ${\r\n          isAutoSave ? 'auto ' : ''\r\n        }saving schedule`,\r\n      );\r\n    }\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst handleSaveScheduleOnlyForbes = async ({\r\n  filteredData,\r\n  setShowLoader,\r\n  dispatch,\r\n  unsavedWork,\r\n  channel,\r\n  date,\r\n}) => {\r\n  setShowLoader(true);\r\n\r\n  try {\r\n    // Step 1: Run apiPosttransmissionlogaddaudit\r\n    let postApiResponse;\r\n    try {\r\n      postApiResponse = await apiPosttransmissionlogaddaudit(filteredData);\r\n      if (postApiResponse.status !== 200) {\r\n        throw new Error('Post API failed');\r\n      }\r\n    } catch (error) {\r\n      openNotification('danger', 'Something went wrong while saving schedule');\r\n      throw error; // Stop further execution\r\n    }\r\n\r\n    // Step 2: Run apideletedataPosttransmissionlogaddaudit\r\n    let deleteApiResponse;\r\n    try {\r\n      deleteApiResponse = await apideletedataPosttransmissionlogaddaudit(\r\n        channel,\r\n        convertDateFormatyyyyMMdd(date),\r\n      );\r\n      if (deleteApiResponse.status !== 200) {\r\n        throw new Error('Delete API failed');\r\n      }\r\n    } catch (error) {\r\n      openNotification('danger', 'Something went wrong while saving schedule');\r\n      throw error; // Stop further execution\r\n    }\r\n\r\n    // Step 3: Run apiPosttransmissionloginsertdata\r\n    let insertApiResponse;\r\n    try {\r\n      insertApiResponse = await apiPosttransmissionloginsertdata(filteredData);\r\n      if (insertApiResponse.status !== 200) {\r\n        throw new Error('Insert API failed');\r\n      }\r\n    } catch (error) {\r\n      openNotification('danger', 'Something went wrong while saving schedule');\r\n      throw error; // Stop further execution\r\n    }\r\n\r\n    // Step 4: Run apiPUTtransmissionlogupdatedata\r\n    let putApiResponse;\r\n    try {\r\n      putApiResponse = await apiPUTtransmissionlogupdatedata(filteredData);\r\n      if (putApiResponse.status !== 200) {\r\n        throw new Error('Put API failed');\r\n      }\r\n    } catch (error) {\r\n      openNotification('danger', 'Something went wrong while saving schedule');\r\n      throw error; // Stop further execution\r\n    }\r\n\r\n    // If all steps succeed\r\n    openNotification('success', 'Schedule saved successfully');\r\n\r\n    // Update unsaved work\r\n    let updatedUnsavedWork = { ...unsavedWork[pagesEnum.FINAL_LOG] };\r\n    delete updatedUnsavedWork[\r\n      convertDateFormatyyyyMMdd(filteredData[0].TelecastDate)\r\n    ];\r\n    dispatch(\r\n      setUnsavedWork({\r\n        ...unsavedWork,\r\n        [pagesEnum.FINAL_LOG]: {\r\n          ...updatedUnsavedWork,\r\n        },\r\n      }),\r\n    );\r\n  } catch (error) {\r\n    console.error('Error occurred while saving schedule:', error);\r\n    // Error notifications are already handled in individual steps\r\n  } finally {\r\n    setShowLoader(false);\r\n  }\r\n};\r\n\r\nconst handleSaveSchedule = async ({\r\n  setShowLoader,\r\n  page,\r\n  schedulingTableData,\r\n  channel,\r\n  date,\r\n  token,\r\n  unsavedWork,\r\n  dispatch,\r\n  isAutoSave,\r\n  droppedSpots,\r\n}) => {\r\n  try {\r\n    if (!isAutoSave) {\r\n      setShowLoader(true);\r\n    }\r\n    let dataToPost = [];\r\n    if (page === pagesEnum.PROMO) {\r\n      dataToPost = getDataToPostForPromoSchedule(\r\n        schedulingTableData,\r\n        channel,\r\n        date,\r\n      );\r\n    } else if (page === pagesEnum.SONG) {\r\n      dataToPost = getDataToPostForSongSchedule(\r\n        schedulingTableData,\r\n        channel,\r\n        date,\r\n      );\r\n    } else if (page === pagesEnum.COMMERCIAL) {\r\n      dataToPost = getDataToPostForCommercialSchedule(schedulingTableData);\r\n    } else if (page === pagesEnum.NTC) {\r\n      dataToPost = getDataToPostForNTCSchedule(\r\n        schedulingTableData,\r\n        channel,\r\n        date,\r\n      );\r\n    } else if (page === pagesEnum.FINAL_LOG) {\r\n      dataToPost = getDataToPostForFinalLogSchedule(\r\n        schedulingTableData,\r\n        channel,\r\n        date,\r\n      );\r\n    }\r\n    console.log('Just For Incase', dataToPost);\r\n\r\n    await saveSchedule(dataToPost, token, page, isAutoSave, droppedSpots);\r\n    /* REMOVE UNSAVED WORK FROM REDUX FOR SAVED DATE */\r\n    let updatedUnsavedWork = { ...unsavedWork[page] };\r\n    delete updatedUnsavedWork[convertDateFormatyyyyMMdd(date)];\r\n    dispatch(\r\n      setUnsavedWork({\r\n        ...unsavedWork,\r\n        [page]: {\r\n          ...updatedUnsavedWork,\r\n        },\r\n      }),\r\n    );\r\n    setShowLoader(false);\r\n  } catch (error) {\r\n    openNotification(\r\n      'danger',\r\n      `Something went wrong while ${isAutoSave ? 'auto ' : ''}saving schedule`,\r\n    );\r\n    console.error(error);\r\n    setShowLoader(false);\r\n  }\r\n};\r\n\r\nconst exportPlayout = async (date, channel, tableData, channelSettings) => {\r\n  try {\r\n    const telecastDate = convertDateToDMY(date);\r\n    const exportPlayoutFileName = `${channel.label}${telecastDate.replaceAll(\r\n      '-',\r\n      '',\r\n    )}`;\r\n    const playoutExportType = getPlayoutExportFormat(channel);\r\n    if (playoutExportType === playoutExportFormatEnum.PLY) {\r\n      exportPlayoutForPly(telecastDate, tableData, exportPlayoutFileName);\r\n    } else if (playoutExportType === playoutExportFormatEnum.OSC) {\r\n      exportPlayoutForOsc(date, tableData, channel);\r\n    } else if (playoutExportType === playoutExportFormatEnum.CSV) {\r\n      await exportPlayoutForCSV(channel, convertDateFormatyyyyMMdd(date));\r\n    } else if (playoutExportType === playoutExportFormatEnum.FORMAT_2) {\r\n      exportFormat2(tableData, date, channel);\r\n    } else if (playoutExportType === playoutExportFormatEnum.USA_FOOD_FOOD2) {\r\n      const tableDataForPlayout = tableData.filter(\r\n        (row) => row.F_C_S_P !== rowDataTypesEnum.CONTENT_TERMINATION,\r\n      );\r\n      exportPlayoutForUSAFoodFood2(tableDataForPlayout, date);\r\n    } else if (playoutExportType === playoutExportFormatEnum.XML) {\r\n      exportPlayoutForXML(date, tableData, channelSettings);\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n    openNotification('danger', 'Something went wrong while exporting playout');\r\n  }\r\n};\r\n\r\nconst getPlayoutExportFormat = (channel) => {\r\n  let playoutExportFormat = PLAYOUT_EXPORT_FORMAT[channel.label];\r\n  if (!playoutExportFormat)\r\n    playoutExportFormat = playoutExportFormatEnum.FORMAT_2;\r\n  return playoutExportFormat;\r\n};\r\n\r\nconst isFeatureHidden = ({ channel }) => {\r\n  try {\r\n    if (channel.ChannelName === 'MASTIII' && channel.ChannelCode === 20) {\r\n      return true;\r\n    }\r\n    return false;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst incrementZindex = (secondaryAreaZindexRef, feature) => {\r\n  let maxZindex = 0;\r\n  Object.keys(secondaryAreaZindexRef.current).forEach((key) => {\r\n    if (secondaryAreaZindexRef.current[key] > maxZindex) {\r\n      maxZindex = secondaryAreaZindexRef.current[key];\r\n    }\r\n  });\r\n  secondaryAreaZindexRef.current = {\r\n    ...secondaryAreaZindexRef.current,\r\n    [feature]: maxZindex + 1,\r\n  };\r\n};\r\n\r\nexport {\r\n  getClassNames,\r\n  handleFeatureClick,\r\n  handleExport,\r\n  handleFormattedExport,\r\n  getDataToPostForPromoSchedule,\r\n  getDataToPostForSongSchedule,\r\n  getDataToPostForCommercialSchedule,\r\n  getDataToPostForFinalLogSchedule,\r\n  saveSchedule,\r\n  handleSaveSchedule,\r\n  handleSaveScheduleOnlyForbes,\r\n  exportPlayout,\r\n  isFeatureHidden,\r\n  incrementZindex,\r\n};\r\n","import { apiGetExportPlayOut } from 'services/SchedulingService';\r\nimport { CLIENT } from 'views/Controls/clientListEnum';\r\nimport { ExportToCSV, ExportToCSVCustomName } from 'views/Controls/ExportToCSV';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\n\r\nconst exportPlayoutForCSV = async (channel, telecastDate) => {\r\n  try {\r\n    const response = await apiGetExportPlayOut(\r\n      {\r\n        LocationCode: channel.LocationCode,\r\n        ChannelCode: channel.ChannelCode,\r\n      },\r\n      telecastDate,\r\n    );\r\n    if (response.status === 200) {\r\n      if (channel.label === CLIENT.ANI_PLUS) {\r\n        const date = new Date(telecastDate);\r\n\r\n        const formatted = date.toISOString().slice(2, 10).replace(/-/g, '');\r\n\r\n        ExportToCSVCustomName(response.data, `Aniplus_bats_${formatted}`);\r\n      }\r\n      else {\r\n        ExportToCSV(response.data);\r\n      }\r\n\r\n    }\r\n    else openNotification('danger', 'Something went wrong while exporting CSV');\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { exportPlayoutForCSV };\r\n","import { convertDateToDMY } from 'components/validators';\r\nimport { ExportxlswithColor } from 'views/Controls/ExportxlswithColor';\r\nimport { rowDataTypesEnum } from 'views/Scheduling/Scheduler/enum';\r\n\r\nconst getEventTitleForFCSP = (fcsp) => {\r\n  return fcsp === rowDataTypesEnum.PROMO\r\n    ? 'PROMO'\r\n    : fcsp === rowDataTypesEnum.COMMERCIAL\r\n    ? 'COMMERCIAL'\r\n    : fcsp === rowDataTypesEnum.SONG\r\n    ? 'SONG'\r\n    : fcsp === rowDataTypesEnum.SEGMENT\r\n    ? 'PROGRAM'\r\n    : fcsp === rowDataTypesEnum.NTC\r\n    ? 'NTC'\r\n    : fcsp === rowDataTypesEnum.CONTENT_TERMINATION\r\n    ? 'CONTENT_TERMINATION'\r\n    : '';\r\n};\r\n\r\nconst exportPlayoutForUSAFoodFood2 = (tableData, date) => {\r\n  try {\r\n    const tableDataForExport = tableData.map((row) => ({\r\n      TelecastDate: date,\r\n      Start_Time: row.Start_Time,\r\n      Video_ID: row.Video_ID,\r\n      EventTitle: getEventTitleForFCSP(row.F_C_S_P),\r\n      Duration: row.Duration,\r\n      SOM: '00:00:00:00',\r\n      StartType: 'SEQ',\r\n      EndType: 'NORMAL',\r\n      LOGO: 'LOGO OFF',\r\n      Empty: 'EMPTY',\r\n      Type: 'MEDIA',\r\n      Event_Name: row.Event_Name,\r\n    }));\r\n    const columns = [\r\n      {\r\n        header: 'DATE',\r\n        accessorKey: 'TelecastDate',\r\n      },\r\n      {\r\n        header: 'Start Time',\r\n        accessorKey: 'Start_Time',\r\n      },\r\n      {\r\n        header: 'Media ID',\r\n        accessorKey: 'Video_ID',\r\n      },\r\n      {\r\n        header: 'Event Title',\r\n        accessorKey: 'EventTitle',\r\n      },\r\n      {\r\n        header: 'Duration',\r\n        accessorKey: 'Duration',\r\n      },\r\n      {\r\n        header: 'SOM',\r\n        accessorKey: 'SOM',\r\n      },\r\n      {\r\n        header: 'StartType',\r\n        accessorKey: 'StartType',\r\n      },\r\n      {\r\n        header: 'EndType',\r\n        accessorKey: 'EndType',\r\n      },\r\n      {\r\n        header: 'LOGO',\r\n        accessorKey: 'LOGO',\r\n      },\r\n      {\r\n        header: 'Empty',\r\n        accessorKey: 'Empty',\r\n      },\r\n      {\r\n        header: 'Type',\r\n        accessorKey: 'Type',\r\n      },\r\n      {\r\n        header: 'Caption',\r\n        accessorKey: 'Event_Name',\r\n      },\r\n    ];\r\n    ExportxlswithColor(\r\n      true,\r\n      true,\r\n      1,\r\n      3,\r\n      false,\r\n      tableDataForExport,\r\n      `FOODFOOD-${convertDateToDMY(date)}-MOD1`,\r\n      columns,\r\n      false,\r\n    );\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { exportPlayoutForUSAFoodFood2 };\r\n","/* COMMON FUNCTIONS USED BY SEVERAL COMPONENTS IN SCHEDULING AREA */\r\nimport { featuresEnum, pagesEnum, rowDataTypesEnum } from '../../../enum';\r\nimport {\r\n  isDateBackDate,\r\n  openNotification,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport {\r\n  IS_BACKDATED_SCHEDULE_ALLOWED_TO_EDIT,\r\n  ROW_ID_KEY,\r\n  TABLE_NAMES,\r\n} from '../../../constants';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { apiGETColumnSetting } from 'services/ControlsService';\r\nimport { apiGetTrafficDayCloseByDateRange } from 'services/SalesAdminService';\r\nimport dayjs from 'dayjs';\r\nimport { CLIENT } from 'views/Controls/clientListEnum';\r\n\r\nconst getDummyRow = (row) => {\r\n  try {\r\n    const dummyRow = {};\r\n    Object.keys(row).forEach((key) => (dummyRow[key] = ''));\r\n    return dummyRow;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getRowId = (tableType, row) => {\r\n  try {\r\n    return `${tableType}-row-id-${row[ROW_ID_KEY]}-${uuid()}`;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getColumnsState = async (page, tableData, token, channel) => {\r\n  try {\r\n    const { visibleColumns, removedColumns } = await getColumnSettingsFromAPI(\r\n      TABLE_NAMES.SCHEDULING_TABLE_NAMES[page],\r\n      tableData,\r\n      token,\r\n      channel,\r\n    );\r\n    const columnsState = {\r\n      originalColumns: getAllColumnsOfTable(tableData, channel),\r\n      visibleColumns,\r\n      removedColumns,\r\n    };\r\n    return columnsState;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getColumnSettingsFromAPI = async (\r\n  tableName,\r\n  tableData,\r\n  token,\r\n  channel,\r\n  ignoredColumns = [],\r\n) => {\r\n  try {\r\n    let visibleColumns = [],\r\n      removedColumns = [];\r\n    if (tableData.length > 0) {\r\n      const response = await apiGETColumnSetting(tableName, token);\r\n      if (response.status === 200) {\r\n        if (response.data.length === 0) {\r\n          visibleColumns = getAllColumnsOfTable(\r\n            tableData,\r\n            channel,\r\n            ignoredColumns,\r\n          );\r\n        } else {\r\n          const sortedColumnSetting = response.data.sort(\r\n            (a, b) => a.SequenceNo - b.SequenceNo,\r\n          );\r\n          sortedColumnSetting.forEach((columnSetting) => {\r\n            if (columnSetting.IsVisible) {\r\n              visibleColumns.push({\r\n                header: columnSetting.Header,\r\n                accessorKey: columnSetting.ColumnName,\r\n                style: { width: columnSetting.ColumnWidht },\r\n                id: columnSetting.ColumnName,\r\n              });\r\n            } else {\r\n              removedColumns.push({\r\n                header: columnSetting.Header,\r\n                accessorKey: columnSetting.ColumnName,\r\n                style: { width: columnSetting.ColumnWidht },\r\n                id: columnSetting.ColumnName,\r\n              });\r\n            }\r\n          });\r\n          /* Attach all columns that are missing in response to removed columns list */\r\n          const allColumnsName = getAllColumnsOfTable(\r\n            tableData,\r\n            channel,\r\n            ignoredColumns,\r\n          ).map((column) => column.accessorKey);\r\n          const sortedColumnsName = sortedColumnSetting.map(\r\n            (columnSetting) => columnSetting.ColumnName,\r\n          );\r\n          const missingColumnsName = allColumnsName.filter(\r\n            (column) => !sortedColumnsName.includes(column),\r\n          );\r\n          missingColumnsName.forEach((columnName) => {\r\n            removedColumns.push({\r\n              header: columnName,\r\n              accessorKey: columnName,\r\n              style: { width: 12 },\r\n              id: columnName,\r\n            });\r\n          });\r\n        }\r\n      } else if (response.status === 204) {\r\n        visibleColumns = getAllColumnsOfTable(\r\n          tableData,\r\n          channel,\r\n          ignoredColumns,\r\n        );\r\n      } else {\r\n        openNotification(\r\n          'danger',\r\n          'Something went wrong while fetching saved column settings',\r\n        );\r\n        console.error(\r\n          `Something went wrong while fetching saved column settings. Server responded with status code: ${response.status}`,\r\n        );\r\n        visibleColumns = getAllColumnsOfTable(\r\n          tableData,\r\n          channel,\r\n          ignoredColumns,\r\n        );\r\n      }\r\n    }\r\n    return { visibleColumns, removedColumns };\r\n  } catch (error) {\r\n    openNotification(\r\n      'danger',\r\n      'Something went wrong while fetching saved column settings',\r\n    );\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getAllColumnsOfTable = (tableData, channel, ignoredColumns = []) => {\r\n  try {\r\n    let columns = [];\r\n    const newIgnoredColumns = [...ignoredColumns];\r\n    if (channel && channel.label !== CLIENT.USA_Forbes)\r\n      newIgnoredColumns.push('Description');\r\n    if (tableData.length > 0) {\r\n      const rowKeys = Object.keys(tableData[0]);\r\n      if (rowKeys) {\r\n        rowKeys.forEach((key) => {\r\n          if (\r\n            ![\r\n              ...newIgnoredColumns,\r\n              'rowId',\r\n              'rowIndex',\r\n              'Id',\r\n              'EventDefaultFrontColor',\r\n              'EventDefaultBackColor',\r\n              'isHidden',\r\n              'isFiltered',\r\n              'customCellColor',\r\n              'cellWarning',\r\n            ].includes(key)\r\n          ) {\r\n            columns.push({\r\n              header: key,\r\n              accessorKey: key,\r\n              style: { width: 12 },\r\n              id: key,\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n    return columns;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst isAnyRHSFeatureActive = (activeFeatures, page) => {\r\n  try {\r\n    return Object.keys(activeFeatures).filter(\r\n      (feature) =>\r\n        ((feature === featuresEnum.SUMMARY ||\r\n          feature === featuresEnum.ROTATION_INFO ||\r\n          feature === featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS ||\r\n          feature === featuresEnum.CHANGE_PROGRAM ||\r\n          feature === featuresEnum.MANAGE_SEGMENT ||\r\n          feature === featuresEnum.HOURWISE_INVENTORY ||\r\n          feature === featuresEnum.DURATION) &&\r\n          activeFeatures[feature]) ||\r\n        (feature === featuresEnum.RULE_CHECK &&\r\n          activeFeatures[feature].isActive) ||\r\n        (feature === featuresEnum.INSERT &&\r\n          ((page !== pagesEnum.FINAL_LOG &&\r\n            page !== pagesEnum.COMMERCIAL &&\r\n            page !== pagesEnum.NTC &&\r\n            activeFeatures[feature]) ||\r\n            ((page === pagesEnum.FINAL_LOG ||\r\n              page === pagesEnum.COMMERCIAL ||\r\n              page === pagesEnum.NTC) &&\r\n              activeFeatures[feature].isActive))),\r\n    )[0]\r\n      ? true\r\n      : false;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst handleFeatureClose = (setActiveFeatures, feature) => {\r\n  try {\r\n    setActiveFeatures((prevState) => ({\r\n      ...prevState,\r\n      [feature]: false,\r\n    }));\r\n  } catch (error) {\r\n    openNotification('danger', 'Something went wrong while closing window');\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst getProgramSchedule = (tableData, program) => {\r\n  try {\r\n    let programSchedule = [program];\r\n    for (let index = program.rowIndex + 1; index < tableData.length; index++) {\r\n      let row = tableData[index];\r\n      if (row.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION) break;\r\n      row = { ...tableData[index], isFiltered: true };\r\n      delete row.isHidden;\r\n      programSchedule.push(row);\r\n    }\r\n    return programSchedule;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst isTrafficDayOpenFn = async (date, channel, token) => {\r\n  try {\r\n    let result = false;\r\n    const dateInYYYYMMDD = dayjs(date).format('YYYY-MM-DD');\r\n    const response = await apiGetTrafficDayCloseByDateRange(\r\n      dateInYYYYMMDD,\r\n      dateInYYYYMMDD,\r\n      channel,\r\n      token,\r\n    );\r\n    if (response.status === 200) {\r\n      result = response.data.length === 1 && response.data[0].IsActive === 1;\r\n    } else if (response.status !== 204) {\r\n      openNotification(\r\n        'danger',\r\n        'Something went wrong while fetching traffic day close status',\r\n      );\r\n    }\r\n    return result;\r\n  } catch (error) {\r\n    console.error(error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst isScheduleAllowedToEditFn = async (date, channel, token) => {\r\n  try {\r\n    const result =\r\n      (isDateBackDate(date) &&\r\n        (await isTrafficDayOpenFn(date, channel, token))) ||\r\n      (isDateBackDate(date) && IS_BACKDATED_SCHEDULE_ALLOWED_TO_EDIT) ||\r\n      !isDateBackDate(date);\r\n    return result;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return false;\r\n  }\r\n};\r\n\r\nconst getDeletableRows = (rows) =>\r\n  rows.filter(\r\n    (row) =>\r\n      row.F_C_S_P !== rowDataTypesEnum.COMMERCIAL &&\r\n      !(row.F_C_S_P === rowDataTypesEnum.NTC && row.BookingDetailID),\r\n  );\r\n\r\nconst getContentSegmentsForContent = (tableData, contentIndex) => {\r\n  let contentSegments = [];\r\n  for (let index = contentIndex + 1; index < tableData.length; index++) {\r\n    let row = tableData[index];\r\n    if (!row || row.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION) break;\r\n    if (row.F_C_S_P === rowDataTypesEnum.SEGMENT) {\r\n      contentSegments.push(row);\r\n    }\r\n  }\r\n  return contentSegments;\r\n};\r\n\r\nconst getAllProgramsInTable = (tableData) => {\r\n  return tableData.filter(\r\n    (row) => row.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION,\r\n  );\r\n};\r\n\r\nexport {\r\n  getDummyRow,\r\n  getColumnsState,\r\n  getRowId,\r\n  getAllColumnsOfTable,\r\n  getColumnSettingsFromAPI,\r\n  isAnyRHSFeatureActive,\r\n  handleFeatureClose,\r\n  getProgramSchedule,\r\n  isScheduleAllowedToEditFn,\r\n  getDeletableRows,\r\n  isTrafficDayOpenFn,\r\n  getContentSegmentsForContent,\r\n  getAllProgramsInTable,\r\n};\r\n","import {\r\n  playoutExportFormatEnum,\r\n  featuresEnum,\r\n  operationTypesEnum,\r\n  pagesEnum,\r\n  tableFilterOptionsEnum,\r\n  rowDataTypesEnum,\r\n  secondaryTableTypesEnum,\r\n} from './enum';\r\nimport { RiBox3Line, RiDeleteBin6Line } from 'react-icons/ri';\r\nimport { getDeletableRows } from './components/SchedulingArea/utils/utils';\r\nimport { CLIENT } from 'views/Controls/clientListEnum';\r\nimport { LuPencil } from 'react-icons/lu';\r\nimport { getRowWithNTC } from './context/utils';\r\nimport { isRowNTCCompatible } from './components/SchedulingArea/components/DraggableTable/utils';\r\nimport { BsInfoLg } from 'react-icons/bs';\r\nimport { incrementZindex } from './components/SchedulingArea/components/Toolbar/utils/utils';\r\n\r\nconst PROMO_FEATURES = {\r\n  [featuresEnum.UNDO]: true,\r\n  [featuresEnum.REDO]: true,\r\n  [featuresEnum.MANAGE_COLUMNS]: true,\r\n  [featuresEnum.COPY]: true,\r\n  [featuresEnum.EXPORT]: true,\r\n  [featuresEnum.MAXIMIZE]: true,\r\n  [featuresEnum.FILTER]: true,\r\n  [featuresEnum.RESTORE_SAVED_WORK]: true,\r\n  [featuresEnum.ROTATION_INFO]: true,\r\n  [featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS]: true,\r\n  [featuresEnum.SUMMARY]: true,\r\n  [featuresEnum.HOURS]: true,\r\n  [featuresEnum.FPC_TIME]: true,\r\n  [featuresEnum.INSERT]: true,\r\n  [featuresEnum.HIDE_COMMERCIALS]: true,\r\n  [featuresEnum.SHOW_PROGRAM_BASE_TIME]: true,\r\n  [featuresEnum.AUTO_SHUFFLE]: true,\r\n  [featuresEnum.RULE_CHECK]: true,\r\n  [featuresEnum.DURATION]: true,\r\n  [featuresEnum.DAY_WISE_SAVE_AS]: true,\r\n  [featuresEnum.DELETE_EVENTS]: true,\r\n  [featuresEnum.IMPORT_PROMOS]: true,\r\n};\r\n\r\nconst SONG_FEATURES = {\r\n  [featuresEnum.UNDO]: true,\r\n  [featuresEnum.REDO]: true,\r\n  [featuresEnum.MANAGE_COLUMNS]: true,\r\n  [featuresEnum.COPY]: true,\r\n  [featuresEnum.EXPORT]: true,\r\n  [featuresEnum.MAXIMIZE]: true,\r\n  [featuresEnum.FILTER]: true,\r\n  [featuresEnum.RESTORE_SAVED_WORK]: true,\r\n  [featuresEnum.ROTATION_INFO]: true,\r\n  [featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS]: true,\r\n  [featuresEnum.SUMMARY]: true,\r\n  [featuresEnum.HOURS]: true,\r\n  [featuresEnum.FPC_TIME]: true,\r\n  [featuresEnum.INSERT]: true,\r\n  [featuresEnum.SHOW_PROGRAM_BASE_TIME]: true,\r\n  [featuresEnum.RULE_CHECK]: true,\r\n  [featuresEnum.DURATION]: true,\r\n  [featuresEnum.SAVE_SLOT]: true,\r\n  [featuresEnum.DELETE_EVENTS]: true,\r\n};\r\n\r\nconst COMMERCIAL_FEATURES = {\r\n  [featuresEnum.UNDO]: true,\r\n  [featuresEnum.REDO]: true,\r\n  [featuresEnum.MANAGE_COLUMNS]: true,\r\n  [featuresEnum.EXPORT]: true,\r\n  [featuresEnum.MAXIMIZE]: true,\r\n  [featuresEnum.FILTER]: true,\r\n  [featuresEnum.RESTORE_SAVED_WORK]: true,\r\n  [featuresEnum.ROTATION_INFO]: true,\r\n  [featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS]: true,\r\n  [featuresEnum.HOURWISE_INVENTORY]: true,\r\n  [featuresEnum.SUMMARY]: true,\r\n  [featuresEnum.HOURS]: true,\r\n  [featuresEnum.FPC_TIME]: true,\r\n  [featuresEnum.INSERT]: true,\r\n  [featuresEnum.SHOW_PROGRAM_BASE_TIME]: true,\r\n  [featuresEnum.RULE_CHECK]: true,\r\n  [featuresEnum.SMART_SHUFFLE]: true,\r\n  [featuresEnum.DURATION]: true,\r\n  [featuresEnum.CHANGE_CELL_COLOR]: true,\r\n  [featuresEnum.IMPORT_SEQUENECE]: true,\r\n  [featuresEnum.DELETE_EVENTS]: true,\r\n};\r\n\r\nconst NTC_FEATURES = {\r\n  [featuresEnum.UNDO]: true,\r\n  [featuresEnum.REDO]: true,\r\n  [featuresEnum.MANAGE_COLUMNS]: true,\r\n  [featuresEnum.COPY]: true,\r\n  [featuresEnum.EXPORT]: true,\r\n  [featuresEnum.MAXIMIZE]: true,\r\n  [featuresEnum.FILTER]: true,\r\n  [featuresEnum.RESTORE_SAVED_WORK]: true,\r\n  [featuresEnum.ROTATION_INFO]: true,\r\n  [featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS]: true,\r\n  [featuresEnum.SUMMARY]: true,\r\n  [featuresEnum.HOURS]: true,\r\n  [featuresEnum.FPC_TIME]: true,\r\n  [featuresEnum.INSERT]: true,\r\n  [featuresEnum.RULE_CHECK]: true,\r\n  [featuresEnum.DELETE_EVENTS]: true,\r\n  [featuresEnum.IMPORT_NTCS]: true,\r\n  [featuresEnum.INSERT_NTC_PATTERN]: true,\r\n};\r\n\r\nconst FINAL_LOG_FEATURES = {\r\n  [featuresEnum.UNDO]: true,\r\n  [featuresEnum.REDO]: true,\r\n  [featuresEnum.MANAGE_COLUMNS]: true,\r\n  [featuresEnum.COPY]: true,\r\n  [featuresEnum.GENERATE_LOG]: true,\r\n  [featuresEnum.EXPORT]: true,\r\n  [featuresEnum.MAXIMIZE]: true,\r\n  [featuresEnum.FILTER]: true,\r\n  [featuresEnum.SHOW_NTC]: true,\r\n  [featuresEnum.FINALIZE]: true,\r\n  [featuresEnum.RESTORE_SAVED_WORK]: true,\r\n  [featuresEnum.ROTATION_INFO]: true,\r\n  [featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS]: true,\r\n  [featuresEnum.HOURWISE_INVENTORY]: true,\r\n  [featuresEnum.SUMMARY]: true,\r\n  [featuresEnum.REFRESH_DURATION]: true,\r\n  [featuresEnum.HOURS]: true,\r\n  [featuresEnum.FPC_TIME]: true,\r\n  [featuresEnum.INSERT]: true,\r\n  [featuresEnum.PUSH_TO_PLAYOUT]: true,\r\n  [featuresEnum.PARTIAL_PLAYOUT_EXPORT]: true,\r\n  [featuresEnum.RULE_CHECK]: true,\r\n  [featuresEnum.FORMATTED_EXPORT]: true,\r\n  [featuresEnum.CHANGE_PROGRAM]: true,\r\n  [featuresEnum.MANAGE_SEGMENT]: true,\r\n  [featuresEnum.MANAGE_START_TIME]: true,\r\n  [featuresEnum.DURATION]: true,\r\n  [featuresEnum.CHANGE_CELL_COLOR]: true,\r\n  [featuresEnum.SHOW_SCTE]: true,\r\n  [featuresEnum.DELETE_EVENTS]: true,\r\n  [featuresEnum.IMPORT_PROMOS]: true,\r\n  [featuresEnum.INSERT_NTC_PATTERN]: true,\r\n};\r\n\r\nconst DEFAULT_PROMO_ACTIVE_FEATURES = {\r\n  [featuresEnum.INSERT]: {\r\n    isDropdownVisible: false,\r\n    isActive: true,\r\n    eventType: secondaryTableTypesEnum.PROMO,\r\n  },\r\n  [featuresEnum.SHOW_PROGRAM_BASE_TIME]: true,\r\n  [featuresEnum.HOURS]: true,\r\n};\r\n\r\nconst DEFAULT_SONG_ACTIVE_FEATURES = {\r\n  [featuresEnum.INSERT]: {\r\n    isDropdownVisible: false,\r\n    isActive: true,\r\n    eventType: secondaryTableTypesEnum.SONG,\r\n  },\r\n  [featuresEnum.SHOW_PROGRAM_BASE_TIME]: true,\r\n  [featuresEnum.HOURS]: true,\r\n};\r\n\r\nconst DEFAULT_COMMERCIAL_ACTIVE_FEATURES = {\r\n  [featuresEnum.SHOW_PROGRAM_BASE_TIME]: true,\r\n  [featuresEnum.HOURS]: true,\r\n};\r\n\r\nconst DEFAULT_NTC_ACTIVE_FEATURES = {\r\n  [featuresEnum.SHOW_PROGRAM_BASE_TIME]: true,\r\n  [featuresEnum.HOURS]: true,\r\n  [featuresEnum.SHOW_NTC]: true,\r\n};\r\n\r\nconst DEFAULT_FINAL_LOG_ACTIVE_FEATURES = {\r\n  [featuresEnum.HOURS]: true,\r\n  [featuresEnum.SHOW_NTC]: true,\r\n};\r\n\r\nconst ROW_ACTIONS = {\r\n  DELETE: {\r\n    id: 'delete',\r\n    icon: <RiDeleteBin6Line className=\"text-gray-200 text-[1rem]\" />,\r\n    actionHandler: ({\r\n      rows,\r\n      tableData,\r\n      executeOperation,\r\n      setSchedulingTableSelectedRows,\r\n      setIsDeleteMultipleRowsDialogOpen,\r\n    }) => {\r\n      let rowsToDelete = rows;\r\n      if (rows.length > 1) {\r\n        rowsToDelete = getDeletableRows(rows);\r\n      } else {\r\n        if (isRowNTCCompatible(rows[0])) {\r\n          rowsToDelete = getRowWithNTC(rows, tableData);\r\n          if (rowsToDelete.length > 1) {\r\n            setSchedulingTableSelectedRows(rowsToDelete);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n      handleDeleteRows({\r\n        rows: rowsToDelete,\r\n        executeOperation,\r\n        setIsDeleteMultipleRowsDialogOpen,\r\n      });\r\n    },\r\n    tooltip: 'Delete',\r\n  },\r\n  DROP_SPOTS: {\r\n    id: 'dropSpots',\r\n    icon: <RiBox3Line className=\"text-gray-200 text-[1rem]\" />,\r\n    actionHandler: ({\r\n      rows,\r\n      executeOperation,\r\n      setIsDropMultipleRowsDialogOpen,\r\n    }) => {\r\n      rows.length === 1\r\n        ? executeOperation({\r\n            operation: operationTypesEnum.DROP_ROW,\r\n            selectedRowsToDrop: rows,\r\n          })\r\n        : setIsDropMultipleRowsDialogOpen(true);\r\n    },\r\n    tooltip: 'Drop Spot',\r\n  },\r\n  ROTATION_INFO: {\r\n    id: 'rotationInfo',\r\n    icon: <BsInfoLg className=\"text-gray-200 text-[1rem]\" />,\r\n    tooltip: 'Rotation Info',\r\n    actionHandler: ({\r\n      rows,\r\n      setSchedulingTableSelectedRows,\r\n      activeFeatures,\r\n      setActiveFeatures,\r\n      maintainScrolledOffsetOfTables,\r\n      secondaryAreaZindexRef,\r\n    }) => {\r\n      setSchedulingTableSelectedRows(rows);\r\n      setActiveFeatures({\r\n        ...activeFeatures,\r\n        [featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS]: false,\r\n        [featuresEnum.ROTATION_INFO]:\r\n          !activeFeatures[featuresEnum.ROTATION_INFO],\r\n      });\r\n      incrementZindex(secondaryAreaZindexRef, featuresEnum.ROTATION_INFO);\r\n      maintainScrolledOffsetOfTables();\r\n    },\r\n  },\r\n  EDIT_ROW: {\r\n    id: 'editEvent',\r\n    icon: <LuPencil className=\"text-gray-200 text-[1rem]\" />,\r\n    tooltip: 'Edit Event',\r\n    actionHandler: ({ setIsEditingRowDialogOpen }) => {\r\n      setIsEditingRowDialogOpen(true);\r\n    },\r\n  },\r\n};\r\n\r\nconst PROMOS_TABLE_COLUMNS = [\r\n  {\r\n    header: 'Event Name',\r\n    accessorKey: 'Event_Name',\r\n    style: { width: '55%' },\r\n    id: 'Event_Name',\r\n  },\r\n  {\r\n    header: 'Duration',\r\n    accessorKey: 'Duration',\r\n    style: { width: '25%', align: 'center' },\r\n    id: 'Duration',\r\n  },\r\n  {\r\n    header: 'House ID',\r\n    accessorKey: 'HouseID',\r\n    style: { width: '30%', align: 'center' },\r\n    id: 'HouseID',\r\n  },\r\n];\r\n\r\nconst SONGS_TABLE_COLUMNS = [\r\n  {\r\n    header: 'Event Name',\r\n    accessorKey: 'Event_Name',\r\n    style: { width: '55%' },\r\n    id: 'Event_Name',\r\n  },\r\n  {\r\n    header: 'Duration',\r\n    accessorKey: 'Duration',\r\n    style: { width: '25%', align: 'center' },\r\n    id: 'Duration',\r\n  },\r\n  {\r\n    header: 'House ID',\r\n    accessorKey: 'HouseID',\r\n    style: { width: '30%', align: 'center' },\r\n    id: 'HouseID',\r\n  },\r\n];\r\n\r\nconst FINAL_LOG_TABLE_COLUMNS = [\r\n  {\r\n    header: 'Event Name',\r\n    accessorKey: 'Event_Name',\r\n    style: { width: '55%' },\r\n    id: 'Event_Name',\r\n  },\r\n  {\r\n    header: 'Duration',\r\n    accessorKey: 'Duration',\r\n    style: { width: '25%', align: 'center' },\r\n    id: 'Duration',\r\n  },\r\n  {\r\n    header: 'House ID',\r\n    accessorKey: 'HouseID',\r\n    style: { width: '30%', align: 'center' },\r\n    id: 'HouseID',\r\n  },\r\n];\r\n\r\nconst DEFAULT_SEC_TABLE_TOOLBAR_STATE = {\r\n  isManageColumnsDropdownVisible: false,\r\n};\r\n\r\nconst ROW_ID_KEY = 'Id';\r\n\r\nconst HOURS = [\r\n  '00:00',\r\n  '01:00',\r\n  '02:00',\r\n  '03:00',\r\n  '04:00',\r\n  '05:00',\r\n  '06:00',\r\n  '07:00',\r\n  '08:00',\r\n  '09:00',\r\n  '10:00',\r\n  '11:00',\r\n  '12:00',\r\n  '13:00',\r\n  '14:00',\r\n  '15:00',\r\n  '16:00',\r\n  '17:00',\r\n  '18:00',\r\n  '19:00',\r\n  '20:00',\r\n  '21:00',\r\n  '22:00',\r\n  '23:00',\r\n];\r\n\r\nconst NON_COMM_RULE_CHECK_TABLE_COLUMNS = [\r\n  {\r\n    header: 'Play Time',\r\n    accessorKey: 'Tel_Time',\r\n    style: {\r\n      width: '30%',\r\n      align: 'center',\r\n    },\r\n  },\r\n  {\r\n    header: 'Event Name',\r\n    accessorKey: 'Event_Name',\r\n    style: {\r\n      width: '40%',\r\n      align: 'center',\r\n    },\r\n  },\r\n  {\r\n    header: 'Duration',\r\n    accessorKey: 'Duration',\r\n    style: {\r\n      width: '30%',\r\n      align: 'center',\r\n    },\r\n  },\r\n];\r\n\r\nconst CHANGE_PROGRAM_COLUMNS = [\r\n  {\r\n    header: 'FPC_Time',\r\n    accessorKey: 'FPC_Time',\r\n    style: {\r\n      width: '30%',\r\n      align: 'center',\r\n    },\r\n  },\r\n  {\r\n    header: 'Event_Name',\r\n    accessorKey: 'Event_Name',\r\n    style: {\r\n      width: '40%',\r\n      align: 'center',\r\n    },\r\n  },\r\n  {\r\n    header: 'Duration',\r\n    accessorKey: 'Duration',\r\n    style: {\r\n      width: '30%',\r\n      align: 'center',\r\n    },\r\n  },\r\n];\r\n\r\nconst INSERT_PROGRAM_COLUMNS = [\r\n  {\r\n    header: 'FPC_Time',\r\n    accessorKey: 'FPC_Time',\r\n    style: {\r\n      width: '30',\r\n    },\r\n  },\r\n  {\r\n    header: 'Event_Name',\r\n    accessorKey: 'Event_Name',\r\n    style: {\r\n      width: '40',\r\n    },\r\n  },\r\n  {\r\n    header: 'Duration',\r\n    accessorKey: 'Duration',\r\n    style: {\r\n      width: '30',\r\n    },\r\n  },\r\n];\r\n\r\nconst TABLE_ROW_HEIGHT = 30;\r\n\r\nconst TABLE_NAMES = {\r\n  SCHEDULING_TABLE_NAMES: {\r\n    [pagesEnum.PROMO]: 'PromoSchedulingDraggableTable',\r\n    [pagesEnum.SONG]: 'SongSchedulingDraggableTable',\r\n    [pagesEnum.FINAL_LOG]: 'FinalLogSchedulingDraggableTable',\r\n    [pagesEnum.COMMERCIAL]: 'CommercialSchedulingDraggableTable',\r\n    [pagesEnum.NTC]: 'NTCSchedulingDraggableTable',\r\n  },\r\n  SECONDARY_TABLE_NAMES: {\r\n    INSERT_PROMOS: 'InsertPromosDraggableTable',\r\n    INSERT_SONGS: 'InsertSongsDraggableTable',\r\n    INSERT_COMMERCIALS: 'InsertCommercialsDraggableTable',\r\n    INSERT_DROPPED_SPOTS: 'InsertDroppedSpotsDraggableTable',\r\n    INSERT_LAST_MINUTE_SPOTS: 'InsertLastMinuteSpotsDraggableTable',\r\n    INSERT_NTC: 'InsertNTCsDraggableTable',\r\n    INSERT_PROGRAMS: 'InsertProgramsDraggableTable',\r\n    PROMO_ROTATION_INFO: 'PromoRotationInfoTable',\r\n    SONG_ROTATION_INFO: 'SongRotationInfoTable',\r\n    COMMERCIAL_ROTATION_INFO: 'CommercialRotationInfoTable',\r\n    NTC_ROTATION_INFO: 'NTCRotationInfoTable',\r\n    FINAL_LOG_ROTATION_INFO: 'FinalLogRotationInfoTable',\r\n  },\r\n};\r\n\r\nconst BACK_TO_BACK_COMM_WARNING_CELLS_WITH_COLORS = {\r\n  Event_Name: {\r\n    bgColor: 'rgb(234 88 12)',\r\n    fontColor: 'white',\r\n  },\r\n  Agency: {\r\n    bgColor: 'rgb(249 115 22)',\r\n    fontColor: 'white',\r\n  },\r\n  Client: {\r\n    bgColor: 'rgb(251 146 60)',\r\n    fontColor: 'white',\r\n  },\r\n  Brand: {\r\n    bgColor: 'rgb(245 158 11)',\r\n\r\n    fontColor: 'white',\r\n  },\r\n  Product: {\r\n    bgColor: 'rgb(251 191 36)',\r\n    fontColor: 'white',\r\n  },\r\n};\r\n\r\nconst BACK_TO_BACK_NON_COMM_WARNING_CELLS_WITH_COLORS = {\r\n  Event_Name: {\r\n    bgColor: 'rgb(234 88 12)',\r\n    fontColor: 'white',\r\n  },\r\n};\r\n\r\nconst MULTI_SPOT_CELL_WARNING_PROPERTIES = {\r\n  cell: 'Event_Name',\r\n  bgColor: 'rgb(244 114 182)',\r\n  fontColor: 'black',\r\n};\r\n\r\nconst FORMATTED_EXPORT_COLUMNS = [\r\n  {\r\n    header: 'DATE',\r\n    accessorKey: 'Date',\r\n  },\r\n  {\r\n    header: 'FPCTime',\r\n    accessorKey: 'FPC_Time',\r\n  },\r\n  {\r\n    header: 'TelTime',\r\n    accessorKey: 'Tel_Time',\r\n  },\r\n  {\r\n    header: 'EventName',\r\n    accessorKey: 'Event_Name',\r\n  },\r\n  {\r\n    header: 'Seg',\r\n    accessorKey: 'Seg',\r\n  },\r\n  {\r\n    header: 'BreakNumber',\r\n    accessorKey: 'BreakNumber',\r\n  },\r\n  {\r\n    header: 'TxTimeinSec',\r\n    accessorKey: 'TxTimeinSec',\r\n  },\r\n  {\r\n    header: 'HouseID',\r\n    accessorKey: 'House_ID',\r\n  },\r\n  {\r\n    header: 'Duration',\r\n    accessorKey: 'Duration',\r\n  },\r\n  {\r\n    header: 'VideoID',\r\n    accessorKey: 'Video_ID',\r\n  },\r\n  {\r\n    header: 'TapeID',\r\n    accessorKey: 'TapeID',\r\n  },\r\n  {\r\n    header: 'EventType',\r\n    accessorKey: 'F_C_S_P',\r\n  },\r\n  {\r\n    header: 'MusicAgency',\r\n    accessorKey: 'MusicAgency',\r\n  },\r\n  {\r\n    header: 'Language',\r\n    accessorKey: 'Language',\r\n  },\r\n  {\r\n    header: 'MovieAlbum',\r\n    accessorKey: 'MovieAlbum',\r\n  },\r\n  {\r\n    header: 'NTC',\r\n    accessorKey: 'NTC',\r\n  },\r\n  {\r\n    header: 'AgencyName',\r\n    accessorKey: 'Agency',\r\n  },\r\n  {\r\n    header: 'ClientName',\r\n    accessorKey: 'Client',\r\n  },\r\n  {\r\n    header: 'BrandName',\r\n    accessorKey: 'Brand',\r\n  },\r\n  {\r\n    header: 'ProgramName',\r\n    accessorKey: 'ProgramName',\r\n  },\r\n];\r\n\r\nconst BACK_TO_BACK_COMMERCIALS_FILTER_OPTIONS = [\r\n  { value: 'all', label: 'All' },\r\n  {\r\n    label: 'Event_Name',\r\n    value: 'Event_Name',\r\n  },\r\n  {\r\n    label: 'Agency',\r\n    value: 'Agency',\r\n  },\r\n  {\r\n    label: 'Client',\r\n    value: 'Client',\r\n  },\r\n  {\r\n    label: 'Brand',\r\n    value: 'Brand',\r\n  },\r\n  {\r\n    label: 'Product',\r\n    value: 'Product',\r\n  },\r\n];\r\n\r\nconst FILTER_DROPDOWN_OPTIONS = [\r\n  tableFilterOptionsEnum.STARTS_WITH,\r\n  tableFilterOptionsEnum.CONTAINS,\r\n  tableFilterOptionsEnum.NOT_CONTAINS,\r\n  tableFilterOptionsEnum.ENDS_WITH,\r\n  tableFilterOptionsEnum.EQUALS,\r\n  tableFilterOptionsEnum.NOT_EQUALS,\r\n];\r\n\r\nconst IS_BACKDATED_SCHEDULE_ALLOWED_TO_EDIT = true;\r\n\r\nconst PLAYOUT_EXPORT_FORMAT = {\r\n  [CLIENT.SWAMI]: playoutExportFormatEnum.PLY,\r\n  [CLIENT.FOOD_USA]: playoutExportFormatEnum.USA_FOOD_FOOD2,\r\n  [CLIENT.FOOD_INDIA]: playoutExportFormatEnum.OSC,\r\n  [CLIENT.USA_Forbes]: playoutExportFormatEnum.CSV,\r\n  [CLIENT.MASST_INDIA]: playoutExportFormatEnum.CSV,\r\n  [CLIENT.ASIANET]: playoutExportFormatEnum.CSV,\r\n  [CLIENT.ANI_PLUS]: playoutExportFormatEnum.CSV,\r\n  [CLIENT.SATHIYAM_TV]: playoutExportFormatEnum.XML,\r\n};\r\n\r\nconst EDIT_ROW_INFO = {\r\n  [rowDataTypesEnum.NTC]: {\r\n    editableColumns: [\r\n      { accessorKey: 'Description', isTextArea: true },\r\n      { accessorKey: 'Duration' },\r\n    ],\r\n    visibleColumns: [{ accessorKey: 'Event_Name' }],\r\n  },\r\n};\r\n\r\nconst TIME_FIELDS = ['Duration'];\r\n\r\nconst EMPTIABLE_FIELDS = ['Description'];\r\n\r\nconst SCTE_ROWS = [\r\n  {\r\n    Id: 1,\r\n    FPC_ID: 0,\r\n    FPC_Time: '',\r\n    Start_Time: '',\r\n    ContentCode: '',\r\n    Event_Name: 'SCTE ON',\r\n    SeasonNo: '',\r\n    Ep_No: '',\r\n    Duration: '00:00:00:00',\r\n    Tape_ID: 'SCTE0001',\r\n    BreakNumber: '',\r\n    NTCTypeCode: 'scte',\r\n    F_C_S_P: 'NTC',\r\n    NTCCode: '22',\r\n    OffsetStartTime: '00:00:00:00',\r\n    EventDefaultFrontColor: '#000000',\r\n    EventDefaultBackColor: '#c7d2fe',\r\n  },\r\n  {\r\n    Id: 2,\r\n    FPC_ID: 0,\r\n    FPC_Time: '',\r\n    Start_Time: '',\r\n    ContentCode: '',\r\n    Event_Name: 'SCTE OFF',\r\n    SeasonNo: '',\r\n    Ep_No: '',\r\n    Duration: '00:00:00:00',\r\n    Tape_ID: 'SCTE0002',\r\n    BreakNumber: '',\r\n    NTCTypeCode: 'scte',\r\n    F_C_S_P: 'NTC',\r\n    NTCCode: '23',\r\n    OffsetStartTime: '00:00:00:00',\r\n    EventDefaultFrontColor: '#000000',\r\n    EventDefaultBackColor: '#c7d2fe',\r\n  },\r\n];\r\n\r\nconst DTMF_ROWS = {\r\n  DTMF_IN: {\r\n    Id: 1,\r\n    FPC_ID: 0,\r\n    FPC_Time: '',\r\n    Start_Time: '',\r\n    ContentCode: '',\r\n    Event_Name: 'DTMF IN <Copy>',\r\n    SeasonNo: '',\r\n    Ep_No: '',\r\n    TapeID: 'DTMF',\r\n    Tape_ID: 'DTMF',\r\n    House_ID: 'DTMF',\r\n    Video_ID: 'DTMF',\r\n    BreakNumber: '',\r\n    NTCTypeCode: 'dtmf',\r\n    NtcTypeName: 'DTM',\r\n    F_C_S_P: 'NTC',\r\n    NTCCode: '22',\r\n    EventDefaultFrontColor: '#000000',\r\n    EventDefaultBackColor: '#c7d2fe',\r\n    TC_IN: '00:00:00:00',\r\n    Duration: '00:00:00:00',\r\n  },\r\n  DTMF_OUT: {\r\n    Id: 1,\r\n    FPC_ID: 0,\r\n    FPC_Time: '',\r\n    Start_Time: '',\r\n    ContentCode: '',\r\n    Event_Name: 'DTMF OUT',\r\n    SeasonNo: '',\r\n    Ep_No: '',\r\n    TapeID: 'DTMF',\r\n    Tape_ID: 'DTMF',\r\n    House_ID: 'DTMF',\r\n    Video_ID: 'DTMF',\r\n    BreakNumber: '',\r\n    NTCTypeCode: 'dtmf',\r\n    NtcTypeName: 'DTM',\r\n    F_C_S_P: 'NTC',\r\n    NTCCode: '23',\r\n    EventDefaultFrontColor: '#000000',\r\n    EventDefaultBackColor: '#c7d2fe',\r\n    TC_IN: '00:00:00:00',\r\n    Duration: '00:00:00:00',\r\n  },\r\n};\r\n\r\nconst SCTE_ON_ROW = {\r\n  Id: 1,\r\n  FPC_ID: 0,\r\n  FPC_Time: '',\r\n  Start_Time: '',\r\n  ContentCode: '',\r\n  Event_Name: 'SCTEON;DTMF IN <Copy>',\r\n  SeasonNo: '',\r\n  Ep_No: '',\r\n  Duration: '00:00:00:00',\r\n  TapeID: 'SCTEON',\r\n  Tape_ID: 'SCTEON',\r\n  House_ID: 'SCTEON',\r\n  Video_ID: 'SCTEON',\r\n  BreakNumber: '',\r\n  NTCTypeCode: 'scteOn',\r\n  NtcTypeName: 'SCT',\r\n  F_C_S_P: 'NTC',\r\n  NTCCode: '22',\r\n  OffsetStartTime: '00:00:00:00',\r\n  EventDefaultFrontColor: '#000000',\r\n  EventDefaultBackColor: '#c7d2fe',\r\n};\r\n\r\nconst DELETE_EVENT_OPTIONS = {\r\n  [pagesEnum.PROMO]: [rowDataTypesEnum.PROMO],\r\n  [pagesEnum.SONG]: [rowDataTypesEnum.SONG],\r\n  [pagesEnum.COMMERCIAL]: [rowDataTypesEnum.COMMERCIAL],\r\n  [pagesEnum.NTC]: [rowDataTypesEnum.NTC],\r\n  [pagesEnum.FINAL_LOG]: [\r\n    rowDataTypesEnum.PROMO,\r\n    rowDataTypesEnum.SONG,\r\n    rowDataTypesEnum.COMMERCIAL,\r\n    rowDataTypesEnum.NTC,\r\n  ],\r\n};\r\n\r\nconst LIVE_EVENT_OPTIONS = [\r\n  {\r\n    value: 'live1',\r\n    label: 'LIVE-1',\r\n  },\r\n  {\r\n    value: 'live2',\r\n    label: 'LIVE-2',\r\n  },\r\n];\r\n\r\nconst DEFAULT_COL_SORTING_INFO = {\r\n  column: '',\r\n  tableType: '',\r\n  sort: 'none',\r\n};\r\n\r\nconst handleDeleteRows = ({\r\n  rows,\r\n  executeOperation,\r\n  setIsDeleteMultipleRowsDialogOpen,\r\n}) => {\r\n  if (rows.length === 0) return;\r\n  else if (rows.length === 1)\r\n    executeOperation({\r\n      operation: operationTypesEnum.DELETE_ROW,\r\n      selectedRowsToDelete: rows,\r\n    });\r\n  else if (rows.length > 1) setIsDeleteMultipleRowsDialogOpen(true);\r\n};\r\n\r\nexport {\r\n  PROMO_FEATURES,\r\n  SONG_FEATURES,\r\n  COMMERCIAL_FEATURES,\r\n  NTC_FEATURES,\r\n  FINAL_LOG_FEATURES,\r\n  DEFAULT_PROMO_ACTIVE_FEATURES,\r\n  DEFAULT_SONG_ACTIVE_FEATURES,\r\n  DEFAULT_COMMERCIAL_ACTIVE_FEATURES,\r\n  DEFAULT_NTC_ACTIVE_FEATURES,\r\n  DEFAULT_FINAL_LOG_ACTIVE_FEATURES,\r\n  PROMOS_TABLE_COLUMNS,\r\n  SONGS_TABLE_COLUMNS,\r\n  FINAL_LOG_TABLE_COLUMNS,\r\n  DEFAULT_SEC_TABLE_TOOLBAR_STATE,\r\n  ROW_ID_KEY,\r\n  ROW_ACTIONS,\r\n  HOURS,\r\n  NON_COMM_RULE_CHECK_TABLE_COLUMNS,\r\n  CHANGE_PROGRAM_COLUMNS,\r\n  INSERT_PROGRAM_COLUMNS,\r\n  TABLE_ROW_HEIGHT,\r\n  TABLE_NAMES,\r\n  BACK_TO_BACK_COMM_WARNING_CELLS_WITH_COLORS,\r\n  BACK_TO_BACK_NON_COMM_WARNING_CELLS_WITH_COLORS,\r\n  MULTI_SPOT_CELL_WARNING_PROPERTIES,\r\n  FORMATTED_EXPORT_COLUMNS,\r\n  BACK_TO_BACK_COMMERCIALS_FILTER_OPTIONS,\r\n  FILTER_DROPDOWN_OPTIONS,\r\n  IS_BACKDATED_SCHEDULE_ALLOWED_TO_EDIT,\r\n  PLAYOUT_EXPORT_FORMAT,\r\n  EDIT_ROW_INFO,\r\n  TIME_FIELDS,\r\n  EMPTIABLE_FIELDS,\r\n  SCTE_ROWS,\r\n  DTMF_ROWS,\r\n  SCTE_ON_ROW,\r\n  DELETE_EVENT_OPTIONS,\r\n  LIVE_EVENT_OPTIONS,\r\n  DEFAULT_COL_SORTING_INFO,\r\n  handleDeleteRows,\r\n};\r\n","// NOTE: This file contains utility functions for the Scheduling Operations\r\n// Write Pure Functions Here.\r\nimport {\r\n  convertDateToHHMMSSFF,\r\n  openNotification,\r\n  subtractTimes,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport {\r\n  getDummyRow,\r\n  getRowId,\r\n} from '../components/SchedulingArea/utils/utils';\r\nimport {\r\n  BACK_TO_BACK_COMM_WARNING_CELLS_WITH_COLORS,\r\n  BACK_TO_BACK_NON_COMM_WARNING_CELLS_WITH_COLORS,\r\n  COMMERCIAL_FEATURES,\r\n  DEFAULT_COMMERCIAL_ACTIVE_FEATURES,\r\n  DEFAULT_FINAL_LOG_ACTIVE_FEATURES,\r\n  DEFAULT_NTC_ACTIVE_FEATURES,\r\n  DEFAULT_PROMO_ACTIVE_FEATURES,\r\n  DEFAULT_SONG_ACTIVE_FEATURES,\r\n  FINAL_LOG_FEATURES,\r\n  MULTI_SPOT_CELL_WARNING_PROPERTIES,\r\n  NTC_FEATURES,\r\n  PROMO_FEATURES,\r\n  ROW_ACTIONS,\r\n  SONG_FEATURES,\r\n} from '../constants';\r\nimport {\r\n  additionalRowInfoEnum,\r\n  cellWarningTypesEnum,\r\n  droppableIdsEnum,\r\n  featuresEnum,\r\n  operationTypesEnum,\r\n  pagesEnum,\r\n  rowDataTypesEnum,\r\n  tableFilterOptionsEnum,\r\n  tableTypesEnum,\r\n} from '../enum';\r\nimport { addTimes } from '../components/SchedulingArea/components/Summary/utils';\r\nimport { convertDateToYMD } from 'components/validators';\r\nimport {\r\n  apiGetNTCScheduling,\r\n  apiGetPromoScheduling,\r\n  apiGetSongSchedulingData,\r\n  apiGettransmissionlog,\r\n} from 'services/SchedulingService';\r\nimport { apiCallstoreprocedure } from 'services/CommonService';\r\nimport { updateStartTimes } from 'views/Scheduling/general';\r\nimport { CLIENT } from 'views/Controls/clientListEnum';\r\n\r\nconst getDefaultActiveFeatures = (page, isScheduleAllowedToEdit) => {\r\n  try {\r\n    let defaultActiveFeatures = {};\r\n    if (page === pagesEnum.PROMO) {\r\n      defaultActiveFeatures = DEFAULT_PROMO_ACTIVE_FEATURES;\r\n    } else if (page === pagesEnum.SONG) {\r\n      defaultActiveFeatures = DEFAULT_SONG_ACTIVE_FEATURES;\r\n    } else if (page === pagesEnum.COMMERCIAL) {\r\n      defaultActiveFeatures = DEFAULT_COMMERCIAL_ACTIVE_FEATURES;\r\n    } else if (page === pagesEnum.NTC) {\r\n      defaultActiveFeatures = DEFAULT_NTC_ACTIVE_FEATURES;\r\n    } else if (page === pagesEnum.FINAL_LOG) {\r\n      defaultActiveFeatures = DEFAULT_FINAL_LOG_ACTIVE_FEATURES;\r\n    }\r\n    if (!isScheduleAllowedToEdit)\r\n      defaultActiveFeatures = removeBackdateFeatures(defaultActiveFeatures);\r\n    return defaultActiveFeatures;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nfunction getFeaturesList(page, isScheduleAllowedToEdit) {\r\n  try {\r\n    let feature = {};\r\n    if (page === pagesEnum.PROMO) {\r\n      feature = PROMO_FEATURES;\r\n    } else if (page === pagesEnum.SONG) {\r\n      feature = SONG_FEATURES;\r\n    } else if (page === pagesEnum.COMMERCIAL) {\r\n      feature = COMMERCIAL_FEATURES;\r\n    } else if (page === pagesEnum.NTC) {\r\n      feature = NTC_FEATURES;\r\n    } else if (page === pagesEnum.FINAL_LOG) {\r\n      feature = FINAL_LOG_FEATURES;\r\n    }\r\n    if (!isScheduleAllowedToEdit) feature = removeBackdateFeatures(feature);\r\n    return feature;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction removeBackdateFeatures(feature) {\r\n  let newFeature = { ...feature };\r\n  delete newFeature[featuresEnum.UNDO];\r\n  delete newFeature[featuresEnum.REDO];\r\n  delete newFeature[featuresEnum.COPY];\r\n  delete newFeature[featuresEnum.GENERATE_LOG];\r\n  delete newFeature[featuresEnum.FINALIZE];\r\n  delete newFeature[featuresEnum.RESTORE_SAVED_WORK];\r\n  delete newFeature[featuresEnum.REFRESH_DURATION];\r\n  delete newFeature[featuresEnum.INSERT];\r\n  delete newFeature[featuresEnum.AUTO_SHUFFLE];\r\n  delete newFeature[featuresEnum.CHANGE_PROGRAM];\r\n  delete newFeature[featuresEnum.MANAGE_SEGMENT];\r\n  delete newFeature[featuresEnum.MANAGE_START_TIME];\r\n  delete newFeature[featuresEnum.SMART_SHUFFLE];\r\n  delete newFeature[featuresEnum.IMPORT_SEQUENECE];\r\n  return newFeature;\r\n}\r\n\r\nfunction groupNTCBasedOnNTCGroupCode(tableData) {\r\n  // group ntcs in ascending order of ntc group code\r\n  let newTableData = [];\r\n  for (let index = 0; index < tableData.length; index++) {\r\n    let curRow = tableData[index];\r\n    let childNTCs = getRowWithNTC([curRow], tableData, false);\r\n    newTableData.push(curRow);\r\n    if (childNTCs.length > 0) {\r\n      childNTCs.sort((a, b) => a.NTCGroupCode - b.NTCGroupCode);\r\n      const groupedNTCs = {};\r\n      const newChildNTCs = [];\r\n      childNTCs.forEach((row) => {\r\n        if (!groupedNTCs[row.NTCGroupCode]) {\r\n          groupedNTCs[row.NTCGroupCode] = [];\r\n        }\r\n        groupedNTCs[row.NTCGroupCode].push(row);\r\n      });\r\n      Object.keys(groupedNTCs).forEach((ntcType) => {\r\n        const sortedNTCGroup = groupedNTCs[ntcType].sort((a, b) =>\r\n          a.Tel_Time.localeCompare(b.Tel_Time),\r\n        );\r\n        newChildNTCs.push(...sortedNTCGroup);\r\n      });\r\n      newTableData.push(...newChildNTCs);\r\n      index = index + newChildNTCs.length;\r\n    }\r\n  }\r\n  return newTableData;\r\n}\r\n\r\nfunction getTableDataWithAdditionalInfo({\r\n  tableData,\r\n  tableType,\r\n  additionalInfo = [\r\n    additionalRowInfoEnum.CELL_WARNING,\r\n    additionalRowInfoEnum.REFERENCE_INFO,\r\n    additionalRowInfoEnum.ROW_ID,\r\n    additionalRowInfoEnum.ROW_INDEX,\r\n    additionalRowInfoEnum.SEQUENCE_NO,\r\n    additionalRowInfoEnum.ACTIONS,\r\n    additionalRowInfoEnum.CUSTOM_CELL_COLOR,\r\n  ],\r\n  customCellColor,\r\n  channel,\r\n}) {\r\n  try {\r\n    let newTableData = [];\r\n    let segmentStartIndex = null;\r\n    let segmentEndIndex = null;\r\n    let referenceRow = null;\r\n    for (let index = 0; index < tableData.length; index++) {\r\n      let newRow = { ...tableData[index] };\r\n      if (newRow.F_C_S_P) {\r\n        if (\r\n          newRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION ||\r\n          newRow.F_C_S_P === rowDataTypesEnum.SEGMENT\r\n        ) {\r\n          segmentStartIndex = index + 1;\r\n          segmentEndIndex = getSegmentEndIndex(tableData, segmentStartIndex);\r\n          referenceRow = newRow;\r\n        } else {\r\n          /* ADD CELL WARNINGS */\r\n          if (additionalInfo.includes(additionalRowInfoEnum.CELL_WARNING))\r\n            newRow = getRowWithCellWarnings(\r\n              newRow,\r\n              tableData,\r\n              index,\r\n              segmentStartIndex,\r\n              segmentEndIndex,\r\n            );\r\n        }\r\n      }\r\n      /* ADD REFERENCE ROW INFO */\r\n      if (\r\n        referenceRow &&\r\n        additionalInfo.includes(additionalRowInfoEnum.REFERENCE_INFO)\r\n      )\r\n        newRow = getRowWithReferenceInfo(newRow, referenceRow);\r\n      /* ADD UNIQUE ROW ID */\r\n      if (additionalInfo.includes(additionalRowInfoEnum.ROW_ID))\r\n        newRow.rowId = getRowId(tableType, newRow);\r\n      /* ADD ROW INDEX */\r\n      if (additionalInfo.includes(additionalRowInfoEnum.ROW_INDEX))\r\n        newRow.rowIndex = index;\r\n      /* ADD SEQUENCE NO */\r\n      if (additionalInfo.includes(additionalRowInfoEnum.SEQUENCE_NO))\r\n        newRow.SequenceNo = newRow.SequenceNo ? newRow.SequenceNo : index;\r\n      /* ADD ACTIONS */\r\n      if (additionalInfo.includes(additionalRowInfoEnum.ACTIONS))\r\n        newRow = getRowWithActions(newRow, channel);\r\n      /* ADD CUSTOM CELL COLOR */\r\n      if (additionalInfo.includes(additionalRowInfoEnum.CUSTOM_CELL_COLOR))\r\n        newRow = getRowWithCustomCellColor(newRow, customCellColor);\r\n      newTableData.push(newRow);\r\n    }\r\n    return newTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nasync function getSchedulingTableData(\r\n  isGenerateLog,\r\n  mode,\r\n  date,\r\n  page,\r\n  channel,\r\n) {\r\n  try {\r\n    let telecastDate = convertDateToYMD(date);\r\n    let newSchedulingTableData = [];\r\n    let response = null;\r\n    if (page === pagesEnum.PROMO) {\r\n      response = await apiGetPromoScheduling(channel, telecastDate, mode);\r\n    } else if (page === pagesEnum.SONG) {\r\n      response = await apiGetSongSchedulingData(channel, telecastDate, mode);\r\n    } else if (page === pagesEnum.COMMERCIAL) {\r\n      let param = {\r\n        ChannelCode: channel.ChannelCode,\r\n        LocationCode: channel.LocationCode,\r\n        TelecastDate: telecastDate,\r\n        Mode: 'S',\r\n      };\r\n      response = await apiCallstoreprocedure(\r\n        'USP_Sch_Commercial_scheduling',\r\n        param,\r\n      );\r\n    } else if (page === pagesEnum.NTC) {\r\n      response = await apiGetNTCScheduling(channel, telecastDate, mode);\r\n    } else if (page === pagesEnum.FINAL_LOG) {\r\n      response = await apiGettransmissionlog(\r\n        channel,\r\n        telecastDate,\r\n        isGenerateLog ? 'GEN' : 'Edit',\r\n      );\r\n    }\r\n    if (response) {\r\n      if (response.status === 200) {\r\n        if (response.data.length === 0) {\r\n          openNotification('info', 'No programs found');\r\n        } else {\r\n          newSchedulingTableData = response.data.map((row) =>\r\n            row.BreakNumber\r\n              ? { ...row, isFiltered: true }\r\n              : { ...row, BreakNumber: '0', isFiltered: true },\r\n          );\r\n          newSchedulingTableData.unshift(\r\n            getDummyRow(newSchedulingTableData[0]),\r\n          );\r\n        }\r\n      } else if (response.status !== 204) {\r\n        openNotification('info', 'No programs found');\r\n      } else {\r\n        openNotification(\r\n          'danger',\r\n          `Something went wrong while fetching schedule. Server responded with status code ${response.status}`,\r\n        );\r\n      }\r\n    }\r\n    return newSchedulingTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nasync function getDroppedSpots(channel, date, schedulingTableData, operation) {\r\n  try {\r\n    let droppedSpots = [];\r\n    let isOperationInitializeScheduler =\r\n      operation === operationTypesEnum.INITIALIZE_SCHEDULER;\r\n    const response = await apiCallstoreprocedure(\r\n      'USP_Sch_Commercial_scheduling',\r\n      {\r\n        ChannelCode: channel.ChannelCode,\r\n        LocationCode: channel.LocationCode,\r\n        TelecastDate: date,\r\n        Mode: 'D',\r\n      },\r\n    );\r\n    if (response.status === 200) {\r\n      if (response.data.length === 0) {\r\n        !isOperationInitializeScheduler &&\r\n          openNotification('info', 'No dropped spots found');\r\n      } else {\r\n        droppedSpots = removeSpotsPresentInSchTable(\r\n          response.data,\r\n          schedulingTableData,\r\n        );\r\n        if (droppedSpots.length > 0) {\r\n          droppedSpots = [getDummyRow(response.data[0]), ...droppedSpots];\r\n        }\r\n      }\r\n    } else if (response.status === 204) {\r\n      !isOperationInitializeScheduler &&\r\n        openNotification('info', 'No dropped spots found');\r\n    } else {\r\n      !isOperationInitializeScheduler &&\r\n        openNotification(\r\n          'danger',\r\n          `Something went wrong while fetching dropped spots. Server responded with status code ${response.status}`,\r\n        );\r\n    }\r\n    return droppedSpots;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction removeSpotsPresentInSchTable(droppedSpots, schedulingTableData) {\r\n  try {\r\n    const bookingDetailIds = new Set(\r\n      schedulingTableData.map((row) => row.BookingDetailID),\r\n    );\r\n    bookingDetailIds.delete(null);\r\n    const filteredSpots = droppedSpots.filter(\r\n      (spot) => !bookingDetailIds.has(spot.BookingDetailID),\r\n    );\r\n    return filteredSpots;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nasync function getLastMinuteSpots(\r\n  channel,\r\n  date,\r\n  schedulingTableData,\r\n  dropBucket,\r\n  page,\r\n  operation,\r\n) {\r\n  try {\r\n    let lastMinuteSpots = [];\r\n    let isOperationInitializeScheduler =\r\n      operation === operationTypesEnum.INITIALIZE_SCHEDULER;\r\n    const response = await apiCallstoreprocedure(\r\n      'USP_Sch_Commercial_scheduling',\r\n      {\r\n        ChannelCode: channel.ChannelCode,\r\n        LocationCode: channel.LocationCode,\r\n        TelecastDate: date,\r\n        Mode: page === pagesEnum.COMMERCIAL ? 'N' : 'NF',\r\n      },\r\n    );\r\n    if (response.status === 200) {\r\n      if (response.data.length === 0) {\r\n        !isOperationInitializeScheduler &&\r\n          openNotification('info', 'No last minute spots found');\r\n      } else {\r\n        lastMinuteSpots = removeSpotsPresentInTable2(\r\n          response.data,\r\n          schedulingTableData,\r\n        );\r\n        lastMinuteSpots = removeSpotsPresentInTable2(\r\n          lastMinuteSpots,\r\n          [...dropBucket].splice(1),\r\n        );\r\n        if (lastMinuteSpots.length > 0) {\r\n          lastMinuteSpots = [getDummyRow(response.data[0]), ...lastMinuteSpots];\r\n        }\r\n      }\r\n    } else if (response.status === 204) {\r\n      !isOperationInitializeScheduler &&\r\n        openNotification('info', 'No last minute spots found');\r\n    } else {\r\n      !isOperationInitializeScheduler &&\r\n        openNotification(\r\n          'danger',\r\n          `Something went wrong while fetching last minute spots. Server responded with status code ${response.status}`,\r\n        );\r\n    }\r\n    return lastMinuteSpots;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction removeSpotsPresentInTable2(table1, table2) {\r\n  try {\r\n    const bookingDetailIds = new Set(table2.map((row) => row.BookingDetailID));\r\n    bookingDetailIds.delete(null);\r\n    const filteredSpots = table1.filter(\r\n      (spot) => !bookingDetailIds.has(spot.BookingDetailID),\r\n    );\r\n    return filteredSpots;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction getRowWithNTC(\r\n  draggedRows,\r\n  schedulingTableData,\r\n  includeParentRow = true,\r\n) {\r\n  try {\r\n    let rowWithNTC = [];\r\n    [...draggedRows].forEach((row) => {\r\n      if (includeParentRow) rowWithNTC.push(row);\r\n      let index = row.rowIndex + 1;\r\n      while (schedulingTableData[index]?.F_C_S_P === rowDataTypesEnum.NTC) {\r\n        rowWithNTC.push(schedulingTableData[index]);\r\n        index++;\r\n      }\r\n    });\r\n    return rowWithNTC;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction isBasicDragValid(dragInfo, destIndex) {\r\n  const sourceDroppableId = dragInfo.source.droppableId;\r\n  const destinationDroppableId = dragInfo.destination.droppableId;\r\n  return (\r\n    dragInfo.destination &&\r\n    ((sourceDroppableId === droppableIdsEnum.SECONDARY &&\r\n      destinationDroppableId === droppableIdsEnum.SCHEDULING) ||\r\n      (sourceDroppableId === destinationDroppableId &&\r\n        dragInfo.source.index !== destIndex))\r\n  );\r\n}\r\n\r\nfunction isDragValidForSourceRow(\r\n  isChannelForbes,\r\n  schedulingTableData,\r\n  destinationIndex,\r\n  sourceRow,\r\n) {\r\n  return isChannelForbes &&\r\n    schedulingTableData[destinationIndex - 1].F_C_S_P === rowDataTypesEnum.LIVE\r\n    ? sourceRow.F_C_S_P === rowDataTypesEnum.NTC\r\n    : true;\r\n}\r\n\r\nfunction isRowDataTypePresentInDraggedRows(draggedRows, rowDataType) {\r\n  return draggedRows.filter((row) => row.F_C_S_P === rowDataType).length > 0;\r\n}\r\n\r\nfunction getSegmentEndIndex(tableData, segmentStartIndex) {\r\n  try {\r\n    for (let index = segmentStartIndex; index < tableData.length; index++) {\r\n      if (tableData[index].F_C_S_P === rowDataTypesEnum.SEGMENT) {\r\n        return index - 1;\r\n      }\r\n      if (index === tableData.length - 1) {\r\n        return index;\r\n      }\r\n    }\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction getRowWithCellWarnings(\r\n  row,\r\n  tableData,\r\n  index,\r\n  segmentStartIndex,\r\n  segmentEndIndex,\r\n) {\r\n  try {\r\n    /* Apply back to back warning */\r\n    let { rowWithCellWarnings, isBackToBackCellWarningAdded } =\r\n      addBackToBackCellWarning(row, tableData, index);\r\n    /* If back to back warning not applied on current iteration, remove back to back warning if any */\r\n    if (\r\n      !isBackToBackCellWarningAdded &&\r\n      Array.isArray(rowWithCellWarnings.cellWarning)\r\n    ) {\r\n      delete rowWithCellWarnings.cellWarning;\r\n    }\r\n    /* If current row is commercial, apply Out Of Timeband and Multi Spot cell warning */\r\n    if (row.F_C_S_P === rowDataTypesEnum.COMMERCIAL) {\r\n      /* Apply Out Of Timeband cell warning*/\r\n      rowWithCellWarnings = addOutOfTimebandCellWarning(rowWithCellWarnings);\r\n      /* Apply Multi Spot cell warning */\r\n      rowWithCellWarnings = addMultiSpotCellWarning(\r\n        tableData,\r\n        segmentStartIndex,\r\n        segmentEndIndex,\r\n        rowWithCellWarnings,\r\n      );\r\n    }\r\n    return rowWithCellWarnings;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction addBackToBackCellWarning(row, tableData, tableIndex) {\r\n  try {\r\n    let rowWithCellWarnings = { ...row };\r\n    let backToBackWarningCellsWithColor;\r\n    let isBackToBackCellWarningAdded = false;\r\n    if (row.F_C_S_P === rowDataTypesEnum.COMMERCIAL) {\r\n      backToBackWarningCellsWithColor =\r\n        BACK_TO_BACK_COMM_WARNING_CELLS_WITH_COLORS;\r\n    } else {\r\n      backToBackWarningCellsWithColor =\r\n        BACK_TO_BACK_NON_COMM_WARNING_CELLS_WITH_COLORS;\r\n    }\r\n    const backToBackWarningCells = Object.keys(backToBackWarningCellsWithColor);\r\n    for (let index = 0; index < backToBackWarningCells.length; index++) {\r\n      const column = backToBackWarningCells[index];\r\n      const prevRow = tableData[tableIndex - 1];\r\n      const nextRow = tableData[tableIndex + 1];\r\n      if (\r\n        (prevRow &&\r\n          prevRow.F_C_S_P === row.F_C_S_P &&\r\n          prevRow[column] &&\r\n          row[column] &&\r\n          prevRow[column] === row[column]) ||\r\n        (nextRow &&\r\n          nextRow.F_C_S_P === row.F_C_S_P &&\r\n          row[column] &&\r\n          nextRow[column] &&\r\n          row[column] === nextRow[column])\r\n      ) {\r\n        rowWithCellWarnings = {\r\n          ...row,\r\n          cellWarning: [\r\n            {\r\n              cell: column,\r\n              bgColor: backToBackWarningCellsWithColor[column].bgColor,\r\n              fontColor: backToBackWarningCellsWithColor[column].fontColor,\r\n              warningType: cellWarningTypesEnum.BACK_TO_BACK,\r\n            },\r\n          ],\r\n        };\r\n        isBackToBackCellWarningAdded = true;\r\n        break;\r\n      }\r\n    }\r\n    return {\r\n      rowWithCellWarnings,\r\n      isBackToBackCellWarningAdded,\r\n    };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction addOutOfTimebandCellWarning(row) {\r\n  try {\r\n    let rowWithOutOfTimebandWarning = { ...row };\r\n    if (row.SpotStartTime && row.SpotEndTime) {\r\n      const spotStartTime =\r\n        row.SpotStartTime.length < 8\r\n          ? `${row.SpotStartTime}:00`\r\n          : row.SpotStartTime;\r\n      const spotEndTime =\r\n        row.SpotEndTime.length < 8 ? `${row.SpotEndTime}:00` : row.SpotEndTime;\r\n      if (!(row.Tel_Time >= spotStartTime && row.Tel_Time < spotEndTime)) {\r\n        const cellWarning = {\r\n          cell: 'Event_Name',\r\n          bgColor: 'rgb(185 28 28)',\r\n          fontColor: 'white',\r\n          warningType: cellWarningTypesEnum.OUT_OF_TIMEBAND,\r\n        };\r\n        if (!rowWithOutOfTimebandWarning.cellWarning) {\r\n          rowWithOutOfTimebandWarning = {\r\n            ...rowWithOutOfTimebandWarning,\r\n            cellWarning: [cellWarning],\r\n          };\r\n        } else if (Array.isArray(rowWithOutOfTimebandWarning.cellWarning)) {\r\n          rowWithOutOfTimebandWarning = {\r\n            ...rowWithOutOfTimebandWarning,\r\n            cellWarning: [\r\n              ...rowWithOutOfTimebandWarning.cellWarning,\r\n              {\r\n                ...cellWarning,\r\n              },\r\n            ],\r\n          };\r\n        }\r\n      }\r\n    }\r\n    return rowWithOutOfTimebandWarning;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction addMultiSpotCellWarning(\r\n  tableData,\r\n  segmentStartIndex,\r\n  segmentEndIndex,\r\n  rowWithCellWarnings,\r\n) {\r\n  try {\r\n    let rowWithMultiSpotWarning = { ...rowWithCellWarnings };\r\n    if (\r\n      isMultiSpotPresentForCurCommercial(\r\n        tableData,\r\n        segmentStartIndex,\r\n        segmentEndIndex,\r\n        rowWithMultiSpotWarning,\r\n      )\r\n    ) {\r\n      if (!rowWithMultiSpotWarning.cellWarning) {\r\n        rowWithMultiSpotWarning = {\r\n          ...rowWithMultiSpotWarning,\r\n          cellWarning: [\r\n            {\r\n              cell: MULTI_SPOT_CELL_WARNING_PROPERTIES.cell,\r\n              bgColor: MULTI_SPOT_CELL_WARNING_PROPERTIES.bgColor,\r\n              fontColor: MULTI_SPOT_CELL_WARNING_PROPERTIES.fontColor,\r\n              warningType: cellWarningTypesEnum.MULTI_SPOT,\r\n            },\r\n          ],\r\n        };\r\n      } else if (\r\n        (Array.isArray(rowWithMultiSpotWarning.cellWarning) &&\r\n          rowWithMultiSpotWarning.cellWarning[\r\n            rowWithMultiSpotWarning.cellWarning.length - 1\r\n          ].cell !== 'Event_Name') ||\r\n        (Array.isArray(rowWithMultiSpotWarning.cellWarning) &&\r\n          rowWithMultiSpotWarning.cellWarning[\r\n            rowWithMultiSpotWarning.cellWarning.length - 1\r\n          ].cell === 'Event_Name' &&\r\n          rowWithMultiSpotWarning.cellWarning[\r\n            rowWithMultiSpotWarning.cellWarning.length - 1\r\n          ].warningType !== cellWarningTypesEnum.BACK_TO_BACK)\r\n      ) {\r\n        rowWithMultiSpotWarning = {\r\n          ...rowWithMultiSpotWarning,\r\n          cellWarning: [\r\n            ...rowWithMultiSpotWarning.cellWarning,\r\n            {\r\n              cell: MULTI_SPOT_CELL_WARNING_PROPERTIES.cell,\r\n              bgColor: MULTI_SPOT_CELL_WARNING_PROPERTIES.bgColor,\r\n              fontColor: MULTI_SPOT_CELL_WARNING_PROPERTIES.fontColor,\r\n              warningType: cellWarningTypesEnum.MULTI_SPOT,\r\n            },\r\n          ],\r\n        };\r\n      }\r\n    }\r\n    return rowWithMultiSpotWarning;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction isMultiSpotPresentForCurCommercial(\r\n  tableData,\r\n  segmentStartIndex,\r\n  segmentEndIndex,\r\n  commercialRow,\r\n) {\r\n  try {\r\n    for (let index = segmentStartIndex; index <= segmentEndIndex; index++) {\r\n      if (\r\n        tableData[index].F_C_S_P === rowDataTypesEnum.COMMERCIAL &&\r\n        commercialRow.BookingDetailID !== tableData[index].BookingDetailID &&\r\n        commercialRow.Event_Name === tableData[index].Event_Name\r\n      ) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction getRowWithReferenceInfo(row, referenceRow) {\r\n  try {\r\n    let newRow = { ...row };\r\n    if (\r\n      newRow.F_C_S_P === rowDataTypesEnum.SEGMENT ||\r\n      newRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION\r\n    ) {\r\n      return newRow;\r\n    }\r\n    if (newRow.F_C_S_P === 'NTC') {\r\n      newRow.PrimaryID = referenceRow.PrimaryID;\r\n    } else if (newRow.F_C_S_P === 'CM') {\r\n      newRow.PrimaryID = referenceRow.PrimaryID;\r\n      newRow.ScheduleTime = referenceRow.ScheduleTime;\r\n    }\r\n    newRow.SeasonNo = referenceRow.SeasonNo;\r\n    newRow.Ep_No = referenceRow.Ep_No;\r\n    newRow.ContentCode = referenceRow.ContentCode;\r\n    newRow.BreakNumber = referenceRow.BreakNumber;\r\n    newRow.FPC_ID = referenceRow.FPC_ID;\r\n    newRow.SequenceNo = referenceRow.SequenceNo;\r\n    return newRow;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction getRowWithActions(row, channel) {\r\n  try {\r\n    if (\r\n      row.F_C_S_P === rowDataTypesEnum.PROMO ||\r\n      row.F_C_S_P === rowDataTypesEnum.SONG\r\n    )\r\n      return {\r\n        ...row,\r\n        actions: [ROW_ACTIONS.DELETE, ROW_ACTIONS.ROTATION_INFO],\r\n      };\r\n    else if (row.F_C_S_P === rowDataTypesEnum.COMMERCIAL)\r\n      return {\r\n        ...row,\r\n        actions: [ROW_ACTIONS.DROP_SPOTS, ROW_ACTIONS.ROTATION_INFO],\r\n      };\r\n    else if (\r\n      row.F_C_S_P === rowDataTypesEnum.NTC &&\r\n      (!('BookingDetailID' in row) || !row.BookingDetailID)\r\n    ) {\r\n      if (channel.label === CLIENT.USA_Forbes)\r\n        return {\r\n          ...row,\r\n          actions: [ROW_ACTIONS.DELETE, ROW_ACTIONS.EDIT_ROW],\r\n        };\r\n      else {\r\n        if (row.NTCGroupCode !== 999)\r\n          return {\r\n            ...row,\r\n            actions: [\r\n              ROW_ACTIONS.DELETE,\r\n              ROW_ACTIONS.ROTATION_INFO,\r\n              ROW_ACTIONS.EDIT_ROW,\r\n            ],\r\n          };\r\n        else\r\n          return {\r\n            ...row,\r\n            actions: [ROW_ACTIONS.DELETE, ROW_ACTIONS.ROTATION_INFO],\r\n          };\r\n      }\r\n    } else if (row.F_C_S_P === rowDataTypesEnum.LIVE)\r\n      return {\r\n        ...row,\r\n        actions: [ROW_ACTIONS.DELETE, ROW_ACTIONS.EDIT_ROW],\r\n      };\r\n    else return row;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction getRowWithCustomCellColor(row, customCellColor) {\r\n  try {\r\n    let newRow = { ...row };\r\n    let newCustomCellColor = {};\r\n    if (!customCellColor) {\r\n      /* ADD DEFAULT ROW COLOR TO EACH CELL*/\r\n      Object.keys(row).forEach(\r\n        (key) => (newCustomCellColor[key] = row.EventDefaultBackColor),\r\n      );\r\n    } else {\r\n      Object.keys(newRow).forEach((cellType) => {\r\n        /* GET CELL COLOR IF PRESENT IN customCellColor STATE */\r\n        if (\r\n          cellType in customCellColor &&\r\n          row[cellType] in customCellColor[cellType]\r\n        ) {\r\n          newCustomCellColor[cellType] =\r\n            customCellColor[cellType][row[cellType]];\r\n        } else {\r\n          /* ASSIGN DEFAULT CELL COLOR TO CELL TYPE */\r\n          newCustomCellColor[cellType] = row.EventDefaultBackColor;\r\n        }\r\n      });\r\n    }\r\n    newRow = { ...newRow, customCellColor: newCustomCellColor };\r\n    return newRow;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction isCommercialInsertValid(draggedRows, destinationIndex, tableData) {\r\n  try {\r\n    let destinationRow = tableData[destinationIndex];\r\n    for (let index = destinationIndex; index > 0; index--) {\r\n      if (\r\n        tableData[index].F_C_S_P !== rowDataTypesEnum.NTC &&\r\n        destinationRow.rowId !== tableData[index].rowId\r\n      ) {\r\n        destinationRow = tableData[index];\r\n        break;\r\n      }\r\n    }\r\n    let result = isSelectedRowsBetweenStartAndEndTime(\r\n      draggedRows,\r\n      destinationRow,\r\n    );\r\n    if (!result) {\r\n      openNotification(\r\n        'danger',\r\n        draggedRows.length === 1\r\n          ? 'Commercial out of its valid timeband'\r\n          : 'One or more commercials out of its timeband',\r\n      );\r\n    }\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction isSelectedRowsBetweenStartAndEndTime(draggedRows, destinationRow) {\r\n  try {\r\n    let result = false;\r\n    for (let index = 0; index < draggedRows.length; index++) {\r\n      result = isTelTimeBetweenStartAndEndTime(\r\n        destinationRow,\r\n        draggedRows[index],\r\n      );\r\n      if (!result) break;\r\n    }\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction isTelTimeBetweenStartAndEndTime(destinationRow, draggedRow) {\r\n  return (\r\n    destinationRow.Tel_Time >= draggedRow.SpotStartTime &&\r\n    destinationRow.Tel_Time <= draggedRow.SpotEndTime\r\n  );\r\n}\r\n\r\nfunction isNTCInsertValid(\r\n  destinationIndex,\r\n  destinationRow,\r\n  draggedRows,\r\n  schedulingTableData,\r\n) {\r\n  try {\r\n    let isDragValid = true;\r\n    let ntcParentRow = getNTCParentRow(destinationIndex, schedulingTableData);\r\n    let isPaidNTC = isAnyNTCPaid(draggedRows);\r\n    /* --------------------- GAURD CLAUSES ----------------------------- */\r\n    /* CLAUSE 1 */\r\n    if (isNTCPlacedBelowCMOrCT(destinationIndex, schedulingTableData))\r\n      isDragValid = false;\r\n    /* CLAUSE 2 */ else if (isNTCEndingAfterDuration(draggedRows, ntcParentRow))\r\n      isDragValid = false;\r\n    /* CLAUSE 3 */ else if (isPaidNTC) {\r\n      isDragValid = isPaidNTCInsertValid(draggedRows, destinationRow);\r\n    }\r\n    return isDragValid;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction getNTCParentRow(destinationIndex, schedulingTableData) {\r\n  try {\r\n    for (let index = destinationIndex - 1; index > 0; index--) {\r\n      if (\r\n        schedulingTableData[index].F_C_S_P === rowDataTypesEnum.SEGMENT ||\r\n        schedulingTableData[index].F_C_S_P === rowDataTypesEnum.PROMO ||\r\n        schedulingTableData[index].F_C_S_P === rowDataTypesEnum.SONG ||\r\n        schedulingTableData[index].F_C_S_P === rowDataTypesEnum.LIVE\r\n      ) {\r\n        return schedulingTableData[index];\r\n      }\r\n    }\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction isAnyNTCPaid(selectedRows) {\r\n  try {\r\n    let result = false;\r\n    for (let index = 0; index < selectedRows.length; index++) {\r\n      if (\r\n        selectedRows[index].F_C_S_P === rowDataTypesEnum.NTC &&\r\n        selectedRows[index].BookingDetailID\r\n      ) {\r\n        result = true;\r\n        break;\r\n      }\r\n    }\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction isNTCPlacedBelowCMOrCT(destinationIndex, schedulingTableData) {\r\n  try {\r\n    let result = false;\r\n    let rowBeforeDestination = schedulingTableData[destinationIndex - 1];\r\n    if (rowBeforeDestination.F_C_S_P === rowDataTypesEnum.COMMERCIAL) {\r\n      result = true;\r\n      openNotification('danger', 'NTC cannot be placed after a commercial');\r\n    } else if (\r\n      rowBeforeDestination.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION\r\n    ) {\r\n      result = true;\r\n      openNotification(\r\n        'danger',\r\n        'NTC cannot be placed after a content termination',\r\n      );\r\n    }\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction isNTCEndingAfterDuration(draggedRows, ntcParentRow) {\r\n  try {\r\n    let result = false;\r\n    for (let index = 0; index < draggedRows.length; index++) {\r\n      const curRow = draggedRows[index];\r\n      const offsetStartTime = addTimes(\r\n        ntcParentRow.Start_Time,\r\n        curRow.OffsetStartTime,\r\n      );\r\n      const ntcEndTime = addTimes(offsetStartTime, curRow.Duration);\r\n      result =\r\n        ntcEndTime > addTimes(ntcParentRow.Start_Time, ntcParentRow.Duration);\r\n      if (result) break;\r\n    }\r\n    if (result) {\r\n      const parentEventType =\r\n        ntcParentRow.F_C_S_P === rowDataTypesEnum.SEGMENT\r\n          ? 'segment'\r\n          : ntcParentRow.F_C_S_P === rowDataTypesEnum.PROMO\r\n          ? 'promo'\r\n          : 'song';\r\n      openNotification(\r\n        'danger',\r\n        draggedRows.length === 1\r\n          ? `End time of an NTC cannot be greater than ${parentEventType} end time`\r\n          : `One or more NTC have end time greater than ${parentEventType} end time`,\r\n      );\r\n    }\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction isPaidNTCInsertValid(draggedRows, destinationRow) {\r\n  try {\r\n    let result = isSelectedRowsBetweenStartAndEndTime(\r\n      draggedRows,\r\n      destinationRow,\r\n    );\r\n    if (!result) {\r\n      openNotification(\r\n        'danger',\r\n        draggedRows.length === 1\r\n          ? 'Paid NTC cannot be out of its timeband'\r\n          : 'One or more paid NTCs out of its timeband',\r\n      );\r\n    }\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction removeRowsFromTableData(rows, tableData) {\r\n  let rowsId = rows.map((row) => row.rowId);\r\n  return [...tableData].filter((row) => !rowsId.includes(row.rowId));\r\n}\r\n\r\nfunction isSegmentValid(row, time, selectedBreaks, selProgramsFpcId) {\r\n  try {\r\n    const segStartTime = row.Start_Time;\r\n    const insertStartTime = convertDateToHHMMSSFF(time.start);\r\n    const insertEndTime = convertDateToHHMMSSFF(time.end);\r\n    if (selectedBreaks) {\r\n      return (\r\n        segStartTime >= insertStartTime &&\r\n        segStartTime <= insertEndTime &&\r\n        selectedBreaks.includes(Number(row.BreakNumber)) &&\r\n        selProgramsFpcId.includes(row.FPC_ID)\r\n      );\r\n    } else {\r\n      return (\r\n        segStartTime >= insertStartTime &&\r\n        segStartTime <= insertEndTime &&\r\n        selProgramsFpcId.includes(row.FPC_ID)\r\n      );\r\n    }\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction isRowLastSegment(row, tableData) {\r\n  let result = false;\r\n  for (let index = row.rowIndex + 1; index <= tableData.length; index++) {\r\n    const curRow = tableData[index];\r\n    if (!curRow) {\r\n      result = true;\r\n      break;\r\n    }\r\n    if (\r\n      curRow.F_C_S_P === rowDataTypesEnum.SEGMENT ||\r\n      curRow.F_C_S_P === rowDataTypesEnum.LIVE\r\n    ) {\r\n      result = false;\r\n      break;\r\n    } else if (curRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION) {\r\n      result = true;\r\n      break;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction isRowBetweenValidTime(row, time) {\r\n  try {\r\n    const segStartTime = row.Start_Time;\r\n    const insertStartTime = convertDateToHHMMSSFF(time.start);\r\n    const insertEndTime = convertDateToHHMMSSFF(time.end);\r\n    return segStartTime >= insertStartTime && segStartTime <= insertEndTime;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction removeAdditionalInfoFromRows(rows) {\r\n  return rows.map((row) => {\r\n    let newRow = { ...row };\r\n    delete newRow.rowId;\r\n    delete newRow.rowIndex;\r\n    delete newRow.actions;\r\n    delete newRow.SequenceNo;\r\n    delete newRow.cellWarning;\r\n    return newRow;\r\n  });\r\n}\r\n\r\nfunction getSegmentWiseContent(clickedProgramSchedule) {\r\n  try {\r\n    let segmentContents = [];\r\n    let isSegmentInfoFound = false;\r\n    let curSegmentContents = [];\r\n    for (let index = 0; index < clickedProgramSchedule.length; index++) {\r\n      if (isSegmentInfoFound) {\r\n        curSegmentContents.push(clickedProgramSchedule[index]);\r\n      }\r\n      if (clickedProgramSchedule[index].F_C_S_P === rowDataTypesEnum.SEGMENT) {\r\n        isSegmentInfoFound = true;\r\n      }\r\n      if (\r\n        clickedProgramSchedule[index].F_C_S_P !==\r\n        rowDataTypesEnum.CONTENT_TERMINATION\r\n      ) {\r\n        if (clickedProgramSchedule[index + 1]) {\r\n          if (\r\n            clickedProgramSchedule[index + 1].F_C_S_P ===\r\n            rowDataTypesEnum.SEGMENT\r\n          ) {\r\n            segmentContents.push(curSegmentContents);\r\n            curSegmentContents = [];\r\n            isSegmentInfoFound = false;\r\n          }\r\n        } else {\r\n          segmentContents.push(curSegmentContents);\r\n        }\r\n      }\r\n    }\r\n    return segmentContents;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction getProgramWithSegmentContent(\r\n  schedule,\r\n  segmentWiseContent,\r\n  clickedProgram,\r\n) {\r\n  try {\r\n    let programWithSegmentWiseContent = [];\r\n    let updatedSegmentWiseContent = [...segmentWiseContent];\r\n    schedule.forEach((row, index) => {\r\n      if (row.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION) {\r\n        const rowWithOriginalCTColor = {\r\n          ...row,\r\n          EventDefaultBackColor: clickedProgram.EventDefaultBackColor,\r\n          EventDefaultFrontColor: clickedProgram.EventDefaultFrontColor,\r\n        };\r\n        programWithSegmentWiseContent.push(rowWithOriginalCTColor);\r\n      } else if (row.F_C_S_P === rowDataTypesEnum.SEGMENT) {\r\n        programWithSegmentWiseContent.push(row);\r\n        if (schedule[index + 1]) {\r\n          if (updatedSegmentWiseContent[0]) {\r\n            programWithSegmentWiseContent.push(...updatedSegmentWiseContent[0]);\r\n            updatedSegmentWiseContent.shift();\r\n          }\r\n        } else {\r\n          if (updatedSegmentWiseContent.length > 0) {\r\n            programWithSegmentWiseContent.push(\r\n              ...updatedSegmentWiseContent.flat(),\r\n            );\r\n          }\r\n        }\r\n      }\r\n    });\r\n    return programWithSegmentWiseContent;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction updateProgramInSchedulingTableData(\r\n  clickedProgram,\r\n  newProgramWithSegmentContent,\r\n  schedulingTableData,\r\n) {\r\n  try {\r\n    let updatedSchedulingTableData = [...schedulingTableData];\r\n    updatedSchedulingTableData.splice(clickedProgram.rowIndex, 1);\r\n    while (\r\n      updatedSchedulingTableData[clickedProgram.rowIndex] &&\r\n      updatedSchedulingTableData[clickedProgram.rowIndex].F_C_S_P !==\r\n        rowDataTypesEnum.CONTENT_TERMINATION\r\n    ) {\r\n      updatedSchedulingTableData.splice(clickedProgram.rowIndex, 1);\r\n    }\r\n    updatedSchedulingTableData.splice(\r\n      clickedProgram.rowIndex,\r\n      0,\r\n      ...newProgramWithSegmentContent,\r\n    );\r\n    return updatedSchedulingTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction getFilteredTableData(tableData, selectedFilters) {\r\n  try {\r\n    let filteredTableData = [...tableData];\r\n    /* IF NO FILTER IS SELECTED, SET MAKE EVERY ROW VISIBLE */\r\n    if (selectedFilters.length === 0)\r\n      return filteredTableData.map((row) => ({ ...row, isFiltered: true }));\r\n    /* APPLY ALL FILTERS ONE BY ONE */\r\n    selectedFilters.forEach((curFilter, filterIndex) => {\r\n      const columnKey = curFilter.columnKey;\r\n      const filter = curFilter.filter;\r\n      const searchValue = curFilter.searchValue.toLowerCase();\r\n      filteredTableData = filteredTableData.map((row, index) => {\r\n        if (index === 0) return row;\r\n        const cellValue = row[columnKey]\r\n          ? row[columnKey].toString().toLowerCase()\r\n          : '';\r\n        switch (filter) {\r\n          case tableFilterOptionsEnum.STARTS_WITH: {\r\n            const isFiltered = cellValue.startsWith(searchValue);\r\n            return filterIndex === 0\r\n              ? { ...row, isFiltered }\r\n              : { ...row, isFiltered: row.isFiltered && isFiltered };\r\n          }\r\n          case tableFilterOptionsEnum.CONTAINS: {\r\n            const isFiltered = cellValue.includes(searchValue);\r\n            return filterIndex === 0\r\n              ? { ...row, isFiltered }\r\n              : { ...row, isFiltered: row.isFiltered && isFiltered };\r\n          }\r\n          case tableFilterOptionsEnum.NOT_CONTAINS: {\r\n            const isFiltered = !cellValue.includes(searchValue);\r\n            return filterIndex === 0\r\n              ? { ...row, isFiltered }\r\n              : { ...row, isFiltered: row.isFiltered && isFiltered };\r\n          }\r\n          case tableFilterOptionsEnum.ENDS_WITH: {\r\n            const isFiltered = cellValue.endsWith(searchValue);\r\n            return filterIndex === 0\r\n              ? { ...row, isFiltered }\r\n              : { ...row, isFiltered: row.isFiltered && isFiltered };\r\n          }\r\n          case tableFilterOptionsEnum.EQUALS: {\r\n            const isFiltered = cellValue === searchValue;\r\n            return filterIndex === 0\r\n              ? { ...row, isFiltered }\r\n              : { ...row, isFiltered: row.isFiltered && isFiltered };\r\n          }\r\n          case tableFilterOptionsEnum.NOT_EQUALS: {\r\n            const isFiltered = cellValue !== searchValue;\r\n            return filterIndex === 0\r\n              ? { ...row, isFiltered }\r\n              : { ...row, isFiltered: row.isFiltered && isFiltered };\r\n          }\r\n          case tableFilterOptionsEnum.HIDE_COMMERCIAL: {\r\n            const isFiltered = !(\r\n              row.F_C_S_P === rowDataTypesEnum.COMMERCIAL &&\r\n              searchValue === 'true'\r\n            );\r\n            return filterIndex === 0\r\n              ? { ...row, isFiltered }\r\n              : { ...row, isFiltered: row.isFiltered && isFiltered };\r\n          }\r\n          case tableFilterOptionsEnum.SHOW_NTC: {\r\n            const isFiltered = !(\r\n              row.F_C_S_P === rowDataTypesEnum.NTC && searchValue === 'false'\r\n            );\r\n            return filterIndex === 0\r\n              ? { ...row, isFiltered }\r\n              : { ...row, isFiltered: row.isFiltered && isFiltered };\r\n          }\r\n          default:\r\n            return { ...row, isFiltered: false };\r\n        }\r\n      });\r\n    });\r\n    return filteredTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction updateOffsetStartTime(row, parentRow) {\r\n  try {\r\n    let updatedRow = { ...row };\r\n    if (updatedRow.Start_Time !== '00:00:00:00') {\r\n      updatedRow.OffsetStartTime = subtractTimes(\r\n        updatedRow.Start_Time,\r\n        parentRow.Start_Time,\r\n      );\r\n    }\r\n    return updatedRow;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction finalizeData({\r\n  schedulingTableData,\r\n  secondaryTableData,\r\n  dropBucket,\r\n  lastMinuteSpots,\r\n  startTime,\r\n  newActiveFeatures,\r\n  customCellColor,\r\n  page,\r\n  channel,\r\n  isNtcGroupingEnabled,\r\n  isFirstLoad,\r\n  frames,\r\n}) {\r\n  let newSchedulingTableData = [...schedulingTableData];\r\n  let newSecondaryTableData = [...secondaryTableData];\r\n  let newDropBucket = [...dropBucket];\r\n  let newLastMinuteSpots = [...lastMinuteSpots];\r\n  if (newSchedulingTableData.length < 2) newSchedulingTableData = [];\r\n  else {\r\n    let dummyRow = newSchedulingTableData.shift();\r\n    /* UPDATE START TIME OF EACH ROW */\r\n    newSchedulingTableData = [\r\n      ...updateStartTimes(\r\n        newSchedulingTableData,\r\n        newActiveFeatures[featuresEnum.SHOW_PROGRAM_BASE_TIME],\r\n        newActiveFeatures[featuresEnum.HIDE_COMMERCIALS],\r\n        page === pagesEnum.NTC ? 'NTC' : undefined,\r\n        startTime,\r\n        isFirstLoad,\r\n        frames,\r\n      ),\r\n    ];\r\n    /* ADD ADDITIONAL INFO TO EACH ROW */\r\n    newSchedulingTableData = getTableDataWithAdditionalInfo({\r\n      tableData: [dummyRow, ...newSchedulingTableData],\r\n      tableType: tableTypesEnum.SCHEDULING,\r\n      customCellColor,\r\n      channel,\r\n    });\r\n    /* DO NTC GROUPING BASED ON NTC TYPE IF NTC GROUPING IS ENABLED */\r\n    if (\r\n      isNtcGroupingEnabled &&\r\n      newSchedulingTableData.length > 0 &&\r\n      (page === pagesEnum.NTC || page === pagesEnum.FINAL_LOG)\r\n    ) {\r\n      newSchedulingTableData = groupNTCBasedOnNTCGroupCode(\r\n        newSchedulingTableData,\r\n      );\r\n      // dummyRow = newSchedulingTableData.shift();\r\n      newSchedulingTableData = getTableDataWithAdditionalInfo({\r\n        tableData: newSchedulingTableData,\r\n        tableType: tableTypesEnum.SCHEDULING,\r\n        customCellColor,\r\n        channel,\r\n      });\r\n    }\r\n  }\r\n  if (newSecondaryTableData.length < 2) newSecondaryTableData = [];\r\n  else\r\n    newSecondaryTableData = getTableDataWithAdditionalInfo({\r\n      tableData: newSecondaryTableData,\r\n      tableType: tableTypesEnum.SECONDARY,\r\n      additionalInfo: [\r\n        additionalRowInfoEnum.ROW_ID,\r\n        additionalRowInfoEnum.ROW_INDEX,\r\n      ],\r\n    });\r\n  /* FINALIZE DROP BUCKET */\r\n  if (Array.isArray(newDropBucket))\r\n    if (newDropBucket.length < 2) newDropBucket = [];\r\n    else\r\n      newDropBucket = getTableDataWithAdditionalInfo({\r\n        tableData: newDropBucket,\r\n        tableType: tableTypesEnum.SECONDARY,\r\n        additionalInfo: [\r\n          additionalRowInfoEnum.ROW_ID,\r\n          additionalRowInfoEnum.ROW_INDEX,\r\n        ],\r\n      });\r\n  /* FINALIZE LAST MINUTE SPOTS */\r\n  if (Array.isArray(newLastMinuteSpots))\r\n    if (newLastMinuteSpots.length < 2) newLastMinuteSpots = [];\r\n    else\r\n      newLastMinuteSpots = getTableDataWithAdditionalInfo({\r\n        tableData: newLastMinuteSpots,\r\n        tableType: tableTypesEnum.SECONDARY,\r\n        additionalInfo: [\r\n          additionalRowInfoEnum.ROW_ID,\r\n          additionalRowInfoEnum.ROW_INDEX,\r\n        ],\r\n      });\r\n  return {\r\n    newSchedulingTableData,\r\n    newSecondaryTableData,\r\n    newDropBucket,\r\n    newLastMinuteSpots,\r\n  };\r\n}\r\n\r\nfunction getCustomCellColorFromTable(tableData) {\r\n  try {\r\n    let customCellColor = {};\r\n    const CELL_TYPES = ['Event_Name', 'Agency', 'Client', 'Brand', 'Product'];\r\n    /* GET CELL WISE COLOR FOR EACH CELL TYPE */\r\n    CELL_TYPES.forEach((cellType) => {\r\n      customCellColor[cellType] = getCellWiseColor(tableData, cellType);\r\n    });\r\n    return customCellColor;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction getCellWiseColor(tableData, cellType) {\r\n  try {\r\n    let cellWiseColor = {};\r\n    const cellSet = new Set();\r\n    for (const row of tableData) {\r\n      if (\r\n        !row[cellType] ||\r\n        row.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION ||\r\n        row.F_C_S_P === rowDataTypesEnum.SEGMENT\r\n      )\r\n        continue;\r\n      if (!cellSet.has(row[cellType])) {\r\n        cellSet.add(row[cellType]);\r\n        cellWiseColor[row[cellType]] = row.customCellColor[cellType];\r\n      }\r\n    }\r\n    /* SORT LIST IN ASCENDING ORDER */\r\n    cellWiseColor = Object.fromEntries(\r\n      Object.entries(cellWiseColor).sort(([keyA], [keyB]) =>\r\n        keyA.localeCompare(keyB),\r\n      ),\r\n    );\r\n    return cellWiseColor;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nconst getTableScrolledOffset = (tableRef) => {\r\n  try {\r\n    if (tableRef.current) {\r\n      return tableRef.current.state.scrollOffset;\r\n    }\r\n    return 0;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getSourceRowFromDragInfo = (dragInfo, schTableData, secTableData) => {\r\n  const sourceIndex = dragInfo.source.index;\r\n  if (dragInfo.source.droppableId === droppableIdsEnum.SCHEDULING)\r\n    return schTableData[sourceIndex];\r\n  else return secTableData[sourceIndex];\r\n};\r\n\r\nconst getCorrectedDestIndexForFilteredTable = (destIndex, tableData) => {\r\n  let isFilteredRowFound = false;\r\n  let newDestIndex = destIndex;\r\n  for (let index = newDestIndex; index >= 1; index--) {\r\n    if (index - 1 !== 0 && tableData[index - 1].isFiltered) {\r\n      newDestIndex = index;\r\n      isFilteredRowFound = true;\r\n      break;\r\n    }\r\n  }\r\n  if (!isFilteredRowFound) {\r\n    for (let index = newDestIndex; index <= tableData.length; index++) {\r\n      if (tableData[index + 1]?.isFiltered) {\r\n        newDestIndex = index;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return newDestIndex;\r\n};\r\n\r\nconst getCorrectedDestIndexForIntraTableDrag = (\r\n  dragInfo,\r\n  tableData,\r\n  activeFeatures,\r\n) => {\r\n  const sourceIndex = dragInfo.source.index;\r\n  const destIndex = dragInfo.destination.index;\r\n  let destinationIndex = destIndex;\r\n  /* DESTINATION INDEX CORRECTION IF FILTER IS ACTIVE */\r\n  if (activeFeatures[featuresEnum.FILTER]) {\r\n    destinationIndex = getCorrectedDestIndexForFilteredTable(\r\n      destIndex,\r\n      tableData,\r\n    );\r\n  }\r\n  if (sourceIndex < destinationIndex) {\r\n    /* DESTINATION INDEX CORRECTION IF DRAG IS TOP TO BOTTOM */\r\n    destinationIndex = destinationIndex + 1;\r\n  }\r\n  return destinationIndex;\r\n};\r\n\r\nconst getCorrectedDestIndexIfDestIndexIsNtc = (destIndex, tableData) => {\r\n  let newDestIndex = destIndex;\r\n  let curDestRow = tableData[newDestIndex];\r\n  while (curDestRow?.F_C_S_P === rowDataTypesEnum.NTC) {\r\n    newDestIndex++;\r\n    curDestRow = tableData[newDestIndex];\r\n  }\r\n  return newDestIndex;\r\n};\r\n\r\nconst getNTCRowsForSegment = async (segment, channel, date) => {\r\n  try {\r\n    const response = await apiCallstoreprocedure('USP_Sch_Get_NTC_Imports', {\r\n      ChannelCode: channel.ChannelCode,\r\n      LocationCode: channel.LocationCode,\r\n      TelecastDate: convertDateToYMD(date),\r\n      NTCTypeCode: 0,\r\n      ContentCode: parseInt(segment.ContentCode),\r\n      Ep_No: parseInt(segment.EpisodeNo || segment.Ep_No),\r\n      SeasonNo: parseInt(segment.SeasonNo),\r\n      Break: parseInt(segment.BreakNumber),\r\n    });\r\n    if (response.status === 200) return response.data;\r\n    else return [];\r\n  } catch (error) {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst getNowNTCsForSegment = async (segment, channel, date, type, FPC_Time) => {\r\n  try {\r\n    console.log('segment', segment, 'type', type, 'FPC_Time', FPC_Time);\r\n    const eventType = type === 'Now' ? 7 : 8;\r\n\r\n    const response = await apiCallstoreprocedure(\r\n      'USP_Sch_Get_NTC_Imports_Now',\r\n      {\r\n        ChannelCode: channel.ChannelCode,\r\n        LocationCode: channel.LocationCode,\r\n        TelecastDate: convertDateToYMD(date),\r\n        NTCTypeCode: 0,\r\n        ContentCode: parseInt(segment.ContentCode),\r\n        Ep_No: parseInt(segment.EpisodeNo || segment.Ep_No),\r\n        SeasonNo: parseInt(segment.SeasonNo),\r\n        Break: parseInt(segment.BreakNumber),\r\n        EventType: eventType,\r\n        FPCTime: FPC_Time,\r\n      },\r\n    );\r\n    if (response.status === 200) return response.data;\r\n    else return [];\r\n  } catch (error) {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst getPromoRowsForSegment = async (segment, channel, date) => {\r\n  try {\r\n    const response = await apiCallstoreprocedure('USP_Sch_Get_Promo_Imports', {\r\n      ChannelCode: channel.ChannelCode,\r\n      LocationCode: channel.LocationCode,\r\n      TelecastDate: convertDateToYMD(date),\r\n      PromoTypeCode: 0,\r\n      ContentCode: parseInt(segment.ContentCode),\r\n      Ep_No: parseInt(segment.Ep_No),\r\n      SeasonNo: parseInt(segment.SeasonNo),\r\n      Break: parseInt(segment.BreakNumber),\r\n    });\r\n    if (response.status === 200) return response.data;\r\n    else return [];\r\n  } catch (error) {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst isDtmfRowsPresent = (tableData) => {\r\n  let result = false;\r\n  for (let index = 0; index < tableData.length; index++) {\r\n    const curRow = tableData[index];\r\n    if (\r\n      curRow.F_C_S_P === rowDataTypesEnum.NTC &&\r\n      curRow.NtcTypeName === 'DTM'\r\n    ) {\r\n      result = true;\r\n      break;\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\nconst isScteOnRowsPresent = (tableData) => {\r\n  let result = false;\r\n  for (let index = 0; index < tableData.length; index++) {\r\n    const curRow = tableData[index];\r\n    if (\r\n      curRow.F_C_S_P === rowDataTypesEnum.NTC &&\r\n      curRow.NtcTypeName === 'SCT'\r\n    ) {\r\n      result = true;\r\n      break;\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\nconst getTotalDurOfPriEventsForSeg = (tableData, segmentIndex) => {\r\n  let duration = '00:00:00:00';\r\n  for (let index = segmentIndex + 1; index < tableData.length; index++) {\r\n    const curRow = tableData[index];\r\n    if (\r\n      !curRow ||\r\n      curRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION ||\r\n      curRow.F_C_S_P === rowDataTypesEnum.SEGMENT\r\n    )\r\n      break;\r\n    if (\r\n      curRow.F_C_S_P !== rowDataTypesEnum.SEGMENT &&\r\n      curRow.F_C_S_P !== rowDataTypesEnum.CONTENT_TERMINATION &&\r\n      curRow.F_C_S_P !== rowDataTypesEnum.NTC\r\n    ) {\r\n      duration = addTimes(duration, curRow.Duration);\r\n    }\r\n  }\r\n  return duration;\r\n};\r\n\r\nexport {\r\n  getDefaultActiveFeatures,\r\n  getFeaturesList,\r\n  getTableDataWithAdditionalInfo,\r\n  getSchedulingTableData,\r\n  getDroppedSpots,\r\n  getLastMinuteSpots,\r\n  getRowWithNTC,\r\n  isBasicDragValid,\r\n  isDragValidForSourceRow,\r\n  isRowDataTypePresentInDraggedRows,\r\n  getSegmentEndIndex,\r\n  getRowWithCellWarnings,\r\n  getRowWithReferenceInfo,\r\n  getRowWithActions,\r\n  isCommercialInsertValid,\r\n  isNTCInsertValid,\r\n  getNTCParentRow,\r\n  isAnyNTCPaid,\r\n  isNTCPlacedBelowCMOrCT,\r\n  isNTCEndingAfterDuration,\r\n  isPaidNTCInsertValid,\r\n  removeRowsFromTableData,\r\n  isSegmentValid,\r\n  isRowLastSegment,\r\n  isRowBetweenValidTime,\r\n  removeAdditionalInfoFromRows,\r\n  getSegmentWiseContent,\r\n  getProgramWithSegmentContent,\r\n  updateProgramInSchedulingTableData,\r\n  getFilteredTableData,\r\n  updateOffsetStartTime,\r\n  finalizeData,\r\n  getCustomCellColorFromTable,\r\n  getTableScrolledOffset,\r\n  getSourceRowFromDragInfo,\r\n  getCorrectedDestIndexForFilteredTable,\r\n  isSelectedRowsBetweenStartAndEndTime,\r\n  getCorrectedDestIndexForIntraTableDrag,\r\n  getCorrectedDestIndexIfDestIndexIsNtc,\r\n  isTelTimeBetweenStartAndEndTime,\r\n  getNTCRowsForSegment,\r\n  getNowNTCsForSegment,\r\n  getPromoRowsForSegment,\r\n  isDtmfRowsPresent,\r\n  isScteOnRowsPresent,\r\n  getTotalDurOfPriEventsForSeg,\r\n};\r\n","import { addTimeDurations } from 'views/Controls/GLOBALFUNACTION';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { FaPause, FaPlay } from 'react-icons/fa';\r\nimport { Button, Dialog, Input } from 'components/ui';\r\n\r\nconst formatTime11 = (time) => {\r\n  const parts = time.split(':');\r\n  return parts\r\n    .map((part) => part.padStart(2, '0'))\r\n    .join(':')\r\n    .substring(0, 11);\r\n};\r\nexport function UpdatePrimaryID(data) {\r\n  let lastPrimaryID = 0;\r\n  const newData = [];\r\n\r\n  data.forEach((item) => {\r\n    if (item.F_C_S_P !== 'NTC') {\r\n      lastPrimaryID++;\r\n    }\r\n    // Create a new object with the updated primary ID\r\n    const newItem = { ...item, PrimaryID: lastPrimaryID };\r\n    newData.push(newItem);\r\n  });\r\n\r\n  return newData;\r\n}\r\nexport function updateStartTimes(\r\n  table1Data,\r\n  isProgrambase,\r\n  isComBrk,\r\n  EventSkipType = 'CM',\r\n  defaultStartTime,\r\n  firstLoad,\r\n  frames,\r\n) {\r\n  let previousDuration = '00:00:00:00';\r\n  let Start_Time = defaultStartTime ? defaultStartTime : '00:00:00:00';\r\n  return table1Data.map((row, index) => {\r\n    if (firstLoad && row.F_C_S_P === 'NTC' && row.NtcTypeName === 'DTM')\r\n      return row;\r\n    if (row.F_C_S_P === 'NTC' || row.F_C_S_P === 'BR') {\r\n      if (row.OffsetStartTime) {\r\n        return {\r\n          ...row,\r\n          Start_Time: row.OffsetStartTime,\r\n          Tel_Time: row.OffsetStartTime,\r\n        };\r\n      } else {\r\n        return {\r\n          ...row,\r\n          Start_Time: '00:00:00:00',\r\n          Tel_Time: '00:00:00:00',\r\n          OffsetStartTime: '00:00:00:00',\r\n        };\r\n      }\r\n    }\r\n    let newStartTime = Start_Time;\r\n\r\n    if (isProgrambase) {\r\n      if (row.F_C_S_P !== 'CT') {\r\n        if (\r\n          (row.F_C_S_P === EventSkipType && isComBrk) ||\r\n          row.F_C_S_P === 'NTC' ||\r\n          row.F_C_S_P === 'BR'\r\n        ) {\r\n          Start_Time = formatTime11(Start_Time);\r\n          return { ...row, Start_Time, Tel_Time: Start_Time };\r\n        }\r\n\r\n        newStartTime = addTimesForTelTime(Start_Time, previousDuration, frames);\r\n        previousDuration = row.Duration;\r\n        newStartTime = formatTime11(newStartTime);\r\n        Start_Time = formatTime11(newStartTime);\r\n        return { ...row, Start_Time: newStartTime, Tel_Time: newStartTime };\r\n      } else {\r\n        Start_Time = row.FPC_Time + ':00:00';\r\n        previousDuration = row.Duration;\r\n        newStartTime = formatTime11(newStartTime);\r\n        Start_Time = formatTime11(Start_Time);\r\n        return { ...row, Start_Time, Tel_Time: Start_Time };\r\n      }\r\n    } else {\r\n      if (index === 0) {\r\n        Start_Time = defaultStartTime ? defaultStartTime : row.Start_Time;\r\n        previousDuration = row.Duration;\r\n      } else {\r\n        newStartTime = addTimesForTelTime(Start_Time, previousDuration, frames);\r\n        newStartTime = formatTime11(newStartTime);\r\n        Start_Time = formatTime11(newStartTime);\r\n        if ((row.F_C_S_P === 'NTC' && isComBrk) || row.F_C_S_P === 'BR') {\r\n          return { ...row, Start_Time, Tel_Time: Start_Time };\r\n        }\r\n        previousDuration = row.Duration;\r\n        newStartTime = formatTime11(newStartTime);\r\n        Start_Time = formatTime11(newStartTime);\r\n      }\r\n      return { ...row, Start_Time: newStartTime, Tel_Time: newStartTime };\r\n    }\r\n  });\r\n}\r\n\r\nconst addTimesForTelTime = (time1, time2, frames = 24) => {\r\n  try {\r\n    const maxSeconds = 60;\r\n    const maxMinutes = 60;\r\n    const maxHours = 24; // Reset after 24 hours\r\n\r\n    const [h1, m1, s1, f1] = time1.split(':').map(Number);\r\n    const [h2, m2, s2, f2] = time2.split(':').map(Number);\r\n\r\n    // Add frames and calculate carry-over seconds\r\n    let totalFrames = f1 + f2;\r\n    let extraSeconds = Math.floor(totalFrames / frames);\r\n    totalFrames = totalFrames % frames;\r\n\r\n    // Add seconds and calculate carry-over minutes\r\n    let totalSeconds = s1 + s2 + extraSeconds;\r\n    let extraMinutes = Math.floor(totalSeconds / maxSeconds);\r\n    totalSeconds = totalSeconds % maxSeconds;\r\n\r\n    // Add minutes and calculate carry-over hours\r\n    let totalMinutes = m1 + m2 + extraMinutes;\r\n    let extraHours = Math.floor(totalMinutes / maxMinutes);\r\n    totalMinutes = totalMinutes % maxMinutes;\r\n\r\n    // Add hours and wrap around after 24 hours\r\n    let totalHours = h1 + h2 + extraHours;\r\n    totalHours = totalHours % maxHours;\r\n\r\n    // Format the result as HH:MM:SS:FF\r\n    const formattedTime =\r\n      String(totalHours).padStart(2, '0') +\r\n      ':' +\r\n      String(totalMinutes).padStart(2, '0') +\r\n      ':' +\r\n      String(totalSeconds).padStart(2, '0') +\r\n      ':' +\r\n      String(totalFrames).padStart(2, '0');\r\n\r\n    return formattedTime;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n// export function updateStartTimes(table1Data, isProgrambase = true, isComBrk = true) {\r\n\r\n// function calculateNewStartTime(startTime, previousDuration) {\r\n//     // Parse time strings into components for accurate calculation\r\n//     const startTimeComponents = startTime.split(':')\r\n//     const previousDurationComponents = previousDuration.split(':')\r\n\r\n//     // Add durations component-wise, handling overflow\r\n//     let hours =\r\n//         (parseInt(startTimeComponents[0]) +\r\n//             parseInt(previousDurationComponents[0])) %\r\n//         24\r\n//     let minutes =\r\n//         (parseInt(startTimeComponents[1]) +\r\n//             parseInt(previousDurationComponents[1])) %\r\n//         60\r\n//     let seconds =\r\n//         (parseInt(startTimeComponents[2]) +\r\n//             parseInt(previousDurationComponents[2])) %\r\n//         60\r\n//     let frames =\r\n//         (parseInt(startTimeComponents[3]) +\r\n//             parseInt(previousDurationComponents[3])) %\r\n//         100\r\n\r\n//     if (\r\n//         parseInt(startTimeComponents[2]) +\r\n//             parseInt(previousDurationComponents[2]) >=\r\n//         60\r\n//     ) {\r\n//         minutes = minutes + 1\r\n//     }\r\n//     if (\r\n//         parseInt(startTimeComponents[1]) +\r\n//             parseInt(previousDurationComponents[1]) >=\r\n//         60\r\n//     ) {\r\n//         hours = hours + 1\r\n//     }\r\n\r\n//     // Format the new start time with leading zeros\r\n//     return `${hours.toString().padStart(2, '0')}:${minutes\r\n//         .toString()\r\n//         .padStart(2, '0')}:${seconds.toString().padStart(2, '0')}:${frames\r\n//         .toString()\r\n//         .padStart(2, '0')}`\r\n// }\r\nexport function sumCommercialDuration(data) {\r\n  let totalDuration = 0;\r\n\r\n  data.forEach((item) => {\r\n    // Extract hours, minutes, seconds, and milliseconds from CommercialDuration\r\n    const [hours, minutes, seconds, frames] = item.CommercialDuration.split(\r\n      ':',\r\n    ).map((part) => parseInt(part));\r\n\r\n    // Convert hours, minutes, and seconds to milliseconds and add to totalDuration\r\n    totalDuration += hours * 3600 + minutes * 60 + seconds + frames / 30;\r\n  });\r\n\r\n  return totalDuration;\r\n}\r\nexport function hideStackedSideNav() {\r\n  const stackedSideNav = document.getElementsByClassName('stacked-side-nav')[0];\r\n  stackedSideNav.classList.add('hidden');\r\n  const footer = document.getElementsByClassName('footer')[0];\r\n  footer.classList.add('hidden');\r\n}\r\n\r\nexport function hideStackedSideNav_secondary() {\r\n  const stackedSideNav = document.getElementsByClassName(\r\n    'stacked-side-nav-secondary',\r\n  )[0];\r\n  if (stackedSideNav != undefined) {\r\n    stackedSideNav?.classList.add('hidden');\r\n  }\r\n  // Hide HiOutlineArrowRight when hiding side nav\r\n  document.getElementById('rightIndicator')?.classList.remove('hidden');\r\n  // Show HiOutlineArrowLeft\r\n  document.getElementById('leftIndicator')?.classList.add('hidden');\r\n}\r\n\r\nexport function hideStackedSideNav_secondaryShow() {\r\n  const stackedSideNav = document.getElementsByClassName(\r\n    'stacked-side-nav-secondary',\r\n  )[0];\r\n  if (stackedSideNav != undefined) {\r\n    stackedSideNav?.classList.remove('hidden');\r\n  }\r\n  document.getElementById('leftIndicator')?.classList.remove('hidden');\r\n  // Show HiOutlineArrowRight\r\n  document.getElementById('rightIndicator')?.classList.add('hidden');\r\n}\r\n\r\nexport const FilldraggedRow = (draggedRows, referencerow) => {\r\n  let clonedRows = draggedRows.map((row) => {\r\n    let clonedRow = { ...row };\r\n    if (clonedRow.F_C_S_P === 'S' || clonedRow.F_C_S_P === 'CT') {\r\n    }\r\n    if (clonedRow.F_C_S_P === 'NTC') {\r\n      clonedRow.PrimaryID = referencerow.PrimaryID;\r\n      clonedRow.SeasonNo = referencerow.SeasonNo;\r\n      clonedRow.Ep_No = referencerow.Ep_No;\r\n      clonedRow.ContentCode = referencerow.ContentCode;\r\n      clonedRow.BreakNumber = referencerow.BreakNumber;\r\n      clonedRow.SeasonNo = referencerow.SeasonNo;\r\n      clonedRow.FPC_ID = referencerow.FPC_ID;\r\n    } else if (clonedRow.F_C_S_P === 'CM') {\r\n      clonedRow.PrimaryID = referencerow.PrimaryID;\r\n      clonedRow.SeasonNo = referencerow.SeasonNo;\r\n      clonedRow.Ep_No = referencerow.Ep_No;\r\n      clonedRow.ContentCode = referencerow.ContentCode;\r\n      clonedRow.BreakNumber = referencerow.BreakNumber;\r\n      clonedRow.SeasonNo = referencerow.SeasonNo;\r\n      clonedRow.FPC_ID = referencerow.FPC_ID;\r\n      clonedRow.ScheduleTime = referencerow.ScheduleTime;\r\n    } else {\r\n      clonedRow.SeasonNo = referencerow.SeasonNo;\r\n      clonedRow.Ep_No = referencerow.Ep_No;\r\n      clonedRow.ContentCode = referencerow.ContentCode;\r\n      clonedRow.BreakNumber = referencerow.BreakNumber;\r\n      clonedRow.SeasonNo = referencerow.SeasonNo;\r\n      clonedRow.FPC_ID = referencerow.FPC_ID;\r\n    }\r\n\r\n    clonedRow.SequenceNo = referencerow.SequenceNo;\r\n    clonedRow.Start_Time = '00:00:00:00';\r\n\r\n    return clonedRow;\r\n  });\r\n\r\n  return clonedRows;\r\n};\r\nconst formatTime = (seconds) => {\r\n  const minutes = Math.floor(seconds / 60);\r\n  const secondsRemainder = seconds % 60;\r\n  return `${String(minutes).padStart(2, '0')}:${String(\r\n    secondsRemainder,\r\n  ).padStart(2, '0')}`;\r\n};\r\n\r\nexport function transformData(data) {\r\n  return data.map((item, index) => ({\r\n    id: String(index), // Convert index to string for \"id\"\r\n    title: `Total Scheduled ${item.TotalScheduled}`,\r\n    start: item.TelecastDate.split('T')[0], // Extract date part\r\n    eventColor: 'yellow',\r\n  }));\r\n}\r\n\r\nexport const Clock = ({ Progress, PromoSchdulingSave, openNotification }) => {\r\n  const [percent, setPercent] = useState(0);\r\n  const [remainingTime, setRemainingTime] = useState(0);\r\n  const [initialRemainingTime, setInitialRemainingTime] = useState(0); // Added line\r\n  const [isRunning, setIsRunning] = useState(false);\r\n  const initialRender = useRef(true);\r\n  const [dialogIsOpen, setIsOpen] = useState(false);\r\n  const [first, setfirst] = useState('');\r\n  const openDialog = () => {\r\n    setIsOpen(true);\r\n  };\r\n  const handlePause = () => {\r\n    setIsRunning(!isRunning);\r\n  };\r\n  const CircleCustomInfo = ({ percent }) => {\r\n    return (\r\n      <div>\r\n        <p onClick={() => openDialog()} style={{ cursor: 'pointer' }}>\r\n          <p\r\n            style={{\r\n              marginTop: '5px',\r\n              fontSize: '12px',\r\n              color: 'white',\r\n            }}\r\n          >\r\n            {formatTime(remainingTime)}\r\n          </p>\r\n        </p>\r\n        <p\r\n          style={{\r\n            cursor: 'pointer',\r\n            color: 'white',\r\n            marginLeft: '10px',\r\n          }}\r\n          onClick={() => handlePause()}\r\n        >\r\n          {isRunning ? <FaPause /> : <FaPlay />}\r\n        </p>\r\n      </div>\r\n    );\r\n  };\r\n  useEffect(() => {\r\n    handleSetTime(10);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n\r\n    if (isRunning && remainingTime > 0) {\r\n      interval = setInterval(() => {\r\n        setRemainingTime((prevTime) => Math.max(prevTime - 1, 0));\r\n        setPercent((prevPercent) => {\r\n          const newPercent =\r\n            100 - (remainingTime / (initialRemainingTime || 1)) * 100;\r\n          return Math.min(newPercent, 100);\r\n        });\r\n      }, 1000);\r\n    } else if (remainingTime === 0 && isRunning) {\r\n      PromoSchdulingSave();\r\n      openNotification('info');\r\n      setRemainingTime(initialRemainingTime);\r\n    }\r\n\r\n    return () => clearInterval(interval);\r\n  }, [isRunning, remainingTime, initialRemainingTime]); // Added initialRemainingTime\r\n\r\n  useEffect(() => {\r\n    if (initialRender.current) {\r\n      initialRender.current = false;\r\n      return;\r\n    }\r\n  }, [remainingTime]);\r\n\r\n  const handleSetTime = (inputTime) => {\r\n    const newTimeInMinutes = parseInt(inputTime, 10);\r\n    if (!isNaN(newTimeInMinutes) && newTimeInMinutes > 0) {\r\n      const newTimeInSeconds = newTimeInMinutes * 60;\r\n      setRemainingTime(newTimeInSeconds);\r\n      setInitialRemainingTime(newTimeInSeconds); // Added line\r\n      setPercent(0);\r\n      setIsRunning(true);\r\n    }\r\n  };\r\n\r\n  const onDialogClose = (e) => {\r\n    console.log('onDialogClose', e);\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex\">\r\n      <Dialog\r\n        isOpen={dialogIsOpen}\r\n        width={300}\r\n        height={200}\r\n        onClose={onDialogClose}\r\n        onRequestClose={onDialogClose}\r\n      >\r\n        <div className=\"flex flex-col h-full justify-between\">\r\n          <h5 className=\"mb-4\">Set Timer</h5>\r\n          <div className=\"flex align-center\">\r\n            <Input\r\n              maxLength=\"2\"\r\n              value={first}\r\n              onChange={(e) => {\r\n                const input = e.target.value;\r\n                if (/^\\d{0,2}$/.test(input) || input === '') {\r\n                  setfirst(input);\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"text-right mt-6\">\r\n            <Button\r\n              className=\"ltr:mr-2 rtl:ml-2\"\r\n              variant=\"solid\"\r\n              onClick={() => {\r\n                handleSetTime(first);\r\n                onDialogClose();\r\n              }}\r\n            >\r\n              Set\r\n            </Button>\r\n            <Button\r\n              className=\"ltr:mr-2 rtl:ml-2\"\r\n              variant=\"solid\"\r\n              onClick={onDialogClose}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Dialog>\r\n      <div className=\"flex\" style={{ width: '120px' }}>\r\n        <Progress\r\n          variant=\"circle\"\r\n          className=\"mx-6\"\r\n          size=\"sm\"\r\n          width={50}\r\n          percent={percent}\r\n          customInfo={<CircleCustomInfo percent={percent} />}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":["axios","require","async","apiGetCommercialtypemaster","data","ApiService","url","method","apispotcancellation","i","IsNTC","Postcommercialtype","param","token","Promise","resolve","reject","JSON","stringify","CommercialTypeName","CommercialTypeShortName","IsActive","config","maxBodyLength","Infinity","appConfig","headers","Authorization","request","then","response","catch","errors","Putcommercialtype","CommercialTypeCode","apiGetCommercialmaster","LocationCode","ChannelCode","FromDate","ToDate","apiGetBooking","id","apiUSP_SA_RO_SpotSchedule","From_DT","To_DT","DealNumber","BookingNumber","ScheduleDate","checked","BookingRefNumber","IsNTCPage","Brand","apiGetCommercialClientBrandwisedro2p","selectedBrand","selectedClient","selectedCommercial","value","DurInSec","apiGetCommercialClientBrandwisedrop","Postcommercial","console","log","Putcommercial","apiGetPositionDrop","apiGetSpotPositionDrop","apiGetCancelRemarkMaster","AddCancelremark","row","fetch","Accept","body","CancelRemarkName","UpdateCancelremark","CancelRemarkCode","apiGetYearMaster","AddYear","Description","StartDate","EndDate","UpdateYear","Yearcode","apiGetTaxMaster","AddTax","UpdateTax","TaxCode","apiGetTrafficDayClose","date","channel","error","Error","apiGetTrafficDayCloseByDateRange","fromdate","todate","apiCreateTrafficDayClose","apiGetBookingByClient","clientCode","apiGetBookingActivityForBookingCode","bookingNumber","apiGet_BookinActivityByDate","activity","type","dateTime","executerId","ExportToCSV","Array","isArray","csvContent","map","Object","values","join","blob","Blob","saveAs","ExportToCSVCustomName","name","isRowDragDisabled","page","activeFeatures","index","tableType","secondaryTableSelectedRows","length","tableTypesEnum","pagesEnum","F_C_S_P","rowDataTypesEnum","isNTCDragDisabled","featuresEnum","isRowSelected","selectedRows","selectedRow","rowId","includes","isRowLeftClicked","leftClickedSchTableRow","leftClickedSecTableRow","isColumnWarningColumn","cellWarning","column","cell","accessorKey","getFontColor","fontColor","EventDefaultFrontColor","getBgColor","bgColor","customCellColor","EventDefaultBackColor","getBorderColor","getUpdatedSelectedRows","clickedRow","schedulingTableData","secTableSelRows","newSelectedRows","isSelected","filter","rowWithNTCs","getRowWithNTC","unselectingRowIds","push","every","openNotification","isRowNTCCompatible","getNTCRowsForParentRow","parentRow","tableData","rowIndex","ntcRows","getUpdatedSelectedRowsForShiftClick","isManageSegmentActive","lastSelectedRow","slice","reverse","firstRow","lastRow","NTCGroupCode","getSummary","key","eventType","title","total","forEach","addTimes","maxFrames","totalHours","totalMinutes","totalSeconds","totalFrames","times","time","h","m","s","f","split","Number","extraSeconds","Math","floor","extraMinutes","extraHours","String","padStart","getTimeTotalInSec","rowDataType","hours","minutes","seconds","frames","timeToSeconds","getProgramsSummary","programs","icon","className","getTotalDroppedSpots","dropBucket","getTotalLastMinuteSpots","lastMinuteSpots","getSummaryList","summaryList","getSummaryListForPromoSch","getSummaryListForSongSch","getSummaryListForCommercialSch","getSummaryListForNTCSch","promos","commercials","ntcs","songs","promosDuration","commercialsDuration","songsDuration","getSummaryListForFinalLogSch","exportFormat2","tableDataForExport","FPC_Time","Tel_Time","TRAISLOT","convertTimecodeToRange","Event_Name","Duration","TC_IN","TC_Out","Video_ID","TelecastDate","SeasonNo","EpisodeNo","DealNo","Agency","Client","Product","PromoTypeName","RODP_Category","BookingDetailCode","columns","header","ExportxlswithColor","format","label","timecode","startHour","endHour","generateFileContentForPly","telecastDate","playlistId","exportPlayoutFileName","content","replaceAll","count","item","listId","SequenceNo","mediaPath","House_ID","parseDurationE","generateFileContentForOsc","F_C_S_P_MAPPING","getJsonForXml","channelSettings","curCtRow","curSegRow","curBreak","itemsElements","curReconciliationCount","subtractTimes","Start_Time","getJsonForSegment","getJsonForPromoCommSong","attributes","elements","text","crypto","randomUUID","getJsonForHeader","locations","LocationName","Channel","ChannelName","Date","StartTime","EndTime","segment","ctRow","event","getClassNames","isFeatureActive","classNames","handleFeatureClick","feature","maintainScrolledOffsetOfTables","setActiveFeatures","setSchedulingTableSelectedRows","setLeftClickedSchTableRow","setUpdateSchedulerStateInRedux","executeOperation","secondaryAreaZindexRef","isDropdownVisible","newActiveFeatures","operation","operationTypesEnum","isHideCommercial","externalActiveFeatures","isShowProgramBaseTime","isShowNTC","selectedFilters","isShowSCTE","incrementZindex","isActive","secondaryTableTypesEnum","prevState","pop","featureValue","handleMaximize","isMaximize","document","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","handleExport","exportFileName","handleFormattedExport","newTableData","newRow","FORMATTED_EXPORT_COLUMNS","getDataToPostForPromoSchedule","reduce","result","array","updatedEvent","nearestCT","find","position","convertDateFormatyyyyMMdd","NewTelecastDate","TelecastTime","ContentCode","BreakNumber","Ep_No","Position","ActualTelecastTime","DayOfWeek","NewDayOfWeek","FPC_ID","PromoTypeCode","PromoCode","getDataToPostForSongSchedule","SongTypeCode","SongCode","SongCategoryCode","updateDropBox","droppedSpots","splice","Id","BookingDetailID","apiUpdateSpotStatus","handleSaveScheduleOnlyForbes","filteredData","setShowLoader","dispatch","unsavedWork","postApiResponse","deleteApiResponse","insertApiResponse","putApiResponse","apiPosttransmissionlogaddaudit","status","apideletedataPosttransmissionlogaddaudit","apiPosttransmissionloginsertdata","apiPUTtransmissionlogupdatedata","updatedUnsavedWork","setUnsavedWork","handleSaveSchedule","isAutoSave","dataToPost","logged","BookingStatus","SpotPositionNumber","ScheduleTime","getDataToPostForCommercialSchedule","NTCCode","NTCTypeCode","NTCDuration","Sec_ID","NTCLayer","OffsetStartTime","DefaultGAP","getDataToPostForNTCSchedule","FPCTime","FPC_TimeTo","RowNumber","TransmissionTime","GMTTime","EventCode","EventCaption","HouseID","VideoID","TapeID","TCIN","TCOUT","EventDuration","EventType","PartNumber","BookingSeqNo","DealLineItemNo","TimeBandCode","PrimaryID","TxTimeinSec","NtcTypeName","NTCTypeName","CLIENT","getDataToPostForFinalLogSchedule","Postpromoscheduling","PostSongscheduling","PutCommercialSave","PostNTCScheduling","Posttransmissionlog","saveSchedule","exportPlayout","convertDateToDMY","playoutExportType","getPlayoutExportFormat","playoutExportFormatEnum","exportPlayoutForPly","exportPlayoutForOsc","apiGetExportPlayOut","formatted","toISOString","replace","exportPlayoutForCSV","EventTitle","fcsp","SOM","StartType","EndType","LOGO","Empty","Type","exportPlayoutForUSAFoodFood2","jsonForXml","js2xml","compact","spaces","exportPlayoutForXML","playoutExportFormat","PLAYOUT_EXPORT_FORMAT","isFeatureHidden","maxZindex","keys","current","getDummyRow","dummyRow","getRowId","ROW_ID_KEY","uuid","getColumnsState","visibleColumns","removedColumns","getColumnSettingsFromAPI","TABLE_NAMES","originalColumns","getAllColumnsOfTable","tableName","ignoredColumns","apiGETColumnSetting","sortedColumnSetting","sort","a","b","columnSetting","IsVisible","Header","ColumnName","style","width","ColumnWidht","allColumnsName","sortedColumnsName","columnName","newIgnoredColumns","rowKeys","isAnyRHSFeatureActive","handleFeatureClose","getProgramSchedule","program","programSchedule","isFiltered","isHidden","isTrafficDayOpenFn","dateInYYYYMMDD","dayjs","isScheduleAllowedToEditFn","isDateBackDate","IS_BACKDATED_SCHEDULE_ALLOWED_TO_EDIT","getDeletableRows","rows","getContentSegmentsForContent","contentIndex","contentSegments","getAllProgramsInTable","PROMO_FEATURES","SONG_FEATURES","COMMERCIAL_FEATURES","NTC_FEATURES","FINAL_LOG_FEATURES","DEFAULT_PROMO_ACTIVE_FEATURES","DEFAULT_SONG_ACTIVE_FEATURES","DEFAULT_COMMERCIAL_ACTIVE_FEATURES","DEFAULT_NTC_ACTIVE_FEATURES","DEFAULT_FINAL_LOG_ACTIVE_FEATURES","ROW_ACTIONS","DELETE","actionHandler","setIsDeleteMultipleRowsDialogOpen","rowsToDelete","handleDeleteRows","tooltip","DROP_SPOTS","setIsDropMultipleRowsDialogOpen","selectedRowsToDrop","ROTATION_INFO","EDIT_ROW","setIsEditingRowDialogOpen","DEFAULT_SEC_TABLE_TOOLBAR_STATE","isManageColumnsDropdownVisible","HOURS","NON_COMM_RULE_CHECK_TABLE_COLUMNS","align","CHANGE_PROGRAM_COLUMNS","INSERT_PROGRAM_COLUMNS","TABLE_ROW_HEIGHT","SCHEDULING_TABLE_NAMES","SECONDARY_TABLE_NAMES","INSERT_PROMOS","INSERT_SONGS","INSERT_COMMERCIALS","INSERT_DROPPED_SPOTS","INSERT_LAST_MINUTE_SPOTS","INSERT_NTC","INSERT_PROGRAMS","PROMO_ROTATION_INFO","SONG_ROTATION_INFO","COMMERCIAL_ROTATION_INFO","NTC_ROTATION_INFO","FINAL_LOG_ROTATION_INFO","BACK_TO_BACK_COMM_WARNING_CELLS_WITH_COLORS","BACK_TO_BACK_NON_COMM_WARNING_CELLS_WITH_COLORS","MULTI_SPOT_CELL_WARNING_PROPERTIES","BACK_TO_BACK_COMMERCIALS_FILTER_OPTIONS","FILTER_DROPDOWN_OPTIONS","tableFilterOptionsEnum","EDIT_ROW_INFO","editableColumns","isTextArea","SCTE_ROWS","Tape_ID","DTMF_ROWS","DTMF_IN","DTMF_OUT","SCTE_ON_ROW","DELETE_EVENT_OPTIONS","LIVE_EVENT_OPTIONS","DEFAULT_COL_SORTING_INFO","selectedRowsToDelete","getDefaultActiveFeatures","isScheduleAllowedToEdit","defaultActiveFeatures","removeBackdateFeatures","getFeaturesList","newFeature","getTableDataWithAdditionalInfo","additionalInfo","additionalRowInfoEnum","segmentStartIndex","segmentEndIndex","referenceRow","getSegmentEndIndex","getRowWithCellWarnings","getRowWithReferenceInfo","getRowWithActions","getRowWithCustomCellColor","getSchedulingTableData","isGenerateLog","mode","convertDateToYMD","newSchedulingTableData","apiGetPromoScheduling","apiGetSongSchedulingData","Mode","apiCallstoreprocedure","apiGetNTCScheduling","apiGettransmissionlog","unshift","getDroppedSpots","isOperationInitializeScheduler","bookingDetailIds","Set","delete","spot","has","removeSpotsPresentInSchTable","getLastMinuteSpots","removeSpotsPresentInTable2","table1","table2","draggedRows","includeParentRow","rowWithNTC","isBasicDragValid","dragInfo","destIndex","sourceDroppableId","source","droppableId","destinationDroppableId","destination","droppableIdsEnum","isDragValidForSourceRow","isChannelForbes","destinationIndex","sourceRow","isRowDataTypePresentInDraggedRows","rowWithCellWarnings","isBackToBackCellWarningAdded","tableIndex","backToBackWarningCellsWithColor","backToBackWarningCells","prevRow","nextRow","warningType","cellWarningTypesEnum","addBackToBackCellWarning","rowWithOutOfTimebandWarning","SpotStartTime","SpotEndTime","spotStartTime","spotEndTime","addOutOfTimebandCellWarning","rowWithMultiSpotWarning","commercialRow","isMultiSpotPresentForCurCommercial","addMultiSpotCellWarning","actions","newCustomCellColor","cellType","isCommercialInsertValid","destinationRow","isSelectedRowsBetweenStartAndEndTime","isTelTimeBetweenStartAndEndTime","draggedRow","isNTCInsertValid","isDragValid","ntcParentRow","getNTCParentRow","isPaidNTC","isAnyNTCPaid","isNTCPlacedBelowCMOrCT","isNTCEndingAfterDuration","isPaidNTCInsertValid","rowBeforeDestination","curRow","offsetStartTime","parentEventType","removeRowsFromTableData","rowsId","isSegmentValid","selectedBreaks","selProgramsFpcId","segStartTime","insertStartTime","convertDateToHHMMSSFF","start","insertEndTime","end","isRowLastSegment","isRowBetweenValidTime","removeAdditionalInfoFromRows","getSegmentWiseContent","clickedProgramSchedule","segmentContents","isSegmentInfoFound","curSegmentContents","getProgramWithSegmentContent","schedule","segmentWiseContent","clickedProgram","programWithSegmentWiseContent","updatedSegmentWiseContent","rowWithOriginalCTColor","shift","flat","updateProgramInSchedulingTableData","newProgramWithSegmentContent","updatedSchedulingTableData","getFilteredTableData","filteredTableData","curFilter","filterIndex","columnKey","searchValue","toLowerCase","cellValue","toString","startsWith","endsWith","updateOffsetStartTime","updatedRow","finalizeData","secondaryTableData","startTime","isNtcGroupingEnabled","isFirstLoad","newSecondaryTableData","newDropBucket","newLastMinuteSpots","updateStartTimes","undefined","childNTCs","groupedNTCs","newChildNTCs","ntcType","sortedNTCGroup","localeCompare","groupNTCBasedOnNTCGroupCode","getCustomCellColorFromTable","cellWiseColor","cellSet","add","fromEntries","entries","keyA","keyB","getCellWiseColor","getTableScrolledOffset","tableRef","state","scrollOffset","getSourceRowFromDragInfo","schTableData","secTableData","sourceIndex","getCorrectedDestIndexForFilteredTable","isFilteredRowFound","newDestIndex","getCorrectedDestIndexForIntraTableDrag","getCorrectedDestIndexIfDestIndexIsNtc","curDestRow","getNTCRowsForSegment","parseInt","Break","getNowNTCsForSegment","getPromoRowsForSegment","isDtmfRowsPresent","isScteOnRowsPresent","getTotalDurOfPriEventsForSeg","segmentIndex","duration","formatTime11","part","substring","UpdatePrimaryID","lastPrimaryID","newData","newItem","table1Data","isProgrambase","isComBrk","EventSkipType","defaultStartTime","firstLoad","previousDuration","newStartTime","addTimesForTelTime","time1","time2","maxSeconds","maxMinutes","maxHours","h1","m1","s1","f1","h2","m2","s2","f2","sumCommercialDuration","totalDuration","CommercialDuration","hideStackedSideNav","getElementsByClassName","classList","hideStackedSideNav_secondary","stackedSideNav","getElementById","remove","hideStackedSideNav_secondaryShow","FilldraggedRow","referencerow","clonedRow","formatTime","secondsRemainder","Clock","Progress","PromoSchdulingSave","percent","setPercent","useState","remainingTime","setRemainingTime","initialRemainingTime","setInitialRemainingTime","isRunning","setIsRunning","initialRender","useRef","dialogIsOpen","setIsOpen","first","setfirst","CircleCustomInfo","onClick","cursor","marginTop","fontSize","color","marginLeft","useEffect","handleSetTime","interval","setInterval","prevTime","max","prevPercent","newPercent","min","clearInterval","inputTime","newTimeInMinutes","isNaN","newTimeInSeconds","onDialogClose","e","isOpen","height","onClose","onRequestClose","maxLength","onChange","input","target","test","variant","size","customInfo"],"sourceRoot":""}