{"version":3,"file":"static/js/8174.24196ba4.chunk.js","mappings":"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","sources":["views/Scheduling/Scheduler/components/SchedulingArea/components/DraggableTable/Cell/components/GroupwiseNtcConsumption/Group.js","views/Scheduling/Scheduler/components/SchedulingArea/components/DraggableTable/Cell/components/NTCGroupConsumptionIndicator.js","views/Scheduling/Scheduler/components/SchedulingArea/components/DraggableTable/Cell/components/GroupwiseNtcConsumption/GroupwiseNtcConsumption.js","views/Scheduling/Scheduler/components/SchedulingArea/components/DraggableTable/Cell/components/EventNameCell.js"],"sourcesContent":["import React from 'react';\r\n\r\nfunction GroupGraph({\r\n  group,\r\n  consumedDuration,\r\n  consumedPercentage,\r\n  graphColor,\r\n}) {\r\n  return (\r\n    <div className=\"grid grid-cols-12 items-center w-52 mb-1\" key={group}>\r\n      <span className=\"w-2\">{group}</span>\r\n      <div className=\"col-span-8 relative h-6\">\r\n        <div className=\"absolute h-full w-full border border-gray-600 rounded-md\"></div>\r\n        <div className=\"absolute h-full w-full p-0.5\">\r\n          <div\r\n            className={`h-full rounded ${graphColor}`}\r\n            style={{\r\n              width: `${consumedPercentage}%`,\r\n            }}\r\n          ></div>\r\n        </div>\r\n        <div className=\"absolute h-full w-full flex justify-center items-center text-xs text-gray-100\">\r\n          {consumedDuration}\r\n        </div>\r\n      </div>\r\n      <span className=\"col-span-3 text-xs text-right\">\r\n        {consumedPercentage}%\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GroupGraph;\r\n","import React, { useMemo } from 'react';\r\nimport { getPercentage, timeToSeconds } from 'views/Controls/GLOBALFUNACTION';\r\nimport { addTimes } from '../../../Summary/utils';\r\nimport { Tooltip } from 'components/ui';\r\nimport {\r\n  getNTCParentRow,\r\n  getRowWithNTC,\r\n} from 'views/Scheduling/Scheduler/context/utils';\r\nimport GroupGraph from './GroupwiseNtcConsumption/Group';\r\nimport { BsInfoLg } from 'react-icons/bs';\r\n\r\nfunction NTCGroupConsumptionIndicator({ tableData, row }) {\r\n  /* HELPER FUNCTIONS */\r\n  const getConsumptionInformation = () => {\r\n    const ntcParentRow = getNTCParentRow(row.rowIndex, tableData);\r\n    const ntcParentNTCRows = getRowWithNTC([ntcParentRow], tableData, false);\r\n    const curGroupNTCs = ntcParentNTCRows.filter(\r\n      (ntcRow) => ntcRow.NTCGroupCode === row.NTCGroupCode,\r\n    );\r\n    let parentDuration = ntcParentRow.Duration;\r\n    let consumedDuration = '00:00:00:00';\r\n    let consumedPercentage = '-';\r\n    curGroupNTCs.forEach((ntc, index) => {\r\n      if (curGroupNTCs.length > 1 && index !== curGroupNTCs.length - 1)\r\n        consumedDuration = addTimes(\r\n          consumedDuration,\r\n          ntc.Duration,\r\n          ntc.DefaultGAP,\r\n        );\r\n      else consumedDuration = addTimes(consumedDuration, ntc.Duration);\r\n    });\r\n    consumedPercentage = getPercentage(\r\n      timeToSeconds(consumedDuration),\r\n      timeToSeconds(parentDuration),\r\n      true,\r\n    ).toFixed(2);\r\n    return {\r\n      parentDuration,\r\n      consumedDuration,\r\n      consumedPercentage,\r\n    };\r\n  };\r\n\r\n  /* HOOKS */\r\n  const consumptionInformation = useMemo(getConsumptionInformation, [\r\n    row,\r\n    tableData,\r\n  ]);\r\n\r\n  return (\r\n    <Tooltip\r\n      title={\r\n        <div className=\"flex flex-col gap-2\">\r\n          <div className=\"flex justify-between items-center w-52\">\r\n            <span>Group {row.NTCGroupCode} Consumption</span>\r\n          </div>\r\n          <GroupGraph\r\n            group=\"P\"\r\n            consumedDuration={consumptionInformation.parentDuration}\r\n            consumedPercentage={100}\r\n            graphColor=\"bg-gradient-to-r from-blue-900/10 via-[30%] to-blue-800\"\r\n          />\r\n          <GroupGraph\r\n            group={row.NTCGroupCode}\r\n            consumedDuration={consumptionInformation.consumedDuration}\r\n            consumedPercentage={consumptionInformation.consumedPercentage}\r\n            graphColor={\r\n              consumptionInformation.consumedPercentage > 100\r\n                ? 'bg-gradient-to-r from-transparent via-[40%] to-red-600'\r\n                : 'bg-gradient-to-r from-transparent via-[40%] to-green-600'\r\n            }\r\n          />\r\n        </div>\r\n      }\r\n    >\r\n      <div className=\"bg-gray-800 bg-opacity-80 rounded-full p-1\">\r\n        <BsInfoLg className=\"text-gray-200\" />\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nexport default NTCGroupConsumptionIndicator;\r\n","import React, { useMemo } from 'react';\r\nimport {\r\n  getGroupedRows,\r\n  getPercentage,\r\n  timeToSeconds,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport { addTimes } from '../../../../Summary/utils';\r\nimport { Tooltip } from 'components/ui';\r\nimport {\r\n  getNTCParentRow,\r\n  getRowWithNTC,\r\n} from 'views/Scheduling/Scheduler/context/utils';\r\nimport GroupGraph from './Group';\r\nimport { BsInfoLg } from 'react-icons/bs';\r\n\r\nfunction GroupwiseNtcConsumption({ tableData, row }) {\r\n  /* HELPER FUNCTIONS */\r\n  const getConsumptionInformation = () => {\r\n    const ntcParentRow = getNTCParentRow(row.rowIndex + 1, tableData);\r\n    const ntcParentNTCRows = getRowWithNTC([ntcParentRow], tableData, false);\r\n    const groupedNTCs = getGroupedRows(ntcParentNTCRows, 'NTCGroupCode');\r\n    let parentDuration = ntcParentRow.Duration;\r\n    let groupwiseNtcConsumption = {};\r\n    Object.keys(groupedNTCs).forEach((groupCode) => {\r\n      const curGroupNTCs = groupedNTCs[groupCode];\r\n      let consumedDuration = '00:00:00:00';\r\n      let consumedPercentage = '-';\r\n      curGroupNTCs.forEach((ntc, index) => {\r\n        if (curGroupNTCs.length > 1 && index !== curGroupNTCs.length - 1)\r\n          consumedDuration = addTimes(\r\n            consumedDuration,\r\n            ntc.Duration,\r\n            ntc.DefaultGAP,\r\n          );\r\n        else consumedDuration = addTimes(consumedDuration, ntc.Duration);\r\n      });\r\n      consumedPercentage = getPercentage(\r\n        timeToSeconds(consumedDuration),\r\n        timeToSeconds(parentDuration),\r\n        true,\r\n      ).toFixed(2);\r\n      groupwiseNtcConsumption[groupCode] = {\r\n        consumedDuration,\r\n        consumedPercentage,\r\n      };\r\n    });\r\n    return {\r\n      parentDuration,\r\n      groupwiseNtcConsumption,\r\n    };\r\n  };\r\n\r\n  /* HOOKS */\r\n  const consumptionInformation = useMemo(getConsumptionInformation, [\r\n    row,\r\n    tableData,\r\n  ]);\r\n\r\n  return (\r\n    <Tooltip\r\n      title={\r\n        <div className=\"flex flex-col gap-2\">\r\n          <div className=\"flex justify-between items-center w-52\">\r\n            <span>NTC Groupwise Consumption</span>\r\n          </div>\r\n          <GroupGraph\r\n            group=\"P\"\r\n            consumedDuration={consumptionInformation.parentDuration}\r\n            consumedPercentage={100}\r\n            graphColor=\"bg-gradient-to-r from-blue-900/10 via-[30%] to-blue-800\"\r\n          />\r\n          {Object.keys(consumptionInformation.groupwiseNtcConsumption).map(\r\n            (groupCode) => {\r\n              const curGroupConsumptionInfo =\r\n                consumptionInformation.groupwiseNtcConsumption[groupCode];\r\n              return (\r\n                <GroupGraph\r\n                  group={groupCode}\r\n                  consumedDuration={curGroupConsumptionInfo.consumedDuration}\r\n                  consumedPercentage={\r\n                    curGroupConsumptionInfo.consumedPercentage\r\n                  }\r\n                  graphColor={\r\n                    curGroupConsumptionInfo.consumedPercentage > 100\r\n                      ? 'bg-gradient-to-r from-transparent via-[40%] to-red-600'\r\n                      : 'bg-gradient-to-r from-transparent via-[40%] to-green-600'\r\n                  }\r\n                />\r\n              );\r\n            },\r\n          )}\r\n        </div>\r\n      }\r\n    >\r\n      <div className=\"bg-gray-800 bg-opacity-80 rounded-full p-1\">\r\n        <BsInfoLg className=\"text-gray-200\" />\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nexport default GroupwiseNtcConsumption;\r\n","import classNames from 'classnames';\r\nimport { Tooltip } from 'components/ui';\r\nimport React from 'react';\r\nimport {\r\n  rowDataTypesEnum,\r\n  tableTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport NTCGroupConsumptionIndicator from './NTCGroupConsumptionIndicator';\r\nimport GroupwiseNtcConsumption from './GroupwiseNtcConsumption/GroupwiseNtcConsumption';\r\nimport { useSelector } from 'react-redux';\r\nimport { CLIENT } from 'views/Controls/clientListEnum';\r\n\r\nfunction EventNameCell({ row, isRowCT, column, tableData, tableType }) {\r\n  /* REDUX */\r\n  const channel = useSelector((state) => state.locale.selectedChannel);\r\n\r\n  /* CONSTANTS */\r\n  const IS_ROW_NTC = row.F_C_S_P === rowDataTypesEnum.NTC;\r\n  const IS_ROW_LIVE = row.F_C_S_P === rowDataTypesEnum.LIVE;\r\n  const IS_CHANNEL_ANI_PLUS = channel.label === CLIENT.ANI_PLUS;\r\n  const IS_CHANNEL_ASIANET = channel.label === CLIENT.ASIANET;\r\n\r\n  const renderSchTableEventName = () => {\r\n    return (\r\n      <div className=\"py-0.5 px-2.5 w-full h-full flex items-center\">\r\n        <span\r\n          className={classNames(\r\n            'bg-gray-800 rounded-full h-[22px] w-[26px] mr-2 text-white flex justify-center items-center font-light',\r\n            IS_ROW_NTC ? 'text-[9px] bg-orange-500' : 'text-[11px]',\r\n            IS_ROW_LIVE ? 'bg-green-500 text-black !font-semibold' : '',\r\n          )}\r\n        >\r\n          {IS_ROW_NTC ? row.NtcTypeName : row.F_C_S_P}\r\n        </span>\r\n        <span\r\n          className={`w-full overflow-hidden whitespace-nowrap text-ellipsis text-[12px] ${isRowCT && 'mb-1'\r\n            }`}\r\n        >\r\n          <span className={`${isRowCT && 'mr-2'}`}>\r\n            {row[column.accessorKey]}\r\n          </span>\r\n          {isRowCT && (\r\n            <span>\r\n              [{row.FPC_Time} - {row.FPC_TimeTo}]\r\n            </span>\r\n          )}\r\n        </span>\r\n        {IS_ROW_NTC && (\r\n          <NTCGroupConsumptionIndicator tableData={tableData} row={row} />\r\n        )}\r\n        {!IS_ROW_NTC &&\r\n          tableData[row.rowIndex + 1]?.F_C_S_P === rowDataTypesEnum.NTC && (\r\n            <GroupwiseNtcConsumption\r\n              tableData={tableData}\r\n              row={tableData[row.rowIndex + 1]}\r\n            />\r\n          )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderSecTableEventName = () => {\r\n    return row.F_C_S_P !== rowDataTypesEnum.CONTENT_TERMINATION && !IS_CHANNEL_ANI_PLUS && !IS_CHANNEL_ASIANET ? (\r\n      <Tooltip\r\n        wrapperClass=\"py-0.5 px-2.5 w-full h-full flex items-center\"\r\n        placement=\"left\"\r\n        title={\r\n          <div className=\"flex gap-4 justify-between items-center w-40 text-[0.7rem]\">\r\n            <span>Duration: {row.Duration}</span>\r\n            <span>House ID: {row.HouseID ? row.HouseID : row.House_ID}</span>\r\n          </div>\r\n        }\r\n      >\r\n        {IS_ROW_NTC && (\r\n          <span\r\n            className={classNames(\r\n              'rounded-full h-[22px] w-[26px] mr-2 text-white flex justify-center items-center font-light text-[9px] bg-orange-500',\r\n            )}\r\n          >\r\n            {row.NtcTypeName}\r\n          </span>\r\n        )}\r\n        <span className=\"w-full overflow-hidden whitespace-nowrap text-ellipsis text-[12px]\">\r\n          {row[column.accessorKey]}\r\n        </span>\r\n      </Tooltip>\r\n    ) : (\r\n      <div className=\"py-1 px-2.5 overflow-hidden text-ellipsis whitespace-nowrap text-[12px] w-full\">\r\n        {row[column.accessorKey]}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {tableType === tableTypesEnum.SCHEDULING\r\n        ? renderSchTableEventName()\r\n        : tableType === tableTypesEnum.SECONDARY && renderSecTableEventName()}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EventNameCell;\r\n"],"names":["group","consumedDuration","consumedPercentage","graphColor","className","style","width","tableData","row","consumptionInformation","useMemo","ntcParentRow","getNTCParentRow","rowIndex","curGroupNTCs","getRowWithNTC","filter","ntcRow","NTCGroupCode","parentDuration","Duration","forEach","ntc","index","length","addTimes","DefaultGAP","getPercentage","timeToSeconds","toFixed","title","Group","ntcParentNTCRows","groupedNTCs","getGroupedRows","groupwiseNtcConsumption","Object","keys","groupCode","map","curGroupConsumptionInfo","isRowCT","column","tableType","channel","useSelector","state","locale","selectedChannel","IS_ROW_NTC","F_C_S_P","rowDataTypesEnum","IS_ROW_LIVE","IS_CHANNEL_ANI_PLUS","label","CLIENT","IS_CHANNEL_ASIANET","tableTypesEnum","classNames","NtcTypeName","accessorKey","FPC_Time","FPC_TimeTo","renderSchTableEventName","wrapperClass","placement","HouseID","House_ID"],"sourceRoot":""}