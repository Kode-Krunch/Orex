"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[6948],{6948:(e,a,s)=>{s.r(a),s.d(a,{default:()=>S});var t=s(2803),l=s(72791),n=s(57689),r=s(60364),c=s(81721),i=s(33009),o=s(78498),d=s(25579),m=s(4500),u=s(81320),x=s(96361),h=s(45682),N=s(6884),p=s(80184);const j=function(e){let{amount:a,setAmount:s,beneficiaryName:l,setBeneficiaryName:n,accNo:r,setAccNo:c,bankName:i,setBankName:o,ifscCode:d,setIfscCode:m,remarks:u,setRemarks:x,currencySymbol:h}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Amount ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",prefix:h,placeholder:"Amount",value:a,onChange:e=>s(e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Beneficiary Name ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",placeholder:"Name",value:l,onChange:e=>n(e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Account Number ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",placeholder:"Account No",value:r,onChange:e=>c(e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Bank ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",placeholder:"Bank",value:i,onChange:e=>o(e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["IFSC Code ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",placeholder:"IFSC Code",value:d,onChange:e=>m(e.target.value)})]}),(0,p.jsxs)("div",{className:"col-span-2",children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Remarks ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",placeholder:"Remarks",value:u,onChange:e=>x(e.target.value)})]})]})};const g=function(e){let{amount:a,setAmount:s,beneficiaryName:l,setBeneficiaryName:n,accNo:r,setAccNo:c,bankName:i,setBankName:o,ifscCode:d,setIfscCode:m,remarks:u,setRemarks:x,currencySymbol:h}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Amount ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",prefix:h,placeholder:"Amount",value:a,onChange:e=>s(e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Beneficiary Name ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",placeholder:"Name",value:l,onChange:e=>n(e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Account Number ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",placeholder:"Account No",value:r,onChange:e=>c(e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Bank ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",placeholder:"Bank",value:i,onChange:e=>o(e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["IFSC Code ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",placeholder:"IFSC Code",value:d,onChange:e=>m(e.target.value)})]}),(0,p.jsxs)("div",{className:"col-span-2",children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Remarks ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",placeholder:"Remarks",value:u,onChange:e=>x(e.target.value)})]})]})},v=[{value:0,label:"Bearer"},{value:1,label:"Order"},{value:2,label:"Account"},{value:3,label:"Post Dated"}];const y=function(e){let{selChequeType:a,setSelChequeType:s,amount:l,setAmount:n,accNo:r,setAccNo:c,beneficiaryName:i,setBeneficiaryName:o,chequeDate:d,setChequeDate:m,currencySymbol:u}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Cheque Type ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(N.Z,{placeholder:"Select",options:v,value:a,onChange:s})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Amount ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",prefix:u,placeholder:"Amount",value:l,onChange:e=>n(e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Account Number ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",placeholder:"Account No",value:r,onChange:e=>c(e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Payee Name ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",placeholder:"Name",value:i,onChange:e=>o(e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Date ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.Mt,{size:"sm",placeholder:"Pick a date",minDate:new Date,value:d,onChange:m})]})]})};const b=function(e){let{amount:a,setAmount:s,beneficiaryName:l,setBeneficiaryName:n,currencySymbol:r}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Amount ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",prefix:r,placeholder:"Amount",value:a,onChange:e=>s(e.target.value)})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Beneficiary Name ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(t.II,{size:"sm",placeholder:"Name",value:l,onChange:e=>n(e.target.value)})]})]})};var C=s(56355);const f=[{value:0,label:"NEFT"},{value:1,label:"RTGS"},{value:2,label:"Cheque"},{value:3,label:"Cash"}],S=()=>{var e;const a=window.location.href.split("#")[1],s=a?a.split("/")[1]:"",{Content:v}=(0,r.useSelector)((e=>e.base.common)),S=(0,r.useSelector)((e=>e.locale.selectedChannel)),{DealData:I}=(0,r.useSelector)((e=>e.auth.user)),k=(0,r.useDispatch)(),[D,A]=(0,l.useState)(),[B,z]=(0,l.useState)(v||[]),[R,T]=(0,l.useState)([]),[Z,w]=(0,l.useState)(!1),[F,E]=(0,l.useState)([]),[M,_]=(0,l.useState)({MID:2,position:3,brand:null===v||void 0===v||null===(e=v.BrandMaster)||void 0===e?void 0:e.BrandCode,datesrange:[],Commercial:[],date:new Date,BookingRefNumber:null!==v&&void 0!==v&&v.BookingRefNumber?null===v||void 0===v?void 0:v.BookingRefNumber:""}),[q,P]=(0,l.useState)([]),[Y,L]=(0,l.useState)(""),[O,V]=(0,l.useState)(null),[H,U]=(0,l.useState)(""),[X,G]=(0,l.useState)(""),[Q,W]=(0,l.useState)(""),[$,J]=(0,l.useState)(""),[K,ee]=(0,l.useState)(""),[ae,se]=(0,l.useState)(""),[te,le]=(0,l.useState)(null),[ne,re]=(0,l.useState)(null),ce=(0,n.s0)();return(0,l.useEffect)((()=>{(async()=>{let e={LocationCode:S.LocationCode,ChannelCode:S.ChannelCode};const a=(await(0,o.Q)(e,"%20")).data.map((e=>({value:e.DealNumber,label:e.DealCode+" | "+e.ClientName+" | "+e.AgencyName+" ["+(0,u.formatDateToDDMMMYYYY)(e.DealPeriodFromDate)+" To "+(0,u.formatDateToDDMMMYYYY)(e.DealPeriodToDate)+"] "})));E(a)})(),k((0,m.XZ)([])),k((0,m.mi)([]))}),[]),(0,l.useEffect)((()=>{var e,a,t;null!==(e=v.Channel)&&void 0!==e&&e.ChannelCode&&((null===(a=v.Channel)||void 0===a?void 0:a.ChannelCode)==S.ChannelCode&&(null===(t=v.locations)||void 0===t?void 0:t.LocationCode)==S.LocationCode||ce("RoImportDetails"===s?"/RoImport":"BookingDetails"===s?"/SpotBooking":"/NtcSpotBooking"))}),[S]),(0,l.useEffect)((()=>{(async()=>{const e=await(0,d.Uy)("GetBookingDetail",null===v||void 0===v?void 0:v.BookingNumber);P(e.data)})()}),[v]),(0,l.useEffect)((()=>{Object.keys(B).length>0?((async()=>{try{const e=await(0,d.hu)(B.value);k((0,m.XZ)(e.data))}catch(e){}})(),(async()=>{try{const e=await(0,d.U$)(B.value);k((0,m.mi)(e.data))}catch(e){}})()):(k((0,m.XZ)({})),k((0,m.mi)([])))}),[B]),(0,p.jsxs)(t.Zb,{header:(0,p.jsx)(x.Z,{Component:"Booking Master"}),className:"h-full flex flex-col",bodyClass:"grow h-0",children:[(0,p.jsxs)(c.W2,{className:"h-full flex flex-col",children:[(0,p.jsxs)("div",{className:"m-2 grow h-0",children:[(0,p.jsx)(i.Z,{setCheckedItems:T,SelectedItem:B,setSelectedItem:z,data:F,placeholder:"Search Deal Here...",DealData:I,length:null===D||void 0===D?void 0:D.length,setFormState:_,setThe_data_I_want_To_Upload:A,InputValue:Y,setInputValue:L,Deatils:q,maxListHeight:300}),(null===I||void 0===I?void 0:I.DealNumber)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"grid grid-cols-5 gap-4 mt-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"mb-1",children:"Agency & Booking"}),(0,p.jsx)("p",{className:"text-gray-200 font-semibold",children:I.AgencyName}),(0,p.jsx)(t.Vp,{className:"-ml-1 text-sm mt-2",prefix:!0,prefixClass:"bg-emerald-500",showCloseButton:!1,children:I.BookingCode})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"mb-1",children:"Advertiser"}),(0,p.jsx)("p",{className:"text-gray-200 font-semibold",children:I.ClientName})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"mb-1",children:"Start & End Date"}),(0,p.jsxs)("p",{className:"text-gray-200 font-semibold",children:[(0,u.FORMATDATE_FOR_EVERY)(new Date(I.DealPeriodFromDate))," ","-"," ",(0,u.FORMATDATE_FOR_EVERY)(new Date(I.DealPeriodToDate))]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"mb-1",children:"Sales Person / Zone"}),(0,p.jsxs)("p",{className:"text-gray-200 font-semibold",children:[I.Emp_FirstName," ",I.Emp_LastName," /"," ",I.ZoneName]})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"mb-1",children:["Amount (",I.CurrencyName,")"]}),(0,p.jsxs)("p",{className:"text-gray-200 font-semibold",children:[I.CurrencySymbol," ",I.TotalAmount.toLocaleString("en-IN")]})]})]}),(0,p.jsxs)("div",{className:"mt-4 pt-4 border-t border-t-gray-600 border-dashed grid grid-cols-5 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{className:"text-gray-200 mb-1",children:["Payment Type ",(0,p.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,p.jsx)(N.Z,{placeholder:"Select",options:f,value:O,onChange:V})]}),O&&(0,p.jsxs)(p.Fragment,{children:[0===O.value&&(0,p.jsx)(j,{amount:H,setAmount:U,beneficiaryName:X,setBeneficiaryName:G,accNo:Q,setAccNo:W,bankName:$,setBankName:J,ifscCode:K,setIfscCode:ee,remarks:ae,setRemarks:se,currencySymbol:I.CurrencySymbol}),1===O.value&&(0,p.jsx)(g,{amount:H,setAmount:U,beneficiaryName:X,setBeneficiaryName:G,accNo:Q,setAccNo:W,bankName:$,setBankName:J,ifscCode:K,setIfscCode:ee,remarks:ae,setRemarks:se,currencySymbol:I.CurrencySymbol}),2===O.value&&(0,p.jsx)(y,{selChequeType:te,setSelChequeType:le,amount:H,setAmount:U,accNo:Q,setAccNo:W,beneficiaryName:X,setBeneficiaryName:G,chequeDate:ne,setChequeDate:re,currencySymbol:I.CurrencySymbol}),3===O.value&&(0,p.jsx)(b,{amount:H,setAmount:U,beneficiaryName:X,setBeneficiaryName:G,currencySymbol:I.CurrencySymbol})]})]})]})]}),(0,p.jsxs)(c.gi,{className:"-mx-8 px-8 flex items-center justify-end gap-2 py-4 pt-2 pb-2",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,p.jsx)(t.zx,{size:"sm",children:"Back"}),(0,p.jsx)(t.zx,{size:"sm",variant:"solid",disabled:!0,icon:(0,p.jsx)(C.TvB,{className:"text-[0.95rem]"}),children:"Save"})]})]}),(0,p.jsx)(h.default,{showLoader:Z})]})}},6884:(e,a,s)=>{s.d(a,{Z:()=>o});var t=s(1413),l=s(45987),n=s(2803),r=s(72791),c=s(80184);const i=["styles","size","placeholder"],o=r.memo(r.forwardRef(((e,a)=>{const{styles:s,size:r,placeholder:o}=e,d=(0,l.Z)(e,i);return(0,c.jsx)(n.Ph,(0,t.Z)((0,t.Z)({size:"sm"},d),{},{styles:(0,t.Z)({valueContainer:e=>(0,t.Z)((0,t.Z)({},e),{},{padding:"2px 5px"}),input:e=>(0,t.Z)((0,t.Z)({},e),{},{color:"white"}),control:e=>(0,t.Z)((0,t.Z)({},e),{},{minHeight:"30px"})},s),ref:a,placeholder:o||"Select"}))})))}}]);
//# sourceMappingURL=6948.b5554d6f.chunk.js.map