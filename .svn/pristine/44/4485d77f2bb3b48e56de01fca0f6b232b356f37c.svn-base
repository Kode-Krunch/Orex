"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[1938],{6884:(e,t,s)=>{s.d(t,{Z:()=>c});var a=s(1413),n=s(45987),r=s(2803),l=s(72791),i=s(80184);const o=["styles","size","placeholder"],c=l.memo(l.forwardRef(((e,t)=>{const{styles:s,size:l,placeholder:c}=e,u=(0,n.Z)(e,o);return(0,i.jsx)(r.Ph,(0,a.Z)((0,a.Z)({size:"sm"},u),{},{styles:(0,a.Z)({valueContainer:e=>(0,a.Z)((0,a.Z)({},e),{},{padding:"2px 5px"}),input:e=>(0,a.Z)((0,a.Z)({},e),{},{color:"white"}),control:e=>(0,a.Z)((0,a.Z)({},e),{},{minHeight:"30px"})},s),ref:t,placeholder:c||"Select"}))})))},67207:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(2803),n=(s(72791),s(80184));const r=function(e){let{isDialogOpen:t,title:s,description:r,descClassName:l,submitButtonTitle:i,submitButtonColor:o,handleDialogSubmit:c,handleDialogClose:u,overlayClassName:d,secondaryDescription:m}=e;return(0,n.jsxs)(a.Vq,{isOpen:t,onClose:u,onRequestClose:u,overlayClassName:d,children:[(0,n.jsx)("h5",{className:"mb-4",children:s}),(0,n.jsx)("p",{className:l,children:r}),(0,n.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,n.jsx)("p",{children:m}),(0,n.jsx)(a.zx,{variant:"solid",color:o,onMouseDown:c,children:i})]})]})}},24793:(e,t,s)=>{s.d(t,{Cy:()=>c,IG:()=>o,PW:()=>u,hW:()=>d});var a=s(45987),n=s(1413),r=s(53761),l=s(81320);const i=["FPC_Time","Event_Name","FPC_ID","BreakNumber","Duration","F_C_S_P"],o=[{header:"FPC_ID",name:"FPC_ID",code:"FPC_ID",width:"auto",ScreenType:"FinalLog",Sequence:1,isvisible:!0},{header:"FPC_Time",name:"FPC_Time",code:"FPC_Time",width:"auto",ScreenType:"FinalLog",Sequence:1,isvisible:!0},{header:"Event_Name",name:"Event_Name",code:"Event_Name",width:"auto",ScreenType:"FinalLog",Sequence:1,isvisible:!0},{header:"Duration",name:"Duration",code:"Duration",width:"auto",ScreenType:"FinalLog",Sequence:1,isvisible:!0}];const c=(e,t)=>{const s=e.filter((e=>"S"===e.F_C_S_P)),a=e.filter((e=>"PR"===e.F_C_S_P)),r=e.filter((e=>"SG"===e.F_C_S_P)),l=e.filter((e=>"C"===e.F_C_S_P)),i=e.filter((e=>"CT"===e.F_C_S_P)),o=e.filter((e=>"CM"===e.F_C_S_P));t({NTC:[],Promos:[],Songs:[],Commercial:[],Programs:[]}),t((e=>(0,n.Z)((0,n.Z)({},e),{},{NTC:[...e.NTC,...s],Promos:[...e.Promos,...a],Songs:[...e.Songs,...r],Commercial:[...e.Commercial,...l],Commercial2:[...e.Commercial,...o],Programs:[...e.Programs,...i]})))};function u(e,t,s,n){console.log("table1data",e),function(e,t){console.log("StartTimeArray*",e);var s=[],a="",n="",r="";let i=0;s=[];for(let d=0;d<e.length;d++)if("CT"===e[d].F_C_S_P){a=e[d].FPC_Time,n=e[d].FPC_TimeTo;var o,c,u=e.slice(d+1,e.length).find((e=>"CT"===e.F_C_S_P));null!==u&&void 0!==u||(u=e[e.length-2]),u&&void 0!=(r=e.indexOf(u))&&(s.push({StartTime:a,EndTime:n,PlayTime:null===(o=e[r+1])||void 0===o?void 0:o.Start_Time,Diffrance:(0,l.parseDuration)(null===(c=e[r+1])||void 0===c?void 0:c.Start_Time)-(0,l.parseDuration)(n+":00:00"),columnIndex:i+1}),i+=1)}t(s)}(e,s);const r=e.reduce(((e,t)=>{const{FPC_Time:s,Event_Name:n,FPC_ID:r,BreakNumber:o,Duration:c,F_C_S_P:u}=t,d=((0,a.Z)(t,i),e.find((e=>e.FPC_ID===r)));if(d){const e=d.data.find((e=>e.BreakNumber===o));e?"PR"===u?(void 0===e.totalDuration&&(e.totalDuration=0),e.totalDuration+=1):"NTC"===u?(void 0===e.totalNTCCount&&(e.totalNTCCount=0),e.totalNTCCount+=1):"CM"===u?(void 0===e.totalCMCount&&(e.totalCMCount=0),e.totalCMCount+=1):"SG"===u?(void 0===e.totalSGDuration&&(e.totalSGDuration=0),e.totalSGDuration+=1):(e.totalDuration+=0,e.totalSGDuration+=0,e.totalNTCCount+=0,e.totalCMCount+=0):d.data.push({BreakNumber:o,totalDuration:0,totalNTCCount:0,totalSGDuration:0,totalCMCount:0})}else e.push({FPC_Time:s,FPC_ID:r,Event_Name:n,data:[{BreakNumber:o,totalDuration:"PR"===u?(0,l.parseDuration)(c):0,totalNTCCount:"NTC"===u?(0,l.parseDuration)(c):0,totalCMCount:"CM"===u?(0,l.parseDuration)(c):0,totalSGDuration:"SG"===u?(0,l.parseDuration)(c):0}]});return e}),[]);console.log("groupedData",r);let o=r;const c=[];o.forEach(((e,t)=>{const s=e.data.reduce(((e,t)=>e+t.totalDuration),0),a=e.data.reduce(((e,t)=>e+t.totalSGDuration),0),n=e.data.reduce(((e,t)=>e+t.totalCMCount),0);c.push({FPC_Time:e.FPC_Time,totalDuration:Math.round(s),totalSGDuration:Math.round(a),totalCMCount:Math.round(n)})}));const u=o.map((e=>{const t=e.data.map((t=>({key:"".concat(e.FPC_ID,"-").concat(t.BreakNumber),label:"BreakNumber",icon:"pi pi-fw pi-file",data:{BreakNumber:t.BreakNumber,totalDuration:t.totalDuration,totalSGDuration:t.totalSGDuration,totalCMCount:t.totalCMCount}}))),s=t.reduce(((e,t)=>e+t.data.totalDuration),0),a=t.reduce(((e,t)=>e+t.data.totalSGDuration),0),n=t.reduce(((e,t)=>e+t.data.totalCMCount),0);return{key:"".concat(e.FPC_ID),label:"Event_Name",icon:"pi pi-fw pi-cog",data:{Event_Name:"["+e.FPC_Time+"] "+e.Event_Name,BreakNumber:t.length,totalDuration:s,totalSGDuration:a,totalCMCount:n,FPC_Time:e.FPC_Time},children:t}}));console.log("transformedData",u),t(u)}const d=(e,t,s,a,l,i)=>{const o=t.filter((t=>{if("CT"==t.F_C_S_P||"S"==t.F_C_S_P){return!e.find((e=>t.Event_Name==e.Event_Name&&t.FPC_Time==e.FPC_Time))}return!1})),c=e.filter((e=>{if("CT"===e.F_C_S_P){return!t.find((t=>e.Event_Name==t.Event_Name&&e.FPC_Time==t.FPC_Time))}return!1})),u=t.map((e=>o.find((t=>e.PrimaryID==t.PrimaryID&&"CT"==e.F_C_S_P))?(0,n.Z)((0,n.Z)({},e),{},{EventDefaultBackColor:"red"}):e)),d=e.map((e=>c.find((t=>e.FPC_ID==t.FPC_ID))?(0,n.Z)((0,n.Z)({},e),{},{EventDefaultBackColor:"red"}):e)),m=t.filter((e=>o.find((t=>e.FPC_ID===t.FPC_ID))));console.log("mismatched2x",m);const x=e.filter((e=>c.find((t=>e.FPC_ID==t.FPC_ID))));s(m);a(m.filter((e=>"CT"==e.F_C_S_P))),l((0,r.hp)(d)),l((0,r.jm)(u)),i(x)}},1938:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ne});var a=s(1413),n=s(2803),r=s(72791),l=s(7692),i=s(85880),o=s(40071),c=s(16856),u=s(63524),d=s(17425),m=s(41578),x=s(91615),p=s(21260),h=s(36608),f=s(30203),N=s(60364),C=s(81320),S=s(24793),g=s(39126),T=s(41213),E=s(19129),b=s(1680),j=s(54748),_=s(45682),v=s(58617),y=s(9494),O=s(67207),I=s(80184);const D=function(e){let{isOpen:t,setIsOpen:s}=e;const a=(0,N.useSelector)((e=>e.locale.selectedChannel)),l=(0,N.useSelector)((e=>e.locale.dateForm)),{executeOperation:i,setShowLoader:o,date:c}=(0,r.useContext)(x.Z),[u,d]=(0,r.useState)(null),[m,h]=(0,r.useState)(!1),f=()=>s(!1);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(n.Vq,{isOpen:t,onClose:f,onRequestClose:f,children:[(0,I.jsx)("h5",{className:"mb-4",children:"Import Sequence"}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("p",{className:"mb-1 text-white",children:["Date ",(0,I.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,I.jsx)(n.Mt,{inputPrefix:(0,I.jsx)(v.Bge,{className:"text-lg"}),inputSuffix:null,size:"sm",placeholder:"Select",maxDate:new Date(new Date(c).setDate(c.getDate()-1)),onChange:e=>d(e)})]}),(0,I.jsx)("div",{className:"text-right mt-6",children:(0,I.jsx)(n.zx,{variant:"solid",disabled:!u,onClick:()=>h(!0),children:"Import"})})]}),(0,I.jsx)(O.Z,{isDialogOpen:m,title:"Import Sequence",description:(0,I.jsxs)(I.Fragment,{children:["Are you sure you want to import sequence for"," ",(0,I.jsx)("strong",{className:"text-gray-200",children:(0,j.SG)(u)}),"?"]}),submitButtonTitle:"Import",handleDialogSubmit:async()=>{try{o(!0);if(200==(await(0,y.apiCallstoreprocedure)("Spot_Replicate",{ChannelCode:a.ChannelCode,scheduledate_From:(0,j.Tk)(u),scheduledate_To:(0,j.Tk)(new Date(l[0]))})).status)try{await i({operation:p.operationTypesEnum.INITIALIZE_SCHEDULER,isFirstLoad:!0}),(0,C.openNotification)("success","Sequence imported successfully.")}catch(e){(0,C.openNotification)("danger","Sequence imported successfully but something went wrong while initializing scheduler")}}catch(e){(0,C.openNotification)("danger","Something went wrong while importing sequence")}finally{d(null),h(!1),s(!1),o(!1)}},handleDialogClose:()=>h(!1)})]})};var F=s(14651),R=s(8458);const A=function(e){let{isOpen:t,setIsOpen:s}=e;const{executeOperation:a,page:l}=(0,r.useContext)(x.Z),[i,o]=(0,r.useState)([]),[c,u]=(0,r.useState)(!1),d=()=>s(!1),m=e=>e===p.rowDataTypesEnum.PROMO?"Promos":e===p.rowDataTypesEnum.SONG?"Songs":e===p.rowDataTypesEnum.COMMERCIAL?"Commercials":e===p.rowDataTypesEnum.NTC?"NTCs":"Events";return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(n.Vq,{isOpen:t,onClose:d,onRequestClose:d,children:[(0,I.jsx)("h5",{className:"pb-2 mb-6 border-b border-b-gray-600",children:"Delete All"}),(0,I.jsx)(n.XZ.Group,{value:i,onChange:o,className:"mb-4 flex gap-4",children:R.BS[l].map((e=>(0,I.jsx)(n.XZ,{value:e,className:"text-white",children:m(e)},e)))}),(0,I.jsx)("div",{className:"text-right mt-6",children:(0,I.jsx)(n.zx,{variant:"solid",onClick:()=>u(!0),children:"Delete"})})]}),(0,I.jsx)(O.Z,{isDialogOpen:c,title:"Discard",description:(()=>{if(i.includes(p.rowDataTypesEnum.COMMERCIAL)){const e=i.filter((e=>e!==p.rowDataTypesEnum.COMMERCIAL));return 0===e.length?"Are you sure you want to drop all Commercials?":"Are you sure you want to delete all ".concat(e.map((e=>m(e))).join(", ")," and drop all Commercials?")}return"Are you sure you want to delete all ".concat(i.map((e=>m(e))).join(", "),"?")})(),descClassName:"text-[0.95rem] mb-8",secondaryDescription:"You can always undo this operation",submitButtonTitle:"Delete",handleDialogSubmit:()=>{a({operation:p.operationTypesEnum.DELETE_EVENTS,deleteEventTypes:i}),u(!1),d(),(0,C.openNotification)("success","Selected events deleted successfully")},handleDialogClose:()=>u(!1)})]})};var P=s(44410);const w=function(e){let{onSelect:t}=e;const{leftClickedSchTableRow:s}=(0,r.useContext)(x.Z);return(0,I.jsxs)(n.Lt,{renderTitle:(0,I.jsx)(n.u,{title:"Insert Pattern",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(c.LkC,{className:"text-[1.35rem]"})})}),trigger:"hover",menuClass:"w-52",onSelect:t,children:[(0,I.jsx)("p",{className:"text-[0.9rem] font-semibold text-white border-b border-b-gray-600 px-2 pb-2 pt-1",children:"Insert Pattern"}),(0,I.jsx)(n.Lt.Item,{eventKey:"dtmf",className:"p-2 pt-1 hover:bg-gray-600 !h-auto border-b border-gray-600 group",children:(0,I.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,I.jsx)("span",{className:"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center",children:(0,I.jsx)(o.Z7H,{className:"text-base"})}),(0,I.jsx)("span",{children:"DTMF"})]})}),(0,I.jsx)(n.Lt.Item,{eventKey:"scteOn",className:"p-2 pt-1 hover:bg-gray-600 !h-auto border-b border-gray-600 group",children:(0,I.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,I.jsx)("span",{className:"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center",children:(0,I.jsx)(o.Z7H,{className:"text-base"})}),(0,I.jsx)("span",{children:"SCTE On"})]})}),(0,I.jsx)(n.Lt.Item,{eventKey:"now",className:"p-2 pt-1 hover:bg-gray-600 !h-auto border-b border-gray-600 group",disabled:!s,children:(0,I.jsx)(n.u,{title:"Please select an event to import NTCs",children:(0,I.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,I.jsx)("span",{className:"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center",children:(0,I.jsx)(o.Z7H,{className:"text-base"})}),(0,I.jsx)("span",{children:"Now"})]})})}),(0,I.jsx)(n.Lt.Item,{eventKey:"next",className:"p-2 pt-1 hover:bg-gray-600 !h-auto border-b border-gray-600 group",disabled:!s,children:(0,I.jsx)(n.u,{title:"Please select an event to import NTCs",children:(0,I.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,I.jsx)("span",{className:"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center",children:(0,I.jsx)(o.$mW,{className:"text-base"})}),(0,I.jsx)("span",{children:"Next"})]})})}),(0,I.jsx)(n.Lt.Item,{eventKey:"later",className:"p-2 hover:bg-gray-600 !h-auto border-b border-gray-600",disabled:!s,children:(0,I.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,I.jsx)("span",{className:"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center",children:(0,I.jsx)(o.u3h,{className:"text-base"})}),(0,I.jsx)("span",{children:"Later"})]})}),(0,I.jsx)(n.Lt.Item,{eventKey:"timer",className:"p-2 hover:bg-gray-600 !h-auto border-b border-gray-600",disabled:!s,children:(0,I.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,I.jsx)("span",{className:"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center",children:(0,I.jsx)(c.oKj,{className:"text-base"})}),(0,I.jsx)("span",{children:"Timer"})]})})]})};var L=s(3479);const M=function(e){let{onSelect:t}=e;const{leftClickedSchTableRow:s}=(0,r.useContext)(x.Z);return(0,I.jsxs)(n.Lt,{renderTitle:(0,I.jsx)(n.u,{title:"Import NTCs",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(L.PbW,{className:"text-[1.35rem]"})})}),trigger:"hover",onSelect:t,children:[(0,I.jsx)("p",{className:"text-[0.9rem] font-semibold text-white border-b border-b-gray-600 px-2 pb-2 pt-1",children:"Import NTCs"}),(0,I.jsx)(n.Lt.Item,{eventKey:"selProgram",className:"p-2 pt-1 hover:bg-gray-600 !h-auto border-b border-gray-600 group",disabled:!s,children:s?(0,I.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,I.jsx)("span",{className:"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center",children:(0,I.jsx)(o.VQF,{className:"text-base"})}),(0,I.jsx)("span",{children:"For selected Program"})]}):(0,I.jsx)(n.u,{title:"Please select an event to import NTCs",children:(0,I.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,I.jsx)("span",{className:"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center",children:(0,I.jsx)(o.VQF,{className:"text-base"})}),(0,I.jsx)("span",{children:"For selected Program"})]})})}),(0,I.jsx)(n.Lt.Item,{eventKey:"allPrograms",className:"p-2 hover:bg-gray-600 !h-auto border-b border-gray-600",children:(0,I.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,I.jsx)("span",{className:"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center",children:(0,I.jsx)(c.L_o,{className:"text-base"})}),(0,I.jsx)("span",{children:"For All Programs"})]})}),(0,I.jsx)(n.Lt.Item,{eventKey:"otherDate",className:"p-2 hover:bg-gray-600 !h-auto border-b border-gray-600",children:(0,I.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,I.jsx)("span",{className:"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center",children:(0,I.jsx)(g.ZDY,{className:"text-base"})}),(0,I.jsx)("span",{children:"From other date"})]})})]})};var k=s(6884);const z={SequenceNo:1,Id:0,FPC_ID:1,CS_ID:0,FPC_Time:null,FPC_TimeTo:null,Tel_Time:"00:00:00:00",ContentCode:"7161",TapeID:null,SeasonNo:"1",PartNumber:"0",EpisodeNo:"1",TC_IN:"00:00:00:00",TC_Out:"00:00:00:00",Seg:"",RODP_Category:"",Agency:"",Client:"",Brand:"",Product:"",BookingNumber:null,BookingDetailCode:null,BookingSeqNo:null,RowNo:"2",DealNo:null,DealLineItemNo:null,CommercialCode:"",BreakNumber:"0",F_C_S_P:"L",EventDefaultFrontColor:"#000000",EventDefaultBackColor:"#86efac",TimeBandCode:null,KillDate:null,TxLogCode:"159709",TxTimeinSec:"0",SpotRate:0,PrimaryID:2,BookingDetailID:null,SpotStartTime:"",SpotEndTime:"",isFiltered:!0,DefaultGAP:"00:00:00:00",Start_Time:"00:00:00:00",isHidden:!1};const Z=function(e){let{isOpen:t,setIsOpen:s}=e;const{leftClickedSchTableRow:l,executeOperation:i}=(0,r.useContext)(x.Z),[o,c]=(0,r.useState)(R.BG[0]),[u,d]=(0,r.useState)(""),m=()=>s(!1);return(0,I.jsxs)(n.Vq,{isOpen:t,onClose:m,onRequestClose:m,children:[(0,I.jsx)("h5",{className:"mb-4",children:"Insert Live"}),(0,I.jsxs)("div",{className:"mb-4",children:[(0,I.jsx)("p",{className:"mb-1 text-white",children:"Target Event"}),(0,I.jsx)(n.II,{value:null===l||void 0===l?void 0:l.Event_Name,disabled:!0,size:"sm"})]}),(0,I.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,I.jsxs)("div",{children:[(0,I.jsxs)("p",{className:"mb-1 text-white",children:["Live Event ",(0,I.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,I.jsx)(k.Z,{placeholder:"Live Event",value:o,options:R.BG,onChange:c})]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("p",{className:"mb-1 text-white",children:["Duration ",(0,I.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,I.jsx)(n.II,{size:"sm",value:u,onChange:e=>d((0,C.getFormattedTime)(e,u)),onBlur:()=>d((0,C.autoCompleteTime)(u)),placeholder:"HH:MM:SS:FF"}),u.length>0&&u.length<11&&(0,I.jsx)("p",{className:"text-xs font-semibold mt-1",children:"HH:MM:SS:FF"})]})]}),(0,I.jsx)("div",{className:"text-right mt-6",children:(0,I.jsx)(n.zx,{variant:"solid",onClick:async()=>{let e=(0,a.Z)((0,a.Z)({},z),{},{Event_Name:o.label,House_ID:o.label,Video_ID:o.label,Duration:u});await i({operation:p.operationTypesEnum.INSERT_LIVE_EVENT,liveRow:e}),m()},disabled:u.length<11,children:"Insert"})})]})};const U=function(e){let{onSelect:t}=e;const s=(0,N.useSelector)((e=>e.locale.selectedChannel)),{leftClickedSchTableRow:a}=(0,r.useContext)(x.Z),l=s.label===b.CLIENT.ANI_PLUS;return(0,I.jsxs)(n.Lt,{renderTitle:(0,I.jsx)(n.u,{title:"Import ".concat(l?"Parental Rating":"Promos"),children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(L.PbW,{className:"text-[1.35rem]"})})}),trigger:"hover",onSelect:t,children:[(0,I.jsxs)("p",{className:"text-[0.9rem] font-semibold text-white border-b border-b-gray-600 px-2 pb-2 pt-1",children:["Import ",l?"Parental Rating":"Promos"]}),(0,I.jsx)(n.Lt.Item,{eventKey:"selProgram",className:"p-2 pt-1 hover:bg-gray-600 !h-auto border-b border-gray-600 group",disabled:!a,children:a?(0,I.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,I.jsx)("span",{className:"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center",children:(0,I.jsx)(o.VQF,{className:"text-base"})}),(0,I.jsx)("span",{children:"For selected Program"})]}):(0,I.jsx)(n.u,{title:"Please select an event to import Promos",children:(0,I.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,I.jsx)("span",{className:"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center",children:(0,I.jsx)(o.VQF,{className:"text-base"})}),(0,I.jsx)("span",{children:"For selected Program"})]})})}),(0,I.jsx)(n.Lt.Item,{eventKey:"allPrograms",className:"p-2 hover:bg-gray-600 !h-auto border-b border-gray-600",children:(0,I.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,I.jsx)("span",{className:"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center",children:(0,I.jsx)(c.L_o,{className:"text-base"})}),(0,I.jsx)("span",{children:"For All Programs"})]})}),(0,I.jsx)(n.Lt.Item,{eventKey:"otherDate",className:"p-2 hover:bg-gray-600 !h-auto border-b border-gray-600",children:(0,I.jsxs)("div",{className:"flex items-center gap-2 pr-2",children:[(0,I.jsx)("span",{className:"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center",children:(0,I.jsx)(g.ZDY,{className:"text-base"})}),(0,I.jsx)("span",{children:"From other date"})]})})]})};var G=s(78638);const B=(0,r.lazy)((()=>Promise.all([s.e(4786),s.e(7261),s.e(6446)]).then(s.bind(s,46446)))),H=(0,r.lazy)((()=>s.e(3516).then(s.bind(s,73516)))),W=(0,r.lazy)((()=>s.e(513).then(s.bind(s,20513)))),V=(0,r.lazy)((()=>s.e(88).then(s.bind(s,80088)))),q=(0,r.lazy)((()=>s.e(4192).then(s.bind(s,14192)))),K=(0,r.lazy)((()=>s.e(659).then(s.bind(s,80659)))),Y=(0,r.lazy)((()=>s.e(5194).then(s.bind(s,45194)))),X=(0,r.lazy)((()=>s.e(8476).then(s.bind(s,78476)))),Q=(0,r.lazy)((()=>s.e(186).then(s.bind(s,20186)))),$=(0,r.lazy)((()=>Promise.all([s.e(9741),s.e(3643)]).then(s.bind(s,23643)))),J=(0,r.lazy)((()=>s.e(1600).then(s.bind(s,11600)))),ee=(0,r.lazy)((()=>s.e(2165).then(s.bind(s,2165)))),te=(0,r.lazy)((()=>s.e(7198).then(s.bind(s,57198)))),se=(0,r.lazy)((()=>s.e(2773).then(s.bind(s,32773)))),ae=(0,r.lazy)((()=>s.e(7510).then(s.bind(s,57510))));const ne=function(){const e=(0,N.useSelector)((e=>e.locale.selectedChannel)),t=(0,N.useSelector)((e=>e.auth.session.token)),s=(0,N.useSelector)((e=>e.auth.scheduling.unsavedWork)),R=(0,N.useDispatch)(),{page:L,featuresList:k,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,schedulingTableData:le,setSchedulingTableData:ie,setSchedulingTableSelectedRows:oe,leftClickedSchTableRow:ce,setLeftClickedSchTableRow:ue,secondaryTableData:de,setSecondaryTableData:me,undoStack:xe,setUndoStack:pe,redoStack:he,setRedoStack:fe,resetPage:Ne,date:Ce,setShowLoader:Se,setUpdateSchedulerStateInRedux:ge,dropBucket:Te,setDropBucket:Ee,resetAllSelectedRows:be,schTableSelectedFilters:je,setSchTableSelectedFilters:_e,secTableSelectedFilters:ve,setSecTableSelectedFilters:ye,executeOperation:Oe,customCellColor:Ie,setCustomCellColor:De,lastMinuteSpots:Fe,isScheduleAllowedToEdit:Re,secondaryAreaZindexRef:Ae,isInsertLiveDialogOpen:Pe,setIsInsertLiveDialogOpen:we}=(0,r.useContext)(x.Z),[Le,Me]=(0,r.useState)(!1),[ke,ze]=(0,r.useState)(!1),[Ze,Ue]=(0,r.useState)(!1),[Ge,Be]=(0,r.useState)(!1),[He,We]=(0,r.useState)(!1),[Ve,qe]=(0,r.useState)(!1),[Ke,Ye]=(0,r.useState)(!1),[Xe,Qe]=(0,r.useState)(!1),[$e,Je]=(0,r.useState)(!1),[et,tt]=(0,r.useState)(!1),[st,at]=(0,r.useState)(!1),[nt,rt]=(0,r.useState)(!1),[lt,it]=(0,r.useState)(!1),[ot,ct]=(0,r.useState)(!1),[ut,dt]=(0,r.useState)(!1),[mt,xt]=(0,r.useState)(!1),[pt,ht]=(0,r.useState)(!1),[ft,Nt]=(0,r.useState)(!1),[Ct,St]=(0,r.useState)(!1),[gt,Tt]=(0,r.useState)([]),[Et,bt]=(0,r.useState)({NTC:[],Promos:[],Songs:[],Commercial:[],Programs:[]}),[jt,_t]=(0,r.useState)(0),[vt,yt]=(0,r.useState)(0),[Ot,It]=(0,r.useState)(0),[Dt,Ft]=(0,r.useState)(!1),[Rt,At]=(0,r.useState)(!1),[Pt,wt]=(0,r.useState)(!1),Lt=(0,r.useRef)(null),Mt=(0,r.useRef)(0);(0,r.useEffect)((()=>(document.addEventListener("mousedown",kt),()=>{document.removeEventListener("mousedown",kt)})),[Lt]),(0,r.useEffect)((()=>{if(0===le.length)return;let e=0,t=0;const s=le.filter((e=>"CM"===e.F_C_S_P&&e.TxLogCode));le.forEach((s=>{let{F_C_S_P:a,Duration:n}=s;if("CM"===a){const[t,s,a,r]=n.split(":").map(Number);e+=3600*t+60*s+a+r/25}t+="S"===a?1:"CT"===a?-1:0})),_t(e),yt(t),(0,S.Cy)(le,bt),It(s.length),Mt.current>0&&wt(!0),Mt.current=Mt.current+1}),[le]);const kt=e=>{Lt.current&&!Lt.current.contains(e.target)&&re((e=>(0,a.Z)((0,a.Z)({},e),{},{[p.featuresEnum.MANAGE_COLUMNS]:(0,a.Z)((0,a.Z)({},e[p.featuresEnum.MANAGE_COLUMNS]),{},{isDropdownVisible:!1})})))},zt=async()=>{try{Se(!0),await Oe({operation:p.operationTypesEnum.TOGGLE_DTMF_PATTERN}),(0,G.isDtmfRowsPresent)(le)?(0,C.openNotification)("success","DTMFs removed successfully"):(0,C.openNotification)("success","DTMFs inserted successfully")}catch(e){console.error(e),(0,C.openNotification)("danger","Something went wrong while toggling DTMFs")}finally{Se(!1)}},Zt=async()=>{try{Se(!0),await Oe({operation:p.operationTypesEnum.TOGGLE_SCTE_ON_PATTERN}),(0,G.isScteOnRowsPresent)(le)?(0,C.openNotification)("success","SCTE On removed successfully"):(0,C.openNotification)("success","SCTE On inserted successfully")}catch(e){console.error(e),(0,C.openNotification)("danger","Something went wrong while toggling SCTEs")}finally{Se(!1)}},Ut=function(){try{let e=0;return e=L===p.pagesEnum.COMMERCIAL||L===p.pagesEnum.FINAL_LOG?(Te.length>0?Te.length-1:0)+(Fe.length>0?Fe.length-1:0):0,e>9&&(e="9+"),e}catch(e){throw e}}();return(0,I.jsx)(r.Suspense,{fallback:(0,I.jsx)(_.default,{showLoader:!0}),children:k&&(0,I.jsxs)("div",{className:"bg-gray-700 bg-opacity-50 flex justify-between items-center p-0.5 rounded-lg border border-gray-600",children:[(0,I.jsxs)("div",{className:"grow flex justify-between items-center pr-2 mr-2.5 border-r border-r-gray-600",children:[(0,I.jsxs)("div",{className:"flex items-center gap-0.5",children:[k[p.featuresEnum.UNDO]&&(0,I.jsx)(n.u,{title:"Undo",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(l.V3h,{className:"text-xl"}),disabled:0===xe.length,onClick:()=>{try{const e={schedulingTableData:[...le],secondaryTableData:[...de],dropBucket:Array.isArray(Te)?[...Te]:Te,schTableSelectedFilters:[...je],secTableSelectedFilters:[...ve],customCellColor:(0,a.Z)({},Ie)},t=[...he,e];fe(t),pe([...xe].slice(0,-1));const s=[...xe].pop();ie(s.schedulingTableData),me(s.secondaryTableData),Ee(s.dropBucket),_e(s.schTableSelectedFilters),ye(s.secTableSelectedFilters),De(s.customCellColor),be(),z()}catch(e){(0,C.openNotification)("danger","Something went wrong"),console.error(e)}}})}),k[p.featuresEnum.REDO]&&(0,I.jsx)(n.u,{title:"Redo",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(l.$QW,{className:"text-xl"}),disabled:0===he.length,onClick:()=>{try{const e={schedulingTableData:[...le],secondaryTableData:[...de],dropBucket:Array.isArray(Te)?[...Te]:Te,schTableSelectedFilters:[...je],secTableSelectedFilters:[...ve],customCellColor:(0,a.Z)({},Ie)};pe([...xe,e]),fe([...he].slice(0,-1));const t=[...he].pop();ie(t.schedulingTableData),me(t.secondaryTableData),Ee(t.dropBucket),_e(t.schTableSelectedFilters),ye(t.secTableSelectedFilters),De(t.customCellColor),be(),z()}catch(e){(0,C.openNotification)("danger","Something went wrong"),console.error(e)}}})}),k[p.featuresEnum.MANAGE_COLUMNS]&&(0,I.jsxs)("div",{className:"relative",children:[(0,I.jsx)(n.u,{title:"Manage Columns",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.MANAGE_COLUMNS]&&ne[p.featuresEnum.MANAGE_COLUMNS].isActive),variant:"plain",size:"sm",icon:(0,I.jsx)(m.Rqg,{className:"text-xl"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.MANAGE_COLUMNS,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setUpdateSchedulerStateInRedux:ge})})}),ne[p.featuresEnum.MANAGE_COLUMNS]&&ne[p.featuresEnum.MANAGE_COLUMNS].isDropdownVisible&&(0,I.jsx)(H,{tableType:p.tableTypesEnum.SCHEDULING,dropdownRef:Lt})]}),k[p.featuresEnum.COPY]&&(0,I.jsx)(n.u,{title:"Copy",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.COPY]),variant:"plain",size:"sm",icon:(0,I.jsx)(c.Fqs,{className:"text-xl"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.COPY,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setUpdateSchedulerStateInRedux:ge})})}),k[p.featuresEnum.GENERATE_LOG]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(n.u,{title:"Generate Log",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(o.OrR,{className:"text-xl"}),onClick:()=>We(!0)})}),He&&(0,I.jsx)(Y,{isOpen:He,setIsOpen:We})]}),k[p.featuresEnum.MAXIMIZE]&&(0,I.jsx)(n.u,{title:ne[p.featuresEnum.MAXIMIZE]?"Minimize":"Maximize",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.MAXIMIZE]),variant:"plain",size:"sm",icon:ne[p.featuresEnum.MAXIMIZE]?(0,I.jsx)(i.Pq,{className:"text-xl"}):(0,I.jsx)(i.fSf,{className:"text-xl"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.MAXIMIZE,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setUpdateSchedulerStateInRedux:ge})})}),k[p.featuresEnum.FILTER]&&(0,I.jsx)(n.u,{title:"Filter",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.FILTER]),variant:"plain",size:"sm",icon:(0,I.jsx)(o.Q65,{className:"text-xl"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.FILTER,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setUpdateSchedulerStateInRedux:ge,executeOperation:Oe})})}),k[p.featuresEnum.SHOW_NTC]&&(0,I.jsx)(n.u,{title:"Show NTC",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.SHOW_NTC]),variant:"plain",size:"sm",icon:(0,I.jsx)(d.vcB,{className:"text-xl"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.SHOW_NTC,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setUpdateSchedulerStateInRedux:ge,executeOperation:Oe})})}),k[p.featuresEnum.FINALIZE]&&(0,I.jsx)(n.u,{title:"Finalize",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(i.q3q,{className:"text-xl"})})}),k[p.featuresEnum.RESTORE_SAVED_WORK]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(n.u,{title:"Restore Saved Work",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(c.TeN,{className:"text-xl"}),onClick:()=>Be(!0)})}),Ge&&(0,I.jsx)(se,{isOpen:Ge,setIsOpen:Be})]}),k[p.featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS]&&(0,I.jsx)(n.u,{title:"Rotation Info With Manage Columns",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS]),variant:"plain",size:"sm",icon:(0,I.jsx)(m.Liu,{className:"text-xl"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setSchedulingTableSelectedRows:oe,setLeftClickedSchTableRow:ue,setUpdateSchedulerStateInRedux:ge,secondaryAreaZindexRef:Ae})})}),k[p.featuresEnum.HOURWISE_INVENTORY]&&(0,I.jsx)(n.u,{title:"Hourwise Inventory",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[[p.featuresEnum.HOURWISE_INVENTORY]]),variant:"plain",size:"sm",icon:(0,I.jsx)(c.klg,{className:"text-xl"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.HOURWISE_INVENTORY,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setSchedulingTableSelectedRows:oe,setLeftClickedSchTableRow:ue,setUpdateSchedulerStateInRedux:ge,secondaryAreaZindexRef:Ae})})}),k[p.featuresEnum.SUMMARY]&&(0,I.jsx)(n.u,{title:"Summary",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.SUMMARY]),variant:"plain",size:"sm",icon:(0,I.jsx)(c.JZ9,{className:"text-xl"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.SUMMARY,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setSchedulingTableSelectedRows:oe,setLeftClickedSchTableRow:ue,setUpdateSchedulerStateInRedux:ge,secondaryAreaZindexRef:Ae})})}),k[p.featuresEnum.REFRESH_DURATION]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(n.u,{title:"Refresh Duration",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.REFRESH_DURATION]),variant:"plain",size:"sm",icon:(0,I.jsx)(m.wj_,{className:"text-xl"}),onClick:()=>Je(!0)})}),$e&&(0,I.jsx)(X,{isOpen:$e,setIsOpen:Je})]}),k[p.featuresEnum.HOURS]&&(0,I.jsx)(n.u,{title:"Hours",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.HOURS]),variant:"plain",size:"sm",icon:(0,I.jsx)(m.Lk5,{className:"text-xl"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.HOURS,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setUpdateSchedulerStateInRedux:ge})})}),k[p.featuresEnum.FPC_TIME]&&(0,I.jsx)(n.u,{title:"FPC Time",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.FPC_TIME]),variant:"plain",size:"sm",icon:(0,I.jsx)(f.u23,{className:"text-base"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.FPC_TIME,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setUpdateSchedulerStateInRedux:ge})})}),k[p.featuresEnum.HIDE_COMMERCIALS]&&(0,I.jsx)(n.u,{title:"Hide Commercial",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.HIDE_COMMERCIALS]),variant:"plain",size:"sm",icon:(0,I.jsx)(c.PXs,{className:"text-xl"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.HIDE_COMMERCIALS,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setUpdateSchedulerStateInRedux:ge,executeOperation:Oe})})}),k[p.featuresEnum.SHOW_PROGRAM_BASE_TIME]&&(0,I.jsx)(n.u,{title:"Show Program Base Time",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.SHOW_PROGRAM_BASE_TIME]),variant:"plain",size:"sm",icon:(0,I.jsx)(l.b3O,{className:"text-[1.4rem]"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.SHOW_PROGRAM_BASE_TIME,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setUpdateSchedulerStateInRedux:ge,executeOperation:Oe})})}),k[p.featuresEnum.EXPORT]&&(0,I.jsxs)("div",{className:"relative",children:[(0,I.jsx)(n.u,{title:"Export",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.EXPORT]&&ne[p.featuresEnum.EXPORT].isActive),variant:"plain",size:"sm",icon:(0,I.jsx)(u.CiS,{className:"text-xl"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.EXPORT,page:L,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setSchedulingTableSelectedRows:oe,setLeftClickedSchTableRow:ue,setUpdateSchedulerStateInRedux:ge})})}),ne[p.featuresEnum.EXPORT]&&ne[p.featuresEnum.EXPORT].isDropdownVisible&&(0,I.jsx)(te,{})]}),k[p.featuresEnum.SMART_SHUFFLE]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(n.u,{title:"Smart Shuffle",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(T.W$7,{className:"text-xl"}),onClick:()=>ze(!0)})}),(0,I.jsx)(B,{verticalOpen:ke,date:Ce,onDrawerClose:()=>ze(!1)})]}),k[p.featuresEnum.AUTO_SHUFFLE]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(n.u,{title:"Auto Shuffle",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(m.mYB,{className:"text-xl"}),onClick:()=>Me(!0)})}),Le&&(0,I.jsx)(W,{isDialogOpen:Le,setIsDialogOpen:Me})]}),k[p.featuresEnum.PUSH_TO_PLAYOUT]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(n.u,{title:Pt&&Mt.current>0?"Please save for push to playout":"Push To Playout",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(o.Z7H,{className:"text-xl"}),disabled:Pt&&Mt.current>0,onClick:async()=>{await(async()=>{const t=await(0,y.apiCallstoreprocedure)("USP_Sch_Commercial_scheduling_Counts",{par_ChannelCode:e.ChannelCode,par_LocationCode:e.LocationCode,par_TelecastDate:(0,j.Tk)(Ce)});Tt(t.data)})(),Ye(!0)}})}),Ke&&(0,I.jsx)($,{isDialogOpen:Ke,setIsDialogOpen:Ye,CountData:Et,Commercial_scheduling_Counts:gt,TotalBreaks:vt,totalDuration:jt,blankTxLogCount:Ot})]}),k[p.featuresEnum.PUSH_TO_PLAYOUT]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(n.u,{title:Pt&&Mt.current>0?"Please save for partial playout export":"Partial Playout Export",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(c.nY0,{className:"text-[1.7rem]"}),disabled:Pt&&Mt.current>0,onClick:()=>Qe(!0)})}),Xe&&(0,I.jsx)(J,{isDialogOpen:Xe,setIsDialogOpen:Qe})]}),k[p.featuresEnum.RULE_CHECK]&&(0,I.jsxs)("div",{className:"relative",children:[(0,I.jsx)(n.u,{title:"Rule Check",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.RULE_CHECK]&&ne[p.featuresEnum.RULE_CHECK].isActive),variant:"plain",size:"sm",icon:(0,I.jsx)(c.bZh,{className:"text-xl"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.RULE_CHECK,page:L,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setSchedulingTableSelectedRows:oe,setLeftClickedSchTableRow:ue,setUpdateSchedulerStateInRedux:ge,secondaryAreaZindexRef:Ae})})}),ne[p.featuresEnum.RULE_CHECK]&&ne[p.featuresEnum.RULE_CHECK].isDropdownVisible&&(0,I.jsx)(q,{})]}),k[p.featuresEnum.FORMATTED_EXPORT]&&(0,I.jsx)(n.u,{title:"Formatted Export",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(m.wK3,{className:"text-xl"}),onClick:()=>(0,h.V$)(Ce,[...le].splice(1))})}),k[p.featuresEnum.CHANGE_PROGRAM]&&!(0,h.Zb)({channel:e})&&(0,I.jsx)(n.u,{title:"Change Program",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.CHANGE_PROGRAM]),variant:"plain",size:"sm",icon:(0,I.jsx)(m.hwI,{className:"text-xl -scale-x-100"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.CHANGE_PROGRAM,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setSchedulingTableSelectedRows:oe,setLeftClickedSchTableRow:ue,setUpdateSchedulerStateInRedux:ge,secondaryAreaZindexRef:Ae})})}),k[p.featuresEnum.MANAGE_SEGMENT]&&!(0,h.Zb)({channel:e})&&(0,I.jsx)(n.u,{title:"Manage Segment",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.MANAGE_SEGMENT]),variant:"plain",size:"sm",icon:(0,I.jsx)(d.dR_,{className:"text-xl"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.MANAGE_SEGMENT,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setSchedulingTableSelectedRows:oe,setLeftClickedSchTableRow:ue,setUpdateSchedulerStateInRedux:ge,secondaryAreaZindexRef:Ae})})}),k[p.featuresEnum.MANAGE_START_TIME]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(n.u,{title:"Manage Start Time",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.MANAGE_START_TIME]),variant:"plain",size:"sm",icon:(0,I.jsx)(m.KjD,{className:"text-xl"}),onClick:()=>Ue(!0)})}),Ze&&(0,I.jsx)(K,{isOpen:Ze,setIsOpen:Ue})]}),k[p.featuresEnum.DURATION]&&(0,I.jsx)(n.u,{title:"Duration",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[[p.featuresEnum.DURATION]]),variant:"plain",size:"sm",icon:(0,I.jsx)(g.dGH,{className:"text-[1.4rem] font-bold"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.DURATION,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setSchedulingTableSelectedRows:oe,setLeftClickedSchTableRow:ue,setUpdateSchedulerStateInRedux:ge,secondaryAreaZindexRef:Ae})})}),k[p.featuresEnum.DAY_WISE_SAVE_AS]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(n.u,{title:"DAY_WISE_SAVE_AS",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[[p.featuresEnum.DAY_WISE_SAVE_AS]]),variant:"plain",size:"sm",icon:(0,I.jsx)(g.D73,{className:"text-[1.4rem] font-bold"}),onClick:()=>Ft(!0)})}),Dt&&(0,I.jsx)(ee,{saveAsvisible:Dt,setSaveAsvisible:Ft})]}),k[p.featuresEnum.CHANGE_CELL_COLOR]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(n.u,{title:"Customize Cell Colour",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(E.Ids,{className:"text-xl text-gray-200"}),onClick:()=>qe(!0)})}),Ve&&(0,I.jsx)(Q,{isOpen:Ve,setIsOpen:qe})]}),k[p.featuresEnum.IMPORT_SEQUENECE]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(n.u,{title:"Import Sequence",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(m.ZFt,{className:"text-xl text-gray-200"}),onClick:()=>tt(!0)})}),et&&(0,I.jsx)(D,{isOpen:et,setIsOpen:tt})]}),k[p.featuresEnum.SHOW_SCTE]&&(0,I.jsx)(n.u,{title:ne[p.featuresEnum.SHOW_SCTE]?"SCTE Off":"SCTE On",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.SHOW_SCTE]),variant:"plain",size:"sm",icon:(0,I.jsx)(F.bXd,{strokeWidth:.5,className:"mr-0.5"}),onClick:()=>(0,h.dA)({feature:p.featuresEnum.SHOW_SCTE,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setUpdateSchedulerStateInRedux:ge,executeOperation:Oe})})}),k[p.featuresEnum.SAVE_SLOT]&&(0,I.jsx)(I.Fragment,{children:L===p.pagesEnum.SONG&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(n.u,{title:"Save As Slot Duration",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(ne[p.featuresEnum.SAVE_SLOT]),size:"sm",variant:"plain",onClick:()=>At(!0),icon:(0,I.jsx)(c.f$3,{strokeWidth:.5,className:"mr-0.5"})})}),(0,I.jsx)(ae,{save_Slotvisible:Rt,setSave_Slotvisible:At})]})}),k[p.featuresEnum.DELETE_EVENTS]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(n.u,{title:"Delete Events",children:(0,I.jsx)(n.zx,{className:(0,h.f6)(),variant:"plain",size:"sm",icon:(0,I.jsx)(f.r9e,{className:"text-[1.05rem]"}),onClick:()=>at(!0)})}),st&&(0,I.jsx)(A,{isOpen:st,setIsOpen:at})]}),k[p.featuresEnum.IMPORT_NTCS]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(M,{onSelect:e=>{"selProgram"===e?rt(!0):"allPrograms"===e&&it(!0)}}),nt&&(0,I.jsx)(O.Z,{isDialogOpen:nt,title:"Import NTCs",description:"Are you sure you want to import NTCs for ".concat(le[(0,P.Lz)(le,ce).startIndex].Event_Name,"?"),submitButtonTitle:"Import",handleDialogSubmit:async()=>{try{Se(!0),await Oe({operation:p.operationTypesEnum.IMPORT_NTCS_FOR_SEL_CONTENT}),(0,C.openNotification)("success","NTCs imported successfully")}catch(e){console.error(e),(0,C.openNotification)("danger","Something went wrong while importing NTCs for selected program")}finally{Se(!1),rt(!1)}},handleDialogClose:()=>rt(!1)}),lt&&(0,I.jsx)(O.Z,{isDialogOpen:lt,title:"Import NTCs",description:"Are you sure you want to import NTCs for all contents?",submitButtonTitle:"Import",handleDialogSubmit:async()=>{try{Se(!0),await Oe({operation:p.operationTypesEnum.IMPORT_NTCS_FOR_ALL_CONTENTS}),(0,C.openNotification)("success","NTCs imported successfully")}catch(e){console.error(e),(0,C.openNotification)("danger","Something went wrong while importing NTCs")}finally{Se(!1),it(!1)}},handleDialogClose:()=>it(!1)})]}),k[p.featuresEnum.INSERT_NTC_PATTERN]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(w,{onSelect:e=>{"dtmf"===e?zt():"scteOn"===e?Zt():"now"===e?ct(!0):"next"===e?dt(!0):"later"===e?xt(!0):"timer"===e&&ht(!0)}}),ot&&(0,I.jsx)(O.Z,{isDialogOpen:ot,title:"Insert Pattern",description:"Are you sure you want to insert Now NTCs for ".concat(le[(0,P.Lz)(le,ce).startIndex].Event_Name,"?"),submitButtonTitle:"Insert",handleDialogSubmit:async()=>{try{Se(!0),await Oe({operation:p.operationTypesEnum.INSERT_NOW_NTCS}),(0,C.openNotification)("success","Now NTCs inserted successfully")}catch(e){console.error(e),(0,C.openNotification)("danger","Something went wrong while inserting Now NTCs for selected program")}finally{Se(!1),ct(!1)}},handleDialogClose:()=>ct(!1)}),ut&&(0,I.jsx)(O.Z,{isDialogOpen:ut,title:"Insert Pattern",description:"Are you sure you want to insert Next NTCs for ".concat(le[(0,P.Lz)(le,ce).startIndex].Event_Name,"?"),submitButtonTitle:"Insert",handleDialogClose:()=>dt(!1)}),mt&&(0,I.jsx)(O.Z,{isDialogOpen:mt,title:"Insert Pattern",description:"Are you sure you want to insert Later NTCs for ".concat(le[(0,P.Lz)(le,ce).startIndex].Event_Name,"?"),submitButtonTitle:"Insert",handleDialogClose:()=>xt(!1)}),pt&&(0,I.jsx)(O.Z,{isDialogOpen:pt,title:"Insert Pattern",description:"Are you sure you want to insert Timer NTCs for ".concat(le[(0,P.Lz)(le,ce).startIndex].Event_Name,"?"),submitButtonTitle:"Insert",handleDialogClose:()=>ht(!1)})]}),k[p.featuresEnum.IMPORT_PROMOS]&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(U,{onSelect:e=>{"selProgram"===e?Nt(!0):"allPrograms"===e&&St(!0)}}),ft&&(0,I.jsx)(O.Z,{isDialogOpen:ft,title:"Import Promos",description:"Are you sure you want to import Promos for ".concat(le[(0,P.Lz)(le,ce).startIndex].Event_Name,"?"),submitButtonTitle:"Import",handleDialogSubmit:async()=>{try{Se(!0),await Oe({operation:p.operationTypesEnum.IMPORT_PROMOS_FOR_SEL_CONTENT}),(0,C.openNotification)("success","Promos imported successfully")}catch(e){console.error(e),(0,C.openNotification)("danger","Something went wrong while importing Promos for selected program")}finally{Se(!1),Nt(!1)}},handleDialogClose:()=>Nt(!1)}),Ct&&(0,I.jsx)(O.Z,{isDialogOpen:Ct,title:"Import Promos",description:"Are you sure you want to import Promos for all contents?",submitButtonTitle:"Import",handleDialogSubmit:async()=>{try{Se(!0),await Oe({operation:p.operationTypesEnum.IMPORT_PROMOS_FOR_ALL_CONTENTS}),(0,C.openNotification)("success","Promos imported successfully")}catch(e){console.error(e),(0,C.openNotification)("danger","Something went wrong while importing Promos")}finally{Se(!1),St(!1)}},handleDialogClose:()=>St(!1)})]})]}),k[p.featuresEnum.INSERT]&&(0,I.jsxs)(I.Fragment,{children:[L!==p.pagesEnum.FINAL_LOG&&L!==p.pagesEnum.COMMERCIAL&&L!==p.pagesEnum.NTC&&(0,I.jsx)(n.u,{title:"Insert ".concat(L===p.pagesEnum.PROMO?"Promo":L===p.pagesEnum.SONG?"Song":"Event"),children:(0,I.jsx)(n.zx,{icon:(0,I.jsx)(v.yEd,{className:"text-base"}),className:"!py-0 !pl-2 !pr-2.5 !h-8",size:"sm",variant:"solid",color:"teal-700",shape:"circle",onClick:()=>(0,h.dA)({feature:p.featuresEnum.INSERT,page:L,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setSchedulingTableSelectedRows:oe,setLeftClickedSchTableRow:ue,setUpdateSchedulerStateInRedux:ge}),children:"Insert"})}),(L===p.pagesEnum.FINAL_LOG||L===p.pagesEnum.COMMERCIAL||L===p.pagesEnum.NTC)&&(0,I.jsxs)("div",{className:"relative flex items-center gap-1",children:[(0,I.jsxs)(n.u,{title:"Insert ".concat(L===p.pagesEnum.NTC?"NTC":"Events"),wrapperClass:"relative",children:[(0,I.jsx)(n.zx,{icon:(0,I.jsx)(v.yEd,{className:"text-base"}),className:"!py-0 !pl-2 !pr-2.5 !h-8",size:"sm",variant:"solid",color:"teal-700",shape:"circle",onClick:()=>(0,h.dA)({feature:p.featuresEnum.INSERT,page:L,maintainScrolledOffsetOfTables:z,activeFeatures:ne,setActiveFeatures:re,setSchedulingTableSelectedRows:oe,setLeftClickedSchTableRow:ue,setUpdateSchedulerStateInRedux:ge}),children:"Insert"}),(Ut>0||"9+"===Ut)&&(0,I.jsx)("span",{className:"absolute -top-2 font-normal text-[0.8rem] rounded-full flex items-center justify-center bg-red-500 text-white ".concat("9+"===Ut?"h-[1.35rem] w-[1.6rem] -right-3.5":"h-5 w-5 -right-2.5"),children:Ut})]}),ne[p.featuresEnum.INSERT]&&ne[p.featuresEnum.INSERT].isDropdownVisible&&(0,I.jsx)(V,{})]}),Pe&&(0,I.jsx)(Z,{isOpen:Pe,setIsOpen:we})]})]}),(0,I.jsxs)("div",{className:"flex items-center gap-1.5 my-1 mr-1",children:[Re?(0,I.jsx)(n.zx,{icon:(0,I.jsx)(c.nDf,{}),className:"!py-0 !px-2 !h-8",size:"sm",variant:"solid",color:"teal-800",onClick:()=>{try{if(e.label===b.CLIENT.USA_Forbes){const t=le.filter((e=>""!==e.F_C_S_P.trim())).map(((t,s)=>({ChannelCode:e.ChannelCode,LocationCode:e.LocationCode,TelecastDate:(0,j.Tk)(Ce),NewTelecastDate:(0,j.Tk)(Ce),FPCTime:t.FPC_Time,FPC_TimeTo:t.FPC_TimeTo,SequenceNo:t.SequenceNo,RowNumber:s+1,TransmissionTime:t.Tel_Time,GMTTime:t.Tel_Time,EventCode:t.ContentCode,EventCaption:t.Event_Name,HouseID:t.House_ID,VideoID:t.Video_ID,TapeID:t.TapeID,TCIN:t.TC_IN,TCOUT:t.TC_Out,EventDuration:t.Duration,EventType:t.F_C_S_P,SeasonNo:t.SeasonNo,EpisodeNo:t.EpisodeNo,PartNumber:t.PartNumber,BreakNumber:t.BreakNumber,BookingNumber:t.BookingNumber,BookingDetailCode:t.BookingDetailCode,BookingDetailID:t.BookingDetailID,BookingSeqNo:t.BookingSeqNo,DealNumber:t.DealNo,DealLineItemNo:t.DealLineItemNo,TimeBandCode:t.TimeBandCode?t.TimeBandCode:null,PrimaryID:t.PrimaryID,TxTimeinSec:t.TxTimeinSec,Description:t.Event_Name,IsActive:1,NtcTypeName:t.NtcTypeName,NTCTypeName:t.NtcTypeName})));(0,h.k6)({filteredData:t,setShowLoader:Se,dispatch:R,unsavedWork:s,channel:e,date:Ce})}else(0,h.bG)({setShowLoader:Se,page:L,schedulingTableData:le,channel:e,date:Ce,token:t,unsavedWork:s,dispatch:R,droppedSpots:Te});wt(!1)}catch(a){(0,C.openNotification)("danger","Something went wrong while save"),console.error(a)}},children:"Save"}):(0,I.jsx)(n.u,{title:"Backdated schedule cannot be saved",placement:"left",children:(0,I.jsx)(n.zx,{icon:(0,I.jsx)(c.nDf,{}),className:"!py-0 !px-2 !h-8",size:"sm",variant:"solid",color:"teal-800",disabled:!0,children:"Save"})}),(0,I.jsx)(n.u,{title:"Back",children:(0,I.jsx)(n.zx,{icon:(0,I.jsx)(m.owl,{}),className:"!py-0 !px-2 !h-8",size:"sm",onClick:Ne})})]})]})})}}}]);
//# sourceMappingURL=1938.f128f2f9.chunk.js.map