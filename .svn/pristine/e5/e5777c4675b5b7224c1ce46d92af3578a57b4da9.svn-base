{"version":3,"file":"static/js/3516.60eabb13.chunk.js","mappings":"gXAEA,MAAMA,EAAU,CAACC,EAAUC,KACzB,MAAMC,EAAMF,EAASG,MAAM,SAASC,KAAKC,GAAMC,SAASD,EAAG,MAC3D,MAAM,QAAN,OAAeH,EAAI,GAAE,aAAKA,EAAI,GAAE,aAAKA,EAAI,GAAE,aAAKD,EAAU,IAAG,MAEzDM,EAAQ,CACZ,CAAEC,GAAI,KAAMC,KAAM,OAClB,CAAED,GAAI,KAAMC,KAAM,OAClB,CAAED,GAAI,KAAMC,KAAM,OAClB,CAAED,GAAI,KAAMC,KAAM,OAClB,CAAED,GAAI,KAAMC,KAAM,OAClB,CAAED,GAAI,KAAMC,KAAM,OAClB,CAAED,GAAI,KAAMC,KAAM,OAClB,CAAED,GAAI,KAAMC,KAAM,OAClB,CAAED,GAAI,KAAMC,KAAM,OAClB,CAAED,GAAI,KAAMC,KAAM,OAClB,CAAED,GAAI,KAAMC,KAAM,OAClB,CAAED,GAAI,KAAMC,KAAM,QAEdC,EAAY,gwGACZC,EAAcD,EAAUE,QAAQ,KAChCC,EAAcH,EAAUE,QAAQ,KAChCE,EAAWJ,EAAUK,KAAK,KAC1BC,EAAYN,EAAUO,MAAM,KAC5BC,EAAUR,EAAUS,IAAI,KACxBC,EAAaV,EAAUW,OAAO,KAC9BC,EAAYZ,EAAUa,MAAM,KAC5BC,EAAWd,EAAUe,KAAK,KAC1BC,EAAWhB,EAAUe,KAAK,KAC1BE,EAAiB5B,EAAQW,EAAUE,QAAQ,KAAQ,IACnDgB,EAAc7B,EAAQW,EAAUmB,KAAK,KAAQ,IAC7CC,EAAUpB,EAAUS,IAAI,KACxBY,EAAUrB,EAAUS,IAAI,KACxBa,EAAYtB,EAAUa,MAAM,I,sLC3BlC,MAAMU,EAAa,CACjBC,EACAC,EACAC,EACAC,KAEA,IACE,OAAIH,IAAcI,EAAAA,eAAAA,WACG,cAAfH,EACKC,EAA8BG,eAE9BH,EAA8BI,eAGpB,cAAfL,EACKE,EAA6BE,eAE7BF,EAA6BG,cAK1C,CAFE,MAAOC,GACPC,QAAQD,MAAMA,EAChB,GAcIE,EAAY,CAACC,EAAQC,EAAcC,KACvC,IACE,IAAKF,EAAOG,YACV,OAEF,MAAMC,EAhBa,EAACC,EAAMC,EAAYC,KACxC,IACE,MAAMP,EAASQ,MAAMC,KAAKJ,IACnBK,GAAWV,EAAOW,OAAOL,EAAY,GAE5C,OADAN,EAAOW,OAAOJ,EAAU,EAAGG,GACpBV,CAGT,CAFE,MAAOH,GACP,MAAMA,CACR,GAQmBe,CACfX,EAAaY,iBACbb,EAAOc,OAAOC,MACdf,EAAOG,YAAYY,OAErBb,GAAgB,kBAAKD,GAAY,IAAEY,iBAAkBT,IAIvD,CAHE,MAAOP,IACPmB,EAAAA,EAAAA,kBAAiB,SAAU,wBAC3BlB,QAAQD,MAAMA,EAChB,GAoBIoB,EAAiBC,IACH,UAAdA,EAAMC,MACRD,EAAME,iBACNF,EAAMG,OAAOC,OACf,EA2CIC,EAA6B,CAACtB,EAAcuB,KAChD,IACE,IAAIC,EAAOxB,EAAaY,iBAAiBrD,KAAI,CAACkE,EAAQX,KAC7C,CACLY,WAAYH,EACZI,OAAQF,EAAOG,OACfC,WAAYJ,EAAO9D,GACnBmE,YAAaL,EAAOM,MAAMC,MAC1BC,WAAYnB,EACZoB,UAAW,MAGXpB,EAAQd,EAAaY,iBAAiBuB,OAY1C,OAXAnC,EAAaL,eAAeyC,SAASX,IACnCD,EAAKa,KAAK,CACRX,WAAYH,EACZI,OAAQF,EAAOG,OACfC,WAAYJ,EAAO9D,GACnBmE,YAAaL,EAAOM,MAAMC,MAC1BC,WAAYnB,EACZoB,UAAW,IAEbpB,GAAO,IAEFU,CAGT,CAFE,MAAO5B,GACPC,QAAQD,MAAMA,EAChB,GAqBI0C,EAAcC,MAClBC,EACAC,EACApD,EACAW,EACAT,EACAmD,EACAC,EACAC,EACAC,EACAC,EACAC,KAEA,IACE,IAAIC,EAAiB,GACjB3D,IAAcI,EAAAA,eAAAA,YAChBiD,GAAkCO,IACzB,kBACFA,GAAS,IACZvD,eAAgBM,EAAaY,iBAC7BjB,eAAgBK,EAAaL,mBAG7BoD,GACFH,GAAmBK,IAAS,kBACvBA,GAAS,IACZ,CAACC,EAAAA,aAAAA,gBAA8B,CAC7BC,mBAAmB,EACnBC,SACEpD,EAAaL,eAAewC,OAAS,KACpCkB,EAAAA,EAAAA,kBACC9D,EAA8B+D,gBAC9BtD,EAAaY,uBAIY,kBAAxB4B,EACTQ,EAAiB1B,EACftB,EACAwC,GAGF3C,QAAQD,MAAM,0FAAD,OAC+E4C,MAG9FG,GAAiCM,IACxB,kBACFA,GAAS,IACZvD,eAAgBM,EAAaY,iBAC7BjB,eAAgBK,EAAaL,mBAG7BoD,GACFF,GAAyBI,IAAS,kBAC7BA,GAAS,IACZM,gCAAgC,MAEF,kBAAvBd,EACTO,EAAiB1B,EACftB,EACAyC,GAGF5C,QAAQD,MAAM,wFAAD,OAC6E6C,KAG1FO,EAAeb,OAAS,GAtFEI,OAAOS,EAAgBF,KACvD,IAE0B,aADDU,EAAAA,EAAAA,GAAqBR,IAC/BS,SACX1C,EAAAA,EAAAA,kBACE,SAAS,oDAUf,CANE,MAAOnB,IACPmB,EAAAA,EAAAA,kBACE,SACA,qDAEFlB,QAAQD,MAAMA,EAChB,GAwEI8D,CAA0BV,EAK9B,CAHE,MAAOpD,IACPmB,EAAAA,EAAAA,kBAAiB,SAAU,+CAC3BlB,QAAQD,MAAMA,EAChB,GAmBI+D,EAAiCC,IACrC,IACE,OAAOA,EACH,kCACA,sDAGN,CAFE,MAAOhE,GACPC,QAAQD,MAAMA,EAChB,G,eCrKF,QAtGA,SAA4B,GAKxB,IALwB,OAC1B6B,EAAM,aACNzB,EAAY,gBACZC,EAAe,UACfZ,GACD,EAEC,MAAM,iCACJqD,EAAgC,gCAChCC,EAA+B,+BAC/BkB,IACEC,EAAAA,EAAAA,YAAWC,EAAAA,GAGTC,EAAoB,CAACC,EAAUC,KACnC,IACE,MAAMC,GAA0B,UAC3BnE,GACHY,iBAAiBrD,KAAKkE,GACtB2C,EAAaH,EAAUxC,EAAQyC,KAE3BG,GAAmB,kBACpBrE,GAAY,IACfY,iBAAkBuD,IAEpBlE,EAAgBoE,GACZhF,IAAcI,EAAAA,eAAAA,WAChBiD,GAAkCO,IACzB,kBACFA,GAAS,IACZvD,eAAgBM,EAAaY,iBAC7BjB,eAAgBK,EAAaL,mBAIjCgD,GAAiCM,IACxB,kBACFA,GAAS,IACZvD,eAAgBM,EAAaY,iBAC7BjB,eAAgBK,EAAaL,mBAInCkE,GAOF,CANE,MAAOjE,IACPmB,EAAAA,EAAAA,kBACE,SACA,oDAEFlB,QAAQD,MAAMA,EAChB,GAIIwE,EAAe,CAACH,EAAUxC,EAAQyC,KACtC,IACE,GAAIzC,EAAO9D,KAAOsG,EAAU,CAC1B,IAAIjC,EAAQP,EAAOM,MAAMC,MAMzB,MALkB,cAAdkC,EAA2BlC,GAAgB,EAEzCA,EAAQ,EAAI,EAAGA,GAAgB,EAC9BA,EAAQ,GAER,kBACFP,GAAM,IACTM,OAAM,kBACDN,EAAOM,OAAK,IACfC,WAGN,CAAO,OAAOP,CAGhB,CAFE,MAAO7B,GACP,MAAMA,CACR,GAGF,OACE,iBAAK0E,UAAU,mEAAkE,WAC/E,gBACEA,UAAS,qGACgB,IAAvB7C,EAAOM,MAAMC,OACb,wEAEFuC,QAAS,IAAMP,EAAkBvC,EAAO9D,GAAI,aAAa,gBAI3D,gBAAK2G,UAAU,iDAAgD,SAC5D7C,EAAOM,MAAMC,MAAQ,GAAE,WAChBP,EAAOM,MAAMC,OACjBP,EAAOM,MAAMC,SAEnB,gBACEsC,UAAU,8FACVC,QAAS,IAAMP,EAAkBvC,EAAO9D,GAAI,aAAa,iBAMjE,E,0BCoKA,QAtPA,SAAuB,GAAuC,IAAvC,UAAE0B,EAAS,SAAEmF,EAAQ,YAAEC,GAAa,GAE3CC,EAAAA,EAAAA,cAAaC,GAAUA,EAAMC,KAAKC,QAAQ/B,QAAxD,MAGM,oBACJN,EAAmB,mBACnBC,EAAkB,8BAClBlD,EAA6B,iCAC7BmD,EAAgC,6BAChClD,EAA4B,gCAC5BmD,EAA+B,kBAC/BC,EAAiB,wBACjBC,IACEiB,EAAAA,EAAAA,YAAWC,EAAAA,IAGR/D,EAAcC,IAAmB6E,EAAAA,EAAAA,UAAS,CAC/ClE,iBAAkBxB,EAChBC,EACA,YACAE,EACAC,GAEFG,eAAgBP,EACdC,EACA,UACAE,EACAC,MAGGuF,EAAwBC,IAA6BF,EAAAA,EAAAA,WAAS,IAC9DG,EAAwBC,IAA6BJ,EAAAA,EAAAA,WAAS,GAErE,OACE,UAAC,KAAI,CACHR,UAAS,gDACPE,GAAsB,WAAU,qBAElCW,UAAU,WACVpD,MAAO,CAAEqD,UAAW,yBAA0BC,SAAU,SACxDC,IAAKb,EAAY,WAEjB,iBAAKH,UAAU,6EAA4E,WACzF,cAAGA,UAAU,wBAAuB,sBACpC,iBAAKA,UAAU,aAAY,WACzB,SAAC,IAAO,CACNiB,MACER,EAAyB,sBAAwB,gBAClD,UAED,SAAC,KAAM,CACLS,MAAM,SAAC,MAAmB,CAAClB,UAAU,YACrCmB,KAAK,KACLC,MAAM,WACNpB,UAAS,0BAAqBX,EAC5BoB,IAEFR,QAAS,IAAMS,GAA2BD,QAG9C,SAAC,IAAO,CAACQ,MAAM,aAAY,UACzB,SAAC,KAAM,CACLC,MAAM,SAAC,MAAO,CAAClB,UAAU,YACzBA,UAAS,yBAAoBX,EAC3BsB,IAEFQ,KAAK,KACLlB,QAAS,IAAMW,GAA0B,cAKjD,gBAAKZ,UAAU,6CAA4C,UACzD,SAAC,KAAe,CACdxE,UAAYC,GACVD,EAAUC,EAAQC,EAAcC,GACjC,UAED,SAAC,KAAS,CAAC0F,YAAY,gCAA+B,SAClDC,IACA,mCAASA,EAASC,gBAAc,IAAEP,IAAKM,EAASE,SAAS,UACtD9F,EAAaY,iBAAiBrD,KAAI,CAACkE,EAAQX,KAC1C,SAAC,KAAS,CAERiF,YAAatE,EAAO9D,GACpBmD,MAAOA,EAAM,SAEX8E,IACA,yCACEN,IAAKM,EAASE,UACVF,EAASI,gBACTJ,EAASK,iBAAe,IAC5B3B,UAAU,wFAAuF,WAEjG,iBAAKA,UAAU,kCAAiC,WAC9C,SAAC,MAAW,KACZ,iBAAKA,UAAU,iBAAgB,WAC7B,iBACE4B,gBAAgB,OAChBC,WAAW,QACX7B,UAAU,wGACVvC,MAAO,CAAEqE,SAAU,UACnBC,OAASpF,GFlEZ,EAACA,EAAOQ,EAAQzB,EAAcC,KACvD,IACE,MAAMqG,EAAsBtG,EAAaY,iBAAiBrD,KAAKgJ,GACzDA,EAAI5I,KAAO8D,EAAO9D,IACb,kBACF4I,GAAG,IACN3E,OAAQX,EAAMG,OAAOoF,YAGlBD,IAETtG,GAAgB,kBAAKD,GAAY,IAAEY,iBAAkB0F,IAGvD,CAFE,MAAO1G,GACPC,QAAQD,MAAMA,EAChB,GEqD8B6G,CACExF,EACAQ,EACAzB,EACAC,GAGJyG,UAAW1F,EACX2F,gCAAgC,EAAK,SAEpClF,EAAOG,UAEV,gBACE0C,UAAU,uJACVvC,MAAO,CAAEqE,SAAU,UAAW,yCAMpC,iBAAK9B,UAAU,0BAAyB,UACrCS,IACC,SAAC,EAAkB,CACjBtD,OAAQA,EACRzB,aAAcA,EACdC,gBAAiBA,EACjBZ,UAAWA,KAGf,SAAC,KAAM,CACLmG,MAAM,SAAC,MAAc,IACrBoB,MAAM,SACNnB,KAAK,KACLlB,QAAS,IF5EV,EAAC9C,EAAQzB,EAAcC,KAChD,IAKEA,EAAgB,CACdW,iBAL0BZ,EAAaY,iBAAiBiG,QACvDN,GAAQA,EAAI5I,KAAO8D,EAAO9D,KAK3BgC,eAHwB,IAAIK,EAAaL,eAAgB8B,IAQ7D,CAHE,MAAO7B,IACPmB,EAAAA,EAAAA,kBAAiB,SAAU,8CAC3BlB,QAAQD,MAAMA,EAChB,GEgE4BkH,CACErF,EACAzB,EACAC,aAzDPwB,EAAO9D,MAkEfiI,EAASmB,uBAMpB,iBAAKzC,UAAU,4BAA2B,WACxC,SAAC,KAAM,CACLA,UAAU,oBACVmB,KAAK,KACL1D,MAAO,CACLiF,YAAanI,EAAAA,SACboI,SAAU,SACVC,WAAY,QAEd3C,QAAS,IFxFC,EAClBlF,EACAE,EACAC,EACAS,KAEA,IACMZ,IAAcI,EAAAA,eAAAA,WAChBQ,EAAgB,CACdW,iBAAkBrB,EAA8B+D,gBAChD3D,eAAgB,KAGlBM,EAAgB,CACdW,iBAAkBpB,EAA6B8D,gBAC/C3D,eAAgB,IAMtB,CAHE,MAAOC,IACPmB,EAAAA,EAAAA,kBAAiB,SAAU,gDAC3BlB,QAAQD,MAAMA,EAChB,GEoEUuH,CACE9H,EACAE,EACAC,EACAS,GAEH,oBAIH,SAAC,KAAM,CACLqE,UAAU,oBACVmB,KAAK,KACL2B,QAAQ,UACRrF,MAAO,CAAEkF,SAAU,SAAUC,WAAY,QACzC3C,QAAS,IACPjC,EACEE,EACAC,EACApD,EACAW,EACAT,EACAmD,EACAC,EACAC,EACAC,EACAC,GACA,GAEH,sBAMJmC,IACC,UAAC,KAAI,CACHoC,UAAU,EACV/C,UAAU,8DACVa,UAAU,WACVpD,MAAO,CAAEqD,UAAW,yBAA0BC,SAAU,SAAU,WAElE,iBAAKf,UAAU,yEAAwE,WACrF,cAAGA,UAAU,wBAAuB,kBACpC,SAAC,IAAO,CAACiB,MAAM,QAAO,UACpB,SAAC,KAAM,CACLC,MAAM,SAAC,MAAc,IACrBoB,MAAM,SACNnB,KAAK,KACLlB,QAAS,IAAMW,GAA0B,WAI/C,gBAAKZ,UAAU,6CAA4C,SACxDtE,EAAaL,eAAepC,KAAKkE,IAChC,iBAEE6C,UAAU,wFAAuF,WAEjG,iBAAKA,UAAU,kCAAiC,WAC9C,SAAC,MAAW,IACX7C,EAAOG,WAEV,SAAC,KAAM,CACL4D,MAAM,SAAC,MAAO,IACdoB,MAAM,SACNnB,KAAK,KACLlB,QAAS,IFPH,EAAC9C,EAAQzB,EAAcC,KAC7C,IAKEA,EAAgB,CACdW,iBAL0B,IAAIZ,EAAaY,iBAAkBa,GAM7D9B,eALwBK,EAAaL,eAAekH,QACnDN,GAAQA,EAAI5I,KAAO8D,EAAO9D,MAS/B,CAHE,MAAOiC,IACPmB,EAAAA,EAAAA,kBAAiB,SAAU,4CAC3BlB,QAAQD,MAAMA,EAChB,GELkB0H,CAAgB7F,EAAQzB,EAAcC,OAZrCwB,EAAO9D,aAsB5B,C","sources":["views/Controls/Dashboard/constants/tw_colors.js","views/Scheduling/Scheduler/components/SchedulingArea/components/Dropdowns/ManageColumns/utils.js","views/Scheduling/Scheduler/components/SchedulingArea/components/Dropdowns/ManageColumns/components/ColumnWidthControl.js","views/Scheduling/Scheduler/components/SchedulingArea/components/Dropdowns/ManageColumns/ManageColumns.js"],"sourcesContent":["import { theme } from 'twin.macro';\r\n\r\nconst getRGBA = (hexColor, opacity) => {\r\n  const rgb = hexColor.match(/\\w\\w/g).map((x) => parseInt(x, 16));\r\n  return `rgba(${rgb[0]}, ${rgb[1]}, ${rgb[2]}, ${opacity / 100})`;\r\n};\r\nconst Month = [\r\n  { id: '01', name: 'Jan' },\r\n  { id: '02', name: 'Feb' },\r\n  { id: '03', name: 'Mar' },\r\n  { id: '04', name: 'Apr' },\r\n  { id: '05', name: 'May' },\r\n  { id: '06', name: 'Jun' },\r\n  { id: '07', name: 'Jul' },\r\n  { id: '08', name: 'Aug' },\r\n  { id: '09', name: 'Sep' },\r\n  { id: '10', name: 'Oct' },\r\n  { id: '11', name: 'Nov' },\r\n  { id: '12', name: 'Dec' },\r\n];\r\nconst TW_COLORS = theme`colors`;\r\nconst EMERALD_300 = TW_COLORS.emerald['300'];\r\nconst EMERALD_500 = TW_COLORS.emerald['500'];\r\nconst BLUE_500 = TW_COLORS.blue['500'];\r\nconst AMBER_500 = TW_COLORS.amber['500'];\r\nconst RED_500 = TW_COLORS.red['500'];\r\nconst ORANGE_500 = TW_COLORS.orange['500'];\r\nconst GREEN_500 = TW_COLORS.green['500'];\r\nconst GRAY_300 = TW_COLORS.gray['300'];\r\nconst GRAY_500 = TW_COLORS.gray['500'];\r\nconst EMERALD_500_50 = getRGBA(TW_COLORS.emerald['500'], 50);\r\nconst ROSE_700_40 = getRGBA(TW_COLORS.rose['700'], 40);\r\nconst RED_700 = TW_COLORS.red['700'];\r\nconst RED_900 = TW_COLORS.red['900'];\r\nconst GREEN_700 = TW_COLORS.green['700'];\r\nexport {\r\n  TW_COLORS,\r\n  EMERALD_300,\r\n  EMERALD_500,\r\n  BLUE_500,\r\n  AMBER_500,\r\n  RED_500,\r\n  ORANGE_500,\r\n  GREEN_500,\r\n  GRAY_300,\r\n  GRAY_500,\r\n  EMERALD_500_50,\r\n  ROSE_700_40,\r\n  Month,\r\n  RED_700,\r\n  GREEN_700,\r\n  RED_900\r\n};\r\n","import { apiPOSTColumnSetting } from 'services/ControlsService';\r\nimport {\r\n  isJSONArrayEqual,\r\n  openNotification,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport { featuresEnum, tableTypesEnum } from 'views/Scheduling/Scheduler/enum';\r\n\r\nconst getColumns = (\r\n  tableType,\r\n  columnType,\r\n  schedulingTableManagedColumns,\r\n  secondaryTableManagedColumns,\r\n) => {\r\n  try {\r\n    if (tableType === tableTypesEnum.SCHEDULING) {\r\n      if (columnType === 'draggable') {\r\n        return schedulingTableManagedColumns.visibleColumns;\r\n      } else {\r\n        return schedulingTableManagedColumns.removedColumns;\r\n      }\r\n    } else {\r\n      if (columnType === 'draggable') {\r\n        return secondaryTableManagedColumns.visibleColumns;\r\n      } else {\r\n        return secondaryTableManagedColumns.removedColumns;\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst reorderColumns = (list, startIndex, endIndex) => {\r\n  try {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n    return result;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst onDragEnd = (result, columnsState, setColumnsState) => {\r\n  try {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    const newItems = reorderColumns(\r\n      columnsState.draggableColumns,\r\n      result.source.index,\r\n      result.destination.index,\r\n    );\r\n    setColumnsState({ ...columnsState, draggableColumns: newItems });\r\n  } catch (error) {\r\n    openNotification('danger', 'Something went wrong');\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst handleHeaderChange = (event, column, columnsState, setColumnsState) => {\r\n  try {\r\n    const newDraggableColumns = columnsState.draggableColumns.map((col) => {\r\n      if (col.id === column.id) {\r\n        return {\r\n          ...col,\r\n          header: event.target.innerText,\r\n        };\r\n      }\r\n      return col;\r\n    });\r\n    setColumnsState({ ...columnsState, draggableColumns: newDraggableColumns });\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst handleKeyDown = (event) => {\r\n  if (event.key === 'Enter') {\r\n    event.preventDefault();\r\n    event.target.blur();\r\n  }\r\n};\r\n\r\nconst handleRemoveColumn = (column, columnsState, setColumnsState) => {\r\n  try {\r\n    const newDraggableColumns = columnsState.draggableColumns.filter(\r\n      (col) => col.id !== column.id,\r\n    );\r\n    const newRemovedColumns = [...columnsState.removedColumns, column];\r\n    setColumnsState({\r\n      draggableColumns: newDraggableColumns,\r\n      removedColumns: newRemovedColumns,\r\n    });\r\n  } catch (error) {\r\n    openNotification('danger', 'Something went wrong while removing column');\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst handleReset = (\r\n  tableType,\r\n  schedulingTableManagedColumns,\r\n  secondaryTableManagedColumns,\r\n  setColumnsState,\r\n) => {\r\n  try {\r\n    if (tableType === tableTypesEnum.SCHEDULING) {\r\n      setColumnsState({\r\n        draggableColumns: schedulingTableManagedColumns.originalColumns,\r\n        removedColumns: [],\r\n      });\r\n    } else {\r\n      setColumnsState({\r\n        draggableColumns: secondaryTableManagedColumns.originalColumns,\r\n        removedColumns: [],\r\n      });\r\n    }\r\n  } catch (error) {\r\n    openNotification('danger', 'Something went wrong while resetting columns');\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst getColumnSettingsToPersist = (columnsState, tableName) => {\r\n  try {\r\n    let data = columnsState.draggableColumns.map((column, index) => {\r\n      return {\r\n        ScreenName: tableName,\r\n        Header: column.header,\r\n        ColumnName: column.id,\r\n        ColumnWidht: column.style.width,\r\n        SequenceNo: index,\r\n        IsVisible: 1,\r\n      };\r\n    });\r\n    let index = columnsState.draggableColumns.length;\r\n    columnsState.removedColumns.forEach((column) => {\r\n      data.push({\r\n        ScreenName: tableName,\r\n        Header: column.header,\r\n        ColumnName: column.id,\r\n        ColumnWidht: column.style.width,\r\n        SequenceNo: index,\r\n        IsVisible: 0,\r\n      });\r\n      index++;\r\n    });\r\n    return data;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst persistColumnSettingsToDB = async (columnSettings, token) => {\r\n  try {\r\n    const response = await apiPOSTColumnSetting(columnSettings);\r\n    if (response.status !== 200) {\r\n      openNotification(\r\n        'danger',\r\n        `Something went wrong while saving column settings`,\r\n      );\r\n    }\r\n  } catch (error) {\r\n    openNotification(\r\n      'danger',\r\n      'Something went wrong while saving column settings',\r\n    );\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst handleApply = async (\r\n  schedulingTableName,\r\n  secondaryTableName,\r\n  tableType,\r\n  columnsState,\r\n  schedulingTableManagedColumns,\r\n  setSchedulingTableManagedColumns,\r\n  setSecondaryTableManagedColumns,\r\n  setActiveFeatures,\r\n  setSecTableToolbarState,\r\n  token,\r\n  isCloseDropdown,\r\n) => {\r\n  try {\r\n    let columnSettings = [];\r\n    if (tableType === tableTypesEnum.SCHEDULING) {\r\n      setSchedulingTableManagedColumns((prevState) => {\r\n        return {\r\n          ...prevState,\r\n          visibleColumns: columnsState.draggableColumns,\r\n          removedColumns: columnsState.removedColumns,\r\n        };\r\n      });\r\n      if (isCloseDropdown)\r\n        setActiveFeatures((prevState) => ({\r\n          ...prevState,\r\n          [featuresEnum.MANAGE_COLUMNS]: {\r\n            isDropdownVisible: false,\r\n            isActive:\r\n              columnsState.removedColumns.length > 0 ||\r\n              !isJSONArrayEqual(\r\n                schedulingTableManagedColumns.originalColumns,\r\n                columnsState.draggableColumns,\r\n              ),\r\n          },\r\n        }));\r\n      if (typeof schedulingTableName === 'string')\r\n        columnSettings = getColumnSettingsToPersist(\r\n          columnsState,\r\n          schedulingTableName,\r\n        );\r\n      else\r\n        console.error(\r\n          `Scheduling Table Column Settings not saved. schedulingTableName must be string but got ${schedulingTableName}`,\r\n        );\r\n    } else {\r\n      setSecondaryTableManagedColumns((prevState) => {\r\n        return {\r\n          ...prevState,\r\n          visibleColumns: columnsState.draggableColumns,\r\n          removedColumns: columnsState.removedColumns,\r\n        };\r\n      });\r\n      if (isCloseDropdown)\r\n        setSecTableToolbarState((prevState) => ({\r\n          ...prevState,\r\n          isManageColumnsDropdownVisible: false,\r\n        }));\r\n      if (typeof secondaryTableName === 'string')\r\n        columnSettings = getColumnSettingsToPersist(\r\n          columnsState,\r\n          secondaryTableName,\r\n        );\r\n      else\r\n        console.error(\r\n          `Secondary Table Column Settings not saved. secondaryTableName must be string but got ${secondaryTableName}`,\r\n        );\r\n    }\r\n    if (columnSettings.length > 0) {\r\n      persistColumnSettingsToDB(columnSettings, token);\r\n    }\r\n  } catch (error) {\r\n    openNotification('danger', 'Something went wrong while applying changes');\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst handleAddColumn = (column, columnsState, setColumnsState) => {\r\n  try {\r\n    const newDraggableColumns = [...columnsState.draggableColumns, column];\r\n    const newRemovedColumns = columnsState.removedColumns.filter(\r\n      (col) => col.id !== column.id,\r\n    );\r\n    setColumnsState({\r\n      draggableColumns: newDraggableColumns,\r\n      removedColumns: newRemovedColumns,\r\n    });\r\n  } catch (error) {\r\n    openNotification('danger', 'Something went wrong while adding column');\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst getClassNamesForHeaderButtons = (isFeatureEnabled) => {\r\n  try {\r\n    return isFeatureEnabled\r\n      ? '!bg-teal-700 hover:!bg-teal-800'\r\n      : '!bg-gray-700 hover:!bg-gray-800 hover:!bg-opacity-60';\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport {\r\n  getColumns,\r\n  onDragEnd,\r\n  handleHeaderChange,\r\n  handleKeyDown,\r\n  handleRemoveColumn,\r\n  handleReset,\r\n  handleApply,\r\n  handleAddColumn,\r\n  getClassNamesForHeaderButtons,\r\n};\r\n","import React, { useContext } from 'react';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport { tableTypesEnum } from 'views/Scheduling/Scheduler/enum';\r\n\r\nfunction ColumnWidthControl({\r\n  column,\r\n  columnsState,\r\n  setColumnsState,\r\n  tableType,\r\n}) {\r\n  /* CONTEXT */\r\n  const {\r\n    setSchedulingTableManagedColumns,\r\n    setSecondaryTableManagedColumns,\r\n    maintainScrolledOffsetOfTables,\r\n  } = useContext(SchedulerContext);\r\n\r\n  /* EVENT HANDLERS */\r\n  const changeColumnWidth = (columnId, operation) => {\r\n    try {\r\n      const updatedDraggableColumns = {\r\n        ...columnsState,\r\n      }.draggableColumns.map((column) =>\r\n        applyChanges(columnId, column, operation),\r\n      );\r\n      const updatedColumnsState = {\r\n        ...columnsState,\r\n        draggableColumns: updatedDraggableColumns,\r\n      };\r\n      setColumnsState(updatedColumnsState);\r\n      if (tableType === tableTypesEnum.SCHEDULING) {\r\n        setSchedulingTableManagedColumns((prevState) => {\r\n          return {\r\n            ...prevState,\r\n            visibleColumns: columnsState.draggableColumns,\r\n            removedColumns: columnsState.removedColumns,\r\n          };\r\n        });\r\n      } else {\r\n        setSecondaryTableManagedColumns((prevState) => {\r\n          return {\r\n            ...prevState,\r\n            visibleColumns: columnsState.draggableColumns,\r\n            removedColumns: columnsState.removedColumns,\r\n          };\r\n        });\r\n      }\r\n      maintainScrolledOffsetOfTables();\r\n    } catch (error) {\r\n      openNotification(\r\n        'danger',\r\n        'Something went wrong while changing column width',\r\n      );\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  /* HELPER FUNCTIONS */\r\n  const applyChanges = (columnId, column, operation) => {\r\n    try {\r\n      if (column.id === columnId) {\r\n        let width = column.style.width;\r\n        if (operation === 'increment') width = width + 1;\r\n        else {\r\n          if (width - 1 > 5) width = width - 1;\r\n          else width = 5;\r\n        }\r\n        return {\r\n          ...column,\r\n          style: {\r\n            ...column.style,\r\n            width,\r\n          },\r\n        };\r\n      } else return column;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center border border-gray-500 text-white rounded-full\">\r\n      <div\r\n        className={`px-2 hover:bg-gray-600 hover:cursor-pointer transition-all rounded-tl-full rounded-bl-full ${\r\n          column.style.width === 5 &&\r\n          'bg-gray-800 bg-opacity-60 hover:bg-gray-800 hover:cursor-not-allowed'\r\n        }`}\r\n        onClick={() => changeColumnWidth(column.id, 'decrement')}\r\n      >\r\n        -\r\n      </div>\r\n      <div className=\"!bg-gray-600 px-1.5 border-x border-x-gray-500\">\r\n        {column.style.width < 10\r\n          ? `0${column.style.width}`\r\n          : column.style.width}\r\n      </div>\r\n      <div\r\n        className=\"px-2  hover:bg-gray-600 hover:cursor-pointer transition-all rounded-tr-full rounded-br-full\"\r\n        onClick={() => changeColumnWidth(column.id, 'increment')}\r\n      >\r\n        +\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ColumnWidthControl;\r\n","import { Button, Card, Tooltip } from 'components/ui';\r\nimport React, { useContext, useState } from 'react';\r\nimport { DragDropContext, Draggable, Droppable } from '@hello-pangea/dnd';\r\nimport { RiDraggable } from 'react-icons/ri';\r\nimport { MdOutlineClose } from 'react-icons/md';\r\nimport { IoMdAdd } from 'react-icons/io';\r\nimport { GRAY_500 } from 'views/Controls/Dashboard/constants/tw_colors';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport {\r\n  getClassNamesForHeaderButtons,\r\n  getColumns,\r\n  handleAddColumn,\r\n  handleApply,\r\n  handleHeaderChange,\r\n  handleKeyDown,\r\n  handleRemoveColumn,\r\n  handleReset,\r\n  onDragEnd,\r\n} from './utils';\r\nimport ColumnWidthControl from './components/ColumnWidthControl';\r\nimport { TbArrowAutofitWidth } from 'react-icons/tb';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction ManageColumns({ tableType, position, dropdownRef }) {\r\n  /* REDUX */\r\n  const token = useSelector((state) => state.auth.session.token);\r\n\r\n  /* CONTEXT */\r\n  const {\r\n    schedulingTableName,\r\n    secondaryTableName,\r\n    schedulingTableManagedColumns,\r\n    setSchedulingTableManagedColumns,\r\n    secondaryTableManagedColumns,\r\n    setSecondaryTableManagedColumns,\r\n    setActiveFeatures,\r\n    setSecTableToolbarState,\r\n  } = useContext(SchedulerContext);\r\n\r\n  /* STATES */\r\n  const [columnsState, setColumnsState] = useState({\r\n    draggableColumns: getColumns(\r\n      tableType,\r\n      'draggable',\r\n      schedulingTableManagedColumns,\r\n      secondaryTableManagedColumns,\r\n    ),\r\n    removedColumns: getColumns(\r\n      tableType,\r\n      'removed',\r\n      schedulingTableManagedColumns,\r\n      secondaryTableManagedColumns,\r\n    ),\r\n  });\r\n  const [showColumnWidthControl, setShowColumnWidthControl] = useState(false);\r\n  const [showAddColumnsDropDown, setShowAddColumnsDropDown] = useState(false);\r\n\r\n  return (\r\n    <Card\r\n      className={`!bg-gray-700 text-white mt-2 absolute ${\r\n        position ? position : 'left-1/2'\r\n      } top-full z-[100]`}\r\n      bodyClass=\"p-3 pt-1\"\r\n      style={{ boxShadow: '#000000cc 0px 0px 10px', minWidth: '14rem' }}\r\n      ref={dropdownRef}\r\n    >\r\n      <div className=\"mb-1.5 border-b border-b-gray-600 pb-1.5 flex justify-between items-center\">\r\n        <p className=\"text-sm font-semibold\">Columns</p>\r\n        <div className=\"flex gap-1\">\r\n          <Tooltip\r\n            title={\r\n              showColumnWidthControl ? 'Close column resize' : 'Resize column'\r\n            }\r\n          >\r\n            <Button\r\n              icon={<TbArrowAutofitWidth className=\"text-lg\" />}\r\n              size=\"xs\"\r\n              color=\"gray-600\"\r\n              className={` transition-all ${getClassNamesForHeaderButtons(\r\n                showColumnWidthControl,\r\n              )}`}\r\n              onClick={() => setShowColumnWidthControl(!showColumnWidthControl)}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"Add column\">\r\n            <Button\r\n              icon={<IoMdAdd className=\"text-lg\" />}\r\n              className={`transition-all ${getClassNamesForHeaderButtons(\r\n                showAddColumnsDropDown,\r\n              )}`}\r\n              size=\"xs\"\r\n              onClick={() => setShowAddColumnsDropDown(true)}\r\n            />\r\n          </Tooltip>\r\n        </div>\r\n      </div>\r\n      <div className=\"h-[30vh] overflow-y-auto overflow-x-hidden\">\r\n        <DragDropContext\r\n          onDragEnd={(result) =>\r\n            onDragEnd(result, columnsState, setColumnsState)\r\n          }\r\n        >\r\n          <Droppable droppableId=\"manage-columns-droppable-area\">\r\n            {(provided) => (\r\n              <div {...provided.droppableProps} ref={provided.innerRef}>\r\n                {columnsState.draggableColumns.map((column, index) => (\r\n                  <Draggable\r\n                    key={column.id}\r\n                    draggableId={column.id}\r\n                    index={index}\r\n                  >\r\n                    {(provided) => (\r\n                      <div\r\n                        ref={provided.innerRef}\r\n                        {...provided.draggableProps}\r\n                        {...provided.dragHandleProps}\r\n                        className=\"border-b border-b-gray-600 py-1 flex items-center justify-between gap-6 text-gray-300\"\r\n                      >\r\n                        <div className=\"flex gap-1 items-center text-sm\">\r\n                          <RiDraggable />\r\n                          <div className=\"relative group\">\r\n                            <span\r\n                              contentEditable=\"true\"\r\n                              spellCheck=\"false\"\r\n                              className=\"px-1.5 py-0.5 hover:cursor-pointer focus:outline focus:outline-teal-500 focus:outline-[1.5px] rounded\"\r\n                              style={{ textWrap: 'nowrap' }}\r\n                              onBlur={(event) =>\r\n                                handleHeaderChange(\r\n                                  event,\r\n                                  column,\r\n                                  columnsState,\r\n                                  setColumnsState,\r\n                                )\r\n                              }\r\n                              onKeyDown={handleKeyDown}\r\n                              suppressContentEditableWarning={true}\r\n                            >\r\n                              {column.header}\r\n                            </span>\r\n                            <div\r\n                              className=\"absolute top-3/4 left-1/2 transform -translate-x-1/3 mt-2 hidden group-hover:block bg-gray-800 text-white text-xs px-2 py-1 rounded shadow-lg z-[50]\"\r\n                              style={{ textWrap: 'nowrap' }}\r\n                            >\r\n                              Click to edit header\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-1\">\r\n                          {showColumnWidthControl && (\r\n                            <ColumnWidthControl\r\n                              column={column}\r\n                              columnsState={columnsState}\r\n                              setColumnsState={setColumnsState}\r\n                              tableType={tableType}\r\n                            />\r\n                          )}\r\n                          <Button\r\n                            icon={<MdOutlineClose />}\r\n                            shape=\"circle\"\r\n                            size=\"xs\"\r\n                            onClick={() =>\r\n                              handleRemoveColumn(\r\n                                column,\r\n                                columnsState,\r\n                                setColumnsState,\r\n                              )\r\n                            }\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </Draggable>\r\n                ))}\r\n                {provided.placeholder}\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n        </DragDropContext>\r\n      </div>\r\n      <div className=\"mt-3 flex justify-between\">\r\n        <Button\r\n          className=\"w-max font-normal\"\r\n          size=\"sm\"\r\n          style={{\r\n            borderColor: GRAY_500,\r\n            fontSize: '0.8rem',\r\n            lineHeight: '1rem',\r\n          }}\r\n          onClick={() =>\r\n            handleReset(\r\n              tableType,\r\n              schedulingTableManagedColumns,\r\n              secondaryTableManagedColumns,\r\n              setColumnsState,\r\n            )\r\n          }\r\n        >\r\n          Reset\r\n        </Button>\r\n        <Button\r\n          className=\"w-max font-normal\"\r\n          size=\"sm\"\r\n          variant=\"twoTone\"\r\n          style={{ fontSize: '0.8rem', lineHeight: '1rem' }}\r\n          onClick={() =>\r\n            handleApply(\r\n              schedulingTableName,\r\n              secondaryTableName,\r\n              tableType,\r\n              columnsState,\r\n              schedulingTableManagedColumns,\r\n              setSchedulingTableManagedColumns,\r\n              setSecondaryTableManagedColumns,\r\n              setActiveFeatures,\r\n              setSecTableToolbarState,\r\n              token,\r\n              true,\r\n            )\r\n          }\r\n        >\r\n          Apply\r\n        </Button>\r\n      </div>\r\n      {/* Add Columns DropDown */}\r\n      {showAddColumnsDropDown && (\r\n        <Card\r\n          bordered={false}\r\n          className=\"!bg-gray-700 text-white ml-2 absolute left-full top-0 z-[1]\"\r\n          bodyClass=\"p-3 pt-1\"\r\n          style={{ boxShadow: '#000000cc 0px 0px 10px', minWidth: '14rem' }}\r\n        >\r\n          <div className=\"mb-2 border-b border-b-gray-600 pb-1 flex justify-between items-center\">\r\n            <p className=\"text-sm font-semibold\">Add</p>\r\n            <Tooltip title=\"Close\">\r\n              <Button\r\n                icon={<MdOutlineClose />}\r\n                shape=\"circle\"\r\n                size=\"xs\"\r\n                onClick={() => setShowAddColumnsDropDown(false)}\r\n              />\r\n            </Tooltip>\r\n          </div>\r\n          <div className=\"h-[30vh] overflow-y-auto overflow-x-hidden\">\r\n            {columnsState.removedColumns.map((column) => (\r\n              <div\r\n                key={column.id}\r\n                className=\"border-b border-b-gray-600 py-1 flex items-center justify-between gap-2 text-gray-300\"\r\n              >\r\n                <div className=\"flex gap-1 items-center text-sm\">\r\n                  <RiDraggable />\r\n                  {column.header}\r\n                </div>\r\n                <Button\r\n                  icon={<IoMdAdd />}\r\n                  shape=\"circle\"\r\n                  size=\"xs\"\r\n                  onClick={() =>\r\n                    handleAddColumn(column, columnsState, setColumnsState)\r\n                  }\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Card>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default ManageColumns;\r\n"],"names":["getRGBA","hexColor","opacity","rgb","match","map","x","parseInt","Month","id","name","TW_COLORS","EMERALD_300","emerald","EMERALD_500","BLUE_500","blue","AMBER_500","amber","RED_500","red","ORANGE_500","orange","GREEN_500","green","GRAY_300","gray","GRAY_500","EMERALD_500_50","ROSE_700_40","rose","RED_700","RED_900","GREEN_700","getColumns","tableType","columnType","schedulingTableManagedColumns","secondaryTableManagedColumns","tableTypesEnum","visibleColumns","removedColumns","error","console","onDragEnd","result","columnsState","setColumnsState","destination","newItems","list","startIndex","endIndex","Array","from","removed","splice","reorderColumns","draggableColumns","source","index","openNotification","handleKeyDown","event","key","preventDefault","target","blur","getColumnSettingsToPersist","tableName","data","column","ScreenName","Header","header","ColumnName","ColumnWidht","style","width","SequenceNo","IsVisible","length","forEach","push","handleApply","async","schedulingTableName","secondaryTableName","setSchedulingTableManagedColumns","setSecondaryTableManagedColumns","setActiveFeatures","setSecTableToolbarState","token","isCloseDropdown","columnSettings","prevState","featuresEnum","isDropdownVisible","isActive","isJSONArrayEqual","originalColumns","isManageColumnsDropdownVisible","apiPOSTColumnSetting","status","persistColumnSettingsToDB","getClassNamesForHeaderButtons","isFeatureEnabled","maintainScrolledOffsetOfTables","useContext","SchedulerContext","changeColumnWidth","columnId","operation","updatedDraggableColumns","applyChanges","updatedColumnsState","className","onClick","position","dropdownRef","useSelector","state","auth","session","useState","showColumnWidthControl","setShowColumnWidthControl","showAddColumnsDropDown","setShowAddColumnsDropDown","bodyClass","boxShadow","minWidth","ref","title","icon","size","color","droppableId","provided","droppableProps","innerRef","draggableId","draggableProps","dragHandleProps","contentEditable","spellCheck","textWrap","onBlur","newDraggableColumns","col","innerText","handleHeaderChange","onKeyDown","suppressContentEditableWarning","shape","filter","handleRemoveColumn","placeholder","borderColor","fontSize","lineHeight","handleReset","variant","bordered","handleAddColumn"],"sourceRoot":""}