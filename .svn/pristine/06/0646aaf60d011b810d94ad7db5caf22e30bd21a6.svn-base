{"version":3,"file":"static/js/9145.38a09fc1.chunk.js","mappings":"iIAkBA,QAhBA,WAA6C,IAAlBA,EAAQ,uDAAG,IAClC,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,IAYvC,OAVAC,EAAAA,EAAAA,YAAU,KACN,GAAIH,EAAS,CACT,IAAII,EAAUC,YAAW,IAAMJ,EAAW,KAAKF,GAC/C,MAAO,KACHO,aAAaF,EAAQ,CAE7B,IAED,CAACJ,IAEG,CAACA,EAASC,EACrB,C,sJCPA,MAAMM,EAAmBC,EAAAA,KAAaC,MAAM,CACxCC,SAAUF,EAAAA,KAAaG,SAAS,8BAChCC,gBAAiBJ,EAAAA,KAAaK,MAC1B,CAACL,EAAAA,GAAQ,YAAa,MACtB,iCA0IR,EAtI2BM,IACvB,MAAM,cAAEC,GAAgB,EAAK,UAAEC,EAAS,UAAEC,EAAY,YAAeH,GAE9DI,EAAeC,IAAoBjB,EAAAA,EAAAA,WAAS,IAE5CF,EAASC,IAAcmB,EAAAA,EAAAA,KAExBC,GAAWC,EAAAA,EAAAA,MAiBXC,EAAa,KACfF,EAAS,WAAW,EAGxB,OACI,iBAAKL,UAAWA,EAAU,WACtB,gBAAKA,UAAU,OAAM,SAChBE,GACG,iCACI,eAAIF,UAAU,OAAM,yBACpB,yEAGJ,iCACI,eAAIA,UAAU,OAAM,+BACpB,qFAMXhB,IACG,SAAC,KAAK,CAACgB,UAAU,OAAOQ,KAAK,SAASC,UAAQ,WACzCzB,KAGT,SAAC,KAAM,CACH0B,cAAe,CACXhB,SAAU,UACVE,gBAAiB,WAErBL,iBAAkBA,EAClBoB,SAAU,CAACC,EAAO,KAAwB,IAAvB,cAAEC,GAAe,EAC3Bd,EAGDc,GAAc,GAnDjBC,OAAOF,EAAQC,KAC5B,MAAM,SAAEnB,GAAakB,EACrBC,GAAc,GACd,WACuBE,EAAAA,EAAAA,IAAiB,CAAErB,cAC7BsB,OACLH,GAAc,GACdV,GAAiB,GAKzB,CAHE,MAAOc,GAAS,IAAD,IACbhC,GAAiB,OAANgC,QAAM,IAANA,GAAgB,QAAV,EAANA,EAAQC,gBAAQ,OAAM,QAAN,EAAhB,EAAkBF,YAAI,WAAhB,EAAN,EAAwBhC,UAAWiC,EAAOE,YACrDN,GAAc,EAClB,GAqCgBF,CAASC,EAAQC,EAGrB,EACF,SAED,QAAC,QAAEO,EAAO,OAAEH,EAAM,aAAEI,GAAc,SAC/B,SAAC,KAAI,WACD,UAAC,KAAa,WACRnB,GA6CE,SAAC,KAAM,CACHoB,OAAK,EACLC,QAAQ,QACRf,KAAK,SACLgB,QAASjB,EAAW,uBAhDxB,iCACI,SAAC,KAAQ,CACLkB,MAAM,WACNC,QACIT,EAAOvB,UAAY0B,EAAQ1B,SAE/BiC,aAAcV,EAAOvB,SAAS,UAE9B,SAAC,KAAK,CACFkC,KAAK,KACLC,aAAa,MACbC,KAAK,WACLC,YAAY,WACZC,UAAWC,EAAAA,QAGnB,SAAC,KAAQ,CACLR,MAAM,mBACNC,QACIT,EAAOrB,iBACPwB,EAAQxB,gBAEZ+B,aAAcV,EAAOrB,gBAAgB,UAErC,SAAC,KAAK,CACFgC,KAAK,KACLC,aAAa,MACbC,KAAK,kBACLC,YAAY,mBACZC,UAAWC,EAAAA,QAGnB,SAAC,KAAM,CACHX,OAAK,EACLY,QAASb,EACTE,QAAQ,QACRf,KAAK,SAAQ,SAEZa,EACK,eACA,eAclB,iBAAKrB,UAAU,mBAAkB,WAC7B,wCACA,SAAC,KAAU,CAACmC,GAAIlC,EAAU,4BAG/B,MAGb,EC5Id,EAJsB,KACX,SAAC,EAAiB,CAACF,eAAe,G","sources":["utils/hooks/useTimeOutMessage.js","views/auth/ResetPassword/ResetPasswordForm.js","views/auth/ResetPassword/index.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\n\r\nfunction useTimeOutMessage(interval = 3000) {\r\n    const [message, setMessage] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (message) {\r\n            let timeout = setTimeout(() => setMessage(''), interval)\r\n            return () => {\r\n                clearTimeout(timeout)\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [message])\r\n\r\n    return [message, setMessage]\r\n}\r\n\r\nexport default useTimeOutMessage\r\n","import React, { useState } from 'react'\r\nimport { Button, FormItem, FormContainer, Alert } from 'components/ui'\r\nimport { PasswordInput, ActionLink } from 'components/shared'\r\nimport { apiResetPassword } from 'services/AuthService'\r\nimport useTimeOutMessage from 'utils/hooks/useTimeOutMessage'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Field, Form, Formik } from 'formik'\r\nimport * as Yup from 'yup'\r\n\r\nconst validationSchema = Yup.object().shape({\r\n    password: Yup.string().required('Please enter your password'),\r\n    confirmPassword: Yup.string().oneOf(\r\n        [Yup.ref('password'), null],\r\n        'Your passwords do not match'\r\n    ),\r\n})\r\n\r\nconst ResetPasswordForm = (props) => {\r\n    const { disableSubmit = false, className, signInUrl = '/sign-in' } = props\r\n\r\n    const [resetComplete, setResetComplete] = useState(false)\r\n\r\n    const [message, setMessage] = useTimeOutMessage()\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const onSubmit = async (values, setSubmitting) => {\r\n        const { password } = values\r\n        setSubmitting(true)\r\n        try {\r\n            const resp = await apiResetPassword({ password })\r\n            if (resp.data) {\r\n                setSubmitting(false)\r\n                setResetComplete(true)\r\n            }\r\n        } catch (errors) {\r\n            setMessage(errors?.response?.data?.message || errors.toString())\r\n            setSubmitting(false)\r\n        }\r\n    }\r\n\r\n    const onContinue = () => {\r\n        navigate('/sign-in')\r\n    }\r\n\r\n    return (\r\n        <div className={className}>\r\n            <div className=\"mb-6\">\r\n                {resetComplete ? (\r\n                    <>\r\n                        <h3 className=\"mb-1\">Reset done</h3>\r\n                        <p>Your password has been successfully reset</p>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <h3 className=\"mb-1\">Set new password</h3>\r\n                        <p>\r\n                            Your new password must different to previos password\r\n                        </p>\r\n                    </>\r\n                )}\r\n            </div>\r\n            {message && (\r\n                <Alert className=\"mb-4\" type=\"danger\" showIcon>\r\n                    {message}\r\n                </Alert>\r\n            )}\r\n            <Formik\r\n                initialValues={{\r\n                    password: '123Qwe1',\r\n                    confirmPassword: '123Qwe1',\r\n                }}\r\n                validationSchema={validationSchema}\r\n                onSubmit={(values, { setSubmitting }) => {\r\n                    if (!disableSubmit) {\r\n                        onSubmit(values, setSubmitting)\r\n                    } else {\r\n                        setSubmitting(false)\r\n                    }\r\n                }}\r\n            >\r\n                {({ touched, errors, isSubmitting }) => (\r\n                    <Form>\r\n                        <FormContainer>\r\n                            {!resetComplete ? (\r\n                                <>\r\n                                    <FormItem\r\n                                        label=\"Password\"\r\n                                        invalid={\r\n                                            errors.password && touched.password\r\n                                        }\r\n                                        errorMessage={errors.password}\r\n                                    >\r\n                                        <Field\r\n                                            size=\"sm\"\r\n                                            autoComplete=\"off\"\r\n                                            name=\"password\"\r\n                                            placeholder=\"Password\"\r\n                                            component={PasswordInput}\r\n                                        />\r\n                                    </FormItem>\r\n                                    <FormItem\r\n                                        label=\"Confirm Password\"\r\n                                        invalid={\r\n                                            errors.confirmPassword &&\r\n                                            touched.confirmPassword\r\n                                        }\r\n                                        errorMessage={errors.confirmPassword}\r\n                                    >\r\n                                        <Field\r\n                                            size=\"sm\"\r\n                                            autoComplete=\"off\"\r\n                                            name=\"confirmPassword\"\r\n                                            placeholder=\"Confirm Password\"\r\n                                            component={PasswordInput}\r\n                                        />\r\n                                    </FormItem>\r\n                                    <Button\r\n                                        block\r\n                                        loading={isSubmitting}\r\n                                        variant=\"solid\"\r\n                                        type=\"submit\"\r\n                                    >\r\n                                        {isSubmitting\r\n                                            ? 'Submiting...'\r\n                                            : 'Submit'}\r\n                                    </Button>\r\n                                </>\r\n                            ) : (\r\n                                <Button\r\n                                    block\r\n                                    variant=\"solid\"\r\n                                    type=\"button\"\r\n                                    onClick={onContinue}\r\n                                >\r\n                                    Continue\r\n                                </Button>\r\n                            )}\r\n\r\n                            <div className=\"mt-4 text-center\">\r\n                                <span>Back to </span>\r\n                                <ActionLink to={signInUrl}>Sign in</ActionLink>\r\n                            </div>\r\n                        </FormContainer>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ResetPasswordForm\r\n","import React from 'react'\r\nimport ResetPasswordForm from './ResetPasswordForm'\r\n\r\nconst ResetPassword = () => {\r\n    return <ResetPasswordForm disableSubmit={false} />\r\n}\r\n\r\nexport default ResetPassword\r\n"],"names":["interval","message","setMessage","useState","useEffect","timeout","setTimeout","clearTimeout","validationSchema","Yup","shape","password","required","confirmPassword","oneOf","props","disableSubmit","className","signInUrl","resetComplete","setResetComplete","useTimeOutMessage","navigate","useNavigate","onContinue","type","showIcon","initialValues","onSubmit","values","setSubmitting","async","apiResetPassword","data","errors","response","toString","touched","isSubmitting","block","variant","onClick","label","invalid","errorMessage","size","autoComplete","name","placeholder","component","PasswordInput","loading","to"],"sourceRoot":""}