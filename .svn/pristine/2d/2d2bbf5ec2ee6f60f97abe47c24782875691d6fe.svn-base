"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[3990],{44662:(e,t,a)=>{a.d(t,{AK:()=>d,Fq:()=>h,NJ:()=>s,SX:()=>r,Yj:()=>m,al:()=>i,b8:()=>p,iq:()=>l,qf:()=>C,y7:()=>u});var o=a(54048),n=a(46152);const c=a(74569);async function s(e){return n.Z.fetchData({url:"/ntcmaster/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}const r=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/ntcmaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),i=(e,t,a)=>new Promise(((n,s)=>{let r={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/ntcmaster/"+t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:e};c.request(r).then((e=>{n(e)})).catch((e=>{s(e)}))}));async function l(e){return n.Z.fetchData({url:"/ntctypemaster/drop/",method:"get",data:e})}async function d(e){return n.Z.fetchData({url:"/ntctypemaster/",method:"get",data:e})}const u=(e,t)=>fetch(o.Z.apiPrefix+"/ntctypemaster/".concat(e.NTCTypeCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({NTCTypeName:e.NTCTypeName,NtcTypeShortName:e.NtcTypeShortName,NTCGroupCode:e.NTCGroupCode,DefaultGAP:e.DefaultGAP,IsActive:e.IsActive})}),C=(e,t)=>fetch(o.Z.apiPrefix+"/ntctypemaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({NTCTypeName:e.NTCTypeName,NtcTypeShortName:e.NtcTypeShortName,NTCGroupCode:e.NTCGroupCode,DefaultGAP:e.DefaultGAP,IsActive:e.IsActive})}),h=(e,t)=>fetch(o.Z.apiPrefix+"/ntcgroupmaster/".concat(e.NTCGroupCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({NTCGroupName:e.NTCGroupName,IsActive:e.IsActive})}),m=(e,t)=>fetch(o.Z.apiPrefix+"/ntcgroupmaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({NTCGroupName:e.NTCGroupName,IsActive:e.IsActive})});async function p(e){return n.Z.fetchData({url:"/ntcgroupmaster/",method:"get",data:e})}},87350:(e,t,a)=>{a.d(t,{Bs:()=>P,C4:()=>Y,CY:()=>Q,D7:()=>k,DD:()=>E,EF:()=>ne,FN:()=>G,FZ:()=>j,Fb:()=>i,Gm:()=>g,Hg:()=>J,Kc:()=>y,Ko:()=>S,LI:()=>N,MC:()=>L,NP:()=>I,Nq:()=>h,OK:()=>w,QI:()=>F,SU:()=>X,Tf:()=>D,Ux:()=>H,V9:()=>f,VG:()=>u,VT:()=>W,Ww:()=>x,XC:()=>K,Xc:()=>s,_V:()=>v,ae:()=>R,c0:()=>z,c1:()=>p,c_:()=>ee,cn:()=>M,db:()=>b,f7:()=>_,fL:()=>C,fi:()=>m,gK:()=>V,hE:()=>l,hG:()=>U,je:()=>d,n5:()=>O,nR:()=>te,nY:()=>Z,nr:()=>B,pp:()=>ae,qg:()=>oe,sb:()=>A,sd:()=>T,t2:()=>$,w4:()=>q,xl:()=>r});var o=a(54048),n=a(46152);const c=a(74569);async function s(e,t){const a=t?"&search=".concat(t):"",o="/promomaster/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode).concat(a);return n.Z.fetchData({url:o,method:"get",data:e})}async function r(e,t){let a="/promomaster/filter/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode);return t.PromoTypeCode&&(a+="&PromoTypeCode=".concat(t.PromoTypeCode)),t.Caption&&(a+="&Caption=".concat(t.Caption)),t.Duration[0]&&(a+="&Duration1=".concat(t.Duration[0])),t.Duration[1]&&(a+="&Duration2=".concat(t.Duration[1])),t.VideoID&&(a+="&VideoID=".concat(t.VideoID)),n.Z.fetchData({url:a,method:"get",data:t})}async function i(e){return n.Z.fetchData({url:"/smartshufflesetting/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}async function l(e,t){return n.Z.fetchData({url:"/smartshufflesetting/".concat(t),method:"put",data:e})}async function d(e){return n.Z.fetchData({url:"/smartshufflesetting/",method:"post",data:e})}async function u(e){return n.Z.fetchData({url:"/songgenre/",method:"get",data:e})}async function C(e){return n.Z.fetchData({url:"/songcategory/",method:"get",data:e})}async function h(e){return n.Z.fetchData({url:"/songmaster/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}async function m(e){return n.Z.fetchData({url:"/songmaster/".concat(e),method:"get"})}const p=(e,t)=>fetch(o.Z.apiPrefix+"/songgenre/".concat(e.SongGenreCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({SongGenreName:e.SongGenreName,IsActive:e.IsActive})}),g=(e,t)=>fetch(o.Z.apiPrefix+"/moviealbummaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({MovieAlbumName:e.MovieAlbumName,IsActive:e.IsActive})}),N=(e,t)=>fetch(o.Z.apiPrefix+"/moviealbummaster/".concat(e.MovieAlbumCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({MovieAlbumName:e.MovieAlbumName,IsActive:e.IsActive})}),T=(e,t)=>(console.log(e),fetch(o.Z.apiPrefix+"/songcategory/".concat(e.SongCategoryCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({SongCategoryName:e.SongCategoryName,IsActive:e.IsActive})})),y=(e,t)=>fetch(o.Z.apiPrefix+"/songgenre",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({SongGenreName:e.SongGenreName,IsActive:e.IsActive})}),S=(e,t)=>fetch(o.Z.apiPrefix+"/songcategory",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({SongCategoryName:e.SongCategoryName,IsActive:e.IsActive})}),f=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/promomaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),D=(e,t,a)=>new Promise(((n,s)=>{let r={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/promomaster/".concat(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(r).then((e=>{n(e)})).catch((e=>{s(e)}))}));async function x(e){return n.Z.fetchData({url:"/promotypemaster/drop/",method:"get",data:e})}async function v(e){return n.Z.fetchData({url:"/songgenre/drop/",method:"get",data:e})}async function j(e){return n.Z.fetchData({url:"/tapetypemaster/drop/",method:"get",data:e})}async function b(e){return n.Z.fetchData({url:"/songtempo/drop/",method:"get",data:e})}async function Z(e,t,a){const o="promoscheduling/USP_Sch_PromoScheduling_GetDetails/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=").concat(a);return n.Z.fetchData({url:o,method:"get"})}async function L(e,t,a){const o="ntcscheduling/USP_Sch_NTCScheduling_GetDetails/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=").concat(a);return n.Z.fetchData({url:o,method:"get"})}async function I(e,t,a){const o="songscheduling/USP_Sch_SongScheduling_GetDetails/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=").concat(a);return n.Z.fetchData({url:o,method:"get"})}async function P(e,t,a){const o="transmissionlog/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=").concat(a);return n.Z.fetchData({url:o,method:"get"})}async function A(e,t){const a="transmissionlog/Scheduling_FinalLog_ProgramChange?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t);return n.Z.fetchData({url:a,method:"get"})}async function q(e,t){const a="/transmissionlog/USP_Sch_Finalog_ExportCsv/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=S");return n.Z.fetchData({url:a,method:"get"})}async function E(e){const t="restore/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(e.TelecastDate,"&FormName=").concat(e.FormName);return n.Z.fetchData({url:t,method:"get"})}async function B(e,t,a){const o="songscheduling/GetSongschedulDetails/?SongCode=".concat(e,"&TelecastDate=").concat(t,"&InHour=").concat(a);return n.Z.fetchData({url:o,method:"get"})}async function G(e){const t="restore/audit_data/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(e.TelecastDate,"&FormName=").concat(e.FormName,"&D_date=").concat(e.D_date);return n.Z.fetchData({url:t,method:"post"})}async function M(e){const t="commercialscheduling/restoreauditcommercialscheduling/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&ScheduleDate=").concat(e.ScheduleDate,"&D_date=").concat(e.D_date);return n.Z.fetchData({url:t,method:"post"})}async function _(e,t){const a="commercialscheduling/getauditpromoscheduling/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&ScheduleDate=").concat(t);return n.Z.fetchData({url:a,method:"get"})}async function z(e,t){const a="globle/GetDailyFPCStatus?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&Screen=").concat(e.Screen,"&TelecastDate=").concat(t);return n.Z.fetchData({url:a,method:"get"})}async function w(e,t,a,o){const c="promoscheduling/USP_Sch_Get_All_Promo/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&PromoTypeCode=").concat(a,"&PromoName=").concat(o);return n.Z.fetchData({url:c,method:"get"})}async function O(e,t,a,o){const c="ntcmaster/USP_Sch_Get_All_NTC/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&NTCTypeCode=").concat(a,"&NTCName=").concat(o);return n.Z.fetchData({url:c,method:"get"})}async function k(e,t,a,o){const c="songscheduling/USP_Sch_Get_All_Song/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&SongType=").concat(a,"&OrderBy=2&SearchText=").concat(o);return n.Z.fetchData({url:c,method:"get"})}async function F(e){return n.Z.fetchData({url:"/musicagencymst/drop/",method:"get",data:e})}async function K(e){return n.Z.fetchData({url:"/moviealbummaster/drop/",method:"get",data:e})}async function J(e){return n.Z.fetchData({url:"/transmissionlog/addaudit/",method:"post",data:e})}async function U(e){return n.Z.fetchData({url:"/transmissionlog/insertdata/",method:"post",data:e})}async function Y(e){return n.Z.fetchData({url:"/transmissionlog/updatedata/",method:"put",data:e})}async function V(e,t){return n.Z.fetchData({url:"/transmissionlog/deletedata/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t),method:"delete"})}const R=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/promoscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),H=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/songscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),W=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/ntcscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),X=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/transmissionlog/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),Q=(e,t)=>(console.log("url"),new Promise(((a,n)=>{let s={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/commercialscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))}))),$=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/songmaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),ee=(e,t,a)=>new Promise(((n,s)=>{let r={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/songmaster/".concat(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(r).then((e=>{n(e)})).catch((e=>{s(e)}))})),te=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/columnsetting/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),ae=(e,t,a)=>new Promise(((n,s)=>{let r={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/bookingdetails/bookingstatuschange/?BookingStatus=".concat(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:e};c.request(r).then((e=>{n(e)})).catch((e=>{s(e)}))}));async function oe(e){return n.Z.fetchData({url:"teammapping/",method:"post",data:e})}async function ne(e){return n.Z.fetchData({url:"geneventcontent/Contentadd/",method:"post",data:e})}},44630:(e,t,a)=>{a.d(t,{Z:()=>n});var o=a(72791);const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;const[t,a]=(0,o.useState)("");return(0,o.useEffect)((()=>{if(t){let t=setTimeout((()=>a("")),e);return()=>{clearTimeout(t)}}}),[t]),[t,a]}},56214:(e,t,a)=>{a.d(t,{Z:()=>l});var o=a(1413),n=a(1063),c=a(99917),s=a(72791),r=a(60364),i=a(80184);const l=e=>{let{List:t,selectedList:a,setSelectedList:l}=e;const[d,u]=(0,s.useState)([]),C=(0,r.useSelector)((e=>e.theme.mode));return(0,s.useEffect)((()=>{const e=t.map((e=>(0,o.Z)((0,o.Z)({},e),{},{value:"".concat(e.LocationCode,"-").concat(e.ChannelCode),label:"".concat(e.LocationName,"-").concat(e.ChannelName)})));u(e)}),[]),(0,s.useEffect)((()=>{const e=t.map((e=>(0,o.Z)((0,o.Z)({},e),{},{value:"".concat(e.LocationCode,"-").concat(e.ChannelCode),label:"".concat(e.LocationName,"-").concat(e.ChannelName)})));u(e)}),[t]),(0,s.useEffect)((()=>{const e=a.map((e=>(0,o.Z)((0,o.Z)({},e),{},{value:"".concat(e.LocationCode,"-").concat(e.ChannelCode)})));l(e)}),[]),(0,i.jsx)("div",{children:(0,i.jsxs)(c.w,{scrollable:!0,scrollHeight:"400px",virtualScrollerOptions:{itemSize:46},size:"small",value:d,selectionMode:"checkbox",selection:a,onSelectionChange:e=>l(e.value),dataKey:"value",children:[(0,i.jsx)(n.s,{selectionMode:"multiple",style:{height:50,border:"1px solid transparent",borderBottom:"2px solid #374151",borderStyle:"dashed"}}),(0,i.jsx)(n.s,{field:"label",header:"Select Channel",style:{height:50,border:"1px solid transparent",borderBottom:"2px solid #374151",borderStyle:"dashed"},bodyStyle:"dark"==C?{}:{border:"1px solid #e5e7eb",color:"black"}})]})})}},94526:(e,t,a)=>{a.d(t,{Z:()=>s});var o=a(1413),n=a(2803),c=(a(72791),a(80184));const s=e=>{let{selected:t,setSelected:a,List:s,name:r,name2:i,handlePromoTypeChange:l,disabled:d}=e;return(0,c.jsx)("div",{className:"card flex flex-column align-items-center  h-9",children:(0,c.jsx)(n.Ph,{size:"sm",className:"mb-4 w-full",placeholder:"Select",isDisabled:d||!1,options:s,value:null!==s?s.filter((e=>e.value==t)):[{value:"",label:"Data Not Found"}].filter((e=>e.value)),onChange:e=>{"NTCTypeCode"==r&&l(e.value),a((t=>(0,o.Z)((0,o.Z)({},t),{},{[r]:e.value}))),a((t=>(0,o.Z)((0,o.Z)({},t),{},{[i]:e.LocationCode})))}})})}},3990:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});var o=a(1413),n=a(2803),c=a(72791),s=a(56214),r=a(81721),i=a(44662),l=a(11308),d=a(81320),u=a(60364),C=a(46657),h=a(67388),m=a(94526),p=a(44630),g=a(87350),N=a(57689),T=a(97892),y=a.n(T),S=a(54748),f=a(80184);const D=(0,c.forwardRef)(((e,t)=>{const{Content:a}=(0,u.useSelector)((e=>e.base.common)),T=(0,u.useSelector)((e=>e.locale.selectedChannel)),D=(0,N.s0)(),[x,v]=(0,c.useState)(!0),j=(0,u.useSelector)((e=>e.auth.session.LoginId)),b=(0,u.useSelector)((e=>e.auth.session.token)),Z=(0,u.useSelector)((e=>e.auth.session.ChannelSetting)),[L,I]=(0,c.useState)({Layer:a.Layer?a.Layer:"",NTCTypeCode:a.NTCTypeCode?Number(a.NTCTypeCode):null,CGType:a.CGType?a.CGType:"",SegmentNo:a.SegmentNo?a.SegmentNo:"",NTCCaption:a.NTCCaption?a.NTCCaption:"",TitleID:a.TitleID?a.TitleID:"",NTCDuration:a.NTCDuration?a.NTCDuration:"00:00:00:00",NTCDurInSec:a.NTCDurInSec?Number(a.NTCDurInSec):"",StartTime:a.StartTime?a.StartTime:"",Synopsis:a.Synopsis?a.Synopsis:"",EndTime:a.EndTime?a.EndTime:"",Dated:a.Dated?a.Dated:0,KillDate:a.KillDate?a.KillDate:null,IS_COMM:a.IS_COMM?a.IS_COMM:null,StartDate:a.StartDate?a.StartDate:null,CommercialCode:a.CommercialCode?Number(a.CommercialCode):null,SeasonNo:a.SeasonNo?a.SeasonNo:null,EpisodeNo:a.EpisodeNo?a.EpisodeNo:null,Contentcode:a.Contentcode?a.Contentcode:null,SongCode:a.SongCode?a.SongCode:null,IsActive:1}),P=e=>{var t;const{name:a,value:n}=e.target,c=(0,d.formatOnHHMMSSFFBlur)(n,Number((null===(t=Z[0])||void 0===t?void 0:t.FramePerSec)||24));I((e=>(0,o.Z)((0,o.Z)({},e),{},{[a]:c})))},A=(0,c.useRef)(null),[q,E]=(0,c.useState)([]),[B,G]=(0,c.useState)([]),[M,_]=(0,c.useState)([]),[z,w]=(0,c.useState)([]),[O,k]=(0,c.useState)(a.details?a.details.map(((e,t)=>({id:t,LocationCode:e.LocationCode,ChannelCode:e.ChannelCode}))):[T].map(((e,t)=>({id:t,LocationCode:e.LocationCode,ChannelName:e.label,ChannelCode:e.ChannelCode})))),[F,K]=(0,p.Z)(),[J,U]=(0,c.useState)(""),[Y,V]=(0,c.useState)(a.SongCode>0?"Song":a.Contentcode>0?"Content":null),[R,H]=(0,c.useState)(1==a.Dated?Number(a.Dated):0),[W,X]=(0,c.useState)({NTCTypeCode:(a.NTCTypeCode,!1),NTCCaption:!1,NTCDuration:!1}),Q=e=>{const{name:t,value:a}=e.target;a.length<=50&&I((e=>(0,o.Z)((0,o.Z)({},e),{},{[t]:a})))},$=y()(new Date).subtract(30,"day").startOf("day").toDate(),ee=y()(new Date).add(30,"day").toDate();(0,c.useEffect)((()=>{(async e=>{const t=(await(0,i.iq)(void 0)).data.map((e=>({value:Number(e.NTCTypeCode),label:e.NTCTypeName})));E(t)})(),(async e=>{let t={LocationCode:T.LocationCode,ChannelCode:T.ChannelCode};const a=await(0,g.Nq)(t);console.log(a);const o=a.data.map((e=>({value:e.SongCode,label:e.SongCaption})));G(o)})(),(async e=>{const t=(await(0,h.apiGetContentmasterDrop)(void 0,T.LocationCode,T.ChannelCode,0)).data.map((e=>({value:e.ContentCode,label:e.ContentName})));_(t)})(),(async e=>{const t=(await(0,l.bu)(j)).data.map(((e,t)=>({id:t,ChannelName:e.ChannelName,ChannelCode:e.ChannelCode,LocationCode:e.LocationCode,LocationName:e.LocationName})));w(t)})()}),[]);const te=(e,t)=>{I((a=>(0,o.Z)((0,o.Z)({},a),{},{[t]:e})))},ae=(e,t)=>{const a=[];for(const o of t)e[o]||a.push(o);return a},[oe,ne]=(0,c.useState)(0);return(0,c.useEffect)((()=>{oe>1&&Object.keys(L).forEach((e=>{X((t=>(0,o.Z)((0,o.Z)({},t),{},{[e]:!L[e]})))}))}),[L]),(0,f.jsxs)(n.Zb,{header:a.NTCCode?"Edit NTC":"Add NTC",children:[F&&(0,f.jsx)(n.bZ,{className:"mb-4",type:J,showIcon:!0,children:F}),(0,f.jsx)(C.F,{ref:A}),(0,f.jsx)(n.Yb,{children:(0,f.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,f.jsxs)("div",{className:"col-span-2 ",children:[(0,f.jsxs)("div",{className:"grid grid-cols-9 gap-2 mb-5",children:[(0,f.jsx)("div",{className:"col-span-3",children:(0,f.jsx)(n.xJ,{label:"NTC Type",asterisk:!0,errorMessage:W.NTCTypeCode?"NTCType Required":null,invalid:W.NTCTypeCode&&W.NTCTypeCode,children:(0,f.jsx)(m.Z,{selected:L.NTCTypeCode,setSelected:I,List:q,name:"NTCTypeCode",handlePromoTypeChange:async e=>{var t;Object.keys(T).length>0?1===(null===(t=Z[0])||void 0===t?void 0:t.IsTapeCounterFlag)&&(async t=>{try{const t=await(0,l.Ij)(T.LocationCode,T.ChannelCode,"NTC Master",e,0);L.TitleID!=t.data[0].CommVideoID&&(L.TitleID?K("Title Id Get Changed"):K("Title Id Genrated")),I((e=>(0,o.Z)((0,o.Z)({},e),{},{TitleID:t.data[0].CommVideoID})))}catch(a){500==a.response.status&&(I((e=>(0,o.Z)((0,o.Z)({},e),{},{TitleID:""}))),K("Title Id Is Not Config With This Category "))}})():K("Please Select Gobal Channal")},disabled:a.NTCTypeCode>0})})}),(0,f.jsx)("div",{className:"col-span-6",children:(0,f.jsx)(n.xJ,{label:" NTC Caption",asterisk:!0,errorMessage:W.NTCCaption?"NTC Caption Required":null,invalid:W.NTCCaption&&W.NTCCaption,children:(0,f.jsx)(n.II,{size:"sm",placeholder:"NTC Caption",name:"NTCCaption",maxLength:"50",value:L.NTCCaption,onChange:Q})})}),(0,f.jsx)("div",{className:"col-span-3",children:(0,f.jsx)(n.xJ,{label:"Title Id",asterisk:!0,children:(0,f.jsx)(n.II,{size:"sm",placeholder:"Title Id",name:"TitleID",disabled:!0,value:L.TitleID,onChange:Q})})}),(0,f.jsx)("div",{className:"col-span-3",children:(0,f.jsx)(n.xJ,{label:"Duration",asterisk:!0,errorMessage:W.NTCDuration?"NTC Duration Required":null,invalid:W.NTCDuration&&W.NTCDuration,children:(0,f.jsx)(n.II,{size:"sm",placeholder:"Duration",name:"NTCDuration",value:L.NTCDuration,onChange:e=>{var t;return(0,d.handleChangeWithFrameNew)(e,I,Number((null===(t=Z[0])||void 0===t?void 0:t.FramePerSec)||24))},onBlur:P})})}),(0,f.jsx)("div",{className:"col-span-3",children:(0,f.jsx)(n.xJ,{label:"Description",children:(0,f.jsx)(n.II,{size:"sm",name:"Synopsis",maxLength:"100",value:L.Synopsis,onChange:e=>{const{name:t,value:a}=e.target;a.length<=100&&I((e=>(0,o.Z)((0,o.Z)({},e),{},{[t]:a})))}})})}),(0,f.jsx)("div",{className:"col-span-3",children:(0,f.jsxs)(n.Y8.Group,{className:"mt-5",value:Y,onChange:e=>(V(e),void I((e=>(0,o.Z)((0,o.Z)({},e),{},{FillerTypeCode:null})))),children:[(0,f.jsx)(n.Y8,{value:"Song",children:"Song"}),(0,f.jsx)(n.Y8,{value:"Content",children:"Content"}),(0,f.jsx)(n.Y8,{value:null,children:"Blank"})]})}),"Song"===Y?(0,f.jsx)("div",{className:"col-span-6",children:(0,f.jsx)(n.xJ,{label:"Song",asterisk:!0,children:(0,f.jsx)(m.Z,{selected:L.SongCode,setSelected:I,List:B,name:"SongCode"})})}):"Content"===Y?(0,f.jsx)("div",{className:"col-span-6",children:(0,f.jsx)(n.xJ,{label:"Content",asterisk:!0,children:(0,f.jsx)(m.Z,{selected:L.Contentcode,setSelected:I,List:M,name:"Contentcode"})})}):null,"Song"===Y?null:"Content"===Y?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"col-span-3",children:(0,f.jsx)(n.xJ,{label:"Season No",asterisk:!0,children:(0,f.jsx)(n.II,{size:"sm",placeholder:"Season No",type:"number",name:"SeasonNo",value:L.SeasonNo,onChange:Q})})}),(0,f.jsx)("div",{className:"col-span-3",children:(0,f.jsx)(n.xJ,{label:"Segment No",asterisk:!0,children:(0,f.jsx)(n.II,{size:"sm",placeholder:"Segment No",type:"number",name:"SegmentNo",value:L.SegmentNo,onChange:Q})})}),(0,f.jsx)("div",{className:"col-span-3",children:(0,f.jsx)(n.xJ,{label:"Episode No ",asterisk:!0,children:(0,f.jsx)(n.II,{size:"sm",placeholder:"Episode No",type:"number",name:"EpisodeNo",value:L.EpisodeNo,onChange:Q})})})]}):null]}),(0,f.jsx)(n.Zb,{children:(0,f.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,f.jsx)("div",{className:"col-span-4 ",children:(0,f.jsxs)(n.Y8.Group,{className:"mt-5",value:R,onChange:e=>{return a="Dated",H(t=e),void I((e=>(0,o.Z)((0,o.Z)({},e),{},{[a]:null==t?R:t})));var t,a},children:[(0,f.jsx)(n.Y8,{value:0,children:"Non Dated"}),(0,f.jsx)(n.Y8,{value:1,children:"Dated"})]})}),1==R?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"col-span-1 ",children:(0,f.jsx)(n.xJ,{label:"Start Date",children:(0,f.jsx)(n.Mt,{size:"sm",minDate:$,maxDate:ee,value:(0,S.Gu)(L.StartDate)?new Date(L.StartDate):(L.StartDate,null),onChange:e=>{if(te(e,"StartDate"),null!=L.KillDate){const t=(0,d.compareDates)(e,L.KillDate);v(t),console.log(t)}}})})}),(0,f.jsx)("div",{className:"col-span-1 ",children:(0,f.jsx)(n.xJ,{label:"Kill Date",children:(0,f.jsx)(n.Mt,{size:"sm",value:(0,S.Gu)(L.KillDate)?new Date(L.KillDate):(L.KillDate,null),minDate:y()(new Date(L.StartDate)).subtract(0,"day").startOf("day").toDate(),maxDate:ee,onChange:e=>{if(te(e,"KillDate"),null!=L.StartDate){const t=(0,d.compareDates)(L.StartDate,e);v(t),console.log(t)}}})})}),(0,f.jsx)("div",{className:"col-span-1 ",children:(0,f.jsx)(n.xJ,{label:"Start Time",children:(0,f.jsx)(n.II,{size:"sm",name:"StartTime",value:L.StartTime,onChange:e=>{var t;return(0,d.handleChangeWithFrameNew)(e,I,Number((null===(t=Z[0])||void 0===t?void 0:t.FramePerSec)||24))},onBlur:P})})}),(0,f.jsx)("div",{className:"col-span-1 ",children:(0,f.jsx)(n.xJ,{label:"End Time",children:(0,f.jsx)(n.II,{size:"sm",value:L.EndTime,name:"EndTime",onChange:e=>{var t;return(0,d.handleChangeWithFrameNew)(e,I,Number((null===(t=Z[0])||void 0===t?void 0:t.FramePerSec)||24))},onBlur:P})})})]}):null]})})]}),(0,f.jsx)("div",{className:"col-span-1",children:(0,f.jsx)(n.Zb,{children:(0,f.jsx)(s.Z,{List:z,selectedList:O,setSelectedList:k})})})]})}),(0,f.jsx)(r.gi,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:(0,f.jsx)("div",{className:"md:flex items-center flex",children:a.NTCCode?(0,f.jsx)(n.zx,{variant:"solid",type:"submit",onClick:()=>(async()=>{if(ne(2),O.length>0){const t=ae(L,Object.keys(W));if(0===t.length){const t={request:{LocationCode:T.LocationCode,ChannelCode:T.ChannelCode,NTCDuration:L.NTCDuration,Layer:L.Layer,NTCTypeCode:Number(a.NTCTypeCode),CGType:L.CGType,TitleID:L.TitleID,NTCCaption:L.NTCCaption,NTCDurInSec:Number(L.NTCDurInSec),Synopsis:L.Synopsis,StartTime:L.StartTime,EndTime:L.EndTime,Dated:L.Dated,KillDate:L.KillDate,IS_COMM:Number(L.IS_COMM),StartDate:L.StartDate,CommercialCode:0,SeasonNo:L.SeasonNo,EpisodeNo:L.EpisodeNo,SegmentNo:L.SegmentNo,SongCode:Number(L.SongCode),Contentcode:Number(L.Contentcode),IsActive:1},details:O.map((e=>({LocationCode:e.LocationCode,ChannelCode:e.ChannelCode}))),genvideoId:{LocationCode:T.LocationCode,ChannelCode:T.ChannelCode,FormName:"NTC Master",EventTypeCode:Number(L.NTCTypeCode),Mode:1}};"Song"==Y&&(delete t.request.Contentcode,delete t.request.SeasonNo,delete t.request.EpisodeNo,delete t.request.SegmentNo),"Content"==Y&&delete t.request.SongCode,null==Y&&(delete t.request.Contentcode,delete t.request.SeasonNo,delete t.request.EpisodeNo,delete t.request.SegmentNo),0==R&&(delete t.request.StartDate,delete t.request.KillDate,delete t.request.StartTime,delete t.request.EndTime),null==R&&(delete t.request.StartDate,delete t.request.KillDate,delete t.request.StartTime,delete t.request.EndTime);try{const e=await(0,i.al)(t,a.NTCCode,b);if(200==e.status&&(setTimeout((()=>D("/NTCMaster")),500),(0,d.openNotification)("success","Data Updated Successfully")),204===e.status)return void(0,d.openNotification)("danger","Data Already Exists.")}catch(e){500==e.response.status&&(0,d.openNotification)("danger","Server Error.")}}else t.forEach((e=>{X((t=>(0,o.Z)((0,o.Z)({},t),{},{[e]:!0})))}))}else U("danger"),K("Kindly Select Channel ")})(),children:"Update"}):(0,f.jsx)(n.zx,{variant:"solid",type:"submit",onClick:()=>(async()=>{if(ne(2),O.length>0){const t=ae(L,Object.keys(W));if(0===t.length){console.log("All required fields are not empty.");const t={request:{LocationCode:T.LocationCode,ChannelCode:T.ChannelCode,NTCDuration:L.NTCDuration,Layer:L.Layer,NTCTypeCode:Number(L.NTCTypeCode),CGType:L.CGType,TitleID:L.TitleID,NTCCaption:L.NTCCaption,NTCDurInSec:Number(L.NTCDurInSec),Synopsis:L.Synopsis,StartTime:L.StartTime,EndTime:L.EndTime,Dated:L.Dated,KillDate:L.KillDate,IS_COMM:Number(L.IS_COMM),StartDate:L.StartDate,CommercialCode:0,SeasonNo:L.SeasonNo,EpisodeNo:L.EpisodeNo,SegmentNo:L.SegmentNo,SongCode:Number(L.SongCode),Contentcode:Number(L.Contentcode),IsActive:1},details:O.map((e=>({LocationCode:e.LocationCode,ChannelCode:e.ChannelCode}))),genvideoId:{LocationCode:T.LocationCode,ChannelCode:T.ChannelCode,FormName:"NTC Master",EventTypeCode:Number(L.NTCTypeCode),Mode:1}};"Song"==Y&&(delete t.request.Contentcode,delete t.request.SeasonNo,delete t.request.EpisodeNo,delete t.request.SegmentNo),"Content"==Y&&delete t.request.SongCode,null==Y&&(delete t.request.Contentcode,delete t.request.SeasonNo,delete t.request.EpisodeNo,delete t.request.SegmentNo),0==R&&(delete t.request.StartDate,delete t.request.KillDate,delete t.request.StartTime,delete t.request.EndTime),null==R&&(delete t.request.StartDate,delete t.request.KillDate,delete t.request.StartTime,delete t.request.EndTime);try{const e=await(0,i.SX)(t,b);if(200==e.status&&(setTimeout((()=>D("/NTCMaster")),500),U("success"),(0,d.openNotification)("success","Data Added Successfully")),204===e.status)return void(0,d.openNotification)("danger","Data Already Exists.")}catch(e){500==e.response.status&&(0,d.openNotification)("danger","Server Error.")}}else console.log("Some required fields are empty:",t),t.forEach((e=>{X((t=>(0,o.Z)((0,o.Z)({},t),{},{[e]:!0})))}))}else U("danger"),K("Kindly Select Channel ")})(),children:"Submit"})})})]})}))}}]);
//# sourceMappingURL=3990.48538c18.chunk.js.map