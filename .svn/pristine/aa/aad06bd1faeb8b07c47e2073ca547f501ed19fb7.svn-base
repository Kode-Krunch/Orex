"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[1972],{69954:(e,a,s)=>{s.r(a),s.d(a,{default:()=>y});var t=s(1413),l=s(2803),c=s(72791),n=s(67388),r=s(96361),i=s(46657),o=s(60364),p=s(4621),u=s(32640),d=s(80184);const y=()=>{const e=(0,o.useSelector)((e=>e.auth.session.token)),a=(0,c.useRef)(0);function s(e,a){l.Am.push((0,d.jsx)(l.P_,{closable:!0,type:a,duration:1e3,title:a.charAt(0).toUpperCase()+a.slice(1),children:e}))}const[y,T]=(0,c.useState)(""),[m,h]=(0,c.useState)(!1),[x,g]=(0,c.useState)(""),[f,N]=(0,c.useState)(!1),[v,A]=(0,c.useState)(),b=(0,c.useRef)(null),[j,w]=(0,c.useState)();(0,c.useEffect)((()=>{a.current=a.current+1,1==a.current&&(async e=>{const a=[...(await(0,n.apiGettapetypeMaster)()).data].reverse().map(((e,a)=>(0,t.Z)((0,t.Z)({},e),{},{serialNumber:a+1})));w(a)})()}),[]);const S=a=>{console.log("TapeType",j);const t=[...j];let l=t[a];l.IsActive=1==l.IsActive?0:1,(0,n.UpdateTapeType)(l,e).then((e=>204==e.status?(console.log(e),s("Data Already Exists.","warning"),null):e.json())).then((e=>{e.serialNumber=l.serialNumber,e.IsActive=l.IsActive,e.TypeTypeName=l.TypeTypeName,t[a]=e,w(t),s("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},I=[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"TapeTypeName",header:"TapeTypeName",width:"20%"}];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.F,{ref:b}),(0,d.jsx)(p.Q,{group:"declarative",visible:f,onHide:()=>N(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{S(v)}}),(0,d.jsx)(l.Zb,{header:(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("div",{children:(0,d.jsx)("span",{className:"flex items-center",children:(0,d.jsx)(r.Z,{ModuleText:"Programming",Component:"Tape Type"})})}),(0,d.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}}),(0,d.jsx)("div",{})]}),headerExtra:(0,u.W)(x,g,h,m,(()=>{if(y){const a={TapeTypeName:y,IsActive:1};(0,n.AddTapeType)(a,e).then((e=>{204==e.status&&s("Data Already Exists.","warning"),200==e.status&&(a.serialNumber=j.length+1,w((e=>[...e,a])),s("Data Added Succesfully","success")),T(""),h(!1)})).catch((e=>{console.log(e)}))}else s("Kindly Enter Tape Type Name","danger")}),y,T,"Tape Type",j,I),bodyClass:"text-center",children:(0,d.jsx)(u.Z,{data:j,onRowEditComplete:a=>{let t=[...j],{newData:l,index:c}=a;console.log(l),t[c].TapeTypeName=l.TapeTypeName,t[c].IsActive=l.IsActive,l.TapeTypeName&&(console.log("_TapeType",t),(0,n.UpdateTapeType)(l,e).then((e=>204==e.status?(console.log(e),s("Data Already Exists.","warning"),null):e.json())).then((e=>{console.log(e),t[c]=e,t[c].serialNumber=l.serialNumber,t[c].TypeTypeName=l.TypeTypeName,t[c].TapeTypeShortName=" ",t[c].IsActive=l.IsActive,w(t),s("Data Updated Succesfully","success")})).catch((e=>{console.log(e)})))},globalFilter:x,dataKey:"TapeTypeCode",columns:I,setyup:A,scrollHeight:"70vh",setVisible:N})})]})}}}]);
//# sourceMappingURL=1972.d7f5392c.chunk.js.map