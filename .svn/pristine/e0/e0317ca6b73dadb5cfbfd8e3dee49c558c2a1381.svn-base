{"version":3,"file":"static/js/9109.30f9d790.chunk.js","mappings":"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","sources":["views/Scheduling/SchedulingDashBoard/Scheduling.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Icon from '@mdi/react';\r\nimport { FaChevronLeft, FaChevronRight } from 'react-icons/fa';\r\nimport { MdOutlineSlowMotionVideo } from 'react-icons/md';\r\nimport { Tabs, Badge, ScrollBar } from 'components/ui';\r\nimport CalendarForSchedule from 'components/ui/DatePicker/CalendarForSchedule';\r\nimport CalendarForProgram from 'components/ui/DatePicker/CalendarForProgram';\r\nimport DashboardHeader from 'views/Controls/Dashboard/DashboardHeader';\r\nimport DashboardShortcutCards from 'views/Controls/Dashboard/DashboardShortcutCards';\r\nimport { convertDateToYMD } from 'components/validators';\r\nimport { apiCallstoreprocedure } from 'services/CommonService';\r\nimport { SCHEDULING_DASHBOARD_SHORTCUTS } from 'views/Controls/Dashboard/constants/dashboardShortcuts';\r\nimport { CLIENT } from 'views/Controls/clientListEnum';\r\nimport { mdiPlayBoxLockOpen, mdiMovieOpenEditOutline, mdiAlarmBell, mdiMotionPlayOutline, mdiPlaylistMusicOutline, mdiBullhorn, mdiAlertOctagon } from '@mdi/js';\r\nimport { format } from 'date-fns';\r\n\r\nconst { TabNav, TabList, TabContent } = Tabs;\r\n\r\nconst Consent = [\r\n  { icon: mdiPlayBoxLockOpen, color: '#45AAF2' },\r\n  { icon: mdiMovieOpenEditOutline, color: '#79dfe8' },\r\n  { icon: mdiAlarmBell, color: '#ffbf00' },\r\n  { icon: mdiMotionPlayOutline, color: '#F55C52' },\r\n  { icon: mdiPlaylistMusicOutline, color: '#ffbf00' },\r\n  { icon: mdiBullhorn, color: '#45AAF2' },\r\n  { icon: mdiAlertOctagon, color: '#79dfe8' },\r\n  ,\r\n];\r\nconst Scheduling = () => {\r\n  const direction = useSelector((state) => state.theme.direction);\r\n  const channel = useSelector((state) => state.locale.selectedChannel);\r\n  const [currentDate, setCurrentDate] = useState(new Date());\r\n  const [runningProgramData, setRunningProgramData] = useState([]);\r\n  const [playListSummary, setPlayListSummary] = useState([]);\r\n\r\n  const icons = [\r\n    mdiPlayBoxLockOpen,\r\n    mdiMovieOpenEditOutline,\r\n    mdiAlarmBell,\r\n    mdiMotionPlayOutline,\r\n    mdiPlaylistMusicOutline,\r\n    mdiBullhorn,\r\n    mdiAlertOctagon,\r\n  ];\r\n\r\n  useEffect(() => {\r\n    fetchRunningPrograms();\r\n    fetchPlaylistSummary();\r\n  }, [channel, currentDate]);\r\n\r\n  const fetchRunningPrograms = async () => {\r\n    try {\r\n      const params = {\r\n        par_LocationCode: channel.LocationCode,\r\n        par_ChannelCode: channel.ChannelCode,\r\n        par_TelecastDate: new Date().toLocaleDateString('en-CA'),\r\n      };\r\n      const resp = await apiCallstoreprocedure('RunningPlaylist', params);\r\n      setRunningProgramData(resp.data || []);\r\n    } catch (error) {\r\n      console.error('Error fetching running programs:', error);\r\n    }\r\n  };\r\n\r\n  const fetchPlaylistSummary = async () => {\r\n    try {\r\n      const resp = await apiCallstoreprocedure('USP_PlaylistSummary', {\r\n        par_LocationCode: channel.LocationCode,\r\n        par_Channelcode: channel.ChannelCode,\r\n        par_TelecastDate: convertDateToYMD(currentDate),\r\n      });\r\n      setPlayListSummary(\r\n        (resp.data || []).map((item, index) => ({\r\n          name: item.FieldType,\r\n          count: item.FieldValue,\r\n          icon: Consent[index]?.icon,\r\n          color: Consent[index]?.color,\r\n        }))\r\n      );\r\n    } catch (error) {\r\n      setPlayListSummary([]);\r\n      console.error('Error fetching playlist summary:', error);\r\n    }\r\n  };\r\n  const handlePreviousMonth = () => {\r\n    const previousMonth = new Date(currentDate);\r\n    previousMonth.setDate(previousMonth.getDate() - 1);\r\n    previousMonth.setMonth(previousMonth.getMonth());\r\n    setCurrentDate(previousMonth);\r\n  };\r\n  const handleNextMonth = () => {\r\n    const nextMonth = new Date(currentDate);\r\n    nextMonth.setDate(nextMonth.getDate() + 1);\r\n    nextMonth.setMonth(nextMonth.getMonth());\r\n    setCurrentDate(nextMonth);\r\n  };\r\n  return (\r\n    <>\r\n      <DashboardHeader Name='Scheduling Dashboard' Page='Scheduling' Links='Scheduling' />\r\n      <div className={`grid grid-cols-${SCHEDULING_DASHBOARD_SHORTCUTS.length} gap-4`}>\r\n        <DashboardShortcutCards shortcuts={SCHEDULING_DASHBOARD_SHORTCUTS} />\r\n      </div>\r\n      <div className='grid grid-cols-12 gap-4'>\r\n        {/* Running Playlist Section */}\r\n        <div className='col-span-4  p-3.5  h-[420px] rounded-lg rounded-lg web-card flex flex-col overflow-hidden hover:overflow-y-scroll hover:pr-2 dark:!bg-[#1f2639] !bg-[#fff]'>\r\n          <div\r\n            className=\"list-group-item  mx-2  \"\r\n            style={{ borderRadius: '3px 3px 0 0' }}\r\n          >\r\n            <h5 className='dark:border-b dark:border-gray-600 border-b border-gray-400 pb-2 flex items-center'>\r\n              <MdOutlineSlowMotionVideo className='mr-2' size={23} /> Running Playlist\r\n            </h5>\r\n            <div className=\"flex mb-0 mt-2\">\r\n              <p\r\n                style={{\r\n                  fontSize: 16,\r\n                  fontWeight: '600',\r\n                }}\r\n                className=\"dark:!text-amber-400 !text-amber-400 \"\r\n              >\r\n                {format(new Date(), 'EEEE')}\r\n              </p>\r\n\r\n              <p\r\n                style={{\r\n                  fontSize: 16,\r\n                  fontWeight: '600',\r\n                  marginLeft: 5,\r\n                }}\r\n                className=\"dark:!text-gray-400 !text-gray-600\"\r\n              >\r\n                ,{' '}\r\n                {format(new Date(), 'dd MMMM yyyy')}\r\n              </p>\r\n            </div></div>\r\n          <ScrollBar direction={direction} className='h-80 overflow-y-auto mt-2'>\r\n            {runningProgramData.map((item, index) => (\r\n              <div key={index} className='flex p-3 dark:border-b dark:border-gray-600 border-b border-gray-400'>\r\n                <Badge className='mr-3' innerClass='bg-emerald-500' />\r\n                <div>\r\n                  <p className=\"dark:!text-gray-400 !text-gray-800 flex\">{item.TelecastTime} {index == 0 && (\r\n                    <span className=\"font-bold text-amber-600  ml-4 animate-bounce w-6 h-6\">\r\n                      Running\r\n                    </span>\r\n                  )}</p>\r\n                  <p className=\"mb-0 text-sm dark:!text-gray-400 !text-gray-800\">{item.EventCaption}</p>\r\n                  <p className=\"mb-0 text-muted text-xs dark:!text-gray-400 !text-gray-800\">\r\n                    <strong className=\"dark:!text-gray-400 !text-gray-800\">\r\n                      {item.EventDuration}\r\n                    </strong>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </ScrollBar>\r\n        </div>\r\n\r\n        {/* Playlist Summary Section */}\r\n        <div className='col-span-4  p-3.5  h-[420px] rounded-lg web-card  flex flex-col overflow-hidden hover:overflow-y-scroll hover:pr-2 dark:!bg-[#1f2639] !bg-[#fff]'>\r\n          <h5 className='dark:border-b dark:border-gray-600 border-b border-gray-400 pb-2 flex items-center'>\r\n            <MdOutlineSlowMotionVideo className='mr-2' size={23} /> PlayList Summary\r\n          </h5>\r\n          <div className=\"flex justify-between items-center col-span-3\">\r\n            <div\r\n              className=\"p-2 rounded hover:bg-sky-700  cursor-pointer\"\r\n              onClick={handlePreviousMonth}\r\n            >\r\n              <FaChevronLeft />\r\n            </div>\r\n            <div className=\"flex mb-0 mt-2\">\r\n              <p\r\n                style={{\r\n                  fontSize: 16,\r\n                  fontWeight: '600',\r\n                }}\r\n                className=\"dark:!text-amber-400 !text-amber-400 \"\r\n              >\r\n                {currentDate.toLocaleDateString('en-US', {\r\n                  weekday: 'long',\r\n                })}\r\n              </p>\r\n\r\n              <p\r\n                style={{\r\n                  fontSize: 16,\r\n                  color: 'whitesmoke',\r\n                  fontWeight: '600',\r\n                  marginLeft: 5,\r\n                }}\r\n                className=\"dark:!text-gray-400 !text-gray-600 \"\r\n              >\r\n                ,{' '}\r\n                {currentDate.toLocaleDateString('en-US', {\r\n                  day: 'numeric',\r\n                })}{' '}\r\n                {currentDate.toLocaleDateString('en-US', {\r\n                  year: 'numeric',\r\n                  month: 'long',\r\n                })}\r\n              </p>\r\n            </div>\r\n            <div\r\n              className=\"p-2 rounded hover:bg-sky-700  cursor-pointer\"\r\n              onClick={handleNextMonth}\r\n            >\r\n              <FaChevronRight />\r\n            </div>\r\n          </div>\r\n          <ScrollBar direction={direction} className='h-80 overflow-y-auto mt-2'>\r\n            {playListSummary.map((item, index) => (\r\n              <div key={index} className='flex justify-between px-4 border-b py-3'>\r\n                <div className='flex items-center'>\r\n                  <Icon path={item.icon} size={1.5} className='mr-2' style={{\r\n                    color: item.color,\r\n                  }} />\r\n                  <h5>{item.name}</h5>\r\n                </div>\r\n                <h4>{item.count}</h4>\r\n              </div>\r\n            ))}\r\n          </ScrollBar>\r\n        </div>\r\n\r\n        {/* Tabs Section */}\r\n        <div className='col-span-4  p-3.5  h-[420px] rounded-lg web-card  flex flex-col overflow-hidden hover:overflow-y-scroll hover:pr-2 dark:!bg-[#1f2639] !bg-[#fff]'>\r\n          <Tabs defaultValue='tab1'>\r\n            <TabList className='mb-2'>\r\n              <TabNav value='tab1'>Final Log</TabNav>\r\n              <TabNav value='tab2'>Daily FPC</TabNav>\r\n              <TabNav value='tab3'>Cloud Playout</TabNav>\r\n            </TabList>\r\n            <TabContent value='tab1'>\r\n              <CalendarForSchedule multipleSelection name='Final' />\r\n            </TabContent>\r\n            <TabContent value='tab2'>\r\n              <CalendarForProgram multipleSelection name='Daily' />\r\n            </TabContent>\r\n            <TabContent value='tab3'>\r\n              <CalendarForProgram multipleSelection name='CloudPlayout' />\r\n            </TabContent>\r\n          </Tabs>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Scheduling;\r\n"],"names":["TabNav","TabList","TabContent","Tabs","Consent","icon","mdiPlayBoxLockOpen","color","mdiMovieOpenEditOutline","mdiAlarmBell","mdiMotionPlayOutline","mdiPlaylistMusicOutline","mdiBullhorn","mdiAlertOctagon","direction","useSelector","state","theme","channel","locale","selectedChannel","currentDate","setCurrentDate","useState","Date","runningProgramData","setRunningProgramData","playListSummary","setPlayListSummary","useEffect","fetchRunningPrograms","fetchPlaylistSummary","async","params","par_LocationCode","LocationCode","par_ChannelCode","ChannelCode","par_TelecastDate","toLocaleDateString","resp","apiCallstoreprocedure","data","error","console","par_Channelcode","convertDateToYMD","map","item","index","name","FieldType","count","FieldValue","Name","Page","Links","className","SCHEDULING_DASHBOARD_SHORTCUTS","shortcuts","style","borderRadius","size","fontSize","fontWeight","format","marginLeft","innerClass","TelecastTime","EventCaption","EventDuration","onClick","previousMonth","setDate","getDate","setMonth","getMonth","weekday","day","year","month","nextMonth","path","defaultValue","value","multipleSelection"],"sourceRoot":""}