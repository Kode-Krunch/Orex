{"version":3,"file":"static/js/1859.a04ab70e.chunk.js","mappings":"yLAoFA,QA5EA,WAEE,MAAM,mBAAEA,EAAkB,oBAAEC,IAC1BC,EAAAA,EAAAA,YAAWC,EAAAA,IAGNC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,IAkDzC,OA/CAC,EAAAA,EAAAA,YAAU,KACR,IACE,GAAIC,MAAMC,QAAQR,GAAsB,CACtC,IAAIS,EAAQ,GACRC,GAAoBC,EAAAA,EAAAA,kBACtBX,EACA,YAEFU,EAAoBA,EAAkBE,QAAQC,GAAQA,EAAIC,WAC1DJ,EAAkBK,SAAQ,CAACF,EAAKG,KAC9B,IAAIC,EAAO,CAAEA,KAAMJ,EAAIC,SAAUI,WAAW,GAC9B,IAAVF,GACEH,EAAIC,SAAWD,EAAIM,aACrBV,EAAMO,EAAQ,GAAGE,WAAY,GAGjCT,EAAMW,KAAKH,EAAK,IAElBb,EAAYK,EACd,CAGF,CAFE,MAAOY,GACPC,QAAQD,MAAMA,EAChB,IACC,CAACrB,KAyBF,gBAAKuB,UAAU,qEAAoE,SAChFpB,EAASqB,KAAKP,IACb,SAAC,KAAM,CACLQ,KAAK,KACLF,UAAS,yBACPN,EAAKC,UACD,gCACA,mCAENQ,QAAS,IA/BQT,KACvB,IACE,MAAMU,EAAc,IAAI3B,GACrB4B,OAAO,GACPC,WAAWhB,GAAQA,EAAIC,UAAYG,EAAKA,OAC3C,IAAqB,IAAjBU,EAQF,YADAG,EAAAA,EAAAA,kBAAiB,OAAQ,uCANL,IAAhBH,EACF5B,EAAmBgC,QAAQC,aAAa,EAAG,UAE3CjC,EAAmBgC,QAAQC,aAAaL,EAAa,SAS3D,CAHE,MAAON,IACPS,EAAAA,EAAAA,kBAAiB,SAAU,wBAC3BR,QAAQD,MAAMA,EAChB,GAaqBY,CAAgBhB,GAAM,SAGpCA,EAAKA,MAFDA,EAAKA,SAOpB,C","sources":["views/Scheduling/Scheduler/components/SchedulingArea/components/FpcTime.js"],"sourcesContent":["import { Button } from 'components/ui';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport {\r\n  getUniqueObjects,\r\n  openNotification,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\n\r\nfunction FpcTime() {\r\n  /* CONTEXT */\r\n  const { schedulingTableRef, schedulingTableData } =\r\n    useContext(SchedulerContext);\r\n\r\n  /* STATES */\r\n  const [fpcTimes, setFpcTimes] = useState([]);\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    try {\r\n      if (Array.isArray(schedulingTableData)) {\r\n        let times = [];\r\n        let uniqueFpcTimeRows = getUniqueObjects(\r\n          schedulingTableData,\r\n          'FPC_Time',\r\n        );\r\n        uniqueFpcTimeRows = uniqueFpcTimeRows.filter((row) => row.FPC_Time);\r\n        uniqueFpcTimeRows.forEach((row, index) => {\r\n          let time = { time: row.FPC_Time, isOverRun: false };\r\n          if (index !== 0) {\r\n            if (row.FPC_Time < row.Start_Time) {\r\n              times[index - 1].isOverRun = true;\r\n            }\r\n          }\r\n          times.push(time);\r\n        });\r\n        setFpcTimes(times);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [schedulingTableData]);\r\n\r\n  /* EVENT HANDLERS*/\r\n  const handleTimeClick = (time) => {\r\n    try {\r\n      const scrollIndex = [...schedulingTableData]\r\n        .splice(1)\r\n        .findIndex((row) => row.FPC_Time >= time.time);\r\n      if (scrollIndex !== -1) {\r\n        if (scrollIndex === 1) {\r\n          schedulingTableRef.current.scrollToItem(0, 'center');\r\n        } else {\r\n          schedulingTableRef.current.scrollToItem(scrollIndex, 'center');\r\n        }\r\n      } else {\r\n        openNotification('info', 'No data available for this FPC Time');\r\n        return;\r\n      }\r\n    } catch (error) {\r\n      openNotification('danger', 'Something went wrong');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-full w-full flex flex-col gap-0.5 overflow-y-scroll no-scrollbar\">\r\n      {fpcTimes.map((time) => (\r\n        <Button\r\n          size=\"sm\"\r\n          className={`transition-all ${\r\n            time.isOverRun\r\n              ? '!bg-red-700 hover:!bg-red-800'\r\n              : '!bg-teal-700 hover:!bg-teal-800'\r\n          }`}\r\n          onClick={() => handleTimeClick(time)}\r\n          key={time.time}\r\n        >\r\n          {time.time}\r\n        </Button>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FpcTime;\r\n"],"names":["schedulingTableRef","schedulingTableData","useContext","SchedulerContext","fpcTimes","setFpcTimes","useState","useEffect","Array","isArray","times","uniqueFpcTimeRows","getUniqueObjects","filter","row","FPC_Time","forEach","index","time","isOverRun","Start_Time","push","error","console","className","map","size","onClick","scrollIndex","splice","findIndex","openNotification","current","scrollToItem","handleTimeClick"],"sourceRoot":""}