"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[9595],{49595:(e,r,s)=>{s.r(r),s.d(r,{default:()=>m});var t=s(2803),a=s(72791),l=s(81320),n=s(21260),c=s(80184);const i=function(e){let{programData:r,type:s}=e;const[t,i]=(0,a.useState)([]),[o,d]=(0,a.useState)([]),[m,g]=(0,a.useState)([]),[x,h]=(0,a.useState)([]);return(0,a.useEffect)((()=>{try{if(r.length>0){let e=[],s=[],t=[],a=[];for(let l=0;l<r.length;l++)r[l].F_C_S_P===n.rowDataTypesEnum.PROMO?e.push(r[l]):r[l].F_C_S_P===n.rowDataTypesEnum.COMMERCIAL?s.push(r[l]):r[l].F_C_S_P===n.rowDataTypesEnum.SONG?t.push(r[l]):r[l].F_C_S_P===n.rowDataTypesEnum.SEGMENT&&a.push(r[l]);d(e),g(s),h(t),i(a)}}catch(e){(0,l.openNotification)("danger","Something went wrong while fetching program info"),console.error(e)}}),[r]),(0,c.jsx)(c.Fragment,{children:r.length>0&&(0,c.jsxs)("div",{className:"w-full h-full",children:[(0,c.jsx)("div",{className:"text-base font-semibold text-white mb-3",children:"existingProgram"===s?"Existing Program":"New Program"}),(0,c.jsxs)("div",{className:"rounded-md border border-gray-700",children:[(0,c.jsx)("div",{className:"p-2 text-[0.95rem] font-semibold text-gray-200 rounded-t-md text-ellipsis overflow-hidden whitespace-nowrap",style:{background:"rgb(41, 52, 69)"},children:r[0].Event_Name}),(0,c.jsx)("div",{className:"flex flex-col gap-2 p-2 h-[45vh] overflow-y-auto",children:t.map(((e,r)=>(0,c.jsxs)("div",{className:"flex gap-2 items-center p-2 ".concat(r!==e.length-1&&"border-b border-b-gray-700"),children:[(0,c.jsx)("div",{className:"h-2 w-2 bg-gray-600  rounded-full"}),(0,c.jsx)("span",{className:"text-gray-200 text-sm text-ellipsis overflow-hidden whitespace-nowrap",children:e.Event_Name})]},r)))})]}),(0,c.jsxs)("div",{className:"flex mt-4 p-2 rounded-md",style:{background:"rgb(41, 52, 69)"},children:[(0,c.jsxs)("div",{className:"flex flex-col justify-center items-center border-r border-gray-600 pr-3 pl-1",children:[(0,c.jsx)("p",{className:"font-semibold text-lg text-gray-200",children:o.length}),(0,c.jsx)("p",{className:"text-gray-300",children:"Promos"})]}),(0,c.jsxs)("div",{className:"flex flex-col justify-center items-center border-r border-gray-600 px-3",children:[(0,c.jsx)("p",{className:"font-semibold text-lg text-gray-200",children:m.length}),(0,c.jsx)("p",{className:"text-gray-300",children:"Commercials"})]}),(0,c.jsxs)("div",{className:"flex flex-col justify-center items-center border-r border-gray-600 px-3",children:[(0,c.jsx)("p",{className:"font-semibold text-lg text-gray-200",children:x.length}),(0,c.jsx)("p",{className:"text-gray-300",children:"Songs"})]}),(0,c.jsxs)("div",{className:"flex flex-col justify-center items-center px-3",children:[(0,c.jsx)("p",{className:"font-semibold text-lg text-gray-200",children:t.length}),(0,c.jsx)("p",{className:"text-gray-300",children:"Segments"})]})]})]})})};var o=s(91615),d=s(29851);const m=function(e){let{isOpen:r,setIsOpen:s,clickedProgram:m,setClickedProgram:g}=e;const{schedulingTableData:x,secondaryTableData:h,executeOperation:p}=(0,a.useContext)(o.Z),[f,u]=(0,a.useState)([]),[y,N]=(0,a.useState)([]);(0,a.useEffect)((()=>{try{r&&m&&x&&h&&(u((0,d.R6)(x,m)),N((0,d.R6)(h,h.filter((e=>e.F_C_S_P===n.rowDataTypesEnum.CONTENT_TERMINATION&&e.FPC_Time===m.FPC_Time))[0])))}catch(e){(0,l.openNotification)("danger","Something went wrong while fetching program info")}}),[r,m,x,h]);const b=()=>{g(null),s(!1)};return(0,c.jsx)(t.Vq,{isOpen:r,width:"60%",onClose:b,onRequestClose:b,contentClassName:"!my-8",children:(0,c.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,c.jsx)("h5",{className:"mb-4 pb-2 border-b border-b-gray-700",children:"Replace Program"}),(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsx)("div",{className:"w-1/2 border-r border-r-gray-700 pr-3",children:(0,c.jsx)(i,{programData:f,type:"existingProgram"})}),(0,c.jsx)("div",{className:"w-1/2 pl-3 h-full",children:(0,c.jsx)(i,{programData:y,type:"newProgram"})})]}),(0,c.jsx)("div",{className:"text-right mt-6",children:(0,c.jsx)(t.zx,{variant:"solid",onClick:()=>{try{p({operation:n.operationTypesEnum.REPLACE_PROGRAM,clickedProgram:m,clickedProgramSchedule:f,newProgramSchedule:y}),b(),(0,l.openNotification)("success","Programs replaced successfully")}catch(e){(0,l.openNotification)("danger","Something went wrong while replacing the program"),console.error(e)}},disabled:0===f.length||0===y.length,children:"Replace"})})]})})}}}]);
//# sourceMappingURL=9595.93fccfee.chunk.js.map