(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[8334],{69633:(e,t,a)=>{"use strict";a.r(t),a.d(t,{VisableColumns:()=>v,default:()=>g});var n=a(72791),s=a(2803),o=a(60364),i=(a(34786),a(60488)),l=(a(36510),a(33155),a(25146),a(59054)),r=(a(4500),a(25579),a(80184));const{Tr:c,Th:d,Td:m,THead:u,TBody:h}=s.iA,S=e=>{let{data:t,setData:a,dataCopy:i,setDataCopy:S,visiablecolumns:C,setSelectedRowData:p,selectedRowData:_,showCheckbox:f,formState:N}=e;console.log("DisplayTablewithFilterCheckboxdata ",t);(0,o.useDispatch)();const[T,g]=(0,n.useState)([]),v=(t.length,[{value:"starts_with",label:"Starts With"},{value:"contains",label:"Contains"},{value:"not_contains",label:"Not Contains"},{value:"ends_with",label:"Ends With"},{value:"equals",label:"Equals"},{value:"not_equals",label:"Not Equals"}]),[x,y]=(0,n.useState)([{columnName:"",filterValue:"",filterOption:"contains"}]);(0,n.useEffect)((()=>{const e=T.map((e=>t.find((t=>t.Id===e)))).filter((e=>void 0!==e));p(e.length>0?e:[])}),[T,t]);return(0,n.useEffect)((()=>{g([])}),[N]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"grid grid-cols-1 gap-2 table-container",style:{overflow:"auto",maxHeight:"90%"},id:"div1",children:(0,r.jsxs)(s.iA,{className:"resizable-table",children:[(0,r.jsx)(u,{className:"theade",children:(0,r.jsxs)(c,{className:"tre",children:[f&&(0,r.jsx)(d,{children:"select"}),C.map(((e,n)=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.Z,{columnName:e.header,data:t,setTable2Data:a,table2DataCopy:i,filterOptions:v,columnFilters:x,setColumnFilters:y,IsSortingAllow:!1,selectedCities:C,ColIndex:n,ColumnInfo:e,DisplayFilter:!0})})))]})}),(0,r.jsx)(h,{className:"tbodye",children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,r.jsxs)("tr",{className:T.includes(e.Id)?"selectedrow":"",children:[f&&(0,r.jsx)(m,{children:(0,r.jsx)(s.XZ,{disabled:e.DisableSelection,checked:T.includes(e.Id),onClick:()=>{return t=e.Id,void g((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t}})}),C.map((t=>(0,r.jsx)(m,{className:"border_class",children:e[t.code]},t.code)))]},t)))})]})})})};S.defaultProps={showCheckbox:!0};const C=S,{Tr:p,Th:_,Td:f,THead:N,TBody:T}=s.iA,g=e=>{let{setDeatils:t,Deatils:a,SpotCopy:l,setSpotCopy:c,setFormState:d,formState:m,setSelectedItems:u,selectedItems:h,setSelectedRowData:S,selectedRowData:p}=e;(0,o.useDispatch)();(0,n.useEffect)((()=>{console.log("Deatils",a)}),[a]);const[_,f]=(0,n.useState)(0);return(0,n.useEffect)((()=>{const e=(0,i.rp)(h);console.log("Total Commercial Duration (milliseconds):",e),f(e)}),[h]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.Zb,{children:(0,r.jsx)(C,{data:a,setData:t,dataCopy:l,setDataCopy:c,visiablecolumns:v,setSelectedRowData:S,selectedRowData:p})})})},v=[{header:"Agency",name:"AgencyName",code:"AgencyName",width:"auto",ScreenType:"FinalLog",Sequence:2,isvisible:!0},{header:"Brand",name:"BrandName",code:"BrandName",width:"auto",ScreenType:"FinalLog",Sequence:2,isvisible:!0},{header:"Commercial",name:"CommercialCaption",code:"CommercialCaption",width:"auto",ScreenType:"FinalLog",Sequence:2,isvisible:!0},{header:"Duration",name:"CommercialDuration",code:"CommercialDuration",width:"auto",ScreenType:"FinalLog",Sequence:2,isvisible:!0},{header:"Content",name:"ContentName",code:"ContentName",width:"auto",ScreenType:"FinalLog",Sequence:2,isvisible:!0},{header:"Schedule Date",name:"BookingScheduleDate",code:"BookingScheduleDate",width:"auto",ScreenType:"FinalLog",Sequence:2,isvisible:!0},{header:"ScheduleTime",name:"ScheduleTime",code:"ScheduleTime",width:"auto",ScreenType:"FinalLog",Sequence:2,isvisible:!0},{header:"SpotRate",name:"SpotRate",code:"SpotRate",width:"auto",ScreenType:"FinalLog",Sequence:2,isvisible:!0},{header:"SpotAmount",name:"SpotAmount",code:"SpotAmount",width:"auto",ScreenType:"FinalLog",Sequence:2,isvisible:!0}]},60488:(e,t,a)=>{"use strict";a.d(t,{Dh:()=>S,SE:()=>h,SU:()=>f,a1:()=>d,aP:()=>c,f$:()=>C,rp:()=>u,yw:()=>p});var n=a(1413),s=(a(81320),a(72791)),o=a(56355),i=a(2803),l=a(80184);const r=e=>e.split(":").map((e=>e.padStart(2,"0"))).join(":").substring(0,11);function c(e){let t=0;const a=[];return e.forEach((e=>{"NTC"!==e.F_C_S_P&&t++;const s=(0,n.Z)((0,n.Z)({},e),{},{PrimaryID:t});a.push(s)})),a}function d(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"CM",o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c="00:00:00:00",d=o||"00:00:00:00";return e.map(((e,u)=>{if(i&&"NTC"===e.F_C_S_P&&"DTM"===e.NtcTypeName)return e;if("NTC"===e.F_C_S_P||"BR"===e.F_C_S_P)return e.OffsetStartTime?(0,n.Z)((0,n.Z)({},e),{},{Start_Time:e.OffsetStartTime,Tel_Time:e.OffsetStartTime}):(0,n.Z)((0,n.Z)({},e),{},{Start_Time:"00:00:00:00",Tel_Time:"00:00:00:00",OffsetStartTime:"00:00:00:00"});let h=d;if(t)return"CT"!==e.F_C_S_P?e.F_C_S_P===s&&a||"NTC"===e.F_C_S_P||"BR"===e.F_C_S_P?(d=r(d),(0,n.Z)((0,n.Z)({},e),{},{Start_Time:d,Tel_Time:d})):(h=m(d,c,l),c=e.Duration,h=r(h),d=r(h),(0,n.Z)((0,n.Z)({},e),{},{Start_Time:h,Tel_Time:h})):(d=e.FPC_Time+":00:00",c=e.Duration,h=r(h),d=r(d),(0,n.Z)((0,n.Z)({},e),{},{Start_Time:d,Tel_Time:d}));if(0===u)d=o||e.Start_Time,c=e.Duration;else{if(h=m(d,c,l),h=r(h),d=r(h),"NTC"===e.F_C_S_P&&a||"BR"===e.F_C_S_P)return(0,n.Z)((0,n.Z)({},e),{},{Start_Time:d,Tel_Time:d});c=e.Duration,h=r(h),d=r(h)}return(0,n.Z)((0,n.Z)({},e),{},{Start_Time:h,Tel_Time:h})}))}const m=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:24;try{const n=60,s=60,o=24,[i,l,r,c]=e.split(":").map(Number),[d,m,u,h]=t.split(":").map(Number);let S=c+h,C=Math.floor(S/a);S%=a;let p=r+u+C,_=Math.floor(p/n);p%=n;let f=l+m+_,N=Math.floor(f/s);f%=s;let T=i+d+N;T%=o;return String(T).padStart(2,"0")+":"+String(f).padStart(2,"0")+":"+String(p).padStart(2,"0")+":"+String(S).padStart(2,"0")}catch(n){throw n}};function u(e){let t=0;return e.forEach((e=>{const[a,n,s,o]=e.CommercialDuration.split(":").map((e=>parseInt(e)));t+=3600*a+60*n+s+o/30})),t}function h(){document.getElementsByClassName("stacked-side-nav")[0].classList.add("hidden");document.getElementsByClassName("footer")[0].classList.add("hidden")}function S(){var e,t;const a=document.getElementsByClassName("stacked-side-nav-secondary")[0];void 0!=a&&(null===a||void 0===a||a.classList.add("hidden")),null===(e=document.getElementById("rightIndicator"))||void 0===e||e.classList.remove("hidden"),null===(t=document.getElementById("leftIndicator"))||void 0===t||t.classList.add("hidden")}function C(){var e,t;const a=document.getElementsByClassName("stacked-side-nav-secondary")[0];void 0!=a&&(null===a||void 0===a||a.classList.remove("hidden")),null===(e=document.getElementById("leftIndicator"))||void 0===e||e.classList.remove("hidden"),null===(t=document.getElementById("rightIndicator"))||void 0===t||t.classList.add("hidden")}const p=(e,t)=>e.map((e=>{let a=(0,n.Z)({},e);return"S"===a.F_C_S_P||a.F_C_S_P,"NTC"===a.F_C_S_P?(a.PrimaryID=t.PrimaryID,a.SeasonNo=t.SeasonNo,a.Ep_No=t.Ep_No,a.ContentCode=t.ContentCode,a.BreakNumber=t.BreakNumber,a.SeasonNo=t.SeasonNo,a.FPC_ID=t.FPC_ID):"CM"===a.F_C_S_P?(a.PrimaryID=t.PrimaryID,a.SeasonNo=t.SeasonNo,a.Ep_No=t.Ep_No,a.ContentCode=t.ContentCode,a.BreakNumber=t.BreakNumber,a.SeasonNo=t.SeasonNo,a.FPC_ID=t.FPC_ID,a.ScheduleTime=t.ScheduleTime):(a.SeasonNo=t.SeasonNo,a.Ep_No=t.Ep_No,a.ContentCode=t.ContentCode,a.BreakNumber=t.BreakNumber,a.SeasonNo=t.SeasonNo,a.FPC_ID=t.FPC_ID),a.SequenceNo=t.SequenceNo,a.Start_Time="00:00:00:00",a})),_=e=>{const t=Math.floor(e/60),a=e%60;return"".concat(String(t).padStart(2,"0"),":").concat(String(a).padStart(2,"0"))};const f=e=>{let{Progress:t,PromoSchdulingSave:a,openNotification:n}=e;const[r,c]=(0,s.useState)(0),[d,m]=(0,s.useState)(0),[u,h]=(0,s.useState)(0),[S,C]=(0,s.useState)(!1),p=(0,s.useRef)(!0),[f,N]=(0,s.useState)(!1),[T,g]=(0,s.useState)(""),v=e=>{let{percent:t}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{onClick:()=>{N(!0)},style:{cursor:"pointer"},children:(0,l.jsx)("p",{style:{marginTop:"5px",fontSize:"12px",color:"white"},children:_(d)})}),(0,l.jsx)("p",{style:{cursor:"pointer",color:"white",marginLeft:"10px"},onClick:()=>{C(!S)},children:S?(0,l.jsx)(o.Wh,{}):(0,l.jsx)(o.gmG,{})})]})};(0,s.useEffect)((()=>{x(10)}),[]),(0,s.useEffect)((()=>{let e;return S&&d>0?e=setInterval((()=>{m((e=>Math.max(e-1,0))),c((e=>{const t=100-d/(u||1)*100;return Math.min(t,100)}))}),1e3):0===d&&S&&(a(),n("info"),m(u)),()=>clearInterval(e)}),[S,d,u]),(0,s.useEffect)((()=>{p.current&&(p.current=!1)}),[d]);const x=e=>{const t=parseInt(e,10);if(!isNaN(t)&&t>0){const e=60*t;m(e),h(e),c(0),C(!0)}},y=e=>{console.log("onDialogClose",e),N(!1)};return(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(i.Vq,{isOpen:f,width:300,height:200,onClose:y,onRequestClose:y,children:(0,l.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,l.jsx)("h5",{className:"mb-4",children:"Set Timer"}),(0,l.jsx)("div",{className:"flex align-center",children:(0,l.jsx)(i.II,{maxLength:"2",value:T,onChange:e=>{const t=e.target.value;(/^\d{0,2}$/.test(t)||""===t)&&g(t)}})}),(0,l.jsxs)("div",{className:"text-right mt-6",children:[(0,l.jsx)(i.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"solid",onClick:()=>{x(T),y()},children:"Set"}),(0,l.jsx)(i.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"solid",onClick:y,children:"Cancel"})]})]})}),(0,l.jsx)("div",{className:"flex",style:{width:"120px"},children:(0,l.jsx)(t,{variant:"circle",className:"mx-6",size:"sm",width:50,percent:r,customInfo:(0,l.jsx)(v,{percent:r})})})]})}},72950:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{}}]);
//# sourceMappingURL=8334.4982d26e.chunk.js.map