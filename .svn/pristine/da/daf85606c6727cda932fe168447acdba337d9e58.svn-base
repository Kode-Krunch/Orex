"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[1900],{84870:(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var l=s(28536),r=s(72791),a=s(40980),o=s(1413),n=s(81320),c=s(46850),i=s(91615),d=s(21260),u=s(8458);const p=r.createContext();var m=s(45682),y=s(80184);const b=(0,r.lazy)((()=>s.e(9595).then(s.bind(s,49595)))),f=(0,r.lazy)((()=>s.e(2820).then(s.bind(s,82820)))),h=(0,r.lazy)((()=>Promise.all([s.e(1578),s.e(4333)]).then(s.bind(s,94333)))),x=(0,r.lazy)((()=>s.e(8174).then(s.bind(s,66117))));const T=function(e){let{row:t,selectedRows:s,setSelectedRows:l}=e;const{tableType:a,tableData:o,columns:n}=(0,r.useContext)(p),{leftClickedSchTableRow:T,leftClickedSecTableRow:w}=(0,r.useContext)(i.Z),[g,E]=(0,r.useState)(!1),[S,I]=(0,r.useState)(null),C=t.F_C_S_P===d.rowDataTypesEnum.CONTENT_TERMINATION;return(0,y.jsxs)(r.Suspense,{fallback:(0,y.jsx)(m.default,{showLoader:!0}),children:[n.map((e=>(0,y.jsxs)("div",{className:"border-b border-r flex-none flex flex-col justify-start transition-all relative group-hover:!opacity-80",style:{width:"".concat(e.style.width,"%"),textAlign:"Event_Name"!==e.accessorKey&&"center",backgroundColor:(0,c.Wf)(a,T,w,s,t,e),color:(0,c.nH)(a,T,w,s,t,e),borderColor:(0,c.kJ)(s,t)},children:["FPC_Time"===e.accessorKey?(0,y.jsx)(h,{row:t,column:e,selectedRows:s,setSelectedRows:l,setIsChangeProgramDialogOpen:E,setClickedProgram:I,tableType:a}):"Event_Name"===e.accessorKey?(0,y.jsx)(x,{row:t,isRowCT:C,column:e,tableData:o,tableType:a}):(0,y.jsx)("div",{className:"py-1 px-2.5 overflow-hidden text-ellipsis whitespace-nowrap text-[12px] w-full",children:t[e.accessorKey]}),a===d.tableTypesEnum.SCHEDULING&&"Event_Name"===e.accessorKey&&(0,y.jsx)(y.Fragment,{children:C&&(0,y.jsx)(f,{tableData:o,row:t})})]},"".concat(t[u.Q$],"-").concat(e.accessorKey)))),g&&(0,y.jsx)(b,{isOpen:g,setIsOpen:E,clickedProgram:S,setClickedProgram:I})]})};const w=function(e){let{row:t,provided:s,rowType:l,selectedRows:a,setSelectedRows:u,style:m}=e;const{page:b,schedulingTableData:f,secondaryTableData:h,setLeftClickedSchTableRow:x,setLeftClickedSecTableRow:w,maintainScrolledOffsetOfTables:g,activeFeatures:E,secondaryTableSelectedRows:S,isScheduleAllowedToEdit:I}=(0,r.useContext)(i.Z),{tableType:C,isDragDisabled:N}=(0,r.useContext)(p),R=e=>{try{C===d.tableTypesEnum.SCHEDULING?x(e):w(e),g()}catch(t){throw t}};return(0,y.jsx)("div",(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({ref:s.innerRef},s.draggableProps),s.dragHandleProps),{},{className:"flex group ".concat((N||!I)&&"hover:cursor-pointer"," ").concat(l===d.rowTypesEnum.NORMAL?"min-w-full":"w-1/2")},l===d.rowTypesEnum.NORMAL&&{style:(0,o.Z)((0,o.Z)((0,o.Z)({},m),s.draggableProps.style),{},{display:"flex"})}),{},{onClick:e=>{try{var s;const l=(null===(s=E[d.featuresEnum.INSERT])||void 0===s?void 0:s.isActive)||"boolean"===typeof E[d.featuresEnum.INSERT]&&E[d.featuresEnum.INSERT],r={[d.pagesEnum.PROMO]:d.rowDataTypesEnum.PROMO,[d.pagesEnum.SONG]:d.rowDataTypesEnum.SONG,[d.pagesEnum.COMMERCIAL]:d.rowDataTypesEnum.COMMERCIAL,[d.pagesEnum.NTC]:d.rowDataTypesEnum.NTC,[d.pagesEnum.FINAL_LOG]:[d.rowDataTypesEnum.PROMO,d.rowDataTypesEnum.SONG,d.rowDataTypesEnum.COMMERCIAL,d.rowDataTypesEnum.NTC,d.rowDataTypesEnum.LIVE]};E[d.featuresEnum.MANAGE_SEGMENT]&&r[b].push(d.rowDataTypesEnum.SEGMENT,d.rowDataTypesEnum.CONTENT_TERMINATION);if((Array.isArray(r[b])?r[b].includes(t.F_C_S_P):t.F_C_S_P===r[b])||l&&S.length>0)if(E[d.featuresEnum.ROTATION_INFO]||E[d.featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS])u([t]),R(t);else if(e.ctrlKey||e.metaKey){const e=(0,c.uk)(a,t,C,f,S);u(e),R(e[e.length-1])}else if(e.shiftKey){const e=(0,c.kH)(t,a,C===d.tableTypesEnum.SCHEDULING?[...f]:[...h],C,E[d.featuresEnum.MANAGE_SEGMENT]);u(e),R(e[e.length-1])}else u([]),R(t);else u([]),R(t)}catch(l){(0,n.openNotification)("danger","Something went wrong while selecting row"),console.error(l)}},children:(0,y.jsx)(T,{row:t,selectedRows:a,setSelectedRows:u})}))};var g=s(45987),E=s(28321),S=s(81694),I=s.n(S),C=s(2803),N=s(40071);const R="rgb(107 114 128)";const j=function(e){let{columnKey:t,isLastColumn:s}=e;const{tableType:l}=(0,r.useContext)(p),{schTableSelectedFilters:a,setSchTableSelectedFilters:c,secTableSelectedFilters:m,setSecTableSelectedFilters:b,executeOperation:f}=(0,r.useContext)(i.Z),[h,x]=(0,r.useState)({selectorValue:u.tU[1],searchInputValue:""});(0,r.useEffect)((()=>{try{const e=(l===d.tableTypesEnum.SCHEDULING?a:m).find((e=>e.columnKey===t)),s=e?{selectorValue:e.filter,searchInputValue:e.searchValue}:{selectorValue:u.tU[1],searchInputValue:""};x((e=>e.selectorValue!==s.selectorValue||e.searchInputValue!==s.searchInputValue?s:e))}catch(e){console.error(e)}}),[l,a,m,t]);const T=()=>{try{let e=[];l===d.tableTypesEnum.SCHEDULING?(e=w([...a]),c(e)):(e=w([...m]),b(e)),f({operation:d.operationTypesEnum.FILTER_ROW,selectedFilters:e,tableType:[l]})}catch(e){console.error(e),(0,n.openNotification)("danger","Something went wrong while applying filter")}},w=e=>[...e.filter((e=>!(e.columnKey===t))),{columnKey:t,filter:h.selectorValue,searchValue:h.searchInputValue}],g=(e,t)=>[...e].filter((e=>e.columnKey!==t));return(0,y.jsxs)(C.Lt,{renderTitle:(0,y.jsx)(C.u,{title:"Filter",children:(0,y.jsx)(C.zx,{shape:"circle",variant:"plain",size:"xs",icon:(0,y.jsx)(N.Q65,{color:(()=>{try{let e=[];return e=l===d.tableTypesEnum.SCHEDULING?[...a]:[...m],e.filter((e=>e.columnKey===t)).length>0}catch(e){console.error(e)}})()?"rgb(20 184 166)":""})})}),menuClass:"w-64 font-normal p-3 capitalize text-xs",placement:s?"bottom-end":"bottom-start",menuStyle:{boxShadow:"#000000cc 0px 0px 10px"},children:[(0,y.jsxs)("p",{className:"text-sm text-white font-normal border-b border-b-gray-600 pb-2 flex justify-between items-center",children:[(0,y.jsx)("span",{children:"Filter"}),(0,y.jsx)("span",{children:t})]}),(0,y.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-x-2 gap-y-3 items-center",children:[(0,y.jsx)("select",{id:"filterSelector",name:"filterSelector",className:"h-full bg-transparent border border-gray-500 focus:border-gray-500 rounded-md px-1.5 text-white",onChange:e=>x((0,o.Z)((0,o.Z)({},h),{},{selectorValue:e.target.value})),value:h.selectorValue,children:u.tU.map((e=>(0,y.jsx)("option",{value:e,className:"bg-gray-700",children:e},e)))}),(0,y.jsx)(C.II,{size:"sm",style:{borderColor:R},placeholder:"Search",className:"h-full hover:cursor-pointer",value:h.searchInputValue,onChange:e=>{x((0,o.Z)((0,o.Z)({},h),{},{searchInputValue:e.target.value}))},onKeyDown:e=>"Enter"===e.key&&T()}),(0,y.jsxs)("div",{className:"mt-2 col-span-2 flex justify-between",children:[(0,y.jsx)(C.zx,{className:"w-max font-normal",style:{borderColor:R,fontSize:"0.8rem",lineHeight:"1rem"},size:"sm",onClick:()=>{try{let e=[];l===d.tableTypesEnum.SCHEDULING?(e=g([...a],t),c(e)):(e=g([...m],t),b(e)),f({operation:d.operationTypesEnum.FILTER_ROW,selectedFilters:e,tableType:[l]}),x({selectorValue:u.tU[0],searchInputValue:""})}catch(e){console.error(e),(0,n.openNotification)("danger","Something went wrong while clearing filter")}},children:"Clear"}),(0,y.jsx)(C.zx,{className:"w-max font-normal",size:"sm",variant:"twoTone",disabled:!h.searchInputValue,style:{fontSize:"0.8rem",lineHeight:"1rem"},onClick:T,children:"Apply"})]})]})]})};var D=s(56355);function v(e){let{sortingInfo:t,column:s}=e;return(0,y.jsx)("div",{className:"flex flex-col items-center",children:"none"===t.sort||t.column!==s?(0,y.jsx)(D.roE,{}):t.column===s&&("asc"===t.sort?(0,y.jsx)(D.h3_,{className:"text-teal-500"}):(0,y.jsx)(D.sF,{className:"text-teal-500"}))})}const O=function(e){let{index:t}=e;const{columns:s,tableType:l,isSortEnabled:a}=(0,r.useContext)(p),{activeFeatures:n,schTableSortingInfo:c,setSchTableSortingInfo:m,secTableSortingInfo:b,setSecTableSortingInfo:f,executeOperation:h}=(0,r.useContext)(i.Z);return(0,y.jsx)("div",{style:{display:"flex",top:t*u.eX,left:0,width:"100%",height:u.eX},className:"sticky z-[2]",children:s.map(((e,t)=>(0,y.jsxs)("div",{style:{width:"".concat(e.style.width,"%"),textAlign:n[d.featuresEnum.FILTER]?"start":"Event_Name"!==e.accessorKey&&"center"},className:I()("h-full flex-none bg-gray-700 border-gray-400 border-y flex items-center py-1 pl-2.5 pr-1.5",0===t?"border-x":"border-r"),children:[(0,y.jsxs)("div",{className:"w-full text-white font-semibold text-[12px] overflow-hidden whitespace-nowrap text-ellipsis flex items-center gap-2 ".concat(a?"hover:cursor-pointer":""),onClick:()=>a&&(e=>{if(l===d.tableTypesEnum.SCHEDULING){let t=(0,o.Z)({},c);"none"===c.sort?t={column:e,tableType:l,sort:"asc"}:"asc"===c.sort?t={column:e,tableType:l,sort:"desc"}:"desc"===c.sort&&(t={column:e,tableType:l,sort:"none"}),m(t),h({operation:d.operationTypesEnum.SORT,sortingInfo:t})}else{let t=(0,o.Z)({},b);"none"===b.sort?t={column:e,tableType:l,sort:"asc"}:"asc"===b.sort?t={column:e,tableType:l,sort:"desc"}:"desc"===b.sort&&(t={column:e,tableType:l,sort:"none"}),f(t),h({operation:d.operationTypesEnum.SORT,sortingInfo:t})}})(e.accessorKey),children:[e.header,a&&(0,y.jsx)(v,{sortingInfo:l===d.tableTypesEnum.SCHEDULING?c:b,column:e.accessorKey})]},e.accessorKey),n[d.featuresEnum.FILTER]&&(0,y.jsx)(j,{columnKey:e.accessorKey,isLastColumn:t===s.length-1})]},e.accessorKey)))})},P=["children","stickyIndices","tableRef","StickyListContext"],L=["children"],k=e=>{let{children:t,stickyIndices:s,tableRef:l,StickyListContext:a}=e,n=(0,g.Z)(e,P);const{scrolledOffset:c}=(0,r.useContext)(p);return(0,y.jsx)(a.Provider,{value:{ItemRenderer:t,stickyIndices:s},children:(0,y.jsx)(E.S_,(0,o.Z)((0,o.Z)({itemData:{ItemRenderer:t,stickyIndices:s}},n),{},{ref:l,initialScrollOffset:c,children:Z}))})},Z=e=>{let{data:t,index:s,style:l}=e;const{ItemRenderer:r,stickyIndices:a}=t;return a&&a.includes(s)?null:(0,y.jsx)(r,{index:s,style:l})},F=e=>(0,r.forwardRef)(((t,s)=>{let{children:l}=t,r=(0,g.Z)(t,L);return(0,y.jsx)(e.Consumer,{children:e=>{let{stickyIndices:t}=e;return(0,y.jsxs)("div",(0,o.Z)((0,o.Z)({ref:s},r),{},{children:[t.map((e=>(0,y.jsx)(O,{index:e},e))),l]}))}})}));function _(e){let{rowType:t,selectedRows:s,setSelectedRows:a,index:n,style:d,tableType:u}=e;const{page:m,activeFeatures:b,secondaryTableSelectedRows:f,isScheduleAllowedToEdit:h}=(0,r.useContext)(i.Z),{tableData:x,isDragDisabled:T}=(0,r.useContext)(p);if(!x)return(0,y.jsx)(y.Fragment,{});const g=x[n];return(0,y.jsx)(y.Fragment,{children:"boolean"===typeof x[n].isFiltered&&!x[n].isFiltered||x[n].isHidden?(0,y.jsx)(l._l,{draggableId:x[n].rowId,index:n,isDragDisabled:!0,children:e=>(0,y.jsx)("div",(0,o.Z)((0,o.Z)((0,o.Z)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:(0,o.Z)({},e.draggableProps.style)}))},x[n].rowId):(0,y.jsx)(l._l,{draggableId:x[n].rowId,index:n,isDragDisabled:T||!h||(0,c.yM)(m,b,g,n,u,f),children:e=>(0,y.jsx)(w,{row:g,provided:e,rowType:t,selectedRows:s,setSelectedRows:a,style:d})},x[n].rowId)})}const A=e=>{let{children:t}=e;const[s,l]=(0,r.useState)(null),[a,o]=(0,r.useState)([]),[n,c]=(0,r.useState)([]),[i,d]=(0,r.useState)([]),[u,m]=(0,r.useState)({}),[b,f]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1);return(0,y.jsx)(p.Provider,{value:{tableType:s,tableData:a,columns:n,selectedRows:i,scrolledOffset:u,isDragDisabled:b,isSortEnabled:h,setTableType:l,setTableData:o,setColumns:c,setSelectedRows:d,setScrolledOffset:m,setIsDragDisabled:f,setIsSortEnabled:x},children:t})};function K(e){let{tableNameProp:t,tableTypeProp:s,tableDataProp:o,columnsProp:n,droppableIdProp:c,selectedRowsProp:m,setSelectedRowsProp:b,scrolledOffsetProp:f,tableRef:h,isDragDisabledProp:x,isSortEnabledProp:T}=e;const{setSchedulingTableName:g,setSecondaryTableName:E}=(0,r.useContext)(i.Z),{tableData:S,setTableType:I,setTableData:C,setColumns:N,setScrolledOffset:R,setIsDragDisabled:j,setIsSortEnabled:D}=(0,r.useContext)(p),v=(0,r.createContext)();return v.displayName="StickyListContext",(0,r.useEffect)((()=>{try{s===d.tableTypesEnum.SCHEDULING?g(t):E(t),I(s),C(o),N(n),R(f),j(x),D(T)}catch(e){throw e}}),[t,s,o,n,f,x]),(0,y.jsx)(l.bK,{droppableId:c,mode:"virtual",renderClone:(e,t,s)=>(0,y.jsx)(w,{row:S[s.source.index],provided:e,rowType:d.rowTypesEnum.CLONE,selectedRows:m,setSelectedRows:b}),children:e=>(0,y.jsx)("div",{ref:e.innerRef,className:"h-full w-full",children:(0,y.jsx)(a.ZP,{children:t=>{let{height:l,width:r}=t;return(0,y.jsx)(k,{height:l,innerElementType:F(v),itemCount:S.length,itemSize:e=>"boolean"===typeof S[e].isFiltered&&!S[e].isFiltered||S[e].isHidden?0:u.eX,stickyIndices:[0],width:r,outerRef:e.innerRef,tableRef:h,StickyListContext:v,children:e=>{let{index:t,style:l}=e;return(0,y.jsx)(_,{rowType:d.rowTypesEnum.NORMAL,selectedRows:m,setSelectedRows:b,index:t,style:l,tableType:s})}})}})})})}const M=function(e){let{tableName:t,tableType:s,tableData:l,columns:r,droppableId:a,selectedRows:o,setSelectedRows:n,scrolledOffset:c,tableRef:i,isDragDisabled:d,isSortEnabled:u=!0}=e;return(0,y.jsx)(A,{children:(0,y.jsx)(K,{tableNameProp:t,tableTypeProp:s,tableDataProp:l,columnsProp:r,droppableIdProp:a,selectedRowsProp:o,setSelectedRowsProp:n,scrolledOffsetProp:c,tableRef:i,isDragDisabledProp:d,isSortEnabledProp:u})})}},94578:(e,t,s)=>{s.d(t,{Z:()=>r});var l=s(89611);function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,l.Z)(e,t)}}}]);
//# sourceMappingURL=1900.72d5ac6b.chunk.js.map