{"version":3,"file":"static/js/6003.4401fb37.chunk.js","mappings":"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","sources":["services/DealServices.js","views/Billing/BillPrinting/pdfDefinations/HeaderDefinitions/headerDefinitionForTCPage.js","views/Billing/BillPrinting/pdfDefinations/pdfGeneratorORG.js","views/Billing/TelecastCertificate/TelecastCertificate.js","views/Controls/SelectXs/SelectXs.js"],"sourcesContent":["import appConfig from 'configs/app.config';\r\nimport ApiService from './ApiService';\r\nimport { convertDateToYMD } from 'components/validators';\r\n\r\nconst axios = require('axios');\r\n\r\nconst APIURL = process.env.APIURL;\r\nexport async function apidealmasterBYID(ID) {\r\n  return ApiService.fetchData({\r\n    url: `/dealmaster/${ID}`,\r\n    method: 'get',\r\n  });\r\n}\r\nexport async function apidealattachmentBYID(dealNumber) {\r\n  return ApiService.fetchData({\r\n    url: `/dealattachment/${dealNumber}`,\r\n    method: 'get',\r\n  });\r\n}\r\nexport async function readUploadedFileByName(fileName) {\r\n  return ApiService.fetchData({\r\n    url: `/dealmaster/readuploadedfile/${fileName}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apidealmasterDealforapprovalBYID(selectedDeal, isApproved, rejectRemark) {\r\n  return ApiService.fetchData({\r\n    url: `/dealmaster/dealforapproval/?DealNumber=${selectedDeal}&IsApproved=${isApproved}&RejectRemark=${rejectRemark}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetdealmaster(param, dateRange) {\r\n  return ApiService.fetchData({\r\n    url: `/dealmaster/?LocationCode=${param.LocationCode}&ChannelCode=${param.ChannelCode\r\n      }&StartDate=${convertDateToYMD(dateRange[0])}&EndDate=${convertDateToYMD(\r\n        dateRange[1],\r\n      )}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetsponsortypemasterdrop(data) {\r\n  return ApiService.fetchData({\r\n    url: '/sponsortypemaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nexport async function apiGetspottypemasterdrop(data) {\r\n  return ApiService.fetchData({\r\n    url: '/spottypemaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nexport async function apiGetdealdetailId(ID) {\r\n  return ApiService.fetchData({\r\n    url: `/dealdetail/${ID}`,\r\n    method: 'get',\r\n  });\r\n}\r\nexport async function apiUSP_Sch_DealConsumptionCheck(ID) {\r\n  return ApiService.fetchData({\r\n    url: `/dealmaster/USP_Sch_DealConsumptionCheck/?DealNumber=${ID}`,\r\n    method: 'get',\r\n  });\r\n}\r\nexport async function apiUSP_Sch_DealConsumptionMonthwise(ID) {\r\n  return ApiService.fetchData({\r\n    url: `/dealmaster/USP_Sch_DealConsumptionMonthwise/?DealNumber=${ID}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetbindstartnendtime(\r\n  DealPeriodToDate,\r\n  DealPeriodFromDate,\r\n  ContentCode,\r\n  OriginalRepeatCode,\r\n  LocationCode,\r\n  ChannelCode,\r\n) {\r\n  return ApiService.fetchData({\r\n    url: `/dealmaster/bindstartnendtime/?LocationCode=${LocationCode}&ChannelCode=${ChannelCode}&DealPeriodToDate=${DealPeriodToDate}&DealPeriodFromDate=${DealPeriodFromDate}&ContentCode=${ContentCode}&OriginalRepeatCode=${OriginalRepeatCode}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apipostbookingdetails(RESCHEDULE, data, IsNtc) {\r\n  return ApiService.fetchData({\r\n    url: `/bookingdetails/bookingchange/?flag=${RESCHEDULE}&IsNtc=${IsNtc}`,\r\n    method: 'put',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetdealDashboard() {\r\n  var d = {\r\n    params: {},\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/USP_DealDashboardSummaryAmount',\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\nexport async function apiCallstoreprocedure_WithOutParam(proc_name, params) {\r\n  var d = {\r\n    params: params,\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\nexport async function apiCallstoreprocedure_WithOutParamEntity(proc_name) {\r\n  var d = {\r\n    params: {},\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\nexport async function apiCallstoreprocedure_WithOutParamreject(proc_name) {\r\n  var d = {\r\n    params: {\r\n      IsApproved: 0,\r\n      IsExpiring: 0,\r\n      IsRejected: 2,\r\n    },\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\nexport async function apiCallstoreprocedure_WithOutParamRRR(\r\n  proc_name,\r\n  date,\r\n  channel,\r\n  loc,\r\n) {\r\n  var d = {\r\n    params: {\r\n      Location: loc,\r\n      Channel: channel,\r\n      FromDate: convertDateToYMD(date[0]),\r\n      Todate: convertDateToYMD(date[1]),\r\n    },\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\nexport async function apiCallstoreprocedure_WithOutParamDash(\r\n  proc_name,\r\n  channel,\r\n  loc,\r\n) {\r\n  var d = {\r\n    params: {\r\n      Location: loc,\r\n      Channel: channel,\r\n    },\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\n\r\nexport async function apiCallstoreprocedure_WithOutParamgg(\r\n  proc_name,\r\n  BookingCode,\r\n  IsNTC,\r\n) {\r\n  var d = {\r\n    params: { Bookingcode: BookingCode, IsNTC: IsNTC },\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\n\r\nexport async function apiCallstoreprocedure_WithOutParamstatus(\r\n  proc_name,\r\n  data,\r\n) {\r\n  var d = {\r\n    params: {},\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\n\r\nexport async function apiDashboardDoughnut(format) {\r\n  var d = {\r\n    params: {\r\n      CheckMonth: format,\r\n    },\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/USP_DealDashboardDoughnut',\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\n\r\nexport async function apiCallforbookdeatil(proc_name, f) {\r\n  var d = {\r\n    params: { BookingNumber: f, deallineitemno: 0 },\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\n\r\nexport async function apiGetExchangeRatesForBaseCurrency(baseCurShortName) {\r\n  return ApiService.fetchData({\r\n    url: `currencyexchangerate/?basecurrency=${baseCurShortName}`,\r\n    method: 'post',\r\n  });\r\n}\r\n","import { EMPTY_LINE, PAGE_WIDTH } from '../constants';\r\n\r\nconst getHeaderDefinitionForTCPage = (headerDetails) => {\r\n  try {\r\n    return {\r\n      columns: [\r\n        {\r\n          width: (PAGE_WIDTH * 15) / 100,\r\n          text: '',\r\n        },\r\n        {\r\n          width: '*',\r\n          alignment: 'center',\r\n          margin: [0, 15, 0, 0],\r\n          text: [\r\n            {\r\n              text: `${headerDetails.companyName}\\n`,\r\n              style: 'header',\r\n            },\r\n            { ...EMPTY_LINE },\r\n            { text: headerDetails.address, style: 'secondaryTextBold' },\r\n          ],\r\n        },\r\n        {\r\n          width: (PAGE_WIDTH * 15) / 100,\r\n          text: '',\r\n        },\r\n      ],\r\n    };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport default getHeaderDefinitionForTCPage;\r\n","import {\r\n  calculatePercentageValue,\r\n  formatDateToDDMMMYYYY,\r\n  getDateFromDateTime,\r\n  getTableWithTotal,\r\n  numberToINRFormat,\r\n  numberToWordsINRFormat,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport pdfMake from 'pdfmake/build/pdfmake';\r\nimport pdfFonts from 'pdfmake/build/vfs_fonts';\r\nimport { getTaxPercentage, getTelecastDate } from './helperFunctions';\r\nimport getHeaderDefinitionForTCPage from './HeaderDefinitions/headerDefinitionForTCPage';\r\npdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n\r\n/* CONSTANTS */\r\n// Page properties\r\nconst PAGE_SIZE = 'A4';\r\nconst PAGE_WIDTH = 595.28; // A4 size width in points\r\nconst PAGE_MARGINS = 10;\r\n// Content properties\r\nconst EMPTY_LINE = { text: '\\n', style: { lineHeight: 0.3 } };\r\nconst QR_CODE_SIZE = 216;\r\nconst STYLES = {\r\n  // Text Styles\r\n  header: { fontSize: 12, bold: true },\r\n  primaryText: { fontSize: 10 },\r\n  primaryTextBold: { fontSize: 10, bold: true },\r\n  secondaryText: { fontSize: 8 },\r\n  secondaryTextBold: { fontSize: 8, bold: true },\r\n  // Row Styles\r\n  row1: { margin: [0, 5, 0, 0], fontSize: 10 },\r\n  row2: { margin: [0, 5, 0, 0], fontSize: 10 },\r\n  row3: { margin: [0, 5, 0, 0], fontSize: 10 },\r\n  // Table Styles\r\n  tableKey: { fontSize: 9, bold: true },\r\n  tableValue: { fontSize: 9 },\r\n  tableKeyLarge: { fontSize: 14, bold: true },\r\n};\r\n\r\n/* HELPER DEFINITIONS */\r\nconst getHeaderDefinition = (invoice) => {\r\n  try {\r\n    return {\r\n      columns: [\r\n        {\r\n          width: (PAGE_WIDTH * 15) / 100,\r\n          text: '',\r\n        },\r\n        {\r\n          width: '*',\r\n          alignment: 'center',\r\n          margin: [0, 15, 0, 0],\r\n          text: [\r\n            {\r\n              text: `${invoice.ParentCompany}\\n`,\r\n              style: 'header',\r\n            },\r\n            { ...EMPTY_LINE },\r\n            ...getAddressDefinition(invoice.ParentRegdAddress1),\r\n          ],\r\n        },\r\n        {\r\n          width: (PAGE_WIDTH * 15) / 100,\r\n          image: invoice.Channel_Image,\r\n          alignment: 'center',\r\n          margin: [0, 0, 10, 0],\r\n        },\r\n      ],\r\n    };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getAddressDefinition = (address) => {\r\n  try {\r\n    const addressArr = address.split(',').map((part) => part.trim());\r\n    const addressDefinition = [];\r\n    for (let i = 0; i < addressArr.length; i += 3) {\r\n      const addressLine = addressArr.slice(i, i + 3).join(', ') + '\\n';\r\n      addressDefinition.push({ text: addressLine, style: 'secondaryTextBold' });\r\n    }\r\n    return addressDefinition;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getTaxesDefinition = (\r\n  cgst,\r\n  sgst,\r\n  igst,\r\n  cgstAmount,\r\n  sgstAmount,\r\n  igstAmount,\r\n) => {\r\n  try {\r\n    let taxesDefinition = [];\r\n    if (cgst) {\r\n      taxesDefinition.push([\r\n        {\r\n          text: 'Add:',\r\n          style: 'tableKeyLarge',\r\n        },\r\n        { text: 'CGST', style: 'tableValue' },\r\n        { text: `${cgst.TaxPercent}%`, style: 'tableValue' },\r\n        {\r\n          text: numberToINRFormat(cgstAmount),\r\n          style: 'tableValue',\r\n          alignment: 'right',\r\n        },\r\n      ]);\r\n    }\r\n    if (sgst) {\r\n      taxesDefinition.push([\r\n        {\r\n          text: 'Add:',\r\n          style: 'tableKeyLarge',\r\n        },\r\n        { text: 'SGST', style: 'tableValue' },\r\n        { text: `${sgst.TaxPercent}%`, style: 'tableValue' },\r\n        {\r\n          text: numberToINRFormat(sgstAmount),\r\n          style: 'tableValue',\r\n          alignment: 'right',\r\n        },\r\n      ]);\r\n    }\r\n    if (igst) {\r\n      taxesDefinition.push([\r\n        {\r\n          text: 'Add:',\r\n          style: 'tableKeyLarge',\r\n        },\r\n        { text: 'IGST', style: 'tableValue' },\r\n        { text: `${igst.TaxPercent}%`, style: 'tableValue' },\r\n        {\r\n          text: numberToINRFormat(igstAmount),\r\n          style: 'tableValue',\r\n          alignment: 'right',\r\n        },\r\n      ]);\r\n    }\r\n    return taxesDefinition;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getBillDefinition = (invoice, taxes) => {\r\n  try {\r\n    /* DO ALL PRE-PROCESSING HERE */\r\n    // Calculate all amounts\r\n    const grossAmount = invoice.GrossAmount;\r\n    const agencyShare = invoice.AgencyShare;\r\n    const netAmount = grossAmount - agencyShare;\r\n    const cgst = getTaxPercentage(taxes, invoice, 'CGST');\r\n    const sgst = getTaxPercentage(taxes, invoice, 'SGST');\r\n    const igst = getTaxPercentage(taxes, invoice, 'IGST');\r\n    let cgstAmount,\r\n      sgstAmount,\r\n      igstAmount,\r\n      totalAmountIncTaxes = netAmount;\r\n    if (cgst) {\r\n      cgstAmount = calculatePercentageValue(cgst.TaxPercent, netAmount);\r\n      totalAmountIncTaxes = totalAmountIncTaxes + cgstAmount;\r\n    }\r\n    if (sgst) {\r\n      sgstAmount = calculatePercentageValue(sgst.TaxPercent, netAmount);\r\n      totalAmountIncTaxes = totalAmountIncTaxes + sgstAmount;\r\n    }\r\n    if (igst) {\r\n      igstAmount = calculatePercentageValue(igst.TaxPercent, netAmount);\r\n      totalAmountIncTaxes = totalAmountIncTaxes + igstAmount;\r\n    }\r\n    totalAmountIncTaxes = Math.round(totalAmountIncTaxes);\r\n\r\n    const definition = [\r\n      // Invoice Header\r\n      getHeaderDefinition(invoice),\r\n      {\r\n        margin: [0, 5, 0, 0],\r\n        columns: [\r\n          {\r\n            width: (PAGE_WIDTH * 15) / 100,\r\n            text: '',\r\n            alignment: 'left',\r\n          },\r\n          {\r\n            width: '*',\r\n            alignment: 'center',\r\n            text: 'TAX INVOICE',\r\n            style: 'header',\r\n          },\r\n          {\r\n            width: (PAGE_WIDTH * 15) / 100,\r\n            text: '',\r\n            alignment: 'right',\r\n            style: 'secondaryTextBold',\r\n          },\r\n        ],\r\n      },\r\n      // First Row Table\r\n      {\r\n        columnGap: 5,\r\n        columns: [\r\n          {\r\n            width: '*',\r\n            style: 'row1',\r\n            table: {\r\n              widths: ['*', '*'],\r\n              body: [\r\n                [\r\n                  {\r\n                    text: 'State of Service Provider :',\r\n                    style: 'tableKey',\r\n                  },\r\n                  { text: invoice.ChannelStateName, style: 'tableValue' },\r\n                ],\r\n                [\r\n                  {\r\n                    text: 'State Code of Service Provider:',\r\n                    style: 'tableKey',\r\n                  },\r\n                  { text: invoice.ChannelStateTinNo, style: 'tableValue' },\r\n                ],\r\n                [\r\n                  { text: 'GSTIN of Service Provider :', style: 'tableKey' },\r\n                  { text: invoice.ChannelGSTN_ID, style: 'tableValue' },\r\n                ],\r\n                [\r\n                  { text: 'PAN of Service Provider :', style: 'tableKey' },\r\n                  { text: '', style: 'tableValue' },\r\n                ],\r\n                [\r\n                  {\r\n                    text: 'Address of Service Provider :',\r\n                    style: 'tableKey',\r\n                  },\r\n                  {\r\n                    text: invoice.ParentRegdAddress1,\r\n                    style: 'tableValue',\r\n                  },\r\n                ],\r\n              ],\r\n            },\r\n          },\r\n          {\r\n            width: '*',\r\n            style: 'row1',\r\n            table: {\r\n              widths: ['40%', '*'],\r\n              body: [\r\n                [\r\n                  { text: 'Invoice Number :', style: 'tableKey' },\r\n                  { text: invoice.INVOICENO, style: 'tableValue' },\r\n                ],\r\n                [\r\n                  { text: 'Invoice Date :', style: 'tableKey' },\r\n                  {\r\n                    text: getDateFromDateTime(invoice.InvoiceDate),\r\n                    style: 'tableValue',\r\n                  },\r\n                ],\r\n                [\r\n                  { text: 'Telecast Period :', style: 'tableKey' },\r\n                  {\r\n                    text: getTelecastDate(invoice.FromDate, invoice.UptoDate),\r\n                    style: 'tableValue',\r\n                  },\r\n                ],\r\n                [\r\n                  { text: 'RO No. & Date :', style: 'tableKey' },\r\n                  {\r\n                    text: `${invoice.BookingCode} & ${formatDateToDDMMMYYYY(\r\n                      invoice.BookingDate,\r\n                    )}`,\r\n                    style: 'tableValue',\r\n                  },\r\n                ],\r\n                [\r\n                  { text: 'Client RO Ref No. :', style: 'tableKey' },\r\n                  {\r\n                    text: invoice.BookingReferenceNumber,\r\n                    style: 'tableValue',\r\n                  },\r\n                ],\r\n              ],\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      // Second Row Table\r\n      {\r\n        columnGap: 5,\r\n        columns: [\r\n          {\r\n            width: '*',\r\n            style: 'row2',\r\n            table: {\r\n              widths: ['35%', '*'],\r\n              body: [\r\n                [\r\n                  { text: 'Agency/Client:', style: 'tableKey' },\r\n                  { text: invoice.AgencyName, style: 'tableValue' },\r\n                ],\r\n                [\r\n                  { text: 'Address:', style: 'tableKey' },\r\n                  {\r\n                    text: invoice.agencyAddress1,\r\n                    style: 'tableValue',\r\n                  },\r\n                ],\r\n                [\r\n                  { text: 'City :', style: 'tableKey' },\r\n                  {\r\n                    text: `${invoice.AgencyStateName} - ${invoice.AgencyPin}`,\r\n                    style: 'tableValue',\r\n                  },\r\n                ],\r\n                [\r\n                  { text: 'STATE :', style: 'tableKey' },\r\n                  { text: invoice.AgencyStateName, style: 'tableValue' },\r\n                ],\r\n                [\r\n                  { text: 'State Code :', style: 'tableKey' },\r\n                  { text: invoice.AgencyStateTinNo, style: 'tableValue' },\r\n                ],\r\n              ],\r\n            },\r\n          },\r\n          {\r\n            width: '*',\r\n            style: 'row2',\r\n            table: {\r\n              widths: ['auto', '*'],\r\n              body: [\r\n                [\r\n                  { text: 'PAN of Client/Agency :', style: 'tableKey' },\r\n                  { text: '', style: 'tableValue' },\r\n                ],\r\n                [\r\n                  { text: 'SAC Code :', style: 'tableKey' },\r\n                  { text: invoice.ChannelSACCode, style: 'tableValue' },\r\n                ],\r\n                [\r\n                  { text: 'Agency/Client GST :', style: 'tableKey' },\r\n                  { text: invoice.AgencyGSTN_ID, style: 'tableValue' },\r\n                ],\r\n              ],\r\n            },\r\n          },\r\n        ],\r\n      },\r\n      // QR code, Client/Product details and Gross Total\r\n      {\r\n        columnGap: 5,\r\n        columns: [\r\n          {\r\n            width: QR_CODE_SIZE,\r\n            // TODO: Remove text and add QR code here\r\n            text: '',\r\n            // qr: 'https://google.com',\r\n            // fit: QR_CODE_SIZE,\r\n          },\r\n          {\r\n            width: '*',\r\n            stack: [\r\n              {\r\n                style: 'row3',\r\n                table: {\r\n                  widths: ['auto', '*'],\r\n                  body: [\r\n                    [\r\n                      { text: 'Client', style: 'tableKey' },\r\n                      { text: invoice.ClientName, style: 'tableValue' },\r\n                    ],\r\n                    [\r\n                      { text: 'Product', style: 'tableKey' },\r\n                      {\r\n                        text: invoice.BrandName,\r\n                        style: 'tableValue',\r\n                      },\r\n                    ],\r\n                  ],\r\n                },\r\n              },\r\n              {\r\n                style: 'row3',\r\n                table: {\r\n                  widths: ['*', '*', '*', '*'],\r\n                  body: [\r\n                    [\r\n                      {\r\n                        text: 'Gross Total',\r\n                        style: 'tableKeyLarge',\r\n                        colSpan: 3,\r\n                      },\r\n                      {},\r\n                      {},\r\n                      {\r\n                        text: numberToINRFormat(grossAmount),\r\n                        style: 'tableValue',\r\n                        alignment: 'right',\r\n                      },\r\n                    ],\r\n                    [\r\n                      {\r\n                        text: 'Less:',\r\n                        style: 'tableKeyLarge',\r\n                      },\r\n                      {\r\n                        text: `AD Booking Discount - ${(agencyShare / grossAmount) * 100\r\n                          }%`,\r\n                        colSpan: 2,\r\n                        style: 'tableValue',\r\n                      },\r\n                      {},\r\n                      {\r\n                        text: numberToINRFormat(agencyShare),\r\n                        style: 'tableValue',\r\n                        alignment: 'right',\r\n                      },\r\n                    ],\r\n                    [\r\n                      {\r\n                        text: 'Net Amount',\r\n                        style: 'tableKeyLarge',\r\n                        colSpan: 3,\r\n                      },\r\n                      {},\r\n                      {},\r\n                      {\r\n                        text: numberToINRFormat(netAmount),\r\n                        style: 'tableValue',\r\n                        alignment: 'right',\r\n                      },\r\n                    ],\r\n                    ...getTaxesDefinition(\r\n                      cgst,\r\n                      sgst,\r\n                      igst,\r\n                      cgstAmount,\r\n                      sgstAmount,\r\n                      igstAmount,\r\n                    ),\r\n                    [\r\n                      {\r\n                        text: 'Total Amount (Inc. Taxes)',\r\n                        style: 'tableKeyLarge',\r\n                        colSpan: 3,\r\n                      },\r\n                      {},\r\n                      {},\r\n                      {\r\n                        text: numberToINRFormat(totalAmountIncTaxes),\r\n                        style: 'tableValue',\r\n                        alignment: 'right',\r\n                      },\r\n                    ],\r\n                    [\r\n                      {\r\n                        text: `Amount in words : ${numberToWordsINRFormat(\r\n                          totalAmountIncTaxes,\r\n                        )} Only`,\r\n                        style: 'secondaryTextBold',\r\n                        colSpan: 4,\r\n                      },\r\n                      {},\r\n                      {},\r\n                      {},\r\n                    ],\r\n                    [\r\n                      {\r\n                        text: 'IRN No.: ',\r\n                        style: 'secondaryTextBold',\r\n                        colSpan: 4,\r\n                      },\r\n                      {},\r\n                      {},\r\n                      {},\r\n                    ],\r\n                  ],\r\n                },\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n      //Terms and Conditions\r\n      {\r\n        margin: [0, 10, 0, 0],\r\n        stack: [\r\n          {\r\n            text: 'Terms and Condition:',\r\n            style: 'secondaryTextBold',\r\n          },\r\n          { ...EMPTY_LINE },\r\n          { text: '\\n', style: { lineHeight: 0.3 } },\r\n          {\r\n            columns: [\r\n              {\r\n                width: 'auto',\r\n                text: 'i). Payment of the bill, if not paid in advance, may be made on or before DUE DATE',\r\n                style: 'secondaryText',\r\n                margin: [0, 0, 10, 0],\r\n              },\r\n            ],\r\n          },\r\n          { ...EMPTY_LINE },\r\n          {\r\n            text: 'ii). Interest at 14.5% per annum will be charged on all amounts which are not paid within the specified period in terms of Contract / Agreement.',\r\n            style: 'secondaryText',\r\n          },\r\n          { ...EMPTY_LINE },\r\n          {\r\n            text: 'iii). For further instruction please refer to the terms & condition laid down in the contract/agreement executed by the Advertisers/Agency.',\r\n            style: 'secondaryText',\r\n          },\r\n        ],\r\n      },\r\n      // GST declaration and Digital Signature\r\n      {\r\n        columnGap: 5,\r\n        columns: [\r\n          {\r\n            width: '70%',\r\n            margin: [0, 15, 0, 0],\r\n            stack: [\r\n              {\r\n                text: 'GST Declaration:',\r\n                style: 'primaryTextBold',\r\n              },\r\n              { text: '\\n', style: { lineHeight: 0.4 } },\r\n              {\r\n                text: 'Certified that the particular given above are true and correct',\r\n                style: 'primaryText',\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            // TODO: Add Digital Signature in this block\r\n            // width: (PAGE_WIDTH * 15) / 100,\r\n          },\r\n        ],\r\n      },\r\n    ];\r\n\r\n    return definition;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getTelecastReportTableDefinition = (telecastReport) => {\r\n  try {\r\n    return {\r\n      table: {\r\n        widths: [(PAGE_WIDTH * 4) / 100, (PAGE_WIDTH * 10) / 100, (PAGE_WIDTH * 34) / 100, (PAGE_WIDTH * 25) / 100, (PAGE_WIDTH * 8) / 100, (PAGE_WIDTH * 6) / 100],\r\n        body: [\r\n          [\r\n            { text: 'S.No.', style: 'tableKey' },\r\n            { text: 'Telecast Period', style: 'tableKey' },\r\n            { text: 'Caption', style: 'tableKey' },\r\n            { text: 'Programme', style: 'tableKey' },\r\n            { text: 'Spot Type', style: 'tableKey' },\r\n            { text: 'Rate', style: 'tableKey' },\r\n          ],\r\n          ...getTableWithTotal(telecastReport, [\r\n            'DurInSec',\r\n            'BillSpotAmount',\r\n          ]).map((row, index) => {\r\n            if (index !== telecastReport.length) {\r\n              return [\r\n                { text: index + 1, style: 'tableValue' },\r\n                {\r\n                  text: getDateFromDateTime(row.TelecastDate),\r\n                  style: 'tableValue',\r\n                },\r\n                { text: row.CommercialCaption, style: 'tableValue' },\r\n                { text: row.ContentName, style: 'tableValue', },\r\n                { text: row.SpotType, style: 'tableValue', },\r\n                {\r\n                  text: numberToINRFormat(row.BookingSpotRate),\r\n                  style: 'tableValue',\r\n                },\r\n              ];\r\n            } else {\r\n              return [\r\n                { text: '', style: 'tableValue' },\r\n                { text: row.TelecastDate, style: 'tableValue' },\r\n                { text: row.ContentName, style: 'tableValue', },\r\n                { text: row.SpotType, style: 'tableValue', },\r\n                {\r\n                  text: 'Total',\r\n                  style: 'tableKey',\r\n                },\r\n                {\r\n                  text: row.BookingSpotRate,\r\n                  style: 'tableValue',\r\n                },\r\n              ];\r\n            }\r\n          }),\r\n        ],\r\n      },\r\n    };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n/* PDF GENERATOR FUNCTIONS */\r\nconst generateBill = async (invoice, taxes) => {\r\n  try {\r\n    const pdfDefination = {\r\n      pageSize: PAGE_SIZE,\r\n      pageMargins: PAGE_MARGINS,\r\n      content: getBillDefinition(invoice, taxes),\r\n      styles: STYLES,\r\n    };\r\n    return pdfMake.createPdf(pdfDefination);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst generateBillWithTC = async (invoice, taxes, telecastReport) => {\r\n  try {\r\n    const pdfDefination = {\r\n      pageSize: PAGE_SIZE,\r\n      pageMargins: PAGE_MARGINS,\r\n      content: getBillDefinition(invoice, taxes),\r\n      styles: STYLES,\r\n    };\r\n    // Added Telecast Report\r\n    pdfDefination.content.push({\r\n      pageBreak: 'before',\r\n      stack: [\r\n        {\r\n          columns: [\r\n            {\r\n              width: '*',\r\n              text: [\r\n                {\r\n                  text: `${invoice.ChannelName}\\n`,\r\n                  style: 'header',\r\n                },\r\n                {\r\n                  text: `Invoice Number: ${invoice.INVOICENO}`,\r\n                  style: 'tableValue',\r\n                },\r\n              ],\r\n              alignment: 'left',\r\n            },\r\n            {\r\n              width: '*',\r\n              alignment: 'center',\r\n              text: [{ text: 'Telecast Report', style: 'header' }],\r\n              margin: [0, 10, 0, 0],\r\n            },\r\n            {\r\n              width: '*',\r\n              text: [\r\n                {\r\n                  text: `Invoice Date: ${getDateFromDateTime(\r\n                    invoice.InvoiceDate,\r\n                  )}\\n`,\r\n                  style: 'tableValue',\r\n                },\r\n                {\r\n                  text: `Invoice Period: ${getTelecastDate(\r\n                    invoice.FromDate,\r\n                    invoice.UptoDate,\r\n                  )}`,\r\n                  style: 'tableValue',\r\n                },\r\n              ],\r\n              alignment: 'right',\r\n            },\r\n          ],\r\n          margin: [0, 5, 0, 15],\r\n        },\r\n        getTelecastReportTableDefinition(telecastReport),\r\n      ],\r\n    });\r\n    return pdfMake.createPdf(pdfDefination);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst generateTelecastReport = async (invoice, telecastReport) => {\r\n  try {\r\n    const pdfDefination = {\r\n      pageSize: PAGE_SIZE,\r\n      pageMargins: PAGE_MARGINS,\r\n      content: [\r\n        // HEADER\r\n        getHeaderDefinition(invoice),\r\n        {\r\n          columns: [\r\n            {\r\n              width: '*',\r\n              text: [\r\n                {\r\n                  text: `\\nInvoice Number: ${invoice.INVOICENO}`,\r\n                  style: 'tableValue',\r\n                },\r\n              ],\r\n              alignment: 'left',\r\n            },\r\n            {\r\n              width: '*',\r\n              alignment: 'center',\r\n              text: [{ text: 'TELECAST REPORT', style: 'header' }],\r\n              margin: [0, 10, 0, 0],\r\n            },\r\n            {\r\n              width: '*',\r\n              text: [\r\n                {\r\n                  text: `Invoice Date: ${getDateFromDateTime(\r\n                    invoice.InvoiceDate,\r\n                  )}\\n`,\r\n                  style: 'tableValue',\r\n                },\r\n                {\r\n                  text: `Invoice Period: ${getTelecastDate(\r\n                    invoice.FromDate,\r\n                    invoice.UptoDate,\r\n                  )}`,\r\n                  style: 'tableValue',\r\n                },\r\n              ],\r\n              alignment: 'right',\r\n            },\r\n          ],\r\n          margin: [0, 5, 0, 15],\r\n        },\r\n        getTelecastReportTableDefinition(telecastReport),\r\n      ],\r\n      styles: STYLES,\r\n    };\r\n    return pdfMake.createPdf(pdfDefination);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst generateTelecastCertificateForTCPage = async (\r\n  tableData,\r\n  headerDetails,\r\n) => {\r\n  const pdfDefination = {\r\n    pageSize: PAGE_SIZE,\r\n    pageMargins: PAGE_MARGINS,\r\n    content: [\r\n      getHeaderDefinitionForTCPage(headerDetails),\r\n      {\r\n        columns: [\r\n          {\r\n            width: '*',\r\n            text: [\r\n              {\r\n                text: `\\n\\n\\nAgency : `,\r\n                style: 'tableKey',\r\n              },\r\n              {\r\n                text: headerDetails.agencyName,\r\n                style: 'tableValue',\r\n              },\r\n              {\r\n                text: `\\nAddress : `,\r\n                style: 'tableKey',\r\n              },\r\n              {\r\n                text: headerDetails.agencyAddress,\r\n                style: 'tableValue',\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            width: '*',\r\n            alignment: 'center',\r\n            text: [{ text: 'TELECAST REPORT', style: 'header' }],\r\n            margin: [0, 10, 0, 0],\r\n          },\r\n          {\r\n            width: '*',\r\n            text: [\r\n              {\r\n                text: `\\n\\n\\nPeriod : `,\r\n                style: 'tableKey',\r\n              },\r\n              {\r\n                text: `${getTelecastDate(\r\n                  headerDetails.fromDate,\r\n                  headerDetails.toDate,\r\n                )}`,\r\n                style: 'tableValue',\r\n              },\r\n              {\r\n                text: `\\nClient : `,\r\n                style: 'tableKey',\r\n              },\r\n              {\r\n                text: headerDetails.clientName,\r\n                style: 'tableValue',\r\n              },\r\n            ],\r\n            alignment: 'right',\r\n          },\r\n        ],\r\n        margin: [0, 5, 0, 15],\r\n      },\r\n      getTelecastReportTableDefinition(tableData),\r\n    ],\r\n    styles: STYLES,\r\n  };\r\n  return pdfMake.createPdf(pdfDefination);\r\n};\r\n\r\nexport {\r\n  generateBill,\r\n  generateBillWithTC,\r\n  generateTelecastReport,\r\n  generateTelecastCertificateForTCPage,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Card, Tabs } from 'components/ui';\r\nimport DatePickerRange from 'components/ui/DatePicker/DatePickerRange';\r\nimport { hideStackedSideNav_secondary } from 'views/Scheduling/general';\r\nimport { useSelector } from 'react-redux';\r\nimport { convertDateToYMD } from 'components/validators';\r\nimport { apiCallstoreprocedure } from 'services/CommonService';\r\nimport TabContent from 'components/ui/Tabs/TabContent';\r\nimport TabList from 'components/ui/Tabs/TabList';\r\nimport TabNav from 'components/ui/Tabs/TabNav';\r\nimport { HiOutlineSearch } from 'react-icons/hi';\r\nimport { IoMdArrowForward } from 'react-icons/io';\r\nimport { apiGetTelecastReport } from 'services/BillingService';\r\nimport {\r\n  getGroupedDataFromJSONArray,\r\n  hideCursorLoader,\r\n  isChannelSelected,\r\n  openNotification,\r\n  showCursorLoader,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport { apiGetspottypemasterdrop } from 'services/DealServices';\r\nimport DebouncedInput from 'views/Controls/DebouncedInput';\r\nimport { AxiosError } from 'axios';\r\nimport './telecastCertificate.css';\r\nimport Loader from 'views/Controls/Loader';\r\nimport SelectChannelDialog from 'views/Controls/SelectChannelDialog';\r\nimport {\r\n  ntcTelecastCertificateRouteTitle,\r\n  telecastCertificateRouteTitle,\r\n} from 'configs/routes.config';\r\nimport SelectXs from 'views/Controls/SelectXs/SelectXs';\r\nimport SelectableTable from '../BillPrinting/components/SelectableTable';\r\nimport { generateTelecastCertificateForTCPage } from '../BillPrinting/pdfDefinations/pdfGeneratorORG';\r\nimport pdfMake from 'pdfmake/build/pdfmake';\r\nimport pdfFonts from 'pdfmake/build/vfs_fonts';\r\nimport JSZip from 'jszip';\r\nimport { saveAs } from 'file-saver';\r\npdfMake.vfs = pdfFonts.pdfMake.vfs;\r\n\r\nfunction TelecastCertificate() {\r\n  /* REDUX STATES */\r\n  const channel = useSelector((state) => state.locale.selectedChannel);\r\n  const loginId = useSelector((state) => state.auth.session.LoginId);\r\n  const token = useSelector((state) => state.auth.session.token);\r\n  const currentRouteTitle = useSelector(\r\n    (state) => state.base.common.currentRouteTitle,\r\n  );\r\n\r\n  /* STATES */\r\n  const [datesRange, setDatesRange] = useState([null, null]);\r\n  const [baseFilterTables, setBaseFilterTables] = useState(null);\r\n  const [globalFilter, setGlobalFilter] = useState('');\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [bills, setBills] = useState(null);\r\n  const [spotTypes, setSpotTypes] = useState(null);\r\n  const [selectedspotTypes, setSelectedSpotTypes] = useState(null);\r\n\r\n  // UI States\r\n  const [showLoader, setShowLoader] = useState(false);\r\n  const [curTab, setCurTab] = useState('agency');\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    try {\r\n      (async (values) => {\r\n        const SpotType = await apiGetspottypemasterdrop(values);\r\n        const formattedOptions = SpotType.data.map((option) => ({\r\n          value: option.SpotTypeCode,\r\n          label: option.SpotTypeName,\r\n        }));\r\n        setSpotTypes(formattedOptions);\r\n      })();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      (async () => {\r\n        if (datesRange && datesRange[0] && datesRange[1]) {\r\n          hideStackedSideNav_secondary();\r\n          setShowLoader(true);\r\n          setBaseFilterTables({\r\n            agencyTable: await getBaseFilterTableData('agency'),\r\n            clientTable: await getBaseFilterTableData('client'),\r\n            bookingTable: await getBaseFilterTableData('booking'),\r\n          });\r\n          setShowLoader(false);\r\n        }\r\n      })();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [datesRange]);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      resetState();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [channel]);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleDownloadTCs = async () => {\r\n    try {\r\n      showCursorLoader();\r\n      let param = {\r\n        loginCode: loginId,\r\n        locationCode: channel.LocationCode,\r\n        fromDate: convertDateToYMD(datesRange[0]),\r\n        uptoDate: convertDateToYMD(datesRange[1]),\r\n        channelCode: channel.ChannelCode,\r\n        SpotTypeCode: selectedspotTypes.map((row) => row.value).join(','),\r\n      };\r\n      if ('BookingCode' in selectedRows[0]) {\r\n        param.filter = selectedRows.map((row) => row.BookingNumber).join(',');\r\n        param.id = 3;\r\n      } else if ('AgencyCode' in selectedRows[0]) {\r\n        param.filter = selectedRows.map((row) => row.AgencyCode).join(',');\r\n        param.id = 1;\r\n      } else if ('ClientCode' in selectedRows[0]) {\r\n        param.filter = selectedRows.map((row) => row.ClientCode).join(',');\r\n        param.id = 2;\r\n      }\r\n      let response = null;\r\n      if (currentRouteTitle === telecastCertificateRouteTitle) {\r\n        response = await apiGetTelecastReport(param, token);\r\n      } else if (currentRouteTitle === ntcTelecastCertificateRouteTitle) {\r\n        // response = await apiGetInvoiceNTC(param, token);\r\n      }\r\n      if (response) {\r\n        let responseData = [];\r\n        if (response.status === 200 && response.data.length > 0)\r\n          responseData = response.data;\r\n        else if (response.status !== 204) {\r\n          openNotification(\r\n            'danger',\r\n            `Something went wrong. Server responded with status code ${response.status}.`,\r\n          );\r\n        }\r\n        if (responseData.length > 0) {\r\n          await downloadTCs(\r\n            responseData.map((row) => ({\r\n              ...row,\r\n              TelecastDate: row.ScheduleDate,\r\n              DurInSec: row.CommercialDuration,\r\n              BookingSpotRate: 0,\r\n              BillSpotAmount: 0,\r\n            })),\r\n          );\r\n        } else {\r\n          openNotification(\r\n            'info',\r\n            `No telecast certificates found for selected ${curTab === 'agency'\r\n              ? 'agencies'\r\n              : curTab === 'client'\r\n                ? 'clients'\r\n                : 'bookings'\r\n            }`,\r\n          );\r\n        }\r\n      } else {\r\n        openNotification(\r\n          'danger',\r\n          `Something went wrong while downloading telecast certificates`,\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      openNotification(\r\n        'danger',\r\n        'Something went wrong while downloading telecast certificates',\r\n      );\r\n    } finally {\r\n      hideCursorLoader();\r\n    }\r\n  };\r\n\r\n  /* HELPER FUNCTIONS */\r\n  const getBaseFilterTableData = async (type) => {\r\n    try {\r\n      let param = {\r\n        location: channel.LocationCode,\r\n        channel: channel.ChannelCode,\r\n        fromDate: convertDateToYMD(datesRange[0]),\r\n        todate: convertDateToYMD(datesRange[1]),\r\n        Flag: null,\r\n        IsNTC: 0,\r\n        SpotTypeCode: selectedspotTypes.map((row) => row.value).join(','),\r\n      };\r\n      console.log(param);\r\n      if (type === 'agency') {\r\n        param.Flag = 1;\r\n      } else if (type === 'client') {\r\n        param.Flag = 2;\r\n      } else if (type === 'booking') {\r\n        param.Flag = 3;\r\n      }\r\n      let response = await apiCallstoreprocedure('usp_BookingTC_List', param);\r\n      if (response.status === 200) {\r\n        return response.data;\r\n      } else if (response.status === 204) {\r\n        return [];\r\n      } else {\r\n        openNotification(\r\n          'danger',\r\n          `Something went wrong. Server responded with status code ${response.status}.`,\r\n        );\r\n        throw new Error(\r\n          `Response status code: ${response.status}. Response: ${response}`,\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      if (error instanceof AxiosError) {\r\n        openNotification(\r\n          'danger',\r\n          `Something went wrong. Server responded with status code ${error.response.status}`,\r\n        );\r\n      }\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const downloadTCs = async (tableData) => {\r\n    const groupedData = getGroupedDataFromJSONArray(\r\n      tableData,\r\n      curTab === 'agency'\r\n        ? 'AgencyName'\r\n        : curTab === 'client'\r\n          ? 'ClientName'\r\n          : 'BookingNumber',\r\n    );\r\n    const groups = Object.keys(groupedData);\r\n    let headerDetails = {\r\n      fromDate: datesRange[0],\r\n      toDate: datesRange[1],\r\n    };\r\n    if (curTab === 'booking') {\r\n      headerDetails = {\r\n        ...headerDetails,\r\n        companyName: tableData[0].EntityName,\r\n        address: tableData[0].CorpAddress,\r\n        agencyName: tableData[0].AgencyName,\r\n        agencyAddress: tableData[0].BillingAddress1,\r\n        clientName: tableData[0].ClientName,\r\n        spotType: tableData[0].SpotType,\r\n      };\r\n      const pdf = await generateTelecastCertificateForTCPage(\r\n        tableData,\r\n        headerDetails,\r\n      );\r\n      pdf.download(`Bookings-Telecast-Certificate.pdf`);\r\n    } else if (groups.length === 1) {\r\n      headerDetails = {\r\n        ...headerDetails,\r\n        companyName: tableData[0].EntityName,\r\n        address: tableData[0].CorpAddress,\r\n        agencyName: tableData[0].AgencyName,\r\n        agencyAddress: tableData[0].BillingAddress1,\r\n        clientName: tableData[0].ClientName,\r\n        spotType: tableData[0].SpotType,\r\n      };\r\n      const pdf = await generateTelecastCertificateForTCPage(\r\n        tableData,\r\n        headerDetails,\r\n      );\r\n      pdf.download(`${groups[0]}-Telecast-Certificate.pdf`);\r\n    } else if (groups.length > 1) {\r\n      const zip = new JSZip();\r\n      for (let key of groups) {\r\n        headerDetails = {\r\n          ...headerDetails,\r\n          companyName: groupedData[key][0].EntityName,\r\n          address: groupedData[key][0].CorpAddress,\r\n          agencyName: groupedData[key][0].AgencyName,\r\n          agencyAddress: groupedData[key][0].BillingAddress1,\r\n          clientName: groupedData[key][0].ClientName,\r\n          contentName: groupedData[key][0].ContentName,\r\n          spotType: groupedData[key][0].SpotType,\r\n        };\r\n        const pdf = await generateTelecastCertificateForTCPage(\r\n          groupedData[key],\r\n          headerDetails,\r\n        );\r\n        const pdfBlob = await new Promise((resolve) => pdf.getBlob(resolve));\r\n        zip.file(`${key}-Telecast-Certificate.pdf`, pdfBlob);\r\n      }\r\n      const zipBlob = await zip.generateAsync({ type: 'blob' });\r\n      saveAs(zipBlob, 'Telecast-Certificates.zip');\r\n    }\r\n  };\r\n\r\n  const resetState = () => {\r\n    try {\r\n      setDatesRange([null, null]);\r\n      setBaseFilterTables(null);\r\n      setGlobalFilter('');\r\n      setSelectedRows([]);\r\n      setBills(null);\r\n      setShowLoader(false);\r\n      setCurTab('agency');\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      className=\"h-full\"\r\n      bodyClass=\"h-full py-3 px-0 flex flex-col\"\r\n      bordered={false}\r\n    >\r\n      <div className=\"flex items-center justify-between gap-6 border-b border-gray-700 pb-3 px-4 mb-2\">\r\n        <h4>Telecast Certificate</h4>\r\n        <div className=\"grow flex justify-end items-center gap-3\">\r\n          <SelectXs\r\n            isMulti={true}\r\n            size=\"sm\"\r\n            placeholder=\"Select Spot Type\"\r\n            className=\"min-w-[50%]\"\r\n            options={spotTypes}\r\n            onChange={(e) => setSelectedSpotTypes(e)}\r\n          />\r\n          <DatePickerRange\r\n            placement=\"bottom-end\"\r\n            className=\"w-max\"\r\n            size=\"sm\"\r\n            placeholder=\"Select dates range\"\r\n            onChange={(dateRange) => setDatesRange(dateRange)}\r\n            value={datesRange}\r\n            disabled={!isChannelSelected(channel)}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"grow h-0 px-4\">\r\n        {isChannelSelected(channel) ? (\r\n          <>\r\n            {datesRange && datesRange[0] && datesRange[1] ? (\r\n              <>\r\n                {baseFilterTables && !bills && (\r\n                  <div className=\"h-full\">\r\n                    <Tabs\r\n                      variant=\"pill\"\r\n                      defaultValue=\"agency\"\r\n                      onChange={(event) => {\r\n                        setCurTab(event);\r\n                        setGlobalFilter('');\r\n                        setSelectedRows([]);\r\n                      }}\r\n                      className=\"h-full flex flex-col\"\r\n                    >\r\n                      <div className=\"flex justify-between items-center\">\r\n                        <TabList>\r\n                          <TabNav value=\"agency\">Agency</TabNav>\r\n                          <TabNav value=\"client\">Client</TabNav>\r\n                          <TabNav value=\"booking\">Booking</TabNav>\r\n                        </TabList>\r\n                        <DebouncedInput\r\n                          value={globalFilter ?? ''}\r\n                          className=\"w-60\"\r\n                          size=\"sm\"\r\n                          prefix={<HiOutlineSearch className=\"text-md\" />}\r\n                          placeholder=\"Search\"\r\n                          onChange={(value) => setGlobalFilter(String(value))}\r\n                          showSearchLabel={false}\r\n                          marginBottom=\"mb-0\"\r\n                        />\r\n                      </div>\r\n                      <hr className=\"mt-2\" />\r\n                      <div className=\"mt-3 grow\">\r\n                        {curTab === 'agency' && (\r\n                          <TabContent value=\"agency\" className=\"h-full\">\r\n                            {baseFilterTables.agencyTable.length > 0 ? (\r\n                              <SelectableTable\r\n                                tableColumns={[\r\n                                  {\r\n                                    header: 'Agency Name',\r\n                                    accessorKey: 'AgencyName',\r\n                                  },\r\n                                ]}\r\n                                data={baseFilterTables.agencyTable}\r\n                                globalFilter={globalFilter}\r\n                                setGlobalFilter={setGlobalFilter}\r\n                                setSelectedRows={setSelectedRows}\r\n                                footerAction={\r\n                                  <Button\r\n                                    variant=\"solid\"\r\n                                    icon={<IoMdArrowForward />}\r\n                                    size=\"sm\"\r\n                                    disabled={selectedRows.length === 0}\r\n                                    onClick={handleDownloadTCs}\r\n                                  >\r\n                                    Download Telecast Certificate\r\n                                  </Button>\r\n                                }\r\n                                type=\"home\"\r\n                              />\r\n                            ) : (\r\n                              <div className=\"h-full flex justify-center items-center\">\r\n                                No agencies found\r\n                              </div>\r\n                            )}\r\n                          </TabContent>\r\n                        )}\r\n                        {curTab === 'client' && (\r\n                          <TabContent value=\"client\" className=\"h-full\">\r\n                            {baseFilterTables.clientTable.length > 0 ? (\r\n                              <SelectableTable\r\n                                tableColumns={[\r\n                                  {\r\n                                    header: 'Client Name',\r\n                                    accessorKey: 'ClientName',\r\n                                  },\r\n                                ]}\r\n                                data={baseFilterTables.clientTable}\r\n                                globalFilter={globalFilter}\r\n                                setGlobalFilter={setGlobalFilter}\r\n                                selectedRows={selectedRows}\r\n                                setSelectedRows={setSelectedRows}\r\n                                footerAction={\r\n                                  <Button\r\n                                    variant=\"solid\"\r\n                                    icon={<IoMdArrowForward />}\r\n                                    size=\"sm\"\r\n                                    disabled={selectedRows.length === 0}\r\n                                    onClick={handleDownloadTCs}\r\n                                  >\r\n                                    Download Telecast Certificate\r\n                                  </Button>\r\n                                }\r\n                                type=\"home\"\r\n                              />\r\n                            ) : (\r\n                              <div className=\"h-full flex justify-center items-center\">\r\n                                No clients found\r\n                              </div>\r\n                            )}\r\n                          </TabContent>\r\n                        )}\r\n                        {curTab === 'booking' && (\r\n                          <TabContent value=\"booking\" className=\"h-full\">\r\n                            {baseFilterTables.bookingTable.length > 0 ? (\r\n                              <SelectableTable\r\n                                tableColumns={[\r\n                                  {\r\n                                    header: 'Booking Number',\r\n                                    accessorKey: 'BookingCode',\r\n                                  },\r\n                                ]}\r\n                                data={baseFilterTables.bookingTable}\r\n                                globalFilter={globalFilter}\r\n                                setGlobalFilter={setGlobalFilter}\r\n                                selectedRows={selectedRows}\r\n                                setSelectedRows={setSelectedRows}\r\n                                footerAction={\r\n                                  <Button\r\n                                    variant=\"solid\"\r\n                                    icon={<IoMdArrowForward />}\r\n                                    size=\"sm\"\r\n                                    disabled={selectedRows.length === 0}\r\n                                    onClick={handleDownloadTCs}\r\n                                  >\r\n                                    Download Telecast Certificate\r\n                                  </Button>\r\n                                }\r\n                                type=\"home\"\r\n                              />\r\n                            ) : (\r\n                              <div className=\"h-full flex justify-center items-center\">\r\n                                No bookings found\r\n                              </div>\r\n                            )}\r\n                          </TabContent>\r\n                        )}\r\n                      </div>\r\n                    </Tabs>\r\n                  </div>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <div className=\"h-full flex justify-center items-center\">\r\n                Please select date range to view telecast certificates\r\n              </div>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <div className=\"h-full flex justify-center items-center\">\r\n            Please select a channel to view telecast certificates\r\n          </div>\r\n        )}\r\n      </div>\r\n      <SelectChannelDialog />\r\n      <Loader showLoader={showLoader} />\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default TelecastCertificate;\r\n","import { Select } from 'components/ui';\r\nimport React from 'react';\r\nimport './style.css';\r\n\r\nconst SelectXs = React.memo(\r\n  React.forwardRef((props, ref) => {\r\n    /* CONSTANTS */\r\n    const { styles, size, placeholder, ...rest } = props;\r\n\r\n    return (\r\n      <Select\r\n        size=\"sm\"\r\n        {...rest}\r\n        styles={{\r\n          valueContainer: (baseStyles) => ({\r\n            ...baseStyles,\r\n            padding: '2px 5px',\r\n          }),\r\n          input: (baseStyles) => ({\r\n            ...baseStyles,\r\n            color: 'white',\r\n          }),\r\n          control: (baseStyles) => ({\r\n            ...baseStyles,\r\n            minHeight: '30px',\r\n          }),\r\n          ...styles,\r\n        }}\r\n        ref={ref}\r\n        placeholder={placeholder ? placeholder : 'Select'}\r\n      ></Select>\r\n    );\r\n  }),\r\n);\r\n\r\nexport default SelectXs;\r\n"],"names":["require","async","apidealmasterBYID","ID","ApiService","url","method","apidealattachmentBYID","dealNumber","apidealmasterDealforapprovalBYID","selectedDeal","isApproved","rejectRemark","apiGetdealmaster","param","dateRange","LocationCode","ChannelCode","convertDateToYMD","apiGetsponsortypemasterdrop","data","apiGetspottypemasterdrop","apiGetdealdetailId","apiUSP_Sch_DealConsumptionCheck","apiGetbindstartnendtime","DealPeriodToDate","DealPeriodFromDate","ContentCode","OriginalRepeatCode","apipostbookingdetails","RESCHEDULE","IsNtc","apiCallstoreprocedure_WithOutParam","proc_name","params","d","apiCallstoreprocedure_WithOutParamEntity","apiCallstoreprocedure_WithOutParamgg","BookingCode","IsNTC","Bookingcode","apiDashboardDoughnut","format","CheckMonth","apiCallforbookdeatil","f","BookingNumber","deallineitemno","apiGetExchangeRatesForBaseCurrency","baseCurShortName","headerDetails","columns","width","PAGE_WIDTH","text","alignment","margin","companyName","style","EMPTY_LINE","address","error","pdfMake","pdfFonts","PAGE_SIZE","STYLES","header","fontSize","bold","primaryText","primaryTextBold","secondaryText","secondaryTextBold","row1","row2","row3","tableKey","tableValue","tableKeyLarge","getTelecastReportTableDefinition","telecastReport","table","widths","body","getTableWithTotal","map","row","index","length","getDateFromDateTime","TelecastDate","CommercialCaption","ContentName","SpotType","numberToINRFormat","BookingSpotRate","generateTelecastCertificateForTCPage","tableData","pdfDefination","pageSize","pageMargins","content","getHeaderDefinitionForTCPage","agencyName","agencyAddress","getTelecastDate","fromDate","toDate","clientName","styles","channel","useSelector","state","locale","selectedChannel","loginId","auth","session","LoginId","token","currentRouteTitle","base","common","datesRange","setDatesRange","useState","baseFilterTables","setBaseFilterTables","globalFilter","setGlobalFilter","selectedRows","setSelectedRows","bills","setBills","spotTypes","setSpotTypes","selectedspotTypes","setSelectedSpotTypes","showLoader","setShowLoader","curTab","setCurTab","useEffect","formattedOptions","option","value","SpotTypeCode","label","SpotTypeName","console","hideStackedSideNav_secondary","agencyTable","getBaseFilterTableData","clientTable","bookingTable","resetState","handleDownloadTCs","showCursorLoader","loginCode","locationCode","uptoDate","channelCode","join","filter","id","AgencyCode","ClientCode","response","telecastCertificateRouteTitle","apiGetTelecastReport","ntcTelecastCertificateRouteTitle","responseData","status","openNotification","downloadTCs","ScheduleDate","DurInSec","CommercialDuration","BillSpotAmount","hideCursorLoader","location","todate","Flag","log","type","apiCallstoreprocedure","Error","AxiosError","groupedData","getGroupedDataFromJSONArray","groups","Object","keys","EntityName","CorpAddress","AgencyName","BillingAddress1","ClientName","spotType","download","zip","JSZip","key","contentName","pdf","pdfBlob","Promise","resolve","getBlob","file","zipBlob","generateAsync","saveAs","className","bodyClass","bordered","SelectXs","isMulti","size","placeholder","options","onChange","e","DatePickerRange","placement","disabled","isChannelSelected","variant","defaultValue","event","TabList","TabNav","DebouncedInput","prefix","String","showSearchLabel","marginBottom","TabContent","SelectableTable","tableColumns","accessorKey","footerAction","icon","onClick","SelectChannelDialog","Loader","React","props","ref","rest","valueContainer","baseStyles","padding","input","color","control","minHeight"],"sourceRoot":""}