"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[6144],{46144:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var a=t(1413),o=t(72791),n=t(60364),r=t(9494),l=t(20724),i=t(25808),d=t(94604),c=t(85214),h=t(13496),p=t(2803),x=t(39126),u=(t(81320),t(97261)),m=t(80184);const{TabNav:b,TabList:f,TabContent:g}=p.mQ,v={chart:{stacked:!0,toolbar:{show:!1}},dataLabels:{enabled:!1},plotOptions:{bar:{columnWidth:"40%",horizontal:!1,borderRadius:4,borderRadiusApplication:"end",borderRadiusWhenStacked:"last"}},xaxis:{axisTicks:{show:!1}},legend:{markers:{strokeWidth:0}}},k={toolbar:{show:!1},dataLabels:{enabled:!1},plotOptions:{bar:{columnWidth:"40%",horizontal:!1,borderRadius:4,borderRadiusApplication:"end",borderRadiusWhenStacked:"last"}},xaxis:{axisTicks:{show:!1}},legend:{markers:{strokeWidth:0}}},j=()=>{const e=(0,n.useSelector)((e=>e.locale.selectedChannel)),s=(0,o.useRef)(null),t=(0,o.useRef)(null),[j,w]=(0,o.useState)([]),[C,y]=(0,o.useState)([]),[R,N]=(0,o.useState)(!1),[S,A]=(0,o.useState)([]);(0,o.useEffect)((()=>{(async e=>{const s=await(0,r.apiCallstoreprocedure)("GetAgencyOutstandingAmount",{});A(s.data)})(),N(!0);const s={par_LocationCode:e.LocationCode,par_ChannelCode:e.ChannelCode};(0,r.apiCallstoreprocedure)("usp_Billing_GetMonthlyBookedRevenue",s).then((e=>{204!=e.status?(200===e.status&&w(e.data),N(!1)):w([])})).catch((()=>{w([]),N(!1)}))}),[e]),(0,o.useEffect)((()=>{N(!0);const s={par_LocationCode:e.LocationCode,par_ChannelCode:e.ChannelCode};(0,r.apiCallstoreprocedure)("GetMonthlyBilledvsCollection",s).then((e=>{204!=e.status?(200==e.status&&y(e.data),N(!1)):y([])})).catch((()=>{y([]),N(!1)}))}),[e]),(0,o.useEffect)((()=>{s.current&&s.current.chart.windowResizeHandler(),t.current&&t.current.chart.windowResizeHandler()}),[j,C]);const{categories:L,series:O}={categories:(Z=j).map((e=>"".concat(e.RevenueMonth,"-").concat(e.RevenueYear))),series:[{name:"Booked",data:Z.map((e=>e.BookedRevenue)),color:c.TW_COLORS.emerald[500]},{name:"Dropped",data:Z.map((e=>e.DroppedRevenue)),color:c.TW_COLORS.blue[500]},{name:"Cancelled",data:Z.map((e=>e.CancelledRevenue)),color:c.TW_COLORS.rose[500]}]};var Z;const{categories:W,series:_}=(e=>({categories:e.map((e=>"".concat(e.RevenueMonth,"-").concat(e.RevenueYear))),series:[{name:"Billed",data:e.map((e=>e.BilledAmount.toFixed(1))),color:c.TW_COLORS.emerald[500]},{name:"Collection",data:e.map((e=>e.CollectionAmount.toFixed(1))),color:c.TW_COLORS.blue[500]}]}))(C),T={options:(0,a.Z)((0,a.Z)({},v),{},{xaxis:(0,a.Z)((0,a.Z)({},v.xaxis),{},{categories:L})}),series:O},B={options:(0,a.Z)((0,a.Z)({},k),{},{xaxis:(0,a.Z)((0,a.Z)({},k.xaxis),{},{categories:W})}),series:_};return(0,m.jsxs)("div",{children:[(0,m.jsx)(l.Z,{Name:"Accounts Dashboard",Page:"Accounts",Links:"Accounts"}),(0,m.jsx)("div",{className:"grid grid-cols-".concat(d.IP.length," gap-4"),children:(0,m.jsx)(i.Z,{shortcuts:d.IP})})," ",(0,m.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,m.jsxs)("div",{className:"col-span-1 web-card pb-1 pt-3.5 dark:!bg-[#1f2639] !bg-[#fff] border-none",children:[(0,m.jsxs)("h4",{className:"px-3.5",children:["Monthly Revenue ",(0,m.jsx)("span",{style:{fontSize:"11px"},children:"[Lakhs]"})]}),(0,m.jsx)(h.Z,{ref:s,options:T.options,series:T.series,type:"bar",width:"100%",height:300})]}),(0,m.jsxs)("div",{className:"col-span-1 web-card pb-1 pt-3.5 dark:!bg-[#1f2639] !bg-[#fff] border-none ",children:[(0,m.jsxs)("h4",{className:"px-3.5",children:["Collection ",(0,m.jsx)("span",{style:{fontSize:"11px"},children:"[Lakhs]"})]}),(0,m.jsx)(h.Z,{ref:t,options:B.options,series:B.series,type:"bar",width:"100%",height:300})]}),(0,m.jsx)("div",{className:"col-span-1 ",children:(0,m.jsxs)(p.mQ,{defaultValue:"tab1",className:"web-card px-5 py-3 dark:!bg-[#1f2639] !bg-[#fff] border-none",children:[(0,m.jsx)(f,{children:(0,m.jsx)(b,{value:"tab1",icon:(0,m.jsx)(x.t$p,{}),children:"Most OutStanding"})}),(0,m.jsx)(g,{value:"tab1",children:(0,m.jsxs)("div",{className:"mt-3",children:[(0,m.jsxs)("div",{className:"flex justify-between items-center px-2 py-2 dark:!bg-[#191f31] bg-white",style:{borderBottom:"1px solid #9d9d9d7a"},children:[(0,m.jsx)("p",{className:"font-semibold dark:!text-white text-black",children:"Agency"}),(0,m.jsx)("p",{className:"font-semibold dark:!text-white text-black",children:"Amount"})]}),(0,m.jsx)("div",{style:{height:250},className:"overflow-hidden hover:overflow-y-scroll  hover:overflow-x-scroll hover:pr-2",children:S&&S.map(((e,s)=>{var t;return(0,m.jsxs)("div",{className:"flex justify-between items-center px-1 py-2",style:{borderBottom:"1px solid #9d9d9d7a",borderStyle:"dashed"},children:[(0,m.jsx)(p.u,{title:e.Agency,placement:"top-start",children:(0,m.jsxs)("div",{className:"flex items-center",children:[(0,m.jsx)(p.qE,{size:"sm",className:"mr-2 dark:".concat((0,u.H)()," ").concat((0,u.H)()," dark:!text-white text-black"),children:e.Agency.slice(0,1)}),(0,m.jsx)("p",{className:"font-semibold text-xs dark:!text-white text-black",style:{width:160,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.Agency})]})}),(0,m.jsxs)("p",{className:"font-semibold text-md dark:!text-white text-black",children:["\u20b9",null===(t=e.AgencyOutstandingAmount)||void 0===t?void 0:t.toLocaleString("en-IN")]})]},s)}))})]})})]})})]})]})}}}]);
//# sourceMappingURL=6144.dadca0ec.chunk.js.map