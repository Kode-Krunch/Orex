{"version":3,"file":"static/js/8476.7aa2a8cf.chunk.js","mappings":"+OA2EA,QAjEA,SAA+B,GAAwB,IAAxB,OAAEA,EAAM,UAAEC,GAAW,EAElD,MAAMC,GAAUC,EAAAA,EAAAA,cAAaC,GAAUA,EAAMC,OAAOC,kBAC9CC,GAAQJ,EAAAA,EAAAA,cAAaC,GAAUA,EAAMI,KAAKC,QAAQF,QAClDG,GAAcP,EAAAA,EAAAA,cAAaC,GAAUA,EAAMI,KAAKG,WAAWD,cAC3DE,GAAWC,EAAAA,EAAAA,gBAGX,KAAEC,EAAI,cAAEC,EAAa,KAAEC,EAAI,oBAAEC,EAAmB,iBAAEC,IACtDC,EAAAA,EAAAA,YAAWC,EAAAA,GAoCPC,EAAc,IAAMpB,GAAU,GAEpC,OACE,UAAC,KAAM,CAACD,OAAQA,EAAQsB,QAASD,EAAaE,eAAgBF,EAAY,WACxE,eAAIG,UAAU,OAAM,+BACpB,cAAGA,UAAU,gBAAe,gFAG5B,iBAAKA,UAAU,yCAAwC,WACrD,cAAGA,UAAU,gBAAe,yDAG5B,SAAC,KAAM,CAACC,QAAQ,QAAQC,QA7CRC,UACpB,IACEZ,GAAc,SACRa,EAAAA,EAAAA,IAAmB,CACvBb,gBACAC,OACAC,sBACAf,UACAY,OACAP,QACAG,cACAE,WACAiB,YAAY,UAERC,EAAAA,EAAAA,uBAAsB,0BAA2B,CACrDC,aAAc7B,EAAQ6B,aACtBC,YAAa9B,EAAQ8B,YACrBC,cAAcC,EAAAA,EAAAA,IAAiBpB,WAE3BI,EAAiB,CACrBiB,UAAWC,EAAAA,mBAAAA,uBAEbf,KACAgB,EAAAA,EAAAA,kBAAiB,UAAW,oCAC5BtB,GAAc,EAMhB,CALE,MAAOuB,IACPD,EAAAA,EAAAA,kBACE,SACA,iDAEJ,GAemD,0BAMvD,C","sources":["views/Scheduling/Scheduler/components/SchedulingArea/components/Toolbar/components/RefreshDurationDialog.js"],"sourcesContent":["import { Button, Dialog } from 'components/ui';\r\nimport React, { useContext } from 'react';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { handleSaveSchedule } from '../utils/utils';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport { apiCallstoreprocedure } from 'services/CommonService';\r\nimport { convertDateToYMD } from 'components/validators';\r\nimport { operationTypesEnum } from 'views/Scheduling/Scheduler/enum';\r\n\r\nfunction RefreshDurationDialog({ isOpen, setIsOpen }) {\r\n  /* REDUX */\r\n  const channel = useSelector((state) => state.locale.selectedChannel);\r\n  const token = useSelector((state) => state.auth.session.token);\r\n  const unsavedWork = useSelector((state) => state.auth.scheduling.unsavedWork);\r\n  const dispatch = useDispatch();\r\n\r\n  /* CONTEXT */\r\n  const { date, setShowLoader, page, schedulingTableData, executeOperation } =\r\n    useContext(SchedulerContext);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleRefresh = async () => {\r\n    try {\r\n      setShowLoader(true);\r\n      await handleSaveSchedule({\r\n        setShowLoader,\r\n        page,\r\n        schedulingTableData,\r\n        channel,\r\n        date,\r\n        token,\r\n        unsavedWork,\r\n        dispatch,\r\n        isAutoSave: true,\r\n      });\r\n      await apiCallstoreprocedure('USP_Sch_RefreshDuration', {\r\n        LocationCode: channel.LocationCode,\r\n        ChannelCode: channel.ChannelCode,\r\n        TelecastDate: convertDateToYMD(date),\r\n      });\r\n      await executeOperation({\r\n        operation: operationTypesEnum.INITIALIZE_SCHEDULER,\r\n      });\r\n      handleClose();\r\n      openNotification('success', 'Durations refreshed successfully');\r\n      setShowLoader(false);\r\n    } catch (error) {\r\n      openNotification(\r\n        'danger',\r\n        'Something went wrong while refreshing duration',\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleClose = () => setIsOpen(false);\r\n\r\n  return (\r\n    <Dialog isOpen={isOpen} onClose={handleClose} onRequestClose={handleClose}>\r\n      <h5 className=\"mb-4\">Refresh Duration</h5>\r\n      <p className=\"text-gray-300\">\r\n        Your data is being saved. Log will reload with updated durations.\r\n      </p>\r\n      <div className=\"flex justify-between items-center mt-8\">\r\n        <p className=\"text-gray-300\">\r\n          Are you sure you want to refresh duration?\r\n        </p>\r\n        <Button variant=\"solid\" onClick={handleRefresh}>\r\n          Refresh\r\n        </Button>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default RefreshDurationDialog;\r\n"],"names":["isOpen","setIsOpen","channel","useSelector","state","locale","selectedChannel","token","auth","session","unsavedWork","scheduling","dispatch","useDispatch","date","setShowLoader","page","schedulingTableData","executeOperation","useContext","SchedulerContext","handleClose","onClose","onRequestClose","className","variant","onClick","async","handleSaveSchedule","isAutoSave","apiCallstoreprocedure","LocationCode","ChannelCode","TelecastDate","convertDateToYMD","operation","operationTypesEnum","openNotification","error"],"sourceRoot":""}