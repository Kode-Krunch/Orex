"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[3384],{2541:(e,t,s)=>{s.d(t,{Z:()=>d});s(72791);var a=s(1063),l=s(99917),r=s(2803),n=s(58617),o=(s(25146),s(60364)),i=s(80184);const c=e=>{let{checked:t,onToggle:s}=e;return(0,i.jsx)("div",{className:"p-field-switch",children:(0,i.jsx)(r.T5,{checked:t,onChange:s})})},d=e=>{let{data:t,onRowEditComplete:s,globalFilter:d,dataKey:u,columns:m,setyup:g,scrollHeight:b,setVisible:h,title:x,setAvatarImg:p,avatarImg:S,img:f}=e;const y=(0,o.useSelector)((e=>e.theme.mode)),v=(e,t)=>{let s=!0;const a=["image/jpeg","image/png"];if(e)for(const l of e)a.includes(l.type)||(s="Please upload a .jpeg or .png file!"),l.size>=5e5&&(s="Upload image cannot more then 500kb!");return s},j=e=>(0,i.jsxs)("div",{className:"flex items-center",children:[("Team"==x||"SubGenre"==x)&&(0,i.jsx)(r.gq,{className:"cursor-pointer mr-2",showList:!1,uploadLimit:1,beforeUpload:v,onChange:e=>{const t=new FileReader,s=e[0];s&&s.size>0&&(t.readAsDataURL(s),t.onloadend=()=>{p(t.result)})},children:(0,i.jsx)(r.qE,{size:30,src:S,icon:(0,i.jsx)(n.r7I,{})})}),(0,i.jsx)(r.II,{type:"text",size:"sm",maxLength:"20",value:e.value,onChange:t=>{const s=t.target.value;(/^[0-9a-zA-Z:.+/\s]*$/.test(s)||""===s)&&e.editorCallback(s)}})]});return(0,i.jsxs)(l.w,{paginator:!0,rows:10,value:t||[],editMode:"row",size:"small",dataKey:u,onRowEditComplete:s,onRowEditInit:e=>p(null===e||void 0===e?void 0:e.data[f]),tableStyle:{minWidth:"50rem"},globalFilter:d||"",emptyMessage:"No records found.",scrollable:!0,scrollHeight:b,children:[m.map(((e,t)=>(0,i.jsx)(a.s,{field:e.field,header:e.header,bodyStyle:"dark"==y?{border:"1px solid #6a6a6a"}:{border:"1px solid #e5e7eb",color:"black"},body:t=>(0,i.jsxs)("div",{className:"flex items-center",children:["serialNumber"!=e.field&&(0,i.jsx)("img",{src:t[f]?t[f]:"/img/27002.jpg",style:{height:"30px",width:"30px"},className:"hover:opacity-80 cursor-pointer  rounded-full mr-2"}),t[e.field]]}),editor:"TeamName"==e.field||"SubGenreName"==e.field?j:null,headerStyle:{textAlign:"center",width:e.width,paddingInline:"0.5rem",paddingBlock:"0.75rem"}},t))),(0,i.jsx)(a.s,{header:"Active",bodyStyle:"dark"==y?{border:"1px solid #6a6a6a"}:{border:"1px solid #e5e7eb",color:"black"},body:e=>(0,i.jsx)(c,{checked:1===e.IsActive,onToggle:()=>{h(!0),g(t.indexOf(e))}}),headerStyle:{textAlign:"center",width:"0.1%"}}),(0,i.jsx)(a.s,{header:"Action",rowEditor:!0,bodyStyle:"dark"==y?{border:"1px solid #6a6a6a"}:{border:"1px solid #e5e7eb",color:"black"},headerStyle:{textAlign:"center",width:"0.1%"}})]})}},75956:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var a=s(1413),l=s(2803),r=s(72791),n=s(67388),o=s(96361),i=s(46657),c=s(60364),d=s(4621),u=s(32640),m=s(2541),g=s(80184);const b=()=>{const e=(0,c.useSelector)((e=>e.auth.session.token)),[t,s]=(0,r.useState)(""),b=(0,r.useRef)(0);function h(e,t){l.Am.push((0,g.jsx)(l.P_,{closable:!0,type:t,duration:1e3,title:t.charAt(0).toUpperCase()+t.slice(1),children:e}))}const[x,p]=(0,r.useState)(""),[S,f]=(0,r.useState)(!1),[y,v]=(0,r.useState)(""),[j,N]=(0,r.useState)(!1),[w,A]=(0,r.useState)(),G=(0,r.useRef)(null),[I,k]=(0,r.useState)();(0,r.useEffect)((()=>{b.current=b.current+1,1==b.current&&(async e=>{const t=[...(await(0,n.apiGetSubGenremaster)()).data].reverse().map(((e,t)=>(0,a.Z)((0,a.Z)({},e),{},{serialNumber:t+1})));k(t)})()}),[]);const C=t=>{console.log("SubGenre",I);const s=[...I];let a=s[t];a.IsActive=1==a.IsActive?0:1,(0,n.Putsubgenre)(a,e).then((e=>204==e.status?(console.log(e),h("Data Already Exists.","warning"),null):(200==e.status&&h("Data Updated Succesfully","success"),e.json()))).then((e=>{e.serialNumber=a.serialNumber,e.IsActive=a.IsActive,e.SubGenreName=a.SubGenreName,s[t]=e,k(s),h("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},E=[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"SubGenreName",header:"SubGenreName",width:"20%"}];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.F,{ref:G}),(0,g.jsx)(d.Q,{group:"declarative",visible:j,onHide:()=>N(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{C(w)}}),(0,g.jsx)(l.Zb,{header:(0,g.jsxs)("div",{className:"flex justify-between",children:[(0,g.jsx)("div",{children:(0,g.jsx)("span",{className:"flex items-center",children:(0,g.jsx)(o.Z,{ModuleText:"Programming",Component:"SubGenre"})})}),(0,g.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}}),(0,g.jsx)("div",{})]}),headerExtra:(0,u.W)(y,v,f,S,(()=>{if(x){const t={SubGenreName:x,IsActive:1};(0,n.Postsubgenre)(t,e).then((e=>{204==e.status&&h("Data Already Exists.","warning"),200==e.status&&(t.serialNumber=I.length+1,k((e=>[...e,t])),h("Data Added Succesfully","success")),p(""),f(!1)})).catch((e=>{console.log(e)}))}else h("Kindly Enter SubGenre Name","danger")}),x,p,"Sub Genre",I,E),bodyClass:"text-center",children:(0,g.jsx)(m.Z,{data:I,onRowEditComplete:a=>{let l=[...I],{newData:r,index:o}=a;console.log(r),l[o].SubGenreName=r.SubGenreName,l[o].IsActive=r.IsActive,l[o].Genre_Image=t,r.SubGenreName&&(console.log("_SubGenre",l),(0,n.Putsubgenre)(r,e,t).then((e=>204==e.status?(console.log(e),h("Data Already Exists.","warning"),null):(200==e.status&&h("Data Updated Succesfully","success"),e.json()))).then((e=>{console.log(e),console.log(r.serialNumber),l[o]=e,l[o].serialNumber=r.serialNumber,l[o].SubGenreName=r.SubGenreName,l[o].IsActive=r.IsActive,k(l),h("Data Updated Succesfully","success"),s("")})).catch((e=>{s(""),console.log(e)})))},globalFilter:y,dataKey:"SubGenreCode",columns:E,setyup:A,scrollHeight:"70vh",setVisible:N,title:"SubGenre",setAvatarImg:s,avatarImg:t,img:"Genre_Image"})})]})}}}]);
//# sourceMappingURL=3384.ce732132.chunk.js.map