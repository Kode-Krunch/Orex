"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[9099],{88413:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var a=t(1413),n=t(2803),r=t(72791),l=t(67388),i=t(96361),o=t(46657),c=t(60364),u=t(4621),d=t(32640),m=t(80184);const h=()=>{const e=(0,c.useSelector)((e=>e.auth.session.token)),s=(0,r.useRef)(0);function t(e,s){n.Am.push((0,m.jsx)(n.P_,{closable:!0,type:s,duration:1e3,title:s.charAt(0).toUpperCase()+s.slice(1),children:e}))}const[h,x]=(0,r.useState)(""),[f,g]=(0,r.useState)(!1),[p,N]=(0,r.useState)(""),[v,T]=(0,r.useState)(!1),[V,y]=(0,r.useState)(),X=(0,r.useRef)(null),[b,A]=(0,r.useState)();(0,r.useEffect)((()=>{s.current=s.current+1,1==s.current&&(async e=>{const s=[...(await(0,l.apiGetTXVersionmaster)()).data].reverse().map(((e,s)=>(0,a.Z)((0,a.Z)({},e),{},{serialNumber:s+1})));A(s)})()}),[]);const j=s=>{console.log("TXVersion",b);const a=[...b];let n=a[s];n.IsActive=1==n.IsActive?0:1,(0,l.Puttxversion)(n,e).then((e=>204==e.status?(console.log(e),t("Data Already Exists.","warning"),null):(200==e.status&&t("Data Updated Succesfully","success"),e.json()))).then((e=>{e.serialNumber=n.serialNumber,e.IsActive=n.IsActive,e.TXVersionName=n.TXVersionName,a[s]=e,A(a),t("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},S=[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"TXVersionName",header:"TXVersionName",width:"20%"}];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(o.F,{ref:X}),(0,m.jsx)(u.Q,{group:"declarative",visible:v,onHide:()=>T(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{j(V)}}),(0,m.jsx)(n.Zb,{header:(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("div",{children:(0,m.jsx)("span",{className:"flex items-center",children:(0,m.jsx)(i.Z,{ModuleText:"Programming",Component:"TX Version"})})}),(0,m.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}}),(0,m.jsx)("div",{})]}),headerExtra:(0,d.W)(p,N,g,f,(()=>{if(h){const s={TXVersionName:h,IsActive:1};(0,l.Posttxversion)(s,e).then((e=>{204==e.status&&t("Data Already Exists.","warning"),200==e.status&&(s.serialNumber=b.length+1,A((e=>[...e,s])),t("Data Added Succesfully","success")),x(""),g(!1)})).catch((e=>{console.log(e)}))}else t("Kindly Enter TXVersion Name","danger")}),h,x,"TX Version",b,S),bodyClass:"text-center",children:(0,m.jsx)(d.Z,{data:b,onRowEditComplete:s=>{let a=[...b],{newData:n,index:r}=s;console.log(n.TXVersionName),n.TXVersionName&&(a[r].TXVersionName=n.TXVersionName,a[r].IsActive=n.IsActive,console.log("_TXVersion",a),a[r]=n,(0,l.Puttxversion)(n,e).then((e=>204==e.status?(console.log(e),t("Data Already Exists.","warning"),null):(200==e.status&&t("Data Updated Succesfully","success"),e.json()))).then((e=>{console.log(e),a[r]=e,a[r].serialNumber=n.serialNumber,a[r].TXVersionName=n.TXVersionName,a[r].IsActive=n.IsActive,A(a),t("Data Updated Succesfully","success")})).catch((e=>{console.log(e)})))},globalFilter:p,dataKey:"TXVersionCode",columns:S,setyup:y,scrollHeight:"70vh",setVisible:T})})]})}}}]);
//# sourceMappingURL=9099.2f9bfa03.chunk.js.map