"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[9377],{81797:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var a=s(1413),r=s(2803),l=s(72791),c=s(67388),n=s(96361),o=s(46657),i=s(60364),u=s(4621),d=s(32640),p=s(80184);const y=()=>{const e=(0,i.useSelector)((e=>e.auth.session.token)),t=(0,l.useRef)(0);function s(e,t){r.Am.push((0,p.jsx)(r.P_,{closable:!0,type:t,duration:1e3,title:t.charAt(0).toUpperCase()+t.slice(1),children:e}))}const[y,m]=(0,l.useState)(""),[h,S]=(0,l.useState)(!1),[C,f]=(0,l.useState)(""),[g,x]=(0,l.useState)(!1),[N,v]=(0,l.useState)(),T=(0,l.useRef)(null),[b,A]=(0,l.useState)();(0,l.useEffect)((()=>{t.current=t.current+1,1==t.current&&(async e=>{const t=[...(await(0,c.apiGetStarCastTypemaster)()).data].reverse().map(((e,t)=>(0,a.Z)((0,a.Z)({},e),{},{serialNumber:t+1})));A(t)})()}),[]);const j=t=>{console.log("StarCastType",b);const a=[...b];let r=a[t];r.IsActive=1==r.IsActive?0:1,(0,c.Putstarcasttype)(r,e).then((e=>204==e.status?(console.log(e),s("Data Already Exists.","warning"),null):(200==e.status&&s("Data Updated Succesfully","success"),e.json()))).then((e=>{e.serialNumber=r.serialNumber,e.IsActive=r.IsActive,e.StarCastTypeName=r.StarCastTypeName,a[t]=e,A(a),s("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},w=[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"StarCastTypeName",header:"StarCastTypeName",width:"20%"}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.F,{ref:T}),(0,p.jsx)(u.Q,{group:"declarative",visible:g,onHide:()=>x(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{j(N)}}),(0,p.jsx)(r.Zb,{header:(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("div",{children:(0,p.jsx)("span",{className:"flex items-center",children:(0,p.jsx)(n.Z,{ModuleText:"Programming",Component:"StarCastType"})})}),(0,p.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}}),(0,p.jsx)("div",{})]}),headerExtra:(0,d.W)(C,f,S,h,(()=>{if(y){const t={StarCastTypeName:y,IsActive:1};(0,c.Poststarcasttype)(t,e).then((e=>{204==e.status&&s("Data Already Exists.","warning"),200==e.status&&(t.serialNumber=b.length+1,A((e=>[...e,t])),s("Data Added Succesfully","success")),m(""),S(!1)})).catch((e=>{console.log(e)}))}else s("Kindly Enter StarCast Type","danger")}),y,m,"StarCast Type",b,w),bodyClass:"text-center",children:(0,p.jsx)(d.Z,{data:b,onRowEditComplete:t=>{let a=[...b],{newData:r,index:l}=t;console.log(r),a[l].StarCastTypeName=r.StarCastTypeName,a[l].IsActive=r.IsActive,r.StarCastTypeName&&(console.log("_StarCastType",a),(0,c.Putstarcasttype)(r,e).then((e=>204==e.status?(console.log(e),s("Data Already Exists.","warning"),null):(200==e.status&&s("Data Updated Succesfully","success"),e.json()))).then((e=>{console.log(e),console.log(r.serialNumber),a[l]=e,a[l].serialNumber=r.serialNumber,a[l].StarCastTypeName=r.StarCastTypeName,a[l].IsActive=r.IsActive,A(a),s("Data Updated Succesfully","success")})).catch((e=>{console.log(e)})))},globalFilter:C,dataKey:"StarCastTypeCode",columns:w,setyup:v,scrollHeight:"70vh",setVisible:x})})]})}}}]);
//# sourceMappingURL=9377.31b164c4.chunk.js.map