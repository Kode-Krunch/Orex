{"version":3,"file":"static/js/6762.68fd666e.chunk.js","mappings":"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","sources":["views/Scheduling/Scheduler/components/SchedulingArea/components/HourwiseInventory/HourwiseInventoryTable.js","views/Scheduling/Scheduler/components/SchedulingArea/components/HourwiseInventory/HourwiseInventory.js"],"sourcesContent":["import React, { useContext } from 'react';\r\nimport { getPercentage } from 'views/Controls/GLOBALFUNACTION';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\n\r\nfunction HourwiseInventoryTable({ tableData, maxDuration }) {\r\n  /* CONTEXT */\r\n  const { schedulingTableRef } = useContext(SchedulerContext);\r\n\r\n  /* HELPER FUNCTIONS */\r\n  const getGradientForPercentage = (percentage) => {\r\n    try {\r\n      return percentage < 40\r\n        ? 'from-green-700 to-green-800'\r\n        : percentage >= 40 && percentage < 71\r\n        ? 'from-amber-600 to-yellow-900'\r\n        : 'from-red-700 to-red-900';\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* TABLE HEADER */}\r\n      <div className=\"flex font-semibold text-white text-[12px] sticky top-0 z-20\">\r\n        <div className=\"py-1 px-2 flex flex-none items-center justify-center w-[17%] border-gray-500 border-y border-x bg-gray-600\">\r\n          Hour\r\n        </div>\r\n        <div className=\"py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-500 border-y border-r bg-gray-600\">\r\n          Available\r\n        </div>\r\n        <div className=\"py-1 px-2 flex flex-none items-center justify-center w-[23%] border-gray-500 border-y border-r bg-gray-600\">\r\n          Commercial\r\n        </div>\r\n        <div className=\"py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-500 border-y border-r bg-gray-600\">\r\n          Promo\r\n        </div>\r\n        <div className=\"py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-500 border-y border-r bg-gray-600\">\r\n          Song\r\n        </div>\r\n        <div className=\"py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-500 border-y border-r bg-gray-600\">\r\n          Total\r\n        </div>\r\n      </div>\r\n      {/* Table Body */}\r\n      <div>\r\n        {tableData.map((row) => (\r\n          <div\r\n            className=\"flex text-white text-[12px] hover:cursor-pointer hover:opacity-80\"\r\n            onClick={() =>\r\n              schedulingTableRef.current?.scrollToItem(row.hourIndex, 'center')\r\n            }\r\n          >\r\n            <div className=\"relative py-1 px-2 flex flex-none items-center justify-center w-[17%] border-gray-600 border-b border-x bg-gray-600 bg-opacity-20\">\r\n              <div className=\"z-10\">{row.hour}</div>\r\n              <div\r\n                className={`h-full absolute left-0 top-0 bg-gradient-to-r ${getGradientForPercentage(\r\n                  getPercentage(row.commDuration, maxDuration),\r\n                )}`}\r\n                style={{\r\n                  width: `${getPercentage(row.commDuration, maxDuration)}%`,\r\n                }}\r\n              ></div>\r\n            </div>\r\n            <div className=\"py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-600 border-b border-r bg-gray-600 bg-opacity-20\">\r\n              {row.availableDuration}\r\n            </div>\r\n            <div\r\n              className={`py-1 px-2 flex flex-none items-center justify-center w-[23%] border-gray-600 border-b border-r bg-gradient-to-r ${getGradientForPercentage(\r\n                getPercentage(row.commDuration, maxDuration),\r\n              )}`}\r\n            >\r\n              {row.commDuration}\r\n            </div>\r\n            <div\r\n              className={`py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-600 border-b border-r bg-gradient-to-r bg-gray-600 bg-opacity-20`}\r\n            >\r\n              {row.promoDuration}\r\n            </div>\r\n            <div\r\n              className={`py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-600 border-b border-r bg-gradient-to-r bg-gray-600 bg-opacity-20`}\r\n            >\r\n              {row.songDuration}\r\n            </div>\r\n            <div\r\n              className={`py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-600 border-b border-r bg-gradient-to-r bg-gray-600 bg-opacity-20`}\r\n            >\r\n              {row.commDuration + row.promoDuration + row.songDuration}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HourwiseInventoryTable;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport {\r\n  featuresEnum,\r\n  rowDataTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport { handleFeatureClose } from '../../utils/utils';\r\nimport {\r\n  openNotification,\r\n  timeToSeconds,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport HourwiseInventoryTable from './HourwiseInventoryTable';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport { Button, Card, Tooltip } from 'components/ui';\r\nimport { IoMdClose } from 'react-icons/io';\r\n\r\n/* CONSTANTS */\r\nconst maxDuration = 720;\r\n\r\nfunction HourwiseInventory() {\r\n  /* CONTEXTS */\r\n  const { schedulingTableData, setActiveFeatures, secondaryAreaZindexRef } =\r\n    useContext(SchedulerContext);\r\n\r\n  /* STATES */\r\n  const [hourwiseTableData, setHourwiseTableData] = useState([]);\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    try {\r\n      setHourwiseTableData(getHourwiseTableData());\r\n    } catch (error) {\r\n      openNotification(\r\n        'danger',\r\n        'Something went wrong while fetching hourwise inventory',\r\n      );\r\n      console.error(error);\r\n    }\r\n  }, [schedulingTableData]);\r\n\r\n  /* HELPER FUNCTIONS */\r\n  const getHourwiseTableData = () => {\r\n    try {\r\n      let hourWiseTableData = [];\r\n      let curHour = '';\r\n      let curHourIndex = null;\r\n      let curHourTotalCommDuration = 0;\r\n      let curHourTotalPromoDuration = 0;\r\n      let curHourTotalSongDuration = 0;\r\n      schedulingTableData.forEach((row, index) => {\r\n        if (curHour !== row.Tel_Time.substr(0, 2)) {\r\n          if (curHour === '') {\r\n            curHour = row.Tel_Time.substr(0, 2);\r\n            curHourIndex = 0;\r\n          } else {\r\n            hourWiseTableData.push({\r\n              hour: `${curHour}:00`,\r\n              hourIndex: curHourIndex,\r\n              availableDuration: maxDuration,\r\n              commDuration: curHourTotalCommDuration,\r\n              promoDuration: curHourTotalPromoDuration,\r\n              songDuration: curHourTotalSongDuration,\r\n            });\r\n            curHour = row.Tel_Time.substr(0, 2);\r\n            curHourIndex = index - 1;\r\n            curHourTotalCommDuration = 0;\r\n            curHourTotalPromoDuration = 0;\r\n            curHourTotalSongDuration = 0;\r\n          }\r\n        } else {\r\n          if (row.F_C_S_P === rowDataTypesEnum.COMMERCIAL) {\r\n            curHourTotalCommDuration += timeToSeconds(row.Duration);\r\n          } else if (row.F_C_S_P === rowDataTypesEnum.PROMO) {\r\n            curHourTotalPromoDuration += timeToSeconds(row.Duration);\r\n          } else if (row.F_C_S_P === rowDataTypesEnum.SONG) {\r\n            curHourTotalSongDuration += timeToSeconds(row.Duration);\r\n          }\r\n        }\r\n      });\r\n      return hourWiseTableData;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"h-full w-full flex flex-col bg-gray-800 p-3 pt-2 rounded-lg absolute top-0 left-0\"\r\n      style={{\r\n        zIndex: secondaryAreaZindexRef.current[featuresEnum.HOURWISE_INVENTORY],\r\n      }}\r\n    >\r\n      <div className=\"flex justify-between items-center mb-2\">\r\n        <h5>Hourwise Inventory</h5>\r\n        <div className=\"flex gap-1.5\">\r\n          <Tooltip title=\"Close\">\r\n            <Button\r\n              size=\"xs\"\r\n              icon={<IoMdClose />}\r\n              onClick={() =>\r\n                handleFeatureClose(\r\n                  setActiveFeatures,\r\n                  featuresEnum.HOURWISE_INVENTORY,\r\n                )\r\n              }\r\n            />\r\n          </Tooltip>\r\n        </div>\r\n      </div>\r\n      <div className=\"h-[92%] flex flex-col gap-3\">\r\n        {hourwiseTableData.length > 0 ? (\r\n          <div className=\"grow overflow-auto no-scrollbar\">\r\n            <HourwiseInventoryTable\r\n              tableData={hourwiseTableData}\r\n              maxDuration={maxDuration}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <Card\r\n            className=\"h-full\"\r\n            bodyClass=\"h-full flex justify-center items-center\"\r\n          >\r\n            No inventory to show\r\n          </Card>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HourwiseInventory;\r\n"],"names":["tableData","maxDuration","schedulingTableRef","useContext","SchedulerContext","getGradientForPercentage","percentage","error","console","className","map","row","onClick","current","scrollToItem","hourIndex","hour","getPercentage","commDuration","style","width","availableDuration","promoDuration","songDuration","schedulingTableData","setActiveFeatures","secondaryAreaZindexRef","hourwiseTableData","setHourwiseTableData","useState","useEffect","getHourwiseTableData","openNotification","hourWiseTableData","curHour","curHourIndex","curHourTotalCommDuration","curHourTotalPromoDuration","curHourTotalSongDuration","forEach","index","Tel_Time","substr","push","F_C_S_P","rowDataTypesEnum","timeToSeconds","Duration","zIndex","featuresEnum","title","size","icon","handleFeatureClose","length","bodyClass"],"sourceRoot":""}