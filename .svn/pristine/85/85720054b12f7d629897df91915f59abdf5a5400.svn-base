"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[9496],{39496:(e,s,a)=>{a.r(s),a.d(s,{default:()=>N});var t=a(72791),l=a(91615),n=a(2803),r=a(84373),o=a(29851),c=a(21260),d=a(1413),i=a(54748),f=a(87350),u=a(81320);var h=a(60364),m=a(8458),p=a(84870),x=a(80184);const N=function(){const e=(0,h.useSelector)((e=>e.locale.selectedChannel)),{date:s,secondaryTableData:a,setSecondaryTableData:N,setActiveFeatures:T,resetSecondaryTableStates:b,secondaryTableSelectedRows:g,setSecondaryTableSelectedRows:y,secondaryTableOffset:w,secondaryTableRef:E,setSecondaryTableType:S}=(0,t.useContext)(l.Z),[C,j]=(0,t.useState)(!1),R=a.filter((e=>e.F_C_S_P===c.rowDataTypesEnum.CONTENT_TERMINATION));return(0,t.useEffect)((()=>((async()=>{try{j(!0),S(c.secondaryTableTypesEnum.PROGRAMS);const a=await(async(e,s)=>{try{let a=[];const t=await(0,f.sb)({LocationCode:e.LocationCode,ChannelCode:e.ChannelCode},(0,i.Tk)(s));return 200===t.status&&t.data.length>0?a=[(0,o.Lp)(t.data[0]),...t.data].map(((e,s)=>{let a=(0,d.Z)((0,d.Z)({},e),{},{rowId:(0,o.XQ)(c.tableTypesEnum.SECONDARY,e),rowIndex:s});return a.F_C_S_P!==c.rowDataTypesEnum.CONTENT_TERMINATION&&(a.isFiltered=!1,a.isHidden=!0),a})):204===t.status?(0,u.openNotification)("info","No programs found"):(0,u.openNotification)("danger","Something went wrong while fetching programs"),a}catch(a){throw a}})(e,s);N(a),j(!1)}catch(a){j(!1),(0,u.openNotification)("danger","Something went wrong while fetching programs"),console.error(a)}})(),b)),[]),(0,x.jsxs)("div",{className:"h-full w-full flex flex-col overflow-auto no-scrollbar bg-gray-800 p-3 pt-2 rounded-lg",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsx)("h5",{children:"Programs"}),R.length>0&&(0,x.jsx)("h6",{className:"rounded-md px-1.5 py-0.5 bg-gray-600 flex items-center justify-center",children:R.length})]}),(0,x.jsx)("div",{className:"flex gap-1.5",children:(0,x.jsx)(n.u,{title:"Close",children:(0,x.jsx)(n.zx,{size:"xs",icon:(0,x.jsx)(r.QAE,{}),onClick:()=>(0,o.FG)(T,c.featuresEnum.MANAGE_SEGMENT)})})})]}),(0,x.jsx)("div",{className:"h-[92%] flex flex-col gap-3",children:R.length>0?(0,x.jsx)(x.Fragment,{children:(0,x.jsx)("div",{className:"grow",children:(0,x.jsx)(p.default,{tableName:m.T9.SECONDARY_TABLE_NAMES.INSERT_PROGRAMS,tableType:c.tableTypesEnum.SECONDARY,tableData:a,columns:m.BD,droppableId:c.droppableIdsEnum.SECONDARY,selectedRows:g,setSelectedRows:y,scrolledOffset:w,tableRef:E,isSortEnabled:!1})})}):(0,x.jsx)(n.Zb,{className:"h-full",bodyClass:"h-full flex justify-center items-center",children:C?(0,x.jsx)(n.$j,{size:"45px"}):"No programs to show"})})]})}}}]);
//# sourceMappingURL=9496.78e75c6e.chunk.js.map