import React from 'react';
import { viewsEnum } from '../enum';
import InputwithVoice from 'components/ui/Input/InputwithVoice';
import { Button } from 'components/ui';
import { HiPlusCircle } from 'react-icons/hi';
import { FiTrash2 } from 'react-icons/fi';
import WarningDialog from 'views/Controls/WarningDialog';

const HeaderExtraContent = (
  handleAdd,
  handleDiscard,
  globalFilter,
  setGlobalFilter,
  curView,
  isDiscardDialogOpen,
  setIsDiscardDialogOpen,
) => {
  return (
    <>
      <span className="flex items-center gap-2">
        {curView === viewsEnum.HOME ? (
          <>
            <InputwithVoice
              value={globalFilter ?? ''}
              className="solid"
              placeholder="Search all columns..."
              size="sm"
              onChange={(e) => {
                if (/^[0-9a-zA-Z\s]*$/.test(e.target.value)) {
                  setGlobalFilter(e.target.value);
                }
              }}
            />
            <Button
              block
              variant="solid"
              size="sm"
              icon={<HiPlusCircle />}
              onClick={() => handleAdd()}
              className="w-max"
            >
              Add Event
            </Button>
          </>
        ) : (
          <Button
            block
            variant="twoTone"
            size="sm"
            icon={<FiTrash2 />}
            onClick={() => setIsDiscardDialogOpen(true)}
            className="w-max"
          >
            Discard
          </Button>
        )}
      </span>
      <WarningDialog
        isDialogOpen={isDiscardDialogOpen}
        title="Discard"
        description={`Are you sure you want to discard?`}
        submitButtonTitle="Discard"
        handleDialogSubmit={handleDiscard}
        handleDialogClose={() => setIsDiscardDialogOpen(false)}
      />
    </>
  );
};

export default HeaderExtraContent;
