"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[8174],{66117:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var n=s(81694),r=s.n(n),a=s(2803),o=s(72791),l=s(21260),c=s(81320),i=s(76061),u=s(78638),d=s(80184);const p=function(e){let{group:t,consumedDuration:s,consumedPercentage:n,graphColor:r}=e;return(0,d.jsxs)("div",{className:"grid grid-cols-12 items-center w-52 mb-1",children:[(0,d.jsx)("span",{className:"w-2",children:t}),(0,d.jsxs)("div",{className:"col-span-8 relative h-6",children:[(0,d.jsx)("div",{className:"absolute h-full w-full border border-gray-600 rounded-md"}),(0,d.jsx)("div",{className:"absolute h-full w-full p-0.5",children:(0,d.jsx)("div",{className:"h-full rounded ".concat(r),style:{width:"".concat(n,"%")}})}),(0,d.jsx)("div",{className:"absolute h-full w-full flex justify-center items-center text-xs text-gray-100",children:s})]}),(0,d.jsxs)("span",{className:"col-span-3 text-xs text-right",children:[n,"%"]})]},t)};var m=s(39126);const x=function(e){let{tableData:t,row:s}=e;const n=(0,o.useMemo)((()=>{const e=(0,u.getNTCParentRow)(s.rowIndex,t),n=(0,u.getRowWithNTC)([e],t,!1).filter((e=>e.NTCGroupCode===s.NTCGroupCode));let r=e.Duration,a="00:00:00:00",o="-";return n.forEach(((e,t)=>{a=n.length>1&&t!==n.length-1?(0,i.addTimes)(a,e.Duration,e.DefaultGAP):(0,i.addTimes)(a,e.Duration)})),o=(0,c.getPercentage)((0,c.timeToSeconds)(a),(0,c.timeToSeconds)(r),!0).toFixed(2),{parentDuration:r,consumedDuration:a,consumedPercentage:o}}),[s,t]);return(0,d.jsx)(a.u,{title:(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,d.jsx)("div",{className:"flex justify-between items-center w-52",children:(0,d.jsxs)("span",{children:["Group ",s.NTCGroupCode," Consumption"]})}),(0,d.jsx)(p,{group:"P",consumedDuration:n.parentDuration,consumedPercentage:100,graphColor:"bg-gradient-to-r from-blue-900/10 via-[30%] to-blue-800"}),(0,d.jsx)(p,{group:s.NTCGroupCode,consumedDuration:n.consumedDuration,consumedPercentage:n.consumedPercentage,graphColor:n.consumedPercentage>100?"bg-gradient-to-r from-transparent via-[40%] to-red-600":"bg-gradient-to-r from-transparent via-[40%] to-green-600"})]}),children:(0,d.jsx)("div",{className:"bg-gray-800 bg-opacity-80 rounded-full p-1",children:(0,d.jsx)(m.DpK,{className:"text-gray-200"})})})};const g=function(e){let{tableData:t,row:s}=e;const n=(0,o.useMemo)((()=>{const e=(0,u.getNTCParentRow)(s.rowIndex+1,t),n=(0,u.getRowWithNTC)([e],t,!1),r=(0,c.getGroupedRows)(n,"NTCGroupCode");let a=e.Duration,o={};return Object.keys(r).forEach((e=>{const t=r[e];let s="00:00:00:00",n="-";t.forEach(((e,n)=>{s=t.length>1&&n!==t.length-1?(0,i.addTimes)(s,e.Duration,e.DefaultGAP):(0,i.addTimes)(s,e.Duration)})),n=(0,c.getPercentage)((0,c.timeToSeconds)(s),(0,c.timeToSeconds)(a),!0).toFixed(2),o[e]={consumedDuration:s,consumedPercentage:n}})),{parentDuration:a,groupwiseNtcConsumption:o}}),[s,t]);return(0,d.jsx)(a.u,{title:(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,d.jsx)("div",{className:"flex justify-between items-center w-52",children:(0,d.jsx)("span",{children:"NTC Groupwise Consumption"})}),(0,d.jsx)(p,{group:"P",consumedDuration:n.parentDuration,consumedPercentage:100,graphColor:"bg-gradient-to-r from-blue-900/10 via-[30%] to-blue-800"}),Object.keys(n.groupwiseNtcConsumption).map((e=>{const t=n.groupwiseNtcConsumption[e];return(0,d.jsx)(p,{group:e,consumedDuration:t.consumedDuration,consumedPercentage:t.consumedPercentage,graphColor:t.consumedPercentage>100?"bg-gradient-to-r from-transparent via-[40%] to-red-600":"bg-gradient-to-r from-transparent via-[40%] to-green-600"})}))]}),children:(0,d.jsx)("div",{className:"bg-gray-800 bg-opacity-80 rounded-full p-1",children:(0,d.jsx)(m.DpK,{className:"text-gray-200"})})})};var h=s(60364),f=s(1680);const w=function(e){let{row:t,isRowCT:s,column:n,tableData:o,tableType:c}=e;const i=(0,h.useSelector)((e=>e.locale.selectedChannel)),u=t.F_C_S_P===l.rowDataTypesEnum.NTC,p=t.F_C_S_P===l.rowDataTypesEnum.LIVE,m=i.label===f.CLIENT.ANI_PLUS,w=i.label===f.CLIENT.ASIANET;return(0,d.jsx)(d.Fragment,{children:c===l.tableTypesEnum.SCHEDULING?(()=>{var e;return(0,d.jsxs)("div",{className:"py-0.5 px-2.5 w-full h-full flex items-center",children:[(0,d.jsx)("span",{className:r()("bg-gray-800 rounded-full h-[22px] w-[26px] mr-2 text-white flex justify-center items-center font-light",u?"text-[9px] bg-orange-500":"text-[11px]",p?"bg-green-500 text-black !font-semibold":""),children:u?t.NtcTypeName:t.F_C_S_P}),(0,d.jsxs)("span",{className:"w-full overflow-hidden whitespace-nowrap text-ellipsis text-[12px] ".concat(s&&"mb-1"),children:[(0,d.jsx)("span",{className:"".concat(s&&"mr-2"),children:t[n.accessorKey]}),s&&(0,d.jsxs)("span",{children:["[",t.FPC_Time," - ",t.FPC_TimeTo,"]"]})]}),u&&(0,d.jsx)(x,{tableData:o,row:t}),!u&&(null===(e=o[t.rowIndex+1])||void 0===e?void 0:e.F_C_S_P)===l.rowDataTypesEnum.NTC&&(0,d.jsx)(g,{tableData:o,row:o[t.rowIndex+1]})]})})():c===l.tableTypesEnum.SECONDARY&&(t.F_C_S_P===l.rowDataTypesEnum.CONTENT_TERMINATION||m||w?(0,d.jsx)("div",{className:"py-1 px-2.5 overflow-hidden text-ellipsis whitespace-nowrap text-[12px] w-full",children:t[n.accessorKey]}):(0,d.jsxs)(a.u,{wrapperClass:"py-0.5 px-2.5 w-full h-full flex items-center",placement:"left",title:(0,d.jsxs)("div",{className:"flex gap-4 justify-between items-center w-40 text-[0.7rem]",children:[(0,d.jsxs)("span",{children:["Duration: ",t.Duration]}),(0,d.jsxs)("span",{children:["House ID: ",t.HouseID?t.HouseID:t.House_ID]})]}),children:[u&&(0,d.jsx)("span",{className:r()("rounded-full h-[22px] w-[26px] mr-2 text-white flex justify-center items-center font-light text-[9px] bg-orange-500"),children:t.NtcTypeName}),(0,d.jsx)("span",{className:"w-full overflow-hidden whitespace-nowrap text-ellipsis text-[12px]",children:t[n.accessorKey]})]}))})}}}]);
//# sourceMappingURL=8174.24196ba4.chunk.js.map