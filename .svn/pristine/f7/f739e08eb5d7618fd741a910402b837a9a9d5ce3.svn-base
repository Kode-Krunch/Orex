"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[4718],{44662:(e,t,n)=>{n.d(t,{AK:()=>u,Fq:()=>p,NJ:()=>o,SX:()=>l,Yj:()=>h,al:()=>i,b8:()=>x,iq:()=>c,qf:()=>m,y7:()=>d});var a=n(54048),s=n(46152);const r=n(74569);async function o(e){return s.Z.fetchData({url:"/ntcmaster/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}const l=(e,t)=>new Promise(((n,s)=>{let o={method:"post",maxBodyLength:1/0,url:a.Z.apiPrefix+"/ntcmaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};r.request(o).then((e=>{n(e)})).catch((e=>{s(e)}))})),i=(e,t,n)=>new Promise(((s,o)=>{let l={method:"put",maxBodyLength:1/0,url:a.Z.apiPrefix+"/ntcmaster/"+t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},data:e};r.request(l).then((e=>{s(e)})).catch((e=>{o(e)}))}));async function c(e){return s.Z.fetchData({url:"/ntctypemaster/drop/",method:"get",data:e})}async function u(e){return s.Z.fetchData({url:"/ntctypemaster/",method:"get",data:e})}const d=(e,t)=>fetch(a.Z.apiPrefix+"/ntctypemaster/".concat(e.NTCTypeCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({NTCTypeName:e.NTCTypeName,NtcTypeShortName:e.NtcTypeShortName,NTCGroupCode:e.NTCGroupCode,DefaultGAP:e.DefaultGAP,IsActive:e.IsActive})}),m=(e,t)=>fetch(a.Z.apiPrefix+"/ntctypemaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({NTCTypeName:e.NTCTypeName,NtcTypeShortName:e.NtcTypeShortName,NTCGroupCode:e.NTCGroupCode,DefaultGAP:e.DefaultGAP,IsActive:e.IsActive})}),p=(e,t)=>fetch(a.Z.apiPrefix+"/ntcgroupmaster/".concat(e.NTCGroupCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({NTCGroupName:e.NTCGroupName,IsActive:e.IsActive})}),h=(e,t)=>fetch(a.Z.apiPrefix+"/ntcgroupmaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({NTCGroupName:e.NTCGroupName,IsActive:e.IsActive})});async function x(e){return s.Z.fetchData({url:"/ntcgroupmaster/",method:"get",data:e})}},67207:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2803),s=(n(72791),n(80184));const r=function(e){let{isDialogOpen:t,title:n,description:r,descClassName:o,submitButtonTitle:l,submitButtonColor:i,handleDialogSubmit:c,handleDialogClose:u,overlayClassName:d,secondaryDescription:m}=e;return(0,s.jsxs)(a.Vq,{isOpen:t,onClose:u,onRequestClose:u,overlayClassName:d,children:[(0,s.jsx)("h5",{className:"mb-4",children:n}),(0,s.jsx)("p",{className:o,children:r}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,s.jsx)("p",{children:m}),(0,s.jsx)(a.zx,{variant:"solid",color:i,onMouseDown:c,children:l})]})]})}},7270:(e,t,n)=>{n.d(t,{Z:()=>f});var a=n(2803),s=n(87537),r=n(72791),o=n(84373),l=n(81320),i=n(67207),c=n(85214),u=n(1413),d=n(45987),m=n(91009),p=n(80184);const h=["color","trackHeight","thumbDiameter"];const x=function(e){let{color:t,trackHeight:n="5px",thumbDiameter:a="15px"}=e,s=(0,d.Z)(e,h);return(0,p.jsx)(m.ZP,(0,u.Z)({sx:{color:t,"& .MuiSlider-thumb":{backgroundColor:t,height:a,width:a},"& .MuiSlider-rail":{backgroundColor:"#CCCCCC",height:n},"& .MuiSlider-track":{backgroundColor:t,height:n},"& .MuiSlider-thumb:hover, & .MuiSlider-thumb.Mui-focusVisible":{boxShadow:"0px 0px 0px 8px ".concat((0,l.getHexColorWithOpacity)(t,.2))}}},s))};const f=function(e){let{renderTitle:t,searchDateRange:n,setSearchDateRange:u,searchDuration:d,setSearchDuration:m,handleApply:h}=e;const[f,g]=(0,r.useState)(n),[T,N]=(0,r.useState)(d),[C,y]=(0,r.useState)(!1);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(a.Lt,{renderTitle:t||(0,p.jsx)(p.Fragment,{}),placement:"bottom-end",menuClass:"p-3 min-w-[256px] flex flex-col gap-5 border-2 border-gray-600",toggleClassName:"hover:cursor-pointer",onOpen:()=>{g(n),N(d)},children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"mb-1 text-white",children:"Date Range"}),(0,p.jsx)(s.Z,{placeholder:"Select",size:"sm",className:"!rounded-md",onChange:e=>g(e),value:f})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsx)("p",{className:"text-white",children:"Duration (Min)"}),null!==T[0]&&null!==T[1]&&(0,p.jsxs)("p",{className:"text-white flex items-center gap-2",children:["".concat(T[0]," - ").concat(T[1]),(0,p.jsx)(a.zx,{size:"xs",icon:(0,p.jsx)(o.QAE,{className:"text-gray-300"}),className:"!h-6 !w-6",variant:"solid",shape:"circle",color:"gray-600",onClick:()=>N([null,null]),title:"Reset Duration"})]})]}),(0,p.jsx)("div",{className:"px-2",children:(0,p.jsx)(x,{value:T,color:c.TW_COLORS.teal[500],size:"small",onChange:e=>N(e.target.value)})})]}),(0,p.jsxs)("div",{className:"flex justify-between itmes-center w-full",children:[(0,p.jsx)(a.zx,{className:"w-max font-normal !border !border-gray-500",size:"sm",style:{fontSize:"0.8rem",lineHeight:"1rem"},onClick:()=>y(!0),children:"Reset"}),(0,p.jsx)(a.Lt.Item,{onClick:async()=>{try{u(f),m(T),await h(f,T)}catch(e){(0,l.openNotification)("danger","Something went wrong while applying filters"),console.error(e)}},className:"p-0 w-max",children:(0,p.jsx)(a.zx,{size:"sm",className:"w-max font-normal",variant:"twoTone",style:{fontSize:"0.8rem",lineHeight:"1rem"},children:"Apply"})})]})]}),C&&(0,p.jsx)(i.Z,{isDialogOpen:C,title:"Reset Filters",description:"Do you wish to reset all the filters?",submitButtonTitle:"Reset",handleDialogSubmit:async()=>{try{const e=[null,null],t=[null,null];u(e),m(t),y(!1),await h(e,t)}catch(e){(0,l.openNotification)("danger","Something went wrong while resetting filters"),console.error(e)}},handleDialogClose:()=>y(!1)})]})}},41824:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(54748),s=n(72791),r=n(80184);function o(e){let{dateRange:t,duration:n}=e;const s=null!==t[0]&&null!==t[1],o=null!==n[0]&&null!==n[1];return(0,r.jsx)(r.Fragment,{children:(s||o)&&(0,r.jsxs)("div",{className:"flex gap-2 text-sm text-gray-200",children:[s&&(0,r.jsx)("p",{className:"py-1 px-3 bg-gray-700 rounded-md",children:"".concat((0,a.SG)(t[0])," ~ ").concat((0,a.SG)(t[1]))}),o&&(0,r.jsx)("p",{className:"py-1 px-3 bg-gray-700 rounded-md",children:"".concat(n[0]," - ").concat(n[1]," Mins")})]})})}const l=(0,s.memo)(o)},44718:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var a=n(45987),s=n(1413),r=n(2803),o=n(72791),l=n(29851),i=n(21260),c=n(84373),u=n(91615),d=n(44662),m=n(81320),p=n(9494);const h={control:e=>(0,s.Z)((0,s.Z)({},e),{},{minHeight:"32px",height:"32px"}),valueContainer:e=>(0,s.Z)((0,s.Z)({},e),{},{height:"32px",padding:"0 6px"}),input:e=>(0,s.Z)((0,s.Z)({},e),{},{margin:"0px"}),indicatorsContainer:e=>(0,s.Z)((0,s.Z)({},e),{},{height:"32px"})},x=(e,t,n)=>{t.current&&!t.current.contains(e.target)&&n((e=>(0,s.Z)((0,s.Z)({},e),{},{isManageColumnsDropdownVisible:!1})))};var f=n(8458),g=n(41578),T=n(73516),N=n(60364),C=n(81694),y=n.n(C),b=n(54748),v=n(84870),S=n(17051),j=n(30203),w=n(80184);const E=function(){const{secondaryTableSelectedRows:e,executeOperation:t}=(0,o.useContext)(u.Z);return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"bg-gray-700 bg-opacity-50 flex gap-0.5 p-0.5 rounded-lg border border-gray-600",children:(0,w.jsx)(r.u,{title:"Insert",children:(0,w.jsx)(r.zx,{className:"hover:!bg-teal-800 transition-all !h-8 !w-8",variant:"plain",size:"sm",icon:(0,w.jsx)(j.zHT,{className:"text-base"}),disabled:0===e.length,onClick:()=>{try{t({operation:i.operationTypesEnum.INSERT_NTC_BY_START_TIME})}catch(e){(0,m.openNotification)("danger","Something went wrong while inserting NTC"),console.error(e)}}})})})})};var R=n(41824),D=n(7270),_=n(40071),A=n(12389),I=n(9281),Z=n(1680);const O=["Gap"],z=["Gap"];const F=function(){const e=(0,N.useSelector)((e=>e.locale.selectedChannel)),t=(0,N.useSelector)((e=>e.auth.session.token)),{date:n,setOgSecTableData:C,secondaryTableData:j,setSecondaryTableData:F,setSecondaryTableType:P,secondaryTableSelectedRows:k,setSecondaryTableSelectedRows:B,secondaryTableManagedColumns:M,setSecondaryTableManagedColumns:L,secondaryTableOffset:G,secTableToolbarState:q,setSecTableToolbarState:Y,setActiveFeatures:H,secondaryTableRef:J,resetSecondaryTableStates:W,maintainScrolledOffsetOfTables:U,ntcTypeOptions:V,setNtcTypeOptions:Q,isAutoCalcNtcOffsetTime:K}=(0,o.useContext)(u.Z),[X,$]=(0,o.useState)("free"),[ee,te]=(0,o.useState)({value:0,label:"All"}),[ne,ae]=(0,o.useState)({value:"offsetTime",label:"Offset Time"}),[se,re]=(0,o.useState)(""),[oe,le]=(0,o.useState)([null,null]),[ie,ce]=(0,o.useState)([null,null]),[ue,de]=(0,o.useState)(""),[me,pe]=(0,o.useState)(""),[he,xe]=(0,o.useState)(!1),fe=(0,o.useRef)(null),[ge]=(0,I.Nr)(ue,500),[Te]=(0,I.Nr)(me,500);(0,o.useEffect)((()=>((async()=>{try{P(i.secondaryTableTypesEnum.NTC),0===V.length&&(xe(!0),Q(await(async()=>{try{let e=[];const t=await(0,d.iq)();return 200===t.status?(e=t.data.map((e=>({value:e.NTCTypeCode,label:e.NTCTypeName}))),e=[{value:0,label:"All"},...e]):204===t.status?(0,m.openNotification)("info","No NTC types found"):(0,m.openNotification)("danger","Something went wrong while fetching NTC types. Server responded with status code ".concat(t.status)),e}catch(e){throw e}})()),xe(!1))}catch(e){(0,m.openNotification)("danger","Something went wrong while fetching NTC types"),console.error(e)}})(),W)),[]),(0,o.useEffect)((()=>{(async()=>{try{if(0===j.length||0!==M.originalColumns.length&&0!==M.visibleColumns.length&&0!==M.removedColumns.length)return;const{visibleColumns:e,removedColumns:n}=await(0,l.tn)(f.T9.SECONDARY_TABLE_NAMES.INSERT_NTC,j,t);L({originalColumns:(0,l.UW)(j),visibleColumns:e,removedColumns:n}),U()}catch(e){(0,m.openNotification)("danger","Something went wrong while setting columns for NTCs"),console.error(e)}})()}),[j]),(0,o.useEffect)((()=>(document.addEventListener("mousedown",(e=>x(e,fe,Y))),()=>{document.removeEventListener("mousedown",(e=>x(e,fe,Y)))})),[fe]),(0,o.useEffect)((()=>{(async()=>{let e=[],t=[];if("offsetTime"===ne.value){const n=ue.length>0?(0,m.autoCompleteTime)(ue):"00:00:00:00";e=j.map((e=>(0,s.Z)((0,s.Z)({},e),{},{OffsetStartTime:n,Start_Time:"00:00:00:00"}))),t=k.map((e=>(0,s.Z)((0,s.Z)({},e),{},{OffsetStartTime:n,Start_Time:"00:00:00:00"})))}else{const n=ue.length>0?(0,m.autoCompleteTime)(ue):"00:00:00:00";e=j.map((e=>(0,s.Z)((0,s.Z)({},e),{},{OffsetStartTime:"",Start_Time:n}))),t=k.map((e=>(0,s.Z)((0,s.Z)({},e),{},{OffsetStartTime:"",Start_Time:n})))}C(e),F(e),B(t),U()})()}),[ge]),(0,o.useEffect)((()=>{let e=[],t=[];if(me){const n=(0,m.autoCompleteTime)(me);e=j.map((e=>(0,s.Z)((0,s.Z)({},e),{},{Gap:n}))),t=k.map((e=>(0,s.Z)((0,s.Z)({},e),{},{Gap:n})))}else e=j.map((e=>{const{Gap:t}=e,n=(0,a.Z)(e,O);return(0,s.Z)({},n)})),t=k.map((e=>{const{Gap:t}=e,n=(0,a.Z)(e,z);return(0,s.Z)({},n)}));C(e),F(e),B(t),U()}),[Te]);const Ne=async(e,t,n,a,r)=>{try{xe(!0);const o=await(async(e,t,n,a,r)=>{try{let o=[];const c=await(0,p.apiCallstoreprocedure)("USP_Sch_Get_All_NTC",{LocationCode:e.LocationCode,ChannelCode:e.ChannelCode,NTCTypeCode:a,NTCName:r||"%%",NTCScheduleDate:t,NTCMode:"free"===n?0:1});return 200===c.status?0===c.data.length?(0,m.openNotification)("info","No NTCs found"):o=[(0,l.Lp)(c.data[0]),...c.data].map(((e,t)=>e.F_C_S_P===i.rowDataTypesEnum.NTC?(0,s.Z)((0,s.Z)({},e),{},{rowId:(0,l.XQ)(i.tableTypesEnum.SECONDARY,e),rowIndex:t,OffsetStartTime:"00:00:00:00"}):(0,s.Z)((0,s.Z)({},e),{},{rowId:(0,l.XQ)(i.tableTypesEnum.SECONDARY,e),rowIndex:t}))):204===c.status?(0,m.openNotification)("info","No NTCs found"):(0,m.openNotification)("danger","Something went wrong while fetching NTCs. Server responded with status code ".concat(c.status)),o}catch(o){throw o}})(e,t,n,a,r);C(o),F(o)}catch(o){(0,m.openNotification)("danger","Something went wrong while searching NTCs"),console.error(o)}finally{xe(!1)}};return(0,w.jsxs)("div",{className:"h-full w-full flex flex-col overflow-auto no-scrollbar bg-gray-800 p-3 pt-2 rounded-lg",children:[(0,w.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,w.jsxs)("div",{className:"flex items-center gap-3",children:[(0,w.jsx)("h5",{children:"NTC"}),j.length>0&&(0,w.jsx)("h6",{className:"rounded-md px-1.5 py-0.5 bg-gray-600 flex items-center justify-center",children:j.length-1})]}),(0,w.jsxs)("div",{className:"flex gap-1.5",children:[j.length>0&&(0,w.jsxs)(r.u,{title:"Manage Columns",wrapperClass:"relative",children:[(0,w.jsx)(r.zx,{size:"xs",icon:(0,w.jsx)(g.Rqg,{}),className:y()(M.removedColumns.length>0?"!bg-teal-700 hover:!bg-teal-700":"hover:!bg-teal-800","transition-all"),onClick:()=>Y((0,s.Z)((0,s.Z)({},q),{},{isManageColumnsDropdownVisible:!0}))}),q.isManageColumnsDropdownVisible&&(0,w.jsx)(T.default,{tableType:i.tableTypesEnum.SECONDARY,dropdownRef:fe,position:"right-1/2"})]}),(0,w.jsx)(r.u,{title:"Close",children:(0,w.jsx)(r.zx,{size:"xs",icon:(0,w.jsx)(c.QAE,{}),onClick:()=>(0,l.FG)(H,i.featuresEnum.INSERT)})})]})]}),e.label!==Z.CLIENT.USA_Forbes&&(0,w.jsxs)(r.Y8.Group,{value:X,onChange:t=>{W(),$(t),"paid"===t&&Ne(e,(0,b.Tk)(n),t,0,0)},className:"mb-3",children:[(0,w.jsx)(r.Y8,{value:"free",children:"Free"}),(0,w.jsx)(r.Y8,{value:"paid",children:"Paid"})]}),(0,w.jsxs)(r.BZ,{className:"mb-2 flex",children:[(0,w.jsx)(r.Ph,{placeholder:"Type",className:"w-[60%]",options:V,value:ee,onChange:e=>te(e),styles:h}),(0,w.jsx)(r.II,{placeholder:"Search NTC",size:"sm",className:"h-[34px]",onChange:e=>re(e.target.value),value:se,autoFocus:!0,onKeyDown:t=>{"enter"!==t.key.toLowerCase()&&"tab"!==t.key.toLowerCase()||Ne(e,(0,b.Tk)(n),X,ee.value,se)}}),(0,w.jsx)(D.Z,{renderTitle:(0,w.jsx)(r.zx,{icon:(0,w.jsx)(_.Q65,{}),className:"h-[34px] px-2",size:"sm",shape:"none",title:"Advanced Filters"}),searchDateRange:oe,setSearchDateRange:le,searchDuration:ie,setSearchDuration:ce,handleApply:()=>Ne(e,(0,b.Tk)(n),X,ee.value,se)}),(0,w.jsx)(r.zx,{icon:(0,w.jsx)(c.y5k,{}),className:"h-[34px] px-2 !rounded-l-none !border-l-2 !border-l-gray-600",size:"sm",onClick:()=>Ne(e,(0,b.Tk)(n),X,ee.value,se),title:"Search"})]}),(0,w.jsx)("div",{className:"grow flex flex-col gap-3",children:j.length>0?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(r.BZ,{className:"grid grid-cols-7",children:[(0,w.jsx)(r.Ph,{placeholder:"Insert By",className:K?"col-span-2":"col-span-3",options:[{value:"offsetTime",label:"Offset Time"},{value:"startTime",label:"Start Time"}],value:ne,onChange:e=>{try{ae(e),"startTime"===e.value?de("00:00:00:00"):de("")}catch(t){console.error(t)}},styles:h}),(0,w.jsx)(r.II,{placeholder:"HH:MM:SS:FF",size:"sm",className:"h-[34px] ".concat(K?"col-span-2":"col-span-4"),onChange:e=>{const t=(0,m.getFormattedTime)(e,ue);de(t)},onBlur:()=>de((0,m.autoCompleteTime)(ue)),value:ue,autoFocus:!0}),K&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(A.Z,{className:"h-[34px] text-white justify-center px-2",children:"Gap"}),(0,w.jsx)(r.II,{placeholder:"HH:MM:SS:FF",size:"sm",className:"h-[34px] col-span-2",onChange:e=>{const t=(0,m.getFormattedTime)(e,me);pe(t)},onBlur:()=>pe((0,m.autoCompleteTime)(me)),value:me})]})]}),(0,w.jsx)(R.Z,{dateRange:oe,duration:ie}),(0,w.jsx)("div",{className:"grow",children:he?(0,w.jsx)("div",{className:"h-full w-full flex justify-center items-center",children:(0,w.jsx)(r.$j,{size:"45px"})}):(0,w.jsx)(v.default,{tableName:f.T9.SECONDARY_TABLE_NAMES.INSERT_NTC,tableType:i.tableTypesEnum.SECONDARY,tableData:j,columns:M.visibleColumns,droppableId:i.droppableIdsEnum.SECONDARY,selectedRows:k,setSelectedRows:B,scrolledOffset:G,tableRef:J,isDragDisabled:"startTime"===ne.value})}),"offsetTime"===ne.value?(0,w.jsx)(S.Z,{insertType:i.rowDataTypesEnum.NTC}):(0,w.jsx)(E,{})]}):(0,w.jsx)(r.Zb,{className:"h-full",bodyClass:"h-full flex justify-center items-center",children:"No NTCs to show"})})]})}},17051:(e,t,n)=>{n.d(t,{Z:()=>C});var a=n(72791),s=n(2803),r=n(30203),o=n(19129),l=n(10050),i=n(3479),c=n(63524),u=n(91615),d=n(21260),m=n(45682),p=n(81320),h=n(16856),x=n(29184),f=n(80184);const g=function(e){let{isDialogOpen:t,setIsDialogOpen:n}=e;const{executeOperation:r}=(0,a.useContext)(u.Z),[o,l]=(0,a.useState)("sequentialInsert"),i=()=>n(!1);return(0,f.jsx)(s.Vq,{isOpen:t,onClose:i,onRequestClose:i,width:"40%",contentClassName:"mt-8",children:(0,f.jsxs)("div",{className:"flex flex-col h-full",children:[(0,f.jsx)("h4",{className:"border-b border-b-gray-700 pb-2 mb-3",children:"Repeat Insert"}),(0,f.jsxs)("div",{className:"max-h-[60vh] overflow-y-auto flex flex-col gap-6 pr-2 text-white",children:[(0,f.jsx)(x.Z,{}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"text-sm mb-1",children:"Insert Type"}),(0,f.jsxs)(s.Y8.Group,{value:o,onChange:l,children:[(0,f.jsx)(s.Y8,{value:"sequentialInsert",className:"text-gray-300",children:"Sequential Insert"}),(0,f.jsx)(s.Y8,{value:"randomizeInsert",className:"text-gray-300",children:"Randomize Insert"})]})]})]}),(0,f.jsx)("div",{className:"text-right mt-6",children:(0,f.jsx)(s.zx,{variant:"solid",onClick:async()=>{try{const e=await r({operation:d.operationTypesEnum.REPEAT_INSERT_ROW,repeatInsertType:o});i(),e&&(0,p.openNotification)("success","Events inserted successfully")}catch(e){(0,p.openNotification)("danger","Something went wrong while inserting events"),console.error(e)}},children:"Insert"})})]})})},T=(0,a.lazy)((()=>n.e(880).then(n.bind(n,99129)))),N=(0,a.lazy)((()=>n.e(327).then(n.bind(n,20327))));const C=function(e){var t;let{insertType:n}=e;const{schedulingTableSelectedRows:x,secondaryTableSelectedRows:C,setSecondaryTableSelectedRows:y,secondaryTableData:b,executeOperation:v,isAutoCalcNtcOffsetTime:S,isNtcGroupingEnabled:j}=(0,a.useContext)(u.Z),[w,E]=(0,a.useState)(!1),[R,D]=(0,a.useState)(!1),[_,A]=(0,a.useState)(!1),I=C.length===b.length-1;return(0,f.jsx)(a.Suspense,{fallback:(0,f.jsx)(m.default,{showLoader:!0}),children:(0,f.jsxs)("div",{className:"bg-gray-700 bg-opacity-50 flex gap-0.5 p-0.5 rounded-lg border border-gray-600",children:[(0,f.jsx)(s.u,{title:I?"Un-select all":"Select All",children:(0,f.jsx)(s.zx,{className:"hover:!bg-teal-700 transition-all !h-8 !w-8 ".concat(I&&"!bg-teal-700"),variant:"plain",size:"sm",icon:(0,f.jsx)(h.WHv,{className:"text-[1.2rem]"}),onClick:()=>{try{C.length===b.length-1?y([]):y([...b].splice(1))}catch(e){(0,p.openNotification)("danger","Something went wrong while selecting all events"),console.error(e)}}})}),(0,f.jsx)(s.u,{title:"Insert",children:(0,f.jsx)(s.zx,{className:(0,l.f6)(),variant:"plain",size:"sm",icon:(0,f.jsx)(r.zHT,{className:"text-base"}),disabled:(0,l.JT)(x,C,d.secTableBottomToolbarFeaturesEnum.INSERT,S,j),onClick:()=>{try{v({operation:d.operationTypesEnum.INSERT_ROW})}catch(e){console.error(e),(0,p.openNotification)("danger","Something went wrong while inserting events")}}})}),n!==d.rowDataTypesEnum.COMMERCIAL&&(0,f.jsxs)(f.Fragment,{children:[S&&n===d.rowDataTypesEnum.NTC&&!(null!==(t=b[0])&&void 0!==t&&t.BookingDetailID)&&(0,f.jsxs)(s.u,{title:"Repeat Insert",children:[(0,f.jsx)("div",{onClick:()=>{(0,l.JT)(x,C,d.secTableBottomToolbarFeaturesEnum.REPEAT_INSERT,S,j)?(0,p.openNotification)("danger","Please select a valid NTC parent event"):E(!0)},children:(0,f.jsx)(s.zx,{className:(0,l.f6)(),variant:"plain",size:"sm",icon:(0,f.jsx)(h.LkC,{className:"text-[1.4rem]"}),disabled:(0,l.JT)(x,C,d.secTableBottomToolbarFeaturesEnum.REPEAT_INSERT,S,j)})}),w&&(0,f.jsx)(g,{isDialogOpen:w,setIsDialogOpen:E})]}),(0,f.jsxs)(s.u,{title:"Bulk Insert",wrapperClass:"relative",children:[(0,f.jsx)(s.zx,{className:(0,l.f6)(),variant:"plain",size:"sm",icon:(0,f.jsx)(o.gy$,{className:"text-lg"}),disabled:(0,l.JT)(x,C,d.secTableBottomToolbarFeaturesEnum.BULK_INSERT,S,j),onClick:()=>A(!0)}),_&&(0,f.jsx)(N,{isDialogOpen:_,setIsDialogOpen:A,insertType:n})]}),(0,f.jsx)(s.u,{title:"Replace",children:(0,f.jsx)(s.zx,{className:(0,l.f6)(),variant:"plain",size:"sm",icon:(0,f.jsx)(i.ux5,{className:"text-[1.12rem]"}),disabled:(0,l.JT)(x,C,d.secTableBottomToolbarFeaturesEnum.REPLACE,S,j),onClick:()=>{try{v({operation:d.operationTypesEnum.REPLACE_ROW}),(0,p.openNotification)("success","Events replaced successfully")}catch(e){console.error(e),(0,p.openNotification)("danger","Something went wrong while replacing events")}}})}),(0,f.jsxs)(s.u,{title:"Replace All",children:[(0,f.jsx)(s.zx,{className:(0,l.f6)(),variant:"plain",size:"sm",icon:(0,f.jsx)(c.p2I,{className:"text-xl"}),disabled:(0,l.JT)(x,C,d.secTableBottomToolbarFeaturesEnum.REPLACE_ALL,S,j),onClick:()=>D(!0)}),R&&(0,f.jsx)(T,{isDialogOpen:R,setIsDialogOpen:D})]})]})]})})}},29184:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(2803),s=n(72791),r=n(91615),o=n(80184);const l=function(){const{secondaryTableSelectedRows:e}=(0,s.useContext)(r.Z);return(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{className:"text-sm mb-1",children:["Events (",e.length,")"]}),(0,o.jsx)("div",{className:"max-h-24 overflow-y-scroll",children:(0,o.jsx)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-2 p-2 bg-gray-700 bg-opacity-70 rounded",children:e.map((e=>(0,o.jsx)(a.u,{title:e.Event_Name,wrapperClass:"w-full",placement:"top-start",children:(0,o.jsxs)("div",{className:"flex items-center gap-1.5 w-full",children:[(0,o.jsx)("span",{className:"bg-gray-500 rounded-full w-[0.4rem] h-[0.4rem]"}),(0,o.jsx)("span",{className:"text-sm text-gray-200 w-full text-ellipsis overflow-hidden whitespace-nowrap",children:e.Event_Name})]},e.rowId)},e.rowId)))})})]})}},10050:(e,t,n)=>{n.d(t,{JT:()=>l,f6:()=>r,x2:()=>i});var a=n(21260);const s=n(81694),r=e=>{try{return s(e?"!bg-teal-700 hover:!bg-teal-700":"hover:!bg-teal-800","transition-all !h-8 !w-8")}catch(t){console.error(t)}},o=(e,t,n,s)=>{try{if(1===t.length&&e.length>0){const r=t[0];let o;return o=r.F_C_S_P===a.rowDataTypesEnum.NTC&&(n||s)?e.every((e=>e.F_C_S_P===r.F_C_S_P&&e.NTCGroupCode===r.NTCGroupCode)):e.every((e=>e.F_C_S_P===r.F_C_S_P)),!o}return!0}catch(r){throw r}},l=(e,t,n,s,r)=>{try{switch(n){case a.secTableBottomToolbarFeaturesEnum.INSERT:return c(e,t);case a.secTableBottomToolbarFeaturesEnum.REPEAT_INSERT:return u(e,t);case a.secTableBottomToolbarFeaturesEnum.BULK_INSERT:return 0===t.length;case a.secTableBottomToolbarFeaturesEnum.REPLACE:case a.secTableBottomToolbarFeaturesEnum.REPLACE_ALL:return o(e,t,s,r);default:return!1}}catch(l){console.error(l)}},i=e=>{try{let t=[],n=0;e.forEach((e=>{Number(e.BreakNumber)>n&&(n=Number(e.BreakNumber))}));for(let e=1;e<=n;e++)t.push({value:e,label:"Break ".concat(e)});return t}catch(t){console.error(t)}},c=(e,t)=>1!==e.length||0===t.length||t.length>0&&t[0].F_C_S_P===a.rowDataTypesEnum.NTC&&1===e.length&&(e[0].F_C_S_P===a.rowDataTypesEnum.COMMERCIAL||e[0].F_C_S_P===a.rowDataTypesEnum.CONTENT_TERMINATION),u=(e,t)=>1!==e.length||0===t.length||t.length>0&&t[0].F_C_S_P===a.rowDataTypesEnum.NTC&&1===e.length&&(e[0].F_C_S_P===a.rowDataTypesEnum.COMMERCIAL||e[0].F_C_S_P===a.rowDataTypesEnum.CONTENT_TERMINATION||e[0].F_C_S_P===a.rowDataTypesEnum.NTC)},9281:(e,t,n)=>{n.d(t,{Nr:()=>o});var a=n(72791);function s(e,t,n){var s=this,r=(0,a.useRef)(null),o=(0,a.useRef)(0),l=(0,a.useRef)(null),i=(0,a.useRef)([]),c=(0,a.useRef)(),u=(0,a.useRef)(),d=(0,a.useRef)(e),m=(0,a.useRef)(!0);d.current=e;var p="undefined"!=typeof window,h=!t&&0!==t&&p;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var x=!!(n=n||{}).leading,f=!("trailing"in n)||!!n.trailing,g="maxWait"in n,T="debounceOnServer"in n&&!!n.debounceOnServer,N=g?Math.max(+n.maxWait||0,t):null;(0,a.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]);var C=(0,a.useMemo)((function(){var e=function(e){var t=i.current,n=c.current;return i.current=c.current=null,o.current=e,u.current=d.current.apply(n,t)},n=function(e,t){h&&cancelAnimationFrame(l.current),l.current=h?requestAnimationFrame(e):setTimeout(e,t)},a=function(e){if(!m.current)return!1;var n=e-r.current;return!r.current||n>=t||n<0||g&&e-o.current>=N},C=function(t){return l.current=null,f&&i.current?e(t):(i.current=c.current=null,u.current)},y=function e(){var s=Date.now();if(a(s))return C(s);if(m.current){var l=t-(s-r.current),i=g?Math.min(l,N-(s-o.current)):l;n(e,i)}},b=function(){if(p||T){var d=Date.now(),h=a(d);if(i.current=[].slice.call(arguments),c.current=s,r.current=d,h){if(!l.current&&m.current)return o.current=r.current,n(y,t),x?e(r.current):u.current;if(g)return n(y,t),e(r.current)}return l.current||n(y,t),u.current}};return b.cancel=function(){l.current&&(h?cancelAnimationFrame(l.current):clearTimeout(l.current)),o.current=0,i.current=r.current=c.current=l.current=null},b.isPending=function(){return!!l.current},b.flush=function(){return l.current?C(Date.now()):u.current},b}),[x,g,t,N,f,h,p,T]);return C}function r(e,t){return e===t}function o(e,t,n){var o=n&&n.equalityFn||r,l=(0,a.useRef)(e),i=(0,a.useState)({})[1],c=s((0,a.useCallback)((function(e){l.current=e,i({})}),[i]),t,n),u=(0,a.useRef)(e);return o(u.current,e)||(c(e),u.current=e),[l.current,c]}}}]);
//# sourceMappingURL=4718.f30b1fd7.chunk.js.map