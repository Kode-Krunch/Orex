"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[7031],{45390:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var a=s(1413),c=s(2803),o=s(72791),i=s(67388),l=s(96361),n=s(46657),r=s(60364),u=s(4621),d=s(32640),p=s(80184);const A=()=>{const e=(0,r.useSelector)((e=>e.auth.session.token)),t=(0,o.useRef)(0);function s(e,t){c.Am.push((0,p.jsx)(c.P_,{closable:!0,type:t,duration:1e3,title:t.charAt(0).toUpperCase()+t.slice(1),children:e}))}const[A,m]=(0,o.useState)(""),[h,R]=(0,o.useState)(!1),[g,x]=(0,o.useState)(""),[f,v]=(0,o.useState)(!1),[b,y]=(0,o.useState)(),N=(0,o.useRef)(null),[j,w]=(0,o.useState)();(0,o.useEffect)((()=>{t.current=t.current+1,1==t.current&&(async e=>{const t=[...(await(0,i.apiGetAspectratiomaster)()).data].reverse().map(((e,t)=>(0,a.Z)((0,a.Z)({},e),{},{serialNumber:t+1})));console.log(t),w(t)})()}),[]);const S=t=>{console.log("AspectRatio",j);const a=[...j];let c=a[t];c.IsActive=1==c.IsActive?0:1,(0,i.PutUpdateAspectRatio)(c,e).then((e=>204==e.status?(console.log(e),s("Data Already Exists.","warning"),null):e.json())).then((e=>{e.serialNumber=c.serialNumber,e.IsActive=c.IsActive,e.AspectRatioName=c.AspectRatioName||c.AspectRatio,e.AspectRatio=c.AspectRatioName||c.AspectRatio,a[t]=e,w(a),s("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},I=[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"AspectRatio",header:"AspectRatio",width:"20%"}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.F,{ref:N}),(0,p.jsx)(u.Q,{group:"declarative",visible:f,onHide:()=>v(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{S(b)}}),(0,p.jsx)(c.Zb,{header:(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("div",{children:(0,p.jsx)("span",{className:"flex items-center",children:(0,p.jsx)(l.Z,{ModuleText:"Programming",Component:"AspectRatio Master"})})}),(0,p.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}}),(0,p.jsx)("div",{})]}),headerExtra:(0,d.W)(g,x,R,h,(()=>{if(A){const t={AspectRatioName:A,IsActive:1};(0,i.AddAspectRatio)(t,e).then((e=>{204==e.status&&s("Data Already Exists.","warning"),200==e.status&&(t.serialNumber=j.length+1,w((e=>[...e,t])),s("Data Added Succesfully","success")),m(""),R(!1)})).catch((e=>{console.log(e)}))}else s("Kindly Enter Aspect Ratio","danger")}),A,m,"Aspect Ratio",j,I),bodyClass:"text-center",children:(0,p.jsx)(d.Z,{data:j,onRowEditComplete:t=>{let a=[...j],{newData:c,index:o}=t;console.log(c),a[o].AspectRatio=c.AspectRatio,a[o].IsActive=c.IsActive,console.log(c.AspectRatio),c.AspectRatio&&(console.log("_AspectRatio",a),(0,i.PutUpdateAspectRatio)(c,e).then((e=>204==e.status?(console.log(e),s("Data Already Exists.","warning"),null):e.json())).then((e=>{console.log(e),console.log(c.serialNumber),a[o]=e,a[o].serialNumber=c.serialNumber,a[o].AspectRatioName=c.AspectRatio,a[o].IsActive=c.IsActive,w(a),s("Data Updated Succesfully","success")})).catch((e=>{console.log(e)})))},globalFilter:g,dataKey:"AspectRatioCode",columns:I,setyup:y,scrollHeight:"70vh",setVisible:v})})]})}}}]);
//# sourceMappingURL=7031.85f52aa5.chunk.js.map