{"version":3,"file":"static/js/5546.1434670a.chunk.js","mappings":"iIAkBA,QAhBA,WAA6C,IAAlBA,EAAQ,uDAAG,IAClC,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,IAYvC,OAVAC,EAAAA,EAAAA,YAAU,KACN,GAAIH,EAAS,CACT,IAAII,EAAUC,YAAW,IAAMJ,EAAW,KAAKF,GAC/C,MAAO,KACHO,aAAaF,EAAQ,CAE7B,IAED,CAACJ,IAEG,CAACA,EAASC,EACrB,C,0ICRA,MAAMM,EAAmBC,EAAAA,KAAaC,MAAM,CAC1CC,MAAOF,EAAAA,KAAaG,SAAS,6BA2G/B,EAxG4BC,IAC1B,MAAM,cAAEC,GAAgB,EAAK,UAAEC,EAAS,UAAEC,EAAY,YAAeH,GAE9DI,EAAWC,IAAgBf,EAAAA,EAAAA,WAAS,IAEpCF,EAASC,IAAciB,EAAAA,EAAAA,KAyB9B,OACE,iBAAKJ,UAAWA,EAAU,WACxB,gBAAKA,UAAU,OAAM,SAClBE,GACC,iCACE,eAAIF,UAAU,OAAM,+BACpB,0FAGF,iCACE,eAAIA,UAAU,OAAM,8BACpB,+FAMLd,IACC,SAAC,KAAK,CAACc,UAAU,OAAOK,KAAK,SAASC,UAAQ,WAC3CpB,KAGL,SAAC,KAAM,CACLqB,cAAe,CACbX,MAAO,IAETH,iBAAkBA,EAClBe,SAAU,CAACC,EAAO,KAAwB,IAAvB,cAAEC,GAAe,EAC7BX,EAGHW,GAAc,GAtDLC,OAAOF,EAAQC,KAChCA,GAAc,GACd,WACqBE,EAAAA,EAAAA,IAAkBH,IAC5BI,OACPH,GAAc,GACdI,OAAOC,KACL,oCACA,qCAEFZ,GAAa,GAUjB,CARE,MAAOa,GAAS,IAAD,IACf,GAAgC,OAAtB,OAANA,QAAM,IAANA,OAAM,EAANA,EAAQC,SAASC,QAGnB,OAFA/B,EAAW,wBACXuB,GAAc,GAGhBvB,GAAiB,OAAN6B,QAAM,IAANA,GAAgB,QAAV,EAANA,EAAQC,gBAAQ,OAAM,QAAN,EAAhB,EAAkBJ,YAAI,WAAhB,EAAN,EAAwB3B,UAAW8B,EAAOG,YACrDT,GAAc,EAChB,GAgCQU,CAAWX,EAAQC,EAGrB,EACA,SAED,QAAC,QAAEW,EAAO,OAAEL,EAAM,aAAEM,GAAc,SACjC,SAAC,KAAI,WACH,UAAC,KAAa,YACZ,gBAAKtB,UAAWE,EAAY,SAAW,GAAG,UACxC,SAAC,KAAQ,CACPqB,QAASP,EAAOpB,OAASyB,EAAQzB,MACjC4B,aAAcR,EAAOpB,MAAM,UAE3B,SAAC,KAAK,CACJ6B,KAAK,KACLpB,KAAK,QACLqB,aAAa,MACbC,KAAK,QACLC,YAAY,QACZC,UAAWC,EAAAA,UAIjB,SAAC,KAAM,CACLC,OAAK,EACLC,QAASV,EACTW,QAAQ,QACR5B,KAAK,SACLL,UAAU,OAAM,SAEfE,EAAY,eAAiB,gBAEhC,iBAAKF,UAAU,mBAAkB,WAC/B,wCACA,SAAC,KAAU,CAACkC,GAAIjC,EAAU,4BAGzB,MAGP,ECzGV,EAJuB,KACZ,SAAC,EAAkB,CAACF,eAAe,G","sources":["utils/hooks/useTimeOutMessage.js","views/auth/ForgotPassword/ForgotPasswordForm.js","views/auth/ForgotPassword/index.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\n\r\nfunction useTimeOutMessage(interval = 3000) {\r\n    const [message, setMessage] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (message) {\r\n            let timeout = setTimeout(() => setMessage(''), interval)\r\n            return () => {\r\n                clearTimeout(timeout)\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [message])\r\n\r\n    return [message, setMessage]\r\n}\r\n\r\nexport default useTimeOutMessage\r\n","import React, { useState } from 'react';\r\nimport { Input, Button, FormItem, FormContainer, Alert } from 'components/ui';\r\nimport { ActionLink } from 'components/shared';\r\nimport { apiForgotPassword } from 'services/AuthService';\r\nimport useTimeOutMessage from 'utils/hooks/useTimeOutMessage';\r\nimport { Field, Form, Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  email: Yup.string().required('Please enter your email'),\r\n});\r\n\r\nconst ForgotPasswordForm = (props) => {\r\n  const { disableSubmit = false, className, signInUrl = '/sign-in' } = props;\r\n\r\n  const [emailSent, setEmailSent] = useState(false);\r\n\r\n  const [message, setMessage] = useTimeOutMessage();\r\n\r\n  const onSendMail = async (values, setSubmitting) => {\r\n    setSubmitting(true);\r\n    try {\r\n      const resp = await apiForgotPassword(values);\r\n      if (resp.data) {\r\n        setSubmitting(false);\r\n        window.open(\r\n          'https://mail.google.com/mail/u/0/',\r\n          'https://mail.google.com/mail/u/0/',\r\n        );\r\n        setEmailSent(true);\r\n      }\r\n    } catch (errors) {\r\n      if (errors?.response.status === 404) {\r\n        setMessage('Email not found');\r\n        setSubmitting(false);\r\n        return;\r\n      }\r\n      setMessage(errors?.response?.data?.message || errors.toString());\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={className}>\r\n      <div className=\"mb-6\">\r\n        {emailSent ? (\r\n          <>\r\n            <h3 className=\"mb-1\">Check your email</h3>\r\n            <p>We have sent a password recovery instruction to your email</p>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <h3 className=\"mb-1\">Forgot Password</h3>\r\n            <p>\r\n              Please enter your email address to receive a verification code\r\n            </p>\r\n          </>\r\n        )}\r\n      </div>\r\n      {message && (\r\n        <Alert className=\"mb-4\" type=\"danger\" showIcon>\r\n          {message}\r\n        </Alert>\r\n      )}\r\n      <Formik\r\n        initialValues={{\r\n          email: '',\r\n        }}\r\n        validationSchema={validationSchema}\r\n        onSubmit={(values, { setSubmitting }) => {\r\n          if (!disableSubmit) {\r\n            onSendMail(values, setSubmitting);\r\n          } else {\r\n            setSubmitting(false);\r\n          }\r\n        }}\r\n      >\r\n        {({ touched, errors, isSubmitting }) => (\r\n          <Form>\r\n            <FormContainer>\r\n              <div className={emailSent ? 'hidden' : ''}>\r\n                <FormItem\r\n                  invalid={errors.email && touched.email}\r\n                  errorMessage={errors.email}\r\n                >\r\n                  <Field\r\n                    size=\"sm\"\r\n                    type=\"email\"\r\n                    autoComplete=\"off\"\r\n                    name=\"email\"\r\n                    placeholder=\"Email\"\r\n                    component={Input}\r\n                  />\r\n                </FormItem>\r\n              </div>\r\n              <Button\r\n                block\r\n                loading={isSubmitting}\r\n                variant=\"solid\"\r\n                type=\"submit\"\r\n                className=\"mt-2\"\r\n              >\r\n                {emailSent ? 'Resend Email' : 'Send Email'}\r\n              </Button>\r\n              <div className=\"mt-4 text-center\">\r\n                <span>Back to </span>\r\n                <ActionLink to={signInUrl}>Sign in</ActionLink>\r\n              </div>\r\n            </FormContainer>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForgotPasswordForm;\r\n","import React from 'react'\r\nimport ForgotPasswordForm from './ForgotPasswordForm'\r\n\r\nconst ForgotPassword = () => {\r\n    return <ForgotPasswordForm disableSubmit={false} />\r\n}\r\n\r\nexport default ForgotPassword\r\n"],"names":["interval","message","setMessage","useState","useEffect","timeout","setTimeout","clearTimeout","validationSchema","Yup","shape","email","required","props","disableSubmit","className","signInUrl","emailSent","setEmailSent","useTimeOutMessage","type","showIcon","initialValues","onSubmit","values","setSubmitting","async","apiForgotPassword","data","window","open","errors","response","status","toString","onSendMail","touched","isSubmitting","invalid","errorMessage","size","autoComplete","name","placeholder","component","Input","block","loading","variant","to"],"sourceRoot":""}