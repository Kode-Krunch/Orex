{"version":3,"file":"static/js/1360.0c5f9582.chunk.js","mappings":"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","sources":["services/DealServices.js","views/Salesadmin/SpotRescheduling/SpotRescheduling.js"],"sourcesContent":["import appConfig from 'configs/app.config';\r\nimport ApiService from './ApiService';\r\nimport { convertDateToYMD } from 'components/validators';\r\n\r\nconst axios = require('axios');\r\n\r\nconst APIURL = process.env.APIURL;\r\nexport async function apidealmasterBYID(ID) {\r\n  return ApiService.fetchData({\r\n    url: `/dealmaster/${ID}`,\r\n    method: 'get',\r\n  });\r\n}\r\nexport async function apidealattachmentBYID(dealNumber) {\r\n  return ApiService.fetchData({\r\n    url: `/dealattachment/${dealNumber}`,\r\n    method: 'get',\r\n  });\r\n}\r\nexport async function readUploadedFileByName(fileName) {\r\n  return ApiService.fetchData({\r\n    url: `/dealmaster/readuploadedfile/${fileName}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apidealmasterDealforapprovalBYID(selectedDeal, isApproved, rejectRemark) {\r\n  return ApiService.fetchData({\r\n    url: `/dealmaster/dealforapproval/?DealNumber=${selectedDeal}&IsApproved=${isApproved}&RejectRemark=${rejectRemark}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetdealmaster(param, dateRange) {\r\n  return ApiService.fetchData({\r\n    url: `/dealmaster/?LocationCode=${param.LocationCode}&ChannelCode=${param.ChannelCode\r\n      }&StartDate=${convertDateToYMD(dateRange[0])}&EndDate=${convertDateToYMD(\r\n        dateRange[1],\r\n      )}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetsponsortypemasterdrop(data) {\r\n  return ApiService.fetchData({\r\n    url: '/sponsortypemaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nexport async function apiGetspottypemasterdrop(data) {\r\n  return ApiService.fetchData({\r\n    url: '/spottypemaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nexport async function apiGetdealdetailId(ID) {\r\n  return ApiService.fetchData({\r\n    url: `/dealdetail/${ID}`,\r\n    method: 'get',\r\n  });\r\n}\r\nexport async function apiUSP_Sch_DealConsumptionCheck(ID) {\r\n  return ApiService.fetchData({\r\n    url: `/dealmaster/USP_Sch_DealConsumptionCheck/?DealNumber=${ID}`,\r\n    method: 'get',\r\n  });\r\n}\r\nexport async function apiUSP_Sch_DealConsumptionMonthwise(ID) {\r\n  return ApiService.fetchData({\r\n    url: `/dealmaster/USP_Sch_DealConsumptionMonthwise/?DealNumber=${ID}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetbindstartnendtime(\r\n  DealPeriodToDate,\r\n  DealPeriodFromDate,\r\n  ContentCode,\r\n  OriginalRepeatCode,\r\n  LocationCode,\r\n  ChannelCode,\r\n) {\r\n  return ApiService.fetchData({\r\n    url: `/dealmaster/bindstartnendtime/?LocationCode=${LocationCode}&ChannelCode=${ChannelCode}&DealPeriodToDate=${DealPeriodToDate}&DealPeriodFromDate=${DealPeriodFromDate}&ContentCode=${ContentCode}&OriginalRepeatCode=${OriginalRepeatCode}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apipostbookingdetails(RESCHEDULE, data, IsNtc) {\r\n  return ApiService.fetchData({\r\n    url: `/bookingdetails/bookingchange/?flag=${RESCHEDULE}&IsNtc=${IsNtc}`,\r\n    method: 'put',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetdealDashboard() {\r\n  var d = {\r\n    params: {},\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/USP_DealDashboardSummaryAmount',\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\nexport async function apiCallstoreprocedure_WithOutParam(proc_name, params) {\r\n  var d = {\r\n    params: params,\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\nexport async function apiCallstoreprocedure_WithOutParamEntity(proc_name) {\r\n  var d = {\r\n    params: {},\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\nexport async function apiCallstoreprocedure_WithOutParamreject(proc_name) {\r\n  var d = {\r\n    params: {\r\n      IsApproved: 0,\r\n      IsExpiring: 0,\r\n      IsRejected: 2,\r\n    },\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\nexport async function apiCallstoreprocedure_WithOutParamRRR(\r\n  proc_name,\r\n  date,\r\n  channel,\r\n  loc,\r\n) {\r\n  var d = {\r\n    params: {\r\n      Location: loc,\r\n      Channel: channel,\r\n      FromDate: convertDateToYMD(date[0]),\r\n      Todate: convertDateToYMD(date[1]),\r\n    },\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\nexport async function apiCallstoreprocedure_WithOutParamDash(\r\n  proc_name,\r\n  channel,\r\n  loc,\r\n) {\r\n  var d = {\r\n    params: {\r\n      Location: loc,\r\n      Channel: channel,\r\n    },\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\n\r\nexport async function apiCallstoreprocedure_WithOutParamgg(\r\n  proc_name,\r\n  BookingCode,\r\n  IsNTC,\r\n) {\r\n  var d = {\r\n    params: { Bookingcode: BookingCode, IsNTC: IsNTC },\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\n\r\nexport async function apiCallstoreprocedure_WithOutParamstatus(\r\n  proc_name,\r\n  data,\r\n) {\r\n  var d = {\r\n    params: {},\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\n\r\nexport async function apiDashboardDoughnut(format) {\r\n  var d = {\r\n    params: {\r\n      CheckMonth: format,\r\n    },\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/USP_DealDashboardDoughnut',\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\n\r\nexport async function apiCallforbookdeatil(proc_name, f) {\r\n  var d = {\r\n    params: { BookingNumber: f, deallineitemno: 0 },\r\n  };\r\n\r\n  return ApiService.fetchData({\r\n    url: '/callstoreprocedure/' + proc_name,\r\n    data: d,\r\n    method: 'post',\r\n  });\r\n}\r\n\r\nexport async function apiGetExchangeRatesForBaseCurrency(baseCurShortName) {\r\n  return ApiService.fetchData({\r\n    url: `currencyexchangerate/?basecurrency=${baseCurShortName}`,\r\n    method: 'post',\r\n  });\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport {\r\n  apiGetclientmasterdropmaster,\r\n  apiGetspotcancellation,\r\n} from 'services/CreditcontrolService';\r\nimport { Button, Card, Dialog, Tag } from 'components/ui';\r\nimport HeaderExtra from 'views/Controls/HeaderExtra';\r\nimport DatePickerRange from 'components/ui/DatePicker/DatePickerRange';\r\nimport SearchInput from 'views/Controls/SearchInput';\r\nimport { StickyFooter } from 'components/shared';\r\nimport {\r\n  getDateFromDateTime,\r\n  getMissingObjectsInSubJSONArray,\r\n  openNotification,\r\n  parseDuration,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport { hideStackedSideNav_secondary } from 'views/Scheduling/general';\r\nimport { HiClock, HiOutlineClipboardCheck } from 'react-icons/hi';\r\nimport classNames from 'classnames';\r\nimport DatePicker from 'components/ui/DatePicker';\r\nimport { apipostbookingdetails } from 'services/DealServices';\r\nimport { useSelector } from 'react-redux';\r\nimport ReportsTable from 'views/Controls/ReportsTable/ReportsTable';\r\nimport { reportsTableEnum } from 'views/Controls/ReportsTable/enums/ReportsTableEnums';\r\n\r\nconst COLUMNS = [\r\n  {\r\n    header: 'Agency',\r\n    accessorKey: 'AgencyName',\r\n  },\r\n  {\r\n    header: 'Client',\r\n    accessorKey: 'ClientName',\r\n  },\r\n  {\r\n    header: 'Brand',\r\n    accessorKey: 'BrandName',\r\n  },\r\n  {\r\n    header: 'Commercial',\r\n    accessorKey: 'CommercialCaption',\r\n  },\r\n  {\r\n    header: 'Duration',\r\n    accessorKey: 'CommercialDuration',\r\n  },\r\n  {\r\n    header: 'Content',\r\n    accessorKey: 'ContentName',\r\n  },\r\n  {\r\n    header: 'Schedule Date',\r\n    accessorKey: 'BookingScheduleDate',\r\n  },\r\n  {\r\n    header: 'Re-Schedule Date',\r\n    accessorKey: 'BookingRescheduleDate',\r\n  },\r\n  {\r\n    header: 'Schedule Time',\r\n    accessorKey: 'ScheduleTime',\r\n  },\r\n  {\r\n    header: 'Spot Rate',\r\n    accessorKey: 'SpotRate',\r\n  },\r\n  {\r\n    header: 'Spot Amount',\r\n    accessorKey: 'SpotAmount',\r\n  },\r\n  {\r\n    header: 'Line Item From Date',\r\n    accessorKey: 'LineItemFromDate',\r\n  },\r\n  {\r\n    header: 'Line Item End Date',\r\n    accessorKey: 'LineItemEndDate',\r\n  },\r\n  { header: 'BookingCode', accessorKey: 'BookingCode' },\r\n];\r\n\r\nconst SpotRescheduling = () => {\r\n  /* REDUX */\r\n\r\n  const currentHref = window.location.href; // Get the full URL\r\n  const hashPart = currentHref.split('#')[1]; // Get the part after the '#'\r\n  const spotBooking = hashPart ? hashPart.split('/')[1] : ''; // Extract \"SpotBooking\"\r\n\r\n  let path =\r\n    spotBooking == 'SpotRescheduling' || spotBooking == 'DropSpotReschedule'\r\n      ? 0\r\n      : 1;\r\n  let IsDropSpotPage = spotBooking.toLowerCase().includes('drop') ? 1 : 0;\r\n  /* STATES */\r\n  const Channel = useSelector((state) => state.locale.selectedChannel);\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [selectedItem, setSelectedItem] = useState([]);\r\n  const [clientList, setClientList] = useState(['']);\r\n  const [formState, setFormState] = useState({});\r\n  const [tableData, setTableData] = useState([]);\r\n  const [prevSelectedRowData, setPrevSelectedRowData] = useState([]);\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [distinctdata, setDistinctData] = useState([]);\r\n  const [summaryData, setSummarydata] = useState([]);\r\n  const [isFinalSummaryDialogOpen, setIsFinalSummaryDialogOpen] =\r\n    useState(false);\r\n  const [managedColumns, setManagedColumns] = useState([]);\r\n  const [paginationState, setPaginationState] = useState({\r\n    pageIndex: 0,\r\n    pageSize: 10,\r\n  });\r\n  const [rowSelection, setRowSelection] = useState({});\r\n  const [initialLoad, setInitialLoad] = useState(true);\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    try {\r\n      if (initialLoad) {\r\n        hideStackedSideNav_secondary();\r\n        (async (values) => {\r\n          const response = await apiGetclientmasterdropmaster(values);\r\n          const clientListOptions = response.data.map((client) => ({\r\n            label: client.ClientName,\r\n            value: client.ClientCode,\r\n          }));\r\n          setClientList(clientListOptions);\r\n        })();\r\n        setInitialLoad(false);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [initialLoad]);\r\n\r\n  useEffect(() => {\r\n    resetData();\r\n  }, [spotBooking]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (\r\n        formState?.datesrange?.length === 2 &&\r\n        formState.datesrange[0] &&\r\n        formState.datesrange[1]\r\n      ) {\r\n        let bookingstatusFlag = 'B R';\r\n        console.log('Channel', Channel);\r\n        if (IsDropSpotPage == 1) {\r\n          bookingstatusFlag = 'E';\r\n        }\r\n        const resp = await apiGetspotcancellation(\r\n          formState,\r\n          selectedItem,\r\n          0,\r\n          bookingstatusFlag,\r\n          path,\r\n          Channel.LocationCode,\r\n          Channel.ChannelCode,\r\n        );\r\n        if (resp?.data?.length > 0) {\r\n          const updatedData = resp.data.map((row) => ({\r\n            ...row,\r\n            RescheduleDate: '-',\r\n            BookingRescheduleDate: '-',\r\n          }));\r\n\r\n          setTableData(updatedData);\r\n        } else {\r\n          setTableData([]);\r\n        }\r\n      }\r\n    })();\r\n  }, [formState.datesrange, Channel]);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      if (formState.rescheduleDate) {\r\n        setCheckboxDisabilityInTableData(formState.rescheduleDate);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [formState.rescheduleDate]);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      setDistinctData(getDistinctSums(selectedRows));\r\n      calculateSums(selectedRows);\r\n      updateTableDataWithRescheduleDate();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [selectedRows]);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleRescheduleDateChange = (event) => {\r\n    try {\r\n      const year = event.getFullYear();\r\n      const monthsAbbreviation = [\r\n        'Jan',\r\n        'Feb',\r\n        'Mar',\r\n        'Apr',\r\n        'May',\r\n        'Jun',\r\n        'Jul',\r\n        'Aug',\r\n        'Sep',\r\n        'Oct',\r\n        'Nov',\r\n        'Dec',\r\n      ];\r\n      const monthAbbr = monthsAbbreviation[event.getMonth()];\r\n      const month = String(event.getMonth() + 1).padStart(2, '0');\r\n      const day = String(event.getDate()).padStart(2, '0');\r\n      const formattedRescheduleDate = `${year}-${month}-${day}T00:00:00`;\r\n      const formattedBookingRescheduleDate = `${event.getDate()}-${monthAbbr}-${year}`;\r\n\r\n      setFormState((prevFormState) => {\r\n        return {\r\n          ...prevFormState,\r\n          rescheduleDate: formattedRescheduleDate,\r\n          bookingRescheduleDate: formattedBookingRescheduleDate,\r\n        };\r\n      });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleConfirm = async () => {\r\n    const finalData = tableData\r\n      .filter((row) => row.RescheduleDate !== '-')\r\n      .map((item) => ({\r\n        Id: item.Id,\r\n        RescheduleDate: getDateFromDateTime(item.RescheduleDate),\r\n        CommercialCode: item.CommercialCode,\r\n        BookingStatus: item.BookingStatus,\r\n      }));\r\n    try {\r\n      const resp = await apipostbookingdetails('RESCHEDULE', finalData, path);\r\n      if (resp.status === 200) {\r\n        setIsFinalSummaryDialogOpen(false);\r\n        resetData();\r\n        openNotification('success', 'Spot Rescheduled successfully');\r\n        return;\r\n      }\r\n    } catch (error) {\r\n      if (error.response.status === 500) {\r\n        openNotification('danger', 'Server Error.');\r\n        return;\r\n      }\r\n    }\r\n  };\r\n\r\n  /* HELPER FUNCTIONS */\r\n  const setCheckboxDisabilityInTableData = (rescheduleDate) => {\r\n    try {\r\n      const rescheduleDateObj = new Date(rescheduleDate);\r\n      rescheduleDateObj.setHours(0, 0, 0, 0);\r\n      setTableData((oldState) => {\r\n        const newState = Object.assign([], oldState);\r\n        newState.forEach((curRow) => {\r\n          const lineItemFromDateObj = new Date(curRow.LineItemFromDate);\r\n          lineItemFromDateObj.setHours(0, 0, 0, 0);\r\n          const lineItemEndDateObj = new Date(curRow.LineItemEndDate);\r\n          lineItemEndDateObj.setHours(0, 0, 0, 0);\r\n          if (\r\n            rescheduleDateObj >= lineItemFromDateObj &&\r\n            rescheduleDateObj <= lineItemEndDateObj\r\n          ) {\r\n            curRow.disableSelection = false;\r\n          } else curRow.disableSelection = true;\r\n        });\r\n        return newState;\r\n      });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const getDistinctSums = (selectedRowData) => {\r\n    try {\r\n      if (!Array.isArray(selectedRowData)) {\r\n        return [];\r\n      }\r\n      const result = selectedRowData.reduce((acc, item) => {\r\n        if (item) {\r\n          const key = `${item.CommercialCaption}-${item.CommercialDuration}`;\r\n          if (!acc[key]) {\r\n            acc[key] = {\r\n              CommercialCaption: item.CommercialCaption,\r\n              CommercialDuration: item.CommercialDuration,\r\n              CurrencySymbol: item.CurrencySymbol,\r\n              SpotAmountSum: 0,\r\n              TotalDuration: 0,\r\n              TotalCount: 0,\r\n            };\r\n          }\r\n          acc[key].SpotAmountSum += item.SpotAmount;\r\n          acc[key].TotalDuration += parseDuration(item.CommercialDuration);\r\n          acc[key].TotalCount++;\r\n          return acc;\r\n        }\r\n      }, {});\r\n      return Object.values(result || 0);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const calculateSums = (selectedRowData) => {\r\n    try {\r\n      const sums = selectedRowData.reduce(\r\n        (acc, item) => {\r\n          if (item) {\r\n            acc.spotAmountSum += item.SpotAmount;\r\n            acc.spotRateSum += item.SpotRate;\r\n            acc.Duration += parseDuration(item.CommercialDuration);\r\n          }\r\n          return acc;\r\n        },\r\n        { spotAmountSum: 0, spotRateSum: 0, Duration: 0 },\r\n      );\r\n      setSummarydata(sums);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const updateTableDataWithRescheduleDate = () => {\r\n    try {\r\n      let tableDataWithUpdatedRescheduleDate = Object.assign([], tableData);\r\n      if (prevSelectedRowData.length < selectedRows.length) {\r\n        selectedRows.forEach((row) => {\r\n          if (row.RescheduleDate === '-' && row.disableSelection === false) {\r\n            tableDataWithUpdatedRescheduleDate[row.rowIndex].RescheduleDate =\r\n              formState.rescheduleDate;\r\n            tableDataWithUpdatedRescheduleDate[\r\n              row.rowIndex\r\n            ].BookingRescheduleDate = formState.bookingRescheduleDate;\r\n          }\r\n        });\r\n      } else {\r\n        const unselectedRows = getMissingObjectsInSubJSONArray(\r\n          prevSelectedRowData,\r\n          selectedRows,\r\n          'rowIndex',\r\n        );\r\n        unselectedRows.forEach((row) => {\r\n          tableDataWithUpdatedRescheduleDate[row.rowIndex].RescheduleDate = '-';\r\n          tableDataWithUpdatedRescheduleDate[\r\n            row.rowIndex\r\n          ].BookingRescheduleDate = '-';\r\n        });\r\n      }\r\n      setPrevSelectedRowData(selectedRows);\r\n      setTableData(tableDataWithUpdatedRescheduleDate);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const resetData = () => {\r\n    setInputValue('');\r\n    setSelectedItem([]);\r\n    // setClientList(['']);\r\n    setFormState({});\r\n    setTableData([]);\r\n    setPrevSelectedRowData([]);\r\n    setSelectedRows([]);\r\n    setDistinctData([]);\r\n    setSummarydata([]);\r\n    setIsFinalSummaryDialogOpen(false);\r\n    setManagedColumns([]);\r\n    setPaginationState({\r\n      pageIndex: 0,\r\n      pageSize: 10,\r\n    });\r\n    setRowSelection({});\r\n    // setOldPath(null);\r\n    setInitialLoad(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Card header={<HeaderExtra />}>\r\n        <div className=\"mb-5\">\r\n          <div className=\"grid grid-cols-4 gap-x-5\">\r\n            <div className=\"col-span-4\">\r\n              <p className=\"lbale\">Search Client</p>\r\n              {clientList && (\r\n                <SearchInput\r\n                  className={'block'}\r\n                  SelectedItem={selectedItem}\r\n                  setSelectedItem={setSelectedItem}\r\n                  data={clientList}\r\n                  placeholder=\"Search Client...\"\r\n                  setInputValue={setInputValue}\r\n                  InputValue={inputValue}\r\n                  ResetData={resetData}\r\n                ></SearchInput>\r\n              )}\r\n            </div>\r\n            <div className=\"col-span-1\">\r\n              {selectedItem?.length != 0 && (\r\n                <>\r\n                  <p className=\"lbale\">Select Date Range</p>\r\n                  <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                    <DatePickerRange\r\n                      placeholder=\"Select date range\"\r\n                      minDate={new Date()}\r\n                      style={{ fontSize: '15px', marginRight: '10px' }}\r\n                      onChange={(e) => {\r\n                        setFormState((prevFormState) => ({\r\n                          ...prevFormState,\r\n                          datesrange: e,\r\n                        }));\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n            <div className=\"col-span-1\">\r\n              {selectedItem?.length != 0 &&\r\n                formState?.datesrange?.length === 2 &&\r\n                formState?.datesrange[0] &&\r\n                formState?.datesrange[1] && (\r\n                  <>\r\n                    <p className=\"lbale\">Reschedule To</p>\r\n                    <DatePicker\r\n                      minDate={new Date()}\r\n                      placeholder=\"Pick a date\"\r\n                      onChange={(event) => {\r\n                        handleRescheduleDateChange(event);\r\n                      }}\r\n                      clearable={false}\r\n                    />\r\n                  </>\r\n                )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {tableData.length > 0 && (\r\n          <>\r\n            {formState.rescheduleDate ? (\r\n              <ReportsTable\r\n                tableData={tableData}\r\n                tableName={'spotRescheduling'}\r\n                originalColumns={COLUMNS}\r\n                managedColumns={managedColumns}\r\n                setManagedColumns={setManagedColumns}\r\n                exportFile={false}\r\n                columnsToFormatInINR={[]}\r\n                tableType={reportsTableEnum.tableTypes.SELECTABLE}\r\n                setSelectedRows={setSelectedRows}\r\n                paginationState={paginationState}\r\n                setPaginationState={setPaginationState}\r\n                rowSelection={rowSelection}\r\n                setRowSelection={setRowSelection}\r\n              />\r\n            ) : (\r\n              <ReportsTable\r\n                tableData={tableData}\r\n                tableName={'spotRescheduling'}\r\n                originalColumns={COLUMNS}\r\n                managedColumns={managedColumns}\r\n                setManagedColumns={setManagedColumns}\r\n                exportFile={false}\r\n                columnsToFormatInINR={[]}\r\n              />\r\n            )}\r\n          </>\r\n        )}\r\n      </Card>\r\n      {selectedRows.length > 0 && (\r\n        <StickyFooter\r\n          className=\"-mx-8 px-8 flex items-center justify-between py-4 pt-2 pb-2\"\r\n          stickyClass=\"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700\"\r\n        >\r\n          <div className=\"md:flex items-center\">\r\n            <Button\r\n              onClick={() => setIsFinalSummaryDialogOpen(true)}\r\n              variant=\"solid\"\r\n              type=\"submit\"\r\n              size=\"sm\"\r\n            >\r\n              Proceed to Reschedule\r\n            </Button>\r\n            &nbsp;\r\n            <Button onClick={() => resetData()} type=\"button\" size=\"sm\">\r\n              Discard\r\n            </Button>\r\n          </div>\r\n          <div\r\n            id=\"myblock\"\r\n            className=\"grid grid-cols-4 md:grid-cols-4 lg:grid-cols-4 gap-6 p-4 pt-0 pb-1 bg-gray-100 dark:bg-gray-800\"\r\n          >\r\n            <div className=\"flex flex-col lbl\">\r\n              <span className=\"font-medium text-gray-600 dark:text-gray-300 text-sm\">\r\n                Total Spots\r\n              </span>\r\n              <span className=\"font-medium text-lg text-teal-500\">\r\n                {tableData.length}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex flex-col lbl\">\r\n              <span className=\"font-medium text-gray-600 dark:text-gray-300 text-sm\">\r\n                Selected Spots\r\n              </span>\r\n              <span className=\"font-medium text-lg text-teal-500\">\r\n                {selectedRows.length}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex flex-col lbl\">\r\n              <span className=\"font-medium text-gray-600 dark:text-gray-300 text-sm\">\r\n                Duration\r\n              </span>\r\n              <span className=\"font-medium text-lg text-teal-500\">\r\n                {summaryData?.Duration}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex flex-col lbl\">\r\n              <span className=\"font-medium text-gray-600 dark:text-gray-300 text-sm\">\r\n                Spot Amount\r\n              </span>\r\n              <span className=\"font-medium text-lg text-teal-500\">\r\n                {summaryData?.spotAmountSum}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </StickyFooter>\r\n      )}\r\n\r\n      <Dialog\r\n        isOpen={isFinalSummaryDialogOpen}\r\n        onClose={() => setIsFinalSummaryDialogOpen(false)}\r\n        onRequestClose={() => setIsFinalSummaryDialogOpen(false)}\r\n      >\r\n        <Card>\r\n          {distinctdata.map((item, index) => (\r\n            <div key={index}>\r\n              <div>\r\n                <div\r\n                  className={classNames(\r\n                    'flex items-center justify-between rounded-lg p-2 cursor-pointer user-select',\r\n                    'bg-gray-50 dark:bg-gray-700/60 hover:bg-gray-100 dark:hover:bg-gray-700/90',\r\n                    'mb-3',\r\n                  )}\r\n                >\r\n                  <div className=\"flex items-center rounded-full font-semibold text-xs\">\r\n                    <div className=\"flex items-center px-2 py-1 border border-gray-300 rounded-full  mr-2\">\r\n                      <HiOutlineClipboardCheck className=\"text-base\" />\r\n                      <span className=\"ml-1 rtl:mr-1 whitespace-nowrap\">\r\n                        {item.TotalCount}\r\n                      </span>\r\n                    </div>\r\n                    {'  '}\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"text-gray-900 dark:text-gray-300 text-xs\">\r\n                        {item.CommercialCaption} [{item.CommercialDuration}]\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-gray-900 dark:text-gray-300 text-lg\">\r\n                    <Tag showCloseButton={false}>\r\n                      <div className=\"flex items-center text-sm\">\r\n                        <span className=\"mr-1\">\r\n                          <HiClock />\r\n                        </span>{' '}\r\n                        {item.TotalDuration} sec\r\n                      </div>\r\n                    </Tag>\r\n                  </div>\r\n                  <div className=\"text-gray-900 dark:text-gray-300 text-lg\">\r\n                    <Tag showCloseButton={false}>\r\n                      <span className=\"text-lg\">\r\n                        {item.CurrencySymbol} {item.SpotAmountSum}\r\n                      </span>\r\n                    </Tag>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </Card>\r\n        <div className=\"text-right mt-6 \">\r\n          <Button\r\n            variant=\"solid\"\r\n            className=\"mr-2\"\r\n            onClick={() => handleConfirm()}\r\n          >\r\n            Confirm\r\n          </Button>\r\n          <Button onClick={() => setIsFinalSummaryDialogOpen(false)}>\r\n            Close\r\n          </Button>\r\n        </div>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SpotRescheduling;\r\n"],"names":["require","async","apidealmasterBYID","ID","ApiService","url","method","apidealattachmentBYID","dealNumber","apidealmasterDealforapprovalBYID","selectedDeal","isApproved","rejectRemark","apiGetdealmaster","param","dateRange","LocationCode","ChannelCode","convertDateToYMD","apiGetsponsortypemasterdrop","data","apiGetspottypemasterdrop","apiGetdealdetailId","apiUSP_Sch_DealConsumptionCheck","apiGetbindstartnendtime","DealPeriodToDate","DealPeriodFromDate","ContentCode","OriginalRepeatCode","apipostbookingdetails","RESCHEDULE","IsNtc","apiCallstoreprocedure_WithOutParam","proc_name","params","d","apiCallstoreprocedure_WithOutParamEntity","apiCallstoreprocedure_WithOutParamgg","BookingCode","IsNTC","Bookingcode","apiDashboardDoughnut","format","CheckMonth","apiCallforbookdeatil","f","BookingNumber","deallineitemno","apiGetExchangeRatesForBaseCurrency","baseCurShortName","COLUMNS","header","accessorKey","hashPart","window","location","href","split","spotBooking","path","IsDropSpotPage","toLowerCase","includes","Channel","useSelector","state","locale","selectedChannel","inputValue","setInputValue","useState","selectedItem","setSelectedItem","clientList","setClientList","formState","setFormState","tableData","setTableData","prevSelectedRowData","setPrevSelectedRowData","selectedRows","setSelectedRows","distinctdata","setDistinctData","summaryData","setSummarydata","isFinalSummaryDialogOpen","setIsFinalSummaryDialogOpen","managedColumns","setManagedColumns","paginationState","setPaginationState","pageIndex","pageSize","rowSelection","setRowSelection","initialLoad","setInitialLoad","useEffect","hideStackedSideNav_secondary","clientListOptions","apiGetclientmasterdropmaster","map","client","label","ClientName","value","ClientCode","error","console","resetData","datesrange","length","bookingstatusFlag","log","resp","apiGetspotcancellation","updatedData","row","RescheduleDate","BookingRescheduleDate","rescheduleDate","setCheckboxDisabilityInTableData","getDistinctSums","calculateSums","updateTableDataWithRescheduleDate","rescheduleDateObj","Date","setHours","oldState","newState","Object","assign","forEach","curRow","lineItemFromDateObj","LineItemFromDate","lineItemEndDateObj","LineItemEndDate","disableSelection","selectedRowData","Array","isArray","result","reduce","acc","item","key","CommercialCaption","CommercialDuration","CurrencySymbol","SpotAmountSum","TotalDuration","TotalCount","SpotAmount","parseDuration","values","sums","spotAmountSum","spotRateSum","SpotRate","Duration","tableDataWithUpdatedRescheduleDate","rowIndex","bookingRescheduleDate","getMissingObjectsInSubJSONArray","className","SelectedItem","placeholder","InputValue","ResetData","style","display","alignItems","minDate","fontSize","marginRight","onChange","e","prevFormState","event","year","getFullYear","monthAbbr","getMonth","month","String","padStart","day","getDate","formattedRescheduleDate","formattedBookingRescheduleDate","handleRescheduleDateChange","clearable","tableName","originalColumns","exportFile","columnsToFormatInINR","tableType","reportsTableEnum","stickyClass","onClick","variant","type","size","id","isOpen","onClose","onRequestClose","index","classNames","showCloseButton","finalData","filter","Id","getDateFromDateTime","CommercialCode","BookingStatus","status","openNotification","response","handleConfirm"],"sourceRoot":""}