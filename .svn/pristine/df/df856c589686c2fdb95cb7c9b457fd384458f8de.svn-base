"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[2758,5682],{45682:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var s=n(2803),l=(n(72791),n(80184));const a=function(e){let{showLoader:t}=e;return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsx)("div",{className:"dialog-overlay flex justify-center items-center z-50",children:(0,l.jsx)(s.$j,{size:"3.25rem"})}):(0,l.jsx)(l.Fragment,{})})}},42758:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var s=n(1413),l=n(72791),a=n(28536),o=n(60488),r=n(91615),i=n(81320),c=n(29851),d=n(60364),u=n(54748),m=n(21260),h=n(78971),f=n(8458),x=n(45682),E=n(9494),p=n(43235),T=n(2803),y=n(84373),g=n(79065),v=n(34067),N=n(80184);const S=function(){const e=(0,d.useSelector)((e=>e.auth.session.token)),{schedulingTableData:t,schedulingTableSelectedRows:n,setLeftClickedSchTableRow:s,setActiveFeatures:a,isScheduleAllowedToEdit:o,secondaryAreaZindexRef:u,page:h,setSecondaryTableName:E}=(0,l.useContext)(r.Z),[p,S]=(0,l.useState)([]),[w,b]=(0,l.useState)({originalColumns:[],visibleColumns:[],removedColumns:[]}),[j,C]=(0,l.useState)(null),[O,R]=(0,l.useState)(!0),_=(0,l.useRef)(null);(0,l.useEffect)((()=>{(async()=>{try{let e=null;if(1===n.length?(C(n[0]),s(n[0]),e=n[0]):e=j,e){let n=[];n=e.F_C_S_P!==m.rowDataTypesEnum.NTC?t.filter((t=>t.F_C_S_P===e.F_C_S_P&&t.Event_Name===e.Event_Name)):"BookingDetailID"in e?t.filter((t=>t.F_C_S_P===m.rowDataTypesEnum.NTC&&t.Event_Name===e.Event_Name&&"BookingDetailID"in t)):t.filter((t=>t.F_C_S_P===m.rowDataTypesEnum.NTC&&t.Event_Name===e.Event_Name&&!("BookingDetailID"in t))),S(n),R(!0),_.current||await I(n)}}catch(e){console.error(e),(0,i.openNotification)("danger","Something went wrong while loading rotation info")}finally{R(!1)}})()}),[t,n]);const I=async t=>{const n=h===m.pagesEnum.PROMO?f.T9.SECONDARY_TABLE_NAMES.PROMO_ROTATION_INFO:h===m.pagesEnum.SONG?f.T9.SECONDARY_TABLE_NAMES.SONG_ROTATION_INFO:h===m.pagesEnum.COMMERCIAL?f.T9.SECONDARY_TABLE_NAMES.COMMERCIAL_ROTATION_INFO:h===m.pagesEnum.NTC?f.T9.SECONDARY_TABLE_NAMES.NTC_ROTATION_INFO:f.T9.SECONDARY_TABLE_NAMES.FINAL_LOG_ROTATION_INFO;E(n);const s=["actions","customCellColor","cellWarning"],{visibleColumns:l,removedColumns:a}=await(0,c.tn)(n,t,e,void 0,s),o={originalColumns:(0,c.UW)(t,void 0,s),visibleColumns:l,removedColumns:a};b(o),_.current=o};return(0,N.jsxs)("div",{className:"h-full w-full flex flex-col bg-gray-800 p-3 pt-2 rounded-lg absolute top-0 left-0 overflow-scroll no-scrollbar",style:{zIndex:u.current[m.featuresEnum.ROTATION_INFO]},children:[(0,N.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,N.jsxs)("div",{className:"flex items-center gap-3",children:[(0,N.jsx)("h5",{children:"Rotation Info"}),p.length>0&&(0,N.jsx)("h6",{className:"rounded-md px-1.5 py-0.5 bg-gray-600 flex items-center justify-center",children:p.length})]}),(0,N.jsx)("div",{className:"flex gap-1.5",children:(0,N.jsx)(T.u,{title:"Close",children:(0,N.jsx)(T.zx,{size:"xs",icon:(0,N.jsx)(y.QAE,{}),onClick:()=>{(0,c.FG)(a,m.featuresEnum.ROTATION_INFO)}})})})]}),(0,N.jsx)("div",{className:"h-[92%] flex flex-col gap-3",children:p.length>0?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"grow overflow-scroll",children:(0,N.jsx)(g.Z,{columns:w.visibleColumns,tableData:p})}),o&&(0,N.jsx)(v.Z,{rotationInfoTableData:p})]}):(0,N.jsx)(T.Zb,{className:"h-full w-full",bodyClass:"h-full w-full flex justify-center items-center p-2",children:"Please select an event"})}),(0,N.jsx)(x.default,{showLoader:O})]})},w=(0,l.lazy)((()=>Promise.all([n.e(1578),n.e(71),n.e(203),n.e(3524),n.e(3479),n.e(7692),n.e(1213),n.e(1938)]).then(n.bind(n,1938)))),b=(0,l.lazy)((()=>n.e(4569).then(n.bind(n,19279)))),j=(0,l.lazy)((()=>n.e(1859).then(n.bind(n,31859)))),C=(0,l.lazy)((()=>Promise.all([n.e(71),n.e(715),n.e(1900)]).then(n.bind(n,84870)))),O=(0,l.lazy)((()=>Promise.all([n.e(1578),n.e(71),n.e(203),n.e(3524),n.e(3479),n.e(715),n.e(1009),n.e(1900),n.e(3516),n.e(6436)]).then(n.bind(n,16436)))),R=(0,l.lazy)((()=>Promise.all([n.e(1578),n.e(71),n.e(203),n.e(3524),n.e(3479),n.e(715),n.e(1009),n.e(1900),n.e(3516),n.e(8491)]).then(n.bind(n,18491)))),_=(0,l.lazy)((()=>Promise.all([n.e(1578),n.e(71),n.e(203),n.e(3524),n.e(3479),n.e(715),n.e(1900),n.e(3516),n.e(5403)]).then(n.bind(n,35403)))),I=(0,l.lazy)((()=>Promise.all([n.e(1578),n.e(71),n.e(203),n.e(3524),n.e(3479),n.e(715),n.e(1900),n.e(3516),n.e(481)]).then(n.bind(n,10481)))),D=(0,l.lazy)((()=>Promise.all([n.e(1578),n.e(71),n.e(203),n.e(3524),n.e(3479),n.e(715),n.e(1009),n.e(1900),n.e(3516),n.e(4718)]).then(n.bind(n,44718)))),A=(0,l.lazy)((()=>n.e(881).then(n.bind(n,10881)))),P=(0,l.lazy)((()=>n.e(4186).then(n.bind(n,74186)))),L=(0,l.lazy)((()=>Promise.all([n.e(71),n.e(715),n.e(1900),n.e(9496)]).then(n.bind(n,39496)))),M=(0,l.lazy)((()=>n.e(9999).then(n.bind(n,99999)))),F=(0,l.lazy)((()=>Promise.all([n.e(1578),n.e(3516),n.e(9891)]).then(n.bind(n,19891)))),z=(0,l.lazy)((()=>n.e(6173).then(n.bind(n,86173)))),k=(0,l.lazy)((()=>n.e(5733).then(n.bind(n,75733)))),U=(0,l.lazy)((()=>n.e(6762).then(n.bind(n,26762)))),G=(0,l.lazy)((()=>Promise.all([n.e(71),n.e(7415)]).then(n.bind(n,47415)))),Z=(0,l.lazy)((()=>Promise.all([n.e(3853),n.e(862)]).then(n.bind(n,50862)))),W=(0,l.lazy)((()=>Promise.resolve().then(n.bind(n,37783)))),H=(0,l.lazy)((()=>n.e(2927).then(n.bind(n,82927))));const B=function(){var e,t,n,T,y,g,v,B,Y,K,q,V,X,J,$,Q;const ee=(0,d.useSelector)((e=>e.locale.selectedChannel)),te=(0,d.useSelector)((e=>e.auth.session.token)),ne=(0,d.useSelector)((e=>e.auth.session.LoginId)),se=(0,d.useSelector)((e=>e.auth.scheduling.unsavedWork)),le=(0,d.useSelector)((e=>e.auth.scheduling.resizableAreaRContainerWidth)),ae=(0,d.useSelector)((e=>e.auth.scheduling.resizableAreaTContainerHeight)),oe=(0,d.useDispatch)(),{page:re,date:ie,activeFeatures:ce,loadUnsavedWork:de,unsavedWorkState:ue,updateSchedulerStateInRedux:me,schedulingTableData:he,schedulingTableOffset:fe,schedulingTableManagedColumns:xe,schedulingTableSelectedRows:Ee,setSchedulingTableSelectedRows:pe,schedulingTableRef:Te,setShowLoader:ye,setStartTime:ge,executeOperation:ve,isScheduleAllowedToEdit:Ne,setIsScheduleAllowedToEdit:Se}=(0,l.useContext)(r.Z),[we,be]=(0,l.useState)(!1),je=(0,l.useRef)(null),Ce=(0,l.useRef)(null),Oe=(0,l.useRef)(null),Re=(0,l.useRef)(le),_e=(0,l.useRef)(ae);(0,l.useEffect)((()=>{try{(0,o.SE)(),document.querySelector(".page-container").classList.add("!py-2")}catch(e){console.error(e)}return()=>{document.querySelector(".page-container").classList.remove("!py-2"),Ae()}}),[]),(0,l.useEffect)((()=>{(async()=>{try{if(!re||!ee||!ie||null===Ne)return;ye(!0),de&&ue?await ve({operation:m.operationTypesEnum.INITIALIZE_SCHEDULER,isFirstLoad:!0,isLoadUnsavedWork:!0}):await ve({operation:m.operationTypesEnum.INITIALIZE_SCHEDULER,isFirstLoad:!0}),ye(!1)}catch(e){(0,i.openNotification)("danger","Something went wrong while fetching schedule"),ye(!1),console.error(e)}})()}),[re,ie,ue,ee,Ne]),(0,l.useEffect)((()=>{(async()=>{ie&&ee&&te&&Se(await(0,c.Eu)(ie,ee,te))})()}),[ie,ee,te]),(0,l.useEffect)((()=>{try{he.length>0&&ge(he[1].Tel_Time)}catch(e){console.error(e)}}),[he]),(0,l.useEffect)((()=>{try{re&&ce&&me&&oe((0,h.OY)((0,s.Z)((0,s.Z)({},se),{},{[re]:(0,s.Z)((0,s.Z)({},se[re]),{},{[(0,u.Tk)(ie)]:{schedulingTableData:he,activeFeatures:ce,timeStamp:new Date}})})))}catch(e){console.error(e)}}),[re,ie,he,ce,me]),(0,l.useEffect)((()=>(document.addEventListener("keydown",De),()=>{document.removeEventListener("keydown",De)})),[Ee]);const Ie=(e,t)=>{const n=t.clientX,s=t.clientY,l=je.current.getBoundingClientRect(),a=Re.current,o=_e.current;function r(t){if("horizontal"===e){const e=n-t.clientX;let s=100*(a*l.width/100+e)/l.width;s=Math.min(50,Math.max(20,s)),Re.current=s,Ce.current.style.width="".concat(s,"%")}else if("vertical"===e){const e=t.clientY-s;let n=100*(o*l.height/100+e)/l.height;n=Math.min(82,Math.max(50,n)),_e.current=n,Oe.current.style.height="".concat(n,"%")}}document.addEventListener("mousemove",r),document.addEventListener("mouseup",(function e(){oe((0,h.$D)(Re.current)),oe((0,h.Sp)(_e.current)),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",e)}))},De=e=>{"Delete"===e.key&&Ee.length>0&&(0,f.pF)({rows:(0,c.wC)(Ee),executeOperation:ve,setIsDeleteMultipleRowsDialogOpen:be})},Ae=async()=>{try{await(0,E.apiCallstoreprocedure)("USP_Sch_SchedulingSameDay",{Channel:ee.ChannelCode,Location:ee.LocationCode,TelecastDate:(0,p.WU)(ie,"yyyy-MM-dd"),IsOpen:0,OpenBy:ne,Page:re})}catch(e){console.error(e)}};return(0,N.jsx)(l.Suspense,{fallback:(0,N.jsx)(x.default,{showLoader:!0}),children:(0,N.jsx)("div",{className:"h-full flex flex-col",children:ce&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(w,{}),(0,N.jsxs)("div",{className:"grow h-0 select-none w-full flex flex-col",ref:je,children:[(0,N.jsxs)("div",{className:"flex gap-2 my-2",style:{height:"".concat(ae,"%")},ref:Oe,children:[ce[m.featuresEnum.HOURS]&&(0,N.jsx)("div",{className:"h-full min-w-[5%] max-w-max transition-all",children:(0,N.jsx)(b,{})}),ce[m.featuresEnum.FPC_TIME]&&(0,N.jsx)("div",{className:"h-full min-w-[5%] max-w-max transition-all",children:(0,N.jsx)(j,{})}),(0,N.jsxs)(a.Z5,{onDragEnd:e=>ve({operation:m.operationTypesEnum.DRAG_ROW,dragInfo:e}),children:[(0,N.jsx)("div",{className:"h-full bg-gray-800 p-3 pt-2 rounded-lg flex flex-col transition-all ".concat((0,c.Uv)(ce,re)?"flex-1":"w-full"),style:{width:(0,c.Uv)(ce,re)?"flex-1":"100%"},children:(0,N.jsx)(C,{tableName:f.T9.SCHEDULING_TABLE_NAMES[re],tableType:m.tableTypesEnum.SCHEDULING,tableData:he,columns:xe.visibleColumns,droppableId:m.droppableIdsEnum.SCHEDULING,selectedRows:Ee,setSelectedRows:pe,scrolledOffset:fe,tableRef:Te,isSortEnabled:!1})}),(0,c.Uv)(ce,re)&&(0,N.jsx)("div",{className:"resizer flex items-center h-full bg-gray-800 cursor-ew-resize hover:bg-gray-600 rounded-md px-1",title:"Drag to resize","data-direction":"horizontal",onMouseDown:e=>Ie("horizontal",e),children:(0,N.jsx)(H,{orientation:"vertical"})}),(0,c.Uv)(ce,re)&&(0,N.jsxs)("div",{className:"h-full relative",style:{width:"".concat(le,"%")},ref:Ce,children:[re===m.pagesEnum.PROMO&&ce[m.featuresEnum.INSERT]&&(0,N.jsx)(O,{}),re===m.pagesEnum.SONG&&ce[m.featuresEnum.INSERT]&&(0,N.jsx)(R,{}),re===m.pagesEnum.COMMERCIAL&&(null===(e=ce[m.featuresEnum.INSERT])||void 0===e?void 0:e.isActive)&&(0,N.jsx)(N.Fragment,{children:(null===(t=ce[m.featuresEnum.INSERT])||void 0===t?void 0:t.eventType)===m.secondaryTableTypesEnum.DROPPED_SPOTS?(0,N.jsx)(_,{}):(null===(n=ce[m.featuresEnum.INSERT])||void 0===n?void 0:n.eventType)===m.secondaryTableTypesEnum.LAST_MINUTE_SPOTS&&(0,N.jsx)(I,{})}),re===m.pagesEnum.NTC&&(null===(T=ce[m.featuresEnum.INSERT])||void 0===T?void 0:T.isActive)&&(0,N.jsx)(N.Fragment,{children:(null===(y=ce[m.featuresEnum.INSERT])||void 0===y?void 0:y.eventType)===m.secondaryTableTypesEnum.NTC?(0,N.jsx)(D,{}):(null===(g=ce[m.featuresEnum.INSERT])||void 0===g?void 0:g.eventType)===m.secondaryTableTypesEnum.DROPPED_NTC?(0,N.jsx)(A,{}):(null===(v=ce[m.featuresEnum.INSERT])||void 0===v?void 0:v.eventType)===m.secondaryTableTypesEnum.LAST_MINUTE_NTC&&(0,N.jsx)(P,{})}),re===m.pagesEnum.FINAL_LOG&&(null===(B=ce[m.featuresEnum.INSERT])||void 0===B?void 0:B.isActive)&&(0,N.jsx)(N.Fragment,{children:(null===(Y=ce[m.featuresEnum.INSERT])||void 0===Y?void 0:Y.eventType)===m.secondaryTableTypesEnum.PROMO?(0,N.jsx)(O,{}):(null===(K=ce[m.featuresEnum.INSERT])||void 0===K?void 0:K.eventType)===m.secondaryTableTypesEnum.SONG?(0,N.jsx)(R,{}):(null===(q=ce[m.featuresEnum.INSERT])||void 0===q?void 0:q.eventType)===m.secondaryTableTypesEnum.DROPPED_SPOTS?(0,N.jsx)(_,{}):(null===(V=ce[m.featuresEnum.INSERT])||void 0===V?void 0:V.eventType)===m.secondaryTableTypesEnum.LAST_MINUTE_SPOTS?(0,N.jsx)(I,{}):(null===(X=ce[m.featuresEnum.INSERT])||void 0===X?void 0:X.eventType)===m.secondaryTableTypesEnum.NTC?(0,N.jsx)(D,{}):(null===(J=ce[m.featuresEnum.INSERT])||void 0===J?void 0:J.eventType)===m.secondaryTableTypesEnum.DROPPED_NTC?(0,N.jsx)(A,{}):(null===($=ce[m.featuresEnum.INSERT])||void 0===$?void 0:$.eventType)===m.secondaryTableTypesEnum.LAST_MINUTE_NTC?(0,N.jsx)(P,{}):(0,N.jsx)(N.Fragment,{})}),ce[m.featuresEnum.SUMMARY]&&(0,N.jsx)(M,{}),ce[m.featuresEnum.ROTATION_INFO]&&(0,N.jsx)(S,{}),ce[m.featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS]&&(0,N.jsx)(F,{}),ce[m.featuresEnum.RULE_CHECK]&&(null===(Q=ce[m.featuresEnum.RULE_CHECK])||void 0===Q?void 0:Q.isActive)&&(0,N.jsx)(z,{}),ce[m.featuresEnum.CHANGE_PROGRAM]&&(0,N.jsx)(k,{}),ce[m.featuresEnum.MANAGE_SEGMENT]&&(0,N.jsx)(L,{}),ce[m.featuresEnum.HOURWISE_INVENTORY]&&(0,N.jsx)(U,{}),ce[m.featuresEnum.DURATION]&&(0,N.jsx)(G,{})]})]})]}),(0,N.jsx)("div",{className:"resizer flex items-center justify-center w-full bg-gray-800 cursor-ns-resize hover:bg-gray-600 rounded-md py-1",title:"Drag to resize","data-direction":"vertical",onMouseDown:e=>Ie("vertical",e),children:(0,N.jsx)(H,{})}),(0,N.jsx)("div",{className:"flex-1 mt-2 grow",children:(0,N.jsx)(Z,{})})]}),we&&(0,N.jsx)(W,{isDialogOpen:we,setIsDialogOpen:be,selectedRows:(0,c.wC)(Ee),setSelectedRows:pe})]})})})}},37783:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var s=n(2803),l=n(72791),a=n(81320),o=n(21260),r=n(91615),i=n(80184);const c=function(e){let{isDialogOpen:t,setIsDialogOpen:n,selectedRows:c,setSelectedRows:d}=e;const{executeOperation:u,resetAllSelectedRows:m}=(0,l.useContext)(r.Z),[h,f]=(0,l.useState)([]);(0,l.useEffect)((()=>{t&&f(function(){try{let e={};return c.forEach((t=>{Object.keys(e).includes(t.F_C_S_P)?e[t.F_C_S_P].push(t):e[t.F_C_S_P]=[t]})),e}catch(e){console.error(e)}}())}),[c,t]);const x=()=>n(!1);return(0,i.jsxs)(s.Vq,{isOpen:t,onClose:x,onRequestClose:x,children:[(0,i.jsx)("h5",{className:"mb-4",children:"Delete"}),(0,i.jsx)("p",{children:"Are you sure you want to delete below events?"}),(0,i.jsx)("div",{className:"mt-4 flex flex-col gap-4",children:Object.keys(h).map((e=>(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"p-2 bg-gray-600 rounded-full w-7 h-7 flex items-center justify-center text-gray-300",children:h[e].length}),(0,i.jsx)("span",{children:e===o.rowDataTypesEnum.COMMERCIAL?"Commercials":e===o.rowDataTypesEnum.PROMO?"Promos":e===o.rowDataTypesEnum.NTC?"NTCs":e===o.rowDataTypesEnum.SONG?"Songs":e===o.rowDataTypesEnum.CONTENT_TERMINATION?"Content Terminations":e===o.rowDataTypesEnum.SEGMENT?"Segments":"Events"})]},e)))}),(0,i.jsx)("div",{className:"text-right mt-6",children:(0,i.jsx)(s.zx,{variant:"solid",onClick:async()=>{try{u({operation:o.operationTypesEnum.DELETE_ROW,selectedRowsToDelete:c}),m(),(0,a.openNotification)("success","".concat(c.length," events deleted successfully"))}catch(e){(0,a.openNotification)("danger","Something went wrong while deleting events"),d([])}finally{x()}},children:"Delete"})})]})}},96042:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var s=n(2803),l=n(72791),a=n(81320),o=n(21260),r=n(91615),i=n(80184);const c=function(e){let{isDialogOpen:t,setIsDialogOpen:n,selectedRows:c,setSelectedRows:d}=e;const{executeOperation:u}=(0,l.useContext)(r.Z),[m,h]=(0,l.useState)([]);(0,l.useEffect)((()=>{t&&h(function(){try{let e={};return c.forEach((t=>{Object.keys(e).includes(t.F_C_S_P)?e[t.F_C_S_P].push(t):e[t.F_C_S_P]=[t]})),e}catch(e){console.error(e)}}())}),[c,t]);const f=()=>n(!1);return(0,i.jsxs)(s.Vq,{isOpen:t,onClose:f,onRequestClose:f,children:[(0,i.jsx)("h5",{className:"mb-4",children:"Drop"}),(0,i.jsx)("p",{children:"Are you sure you want to drop below events?"}),(0,i.jsx)("div",{className:"mt-4 flex flex-col gap-4",children:Object.keys(m).map((e=>(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("span",{className:"p-2 bg-gray-600 rounded-full w-7 h-7 flex items-center justify-center text-gray-300",children:m[e].length}),(0,i.jsx)("span",{children:e===o.rowDataTypesEnum.COMMERCIAL?"Commercials":e===o.rowDataTypesEnum.PROMO?"Promos":e===o.rowDataTypesEnum.NTC?"NTCs":e===o.rowDataTypesEnum.SONG?"Songs":"Events"})]},e)))}),(0,i.jsx)("div",{className:"text-right mt-6",children:(0,i.jsx)(s.zx,{variant:"solid",onClick:async()=>{try{u({operation:o.operationTypesEnum.DROP_ROW,selectedRowsToDrop:c}),(0,a.openNotification)("success","".concat(c.length," events dropped successfully"))}catch(e){(0,a.openNotification)("danger","Something went wrong while deleting events"),d([])}finally{f()}},children:"Drop"})})]})}},34067:(e,t,n)=>{n.d(t,{Z:()=>f});var s=n(2803),l=n(72791),a=n(17425),o=n(81320),r=n(91615),i=n(37783),c=n(21260),d=n(96042),u=n(16856),m=n(80184);const h=function(e){let{isAllRowsSelected:t,handleSelectAll:n}=e;return(0,m.jsx)(s.u,{title:t?"Un-select all":"Select All",children:(0,m.jsx)(s.zx,{className:"hover:!bg-teal-700 transition-all !h-8 !w-8 ".concat(t&&"!bg-teal-700"),variant:"plain",size:"sm",icon:(0,m.jsx)(u.WHv,{className:"text-[1.2rem]"}),onClick:n})})};const f=function(e){let{rotationInfoTableData:t}=e;const{schedulingTableSelectedRows:n,setSchedulingTableSelectedRows:u,executeOperation:f}=(0,l.useContext)(r.Z),[x,E]=(0,l.useState)(!1),[p,T]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),v=()=>{try{n.length===t.length?(u([]),E(!1)):(u(t),E(!0))}catch(e){(0,o.openNotification)("danger","Something went wrong while selecting all events"),console.error(e)}};return(0,l.useEffect)((()=>{try{n.length===t.length?E(!0):E(!1)}catch(e){console.error(e)}}),[t,n]),(0,m.jsxs)("div",{className:"bg-gray-700 bg-opacity-50 flex gap-0.5 p-0.5 rounded-lg border border-gray-600",children:[(t[0].F_C_S_P===c.rowDataTypesEnum.PROMO||t[0].F_C_S_P===c.rowDataTypesEnum.SONG||t[0].F_C_S_P===c.rowDataTypesEnum.NTC&&!("BookingDetailID"in t[0]))&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.u,{title:"Delete",children:(0,m.jsx)(s.zx,{className:"hover:!bg-red-700 transition-all !h-8 !w-8",variant:"plain",size:"sm",icon:(0,m.jsx)(a.GnT,{className:"text-[1.1rem] -mt-[0.2rem]"}),disabled:0===n.length,onClick:()=>{try{1===n.length?(f({operation:c.operationTypesEnum.DELETE_ROW,selectedRowsToDelete:n}),(0,o.openNotification)("success","Events deleted successfully")):T(!0)}catch(e){(0,o.openNotification)("danger","Something went wrong while deleting events"),console.error(e)}}})}),(0,m.jsx)(h,{isAllRowsSelected:x,handleSelectAll:v}),(0,m.jsx)(i.default,{isDialogOpen:p,setIsDialogOpen:T,selectedRows:n,setSelectedRows:u})]}),t[0].F_C_S_P===c.rowDataTypesEnum.COMMERCIAL&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.u,{title:"Drop Spot",children:(0,m.jsx)(s.zx,{className:"hover:!bg-red-700 transition-all !h-8 !w-8",variant:"plain",size:"sm",icon:(0,m.jsx)(a.dat,{className:"text-[1.1rem] -mt-[0.2rem]"}),disabled:0===n.length,onClick:()=>{try{1===n.length?(f({operation:c.operationTypesEnum.DROP_ROW,selectedRowsToDrop:n}),(0,o.openNotification)("success","Events dropped successfully")):g(!0)}catch(e){(0,o.openNotification)("danger","Something went wrong while dropping events"),console.error(e)}}})}),(0,m.jsx)(h,{isAllRowsSelected:x,handleSelectAll:v}),(0,m.jsx)(d.default,{isDialogOpen:y,setIsDialogOpen:g,selectedRows:n,setSelectedRows:u})]})]})}},79065:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(72791),l=n(8458),a=n(91615),o=n(98707),r=n(80184);const i=function(e){let{columns:t,tableData:n}=e;const{schedulingTableRef:i,schedulingTableSelectedRows:c,setSchedulingTableSelectedRows:d,setLeftClickedSchTableRow:u,maintainScrolledOffsetOfTables:m}=(0,s.useContext)(a.Z),[h,f]=(0,s.useState)(!1),[x,E]=(0,s.useState)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex font-semibold text-white text-[12px] sticky top-0",children:t.map(((e,t)=>(0,r.jsx)("div",{style:{width:"".concat(e.style.width,"%"),height:"".concat(l.eX,"px")},className:"flex-none flex items-center justify-".concat("Event_Name"!==e.accessorKey&&"center"," px-2.5 bg-gray-700 border-gray-400 border-y border-r ").concat(0===t&&"border-l"),children:e.header},e.accessorKey)))}),(0,r.jsx)("div",{children:n.map((e=>(0,r.jsx)("div",{className:"hover:cursor-pointer flex",onMouseEnter:()=>f(e),onMouseLeave:()=>f(null),onClick:t=>{var s;0===t.button&&t.ctrlKey?(e=>{try{c.filter((t=>t.rowIndex===e.rowIndex)).length>0?d(c.filter((t=>t.rowIndex!==e.rowIndex))):d([...c,...n.filter((t=>t.rowIndex===e.rowIndex))]),u(e),m()}catch(t){console.error(t)}})(e):(null===(s=i.current)||void 0===s||s.scrollToItem(e.rowIndex,"center"),E(e),setTimeout((()=>{m(),u(e)}),0))},children:t.map(((t,n)=>(0,r.jsx)("div",{style:{height:"".concat(l.eX,"px"),width:"".concat(t.style.width,"%"),backgroundColor:(0,o.Wf)(c,e,h,x),color:(0,o.nH)(c,e,x),borderColor:(0,o.kJ)(c,e)},className:"flex-none flex items-center justify-".concat("Event_Name"!==t.accessorKey&&"center"," text-[12px] py-1 px-2.5 border-b border-r ").concat(0===n&&"border-l"),children:(0,r.jsx)("div",{className:"text-ellipsis overflow-hidden whitespace-nowrap",children:e[t.accessorKey]})},n)))},e.rowId)))})]})}},98707:(e,t,n)=>{n.d(t,{Wf:()=>r,ep:()=>c,kJ:()=>i,nH:()=>o});var s=n(1413),l=n(81320);const a=(e,t)=>{try{return e.map((e=>e.rowId)).includes(t.rowId)}catch(n){throw n}},o=(e,t,n)=>{try{return a(e,t)?"rgb(229 231 235)":t.rowId===(null===n||void 0===n?void 0:n.rowId)?"white":t.EventDefaultFrontColor}catch(s){console.error(s)}},r=(e,t,n,s)=>{try{const o=t.rowId===(null===n||void 0===n?void 0:n.rowId);return a(e,t)?o?"rgba(71, 85, 105, 0.8)":"rgb(71 85 105)":t.rowId===(null===s||void 0===s?void 0:s.rowId)?"rgba(148, 163, 184, 0.9)":o?(0,l.getHexColorWithOpacity)(t.EventDefaultBackColor,.8):t.EventDefaultBackColor}catch(o){console.error(o)}},i=(e,t)=>{try{return a(e,t)?"rgb(156 163 175)":"rgb(107 114 128)"}catch(n){console.error(n)}},c=(e,t,n)=>{t.current&&!t.current.contains(e.target)&&n((e=>(0,s.Z)((0,s.Z)({},e),{},{isManageColumnsDropdownVisible:!1})))}}}]);
//# sourceMappingURL=2758.74bdf122.chunk.js.map