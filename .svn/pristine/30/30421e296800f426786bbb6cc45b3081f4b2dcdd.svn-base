"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[3516],{85214:(e,a,n)=>{n.r(a),n.d(a,{AMBER_500:()=>c,BLUE_500:()=>d,EMERALD_300:()=>s,EMERALD_500:()=>t,EMERALD_500_50:()=>g,GRAY_300:()=>b,GRAY_500:()=>u,GREEN_500:()=>m,GREEN_700:()=>C,Month:()=>l,ORANGE_500:()=>f,RED_500:()=>i,RED_700:()=>x,RED_900:()=>p,ROSE_700_40:()=>h,TW_COLORS:()=>o});const r=(e,a)=>{const n=e.match(/\w\w/g).map((e=>parseInt(e,16)));return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(a/100,")")},l=[{id:"01",name:"Jan"},{id:"02",name:"Feb"},{id:"03",name:"Mar"},{id:"04",name:"Apr"},{id:"05",name:"May"},{id:"06",name:"Jun"},{id:"07",name:"Jul"},{id:"08",name:"Aug"},{id:"09",name:"Sep"},{id:"10",name:"Oct"},{id:"11",name:"Nov"},{id:"12",name:"Dec"}],o={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337"}},s=o.emerald[300],t=o.emerald[500],d=o.blue[500],c=o.amber[500],i=o.red[500],f=o.orange[500],m=o.green[500],b=o.gray[300],u=o.gray[500],g=r(o.emerald[500],50),h=r(o.rose[700],40),x=o.red[700],p=o.red[900],C=o.green[700]},73516:(e,a,n)=>{n.r(a),n.d(a,{default:()=>S});var r=n(1413),l=n(2803),o=n(72791),s=n(28536),t=n(17425),d=n(16856),c=n(84373),i=n(85214),f=n(91615),m=n(92959),b=n(81320),u=n(21260);const g=(e,a,n,r)=>{try{return e===u.tableTypesEnum.SCHEDULING?"draggable"===a?n.visibleColumns:n.removedColumns:"draggable"===a?r.visibleColumns:r.removedColumns}catch(l){console.error(l)}},h=(e,a,n)=>{try{if(!e.destination)return;const l=((e,a,n)=>{try{const r=Array.from(e),[l]=r.splice(a,1);return r.splice(n,0,l),r}catch(r){throw r}})(a.draggableColumns,e.source.index,e.destination.index);n((0,r.Z)((0,r.Z)({},a),{},{draggableColumns:l}))}catch(l){(0,b.openNotification)("danger","Something went wrong"),console.error(l)}},x=e=>{"Enter"===e.key&&(e.preventDefault(),e.target.blur())},p=(e,a)=>{try{let n=e.draggableColumns.map(((e,n)=>({ScreenName:a,Header:e.header,ColumnName:e.id,ColumnWidht:e.style.width,SequenceNo:n,IsVisible:1}))),r=e.draggableColumns.length;return e.removedColumns.forEach((e=>{n.push({ScreenName:a,Header:e.header,ColumnName:e.id,ColumnWidht:e.style.width,SequenceNo:r,IsVisible:0}),r++})),n}catch(n){console.error(n)}},C=async(e,a,n,l,o,s,t,d,c,i,f)=>{try{let i=[];n===u.tableTypesEnum.SCHEDULING?(s((e=>(0,r.Z)((0,r.Z)({},e),{},{visibleColumns:l.draggableColumns,removedColumns:l.removedColumns}))),f&&d((e=>(0,r.Z)((0,r.Z)({},e),{},{[u.featuresEnum.MANAGE_COLUMNS]:{isDropdownVisible:!1,isActive:l.removedColumns.length>0||!(0,b.isJSONArrayEqual)(o.originalColumns,l.draggableColumns)}}))),"string"===typeof e?i=p(l,e):console.error("Scheduling Table Column Settings not saved. schedulingTableName must be string but got ".concat(e))):(t((e=>(0,r.Z)((0,r.Z)({},e),{},{visibleColumns:l.draggableColumns,removedColumns:l.removedColumns}))),f&&c((e=>(0,r.Z)((0,r.Z)({},e),{},{isManageColumnsDropdownVisible:!1}))),"string"===typeof a?i=p(l,a):console.error("Secondary Table Column Settings not saved. secondaryTableName must be string but got ".concat(a))),i.length>0&&(async(e,a)=>{try{200!==(await(0,m.C)(e)).status&&(0,b.openNotification)("danger","Something went wrong while saving column settings")}catch(n){(0,b.openNotification)("danger","Something went wrong while saving column settings"),console.error(n)}})(i)}catch(g){(0,b.openNotification)("danger","Something went wrong while applying changes"),console.error(g)}},y=e=>{try{return e?"!bg-teal-700 hover:!bg-teal-800":"!bg-gray-700 hover:!bg-gray-800 hover:!bg-opacity-60"}catch(a){console.error(a)}};var v=n(80184);const w=function(e){let{column:a,columnsState:n,setColumnsState:l,tableType:s}=e;const{setSchedulingTableManagedColumns:t,setSecondaryTableManagedColumns:d,maintainScrolledOffsetOfTables:c}=(0,o.useContext)(f.Z),i=(e,a)=>{try{const o=(0,r.Z)({},n).draggableColumns.map((n=>m(e,n,a))),i=(0,r.Z)((0,r.Z)({},n),{},{draggableColumns:o});l(i),s===u.tableTypesEnum.SCHEDULING?t((e=>(0,r.Z)((0,r.Z)({},e),{},{visibleColumns:n.draggableColumns,removedColumns:n.removedColumns}))):d((e=>(0,r.Z)((0,r.Z)({},e),{},{visibleColumns:n.draggableColumns,removedColumns:n.removedColumns}))),c()}catch(o){(0,b.openNotification)("danger","Something went wrong while changing column width"),console.error(o)}},m=(e,a,n)=>{try{if(a.id===e){let e=a.style.width;return"increment"===n?e+=1:e-1>5?e-=1:e=5,(0,r.Z)((0,r.Z)({},a),{},{style:(0,r.Z)((0,r.Z)({},a.style),{},{width:e})})}return a}catch(l){throw l}};return(0,v.jsxs)("div",{className:"flex items-center border border-gray-500 text-white rounded-full",children:[(0,v.jsx)("div",{className:"px-2 hover:bg-gray-600 hover:cursor-pointer transition-all rounded-tl-full rounded-bl-full ".concat(5===a.style.width&&"bg-gray-800 bg-opacity-60 hover:bg-gray-800 hover:cursor-not-allowed"),onClick:()=>i(a.id,"decrement"),children:"-"}),(0,v.jsx)("div",{className:"!bg-gray-600 px-1.5 border-x border-x-gray-500",children:a.style.width<10?"0".concat(a.style.width):a.style.width}),(0,v.jsx)("div",{className:"px-2  hover:bg-gray-600 hover:cursor-pointer transition-all rounded-tr-full rounded-br-full",onClick:()=>i(a.id,"increment"),children:"+"})]})};var N=n(41578),j=n(60364);const S=function(e){let{tableType:a,position:n,dropdownRef:m}=e;(0,j.useSelector)((e=>e.auth.session.token));const{schedulingTableName:p,secondaryTableName:S,schedulingTableManagedColumns:Z,setSchedulingTableManagedColumns:E,secondaryTableManagedColumns:T,setSecondaryTableManagedColumns:z,setActiveFeatures:k,setSecTableToolbarState:R}=(0,o.useContext)(f.Z),[_,A]=(0,o.useState)({draggableColumns:g(a,"draggable",Z,T),removedColumns:g(a,"removed",Z,T)}),[D,M]=(0,o.useState)(!1),[G,L]=(0,o.useState)(!1);return(0,v.jsxs)(l.Zb,{className:"!bg-gray-700 text-white mt-2 absolute ".concat(n||"left-1/2"," top-full z-[100]"),bodyClass:"p-3 pt-1",style:{boxShadow:"#000000cc 0px 0px 10px",minWidth:"14rem"},ref:m,children:[(0,v.jsxs)("div",{className:"mb-1.5 border-b border-b-gray-600 pb-1.5 flex justify-between items-center",children:[(0,v.jsx)("p",{className:"text-sm font-semibold",children:"Columns"}),(0,v.jsxs)("div",{className:"flex gap-1",children:[(0,v.jsx)(l.u,{title:D?"Close column resize":"Resize column",children:(0,v.jsx)(l.zx,{icon:(0,v.jsx)(N.Kcr,{className:"text-lg"}),size:"xs",color:"gray-600",className:" transition-all ".concat(y(D)),onClick:()=>M(!D)})}),(0,v.jsx)(l.u,{title:"Add column",children:(0,v.jsx)(l.zx,{icon:(0,v.jsx)(c.D0w,{className:"text-lg"}),className:"transition-all ".concat(y(G)),size:"xs",onClick:()=>L(!0)})})]})]}),(0,v.jsx)("div",{className:"h-[30vh] overflow-y-auto overflow-x-hidden",children:(0,v.jsx)(s.Z5,{onDragEnd:e=>h(e,_,A),children:(0,v.jsx)(s.bK,{droppableId:"manage-columns-droppable-area",children:e=>(0,v.jsxs)("div",(0,r.Z)((0,r.Z)({},e.droppableProps),{},{ref:e.innerRef,children:[_.draggableColumns.map(((e,n)=>(0,v.jsx)(s._l,{draggableId:e.id,index:n,children:n=>(0,v.jsxs)("div",(0,r.Z)((0,r.Z)((0,r.Z)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{className:"border-b border-b-gray-600 py-1 flex items-center justify-between gap-6 text-gray-300",children:[(0,v.jsxs)("div",{className:"flex gap-1 items-center text-sm",children:[(0,v.jsx)(t.vKY,{}),(0,v.jsxs)("div",{className:"relative group",children:[(0,v.jsx)("span",{contentEditable:"true",spellCheck:"false",className:"px-1.5 py-0.5 hover:cursor-pointer focus:outline focus:outline-teal-500 focus:outline-[1.5px] rounded",style:{textWrap:"nowrap"},onBlur:a=>((e,a,n,l)=>{try{const o=n.draggableColumns.map((n=>n.id===a.id?(0,r.Z)((0,r.Z)({},n),{},{header:e.target.innerText}):n));l((0,r.Z)((0,r.Z)({},n),{},{draggableColumns:o}))}catch(o){console.error(o)}})(a,e,_,A),onKeyDown:x,suppressContentEditableWarning:!0,children:e.header}),(0,v.jsx)("div",{className:"absolute top-3/4 left-1/2 transform -translate-x-1/3 mt-2 hidden group-hover:block bg-gray-800 text-white text-xs px-2 py-1 rounded shadow-lg z-[50]",style:{textWrap:"nowrap"},children:"Click to edit header"})]})]}),(0,v.jsxs)("div",{className:"flex items-center gap-1",children:[D&&(0,v.jsx)(w,{column:e,columnsState:_,setColumnsState:A,tableType:a}),(0,v.jsx)(l.zx,{icon:(0,v.jsx)(d.lTq,{}),shape:"circle",size:"xs",onClick:()=>((e,a,n)=>{try{n({draggableColumns:a.draggableColumns.filter((a=>a.id!==e.id)),removedColumns:[...a.removedColumns,e]})}catch(r){(0,b.openNotification)("danger","Something went wrong while removing column"),console.error(r)}})(e,_,A)})]})]}))},e.id))),e.placeholder]}))})})}),(0,v.jsxs)("div",{className:"mt-3 flex justify-between",children:[(0,v.jsx)(l.zx,{className:"w-max font-normal",size:"sm",style:{borderColor:i.GRAY_500,fontSize:"0.8rem",lineHeight:"1rem"},onClick:()=>((e,a,n,r)=>{try{e===u.tableTypesEnum.SCHEDULING?r({draggableColumns:a.originalColumns,removedColumns:[]}):r({draggableColumns:n.originalColumns,removedColumns:[]})}catch(l){(0,b.openNotification)("danger","Something went wrong while resetting columns"),console.error(l)}})(a,Z,T,A),children:"Reset"}),(0,v.jsx)(l.zx,{className:"w-max font-normal",size:"sm",variant:"twoTone",style:{fontSize:"0.8rem",lineHeight:"1rem"},onClick:()=>C(p,S,a,_,Z,E,z,k,R,0,!0),children:"Apply"})]}),G&&(0,v.jsxs)(l.Zb,{bordered:!1,className:"!bg-gray-700 text-white ml-2 absolute left-full top-0 z-[1]",bodyClass:"p-3 pt-1",style:{boxShadow:"#000000cc 0px 0px 10px",minWidth:"14rem"},children:[(0,v.jsxs)("div",{className:"mb-2 border-b border-b-gray-600 pb-1 flex justify-between items-center",children:[(0,v.jsx)("p",{className:"text-sm font-semibold",children:"Add"}),(0,v.jsx)(l.u,{title:"Close",children:(0,v.jsx)(l.zx,{icon:(0,v.jsx)(d.lTq,{}),shape:"circle",size:"xs",onClick:()=>L(!1)})})]}),(0,v.jsx)("div",{className:"h-[30vh] overflow-y-auto overflow-x-hidden",children:_.removedColumns.map((e=>(0,v.jsxs)("div",{className:"border-b border-b-gray-600 py-1 flex items-center justify-between gap-2 text-gray-300",children:[(0,v.jsxs)("div",{className:"flex gap-1 items-center text-sm",children:[(0,v.jsx)(t.vKY,{}),e.header]}),(0,v.jsx)(l.zx,{icon:(0,v.jsx)(c.D0w,{}),shape:"circle",size:"xs",onClick:()=>((e,a,n)=>{try{n({draggableColumns:[...a.draggableColumns,e],removedColumns:a.removedColumns.filter((a=>a.id!==e.id))})}catch(r){(0,b.openNotification)("danger","Something went wrong while adding column"),console.error(r)}})(e,_,A)})]},e.id)))})]})]})}}}]);
//# sourceMappingURL=3516.60eabb13.chunk.js.map