"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[271],{44630:(e,a,s)=>{s.d(a,{Z:()=>l});var n=s(72791);const l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;const[a,s]=(0,n.useState)("");return(0,n.useEffect)((()=>{if(a){let a=setTimeout((()=>s("")),e);return()=>{clearTimeout(a)}}}),[a]),[a,s]}},64582:(e,a,s)=>{s.d(a,{L:()=>l});var n=s(34045);const l=(e,a)=>{if(0===e.length)return void console.error("Data array is empty. Cannot export to Excel.");const s=n.P6.json_to_sheet(e,{skipHeader:!1}),l=Object.keys(e[0]).map((()=>({wch:10})));s["!cols"]=l;const t=e.reduce(((e,a)=>(Object.keys(a).forEach((s=>{const n=String(a[s]).length;e[s]=Math.max(e[s]||0,n)})),e)),{}),i=Object.keys(t).map((e=>({wch:Math.max(10,t[e])})));s["!cols"]=i;const o=n.P6.book_new();n.P6.book_append_sheet(o,s,a),n.NC(o,"".concat(a,".xlsx"))}},96361:(e,a,s)=>{s.d(a,{Z:()=>o});var n=s(79139),l=s(60364),t=s(11087),i=s(80184);const o=e=>{let{ModuleText:a="Admin",Component:s,links:o}=e;(0,l.useSelector)((e=>e.auth.session.currentRouteKey));const c=(0,l.useSelector)((e=>e.base.common.currentRouteTitle));console.log(c);const{title:r,Moduletitle:d}=(0,l.useSelector)((e=>e.auth.user));return(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-xl font-medium",children:c}),(0,i.jsxs)(n.Breadcrumbs,{style:{marginLeft:"-15px",width:"auto"},children:[(0,i.jsx)(t.rU,{to:"/home",className:"opacity-60 text-xs",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})}),(0,i.jsx)(t.rU,{to:"/".concat("SALES ADMIN"===d?"SalesAdmin":d),className:"opacity-60 text-xs",children:(0,i.jsx)("span",{children:d})}),(0,i.jsx)(t.rU,{to:"#",className:"text-xs",children:(0,i.jsx)("span",{children:c})})]})]})}},80271:(e,a,s)=>{s.r(a),s.d(a,{default:()=>O});var n=s(72791),l=s(2803),t=s(1413),i=s(11308),o=s(54748),c=s(57689),r=s(45987),d=s(58617),h=s(60364),m=s(88406),x=s(80184);const u=["children"],{MultiValueLabel:C,Control:v}=m.c,j=["bg-rose-500","bg-indigo-500","bg-blue-500","bg-amber-400"],g=e=>{let{innerProps:a,label:s,data:n,isSelected:i}=e;return(0,x.jsxs)("div",(0,t.Z)((0,t.Z)({className:"flex items-center justify-between p-2 ".concat(i?"bg-gray-100 dark:bg-gray-500":"hover:bg-gray-50 dark:hover:bg-gray-600")},a),{},{children:[(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(l.qE,{shape:"circle",size:20,src:"".concat(n.imgPath)}),(0,x.jsx)("span",{className:"ml-2 rtl:mr-2",children:s})]}),i&&(0,x.jsx)(d.dZ6,{className:"text-emerald-500 text-xl"})]}))},p=e=>{let{children:a}=e,s=(0,r.Z)(e,u);const n=s.getValue()[0];return(0,x.jsxs)(v,(0,t.Z)((0,t.Z)({},s),{},{children:[n&&(0,x.jsx)(l.qE,{className:"ltr:ml-4 rtl:mr-4",shape:"circle",size:18,src:"".concat(n.imgPath)}),a]}))},S=e=>{let{selected:a,setSelected:s,List:t,Isdisabled:o=!1}=e;const c=(0,h.useSelector)((e=>e.auth.session.LoginId)),[r,d]=(0,n.useState)([]);return(0,n.useEffect)((()=>{(async e=>{const a=(await(0,i.bu)(c)).data.map(((e,a)=>({ChannelName:e.ChannelName,ChannelCode:e.ChannelCode,ColorClass:j[a%j.length],LocationCode:e.LocationCode,LocationName:e.LocationName,value:e.LocationCode+"-"+e.ChannelCode,label:e.LocationName+"-"+e.ChannelName,imgPath:e.Channel_Image})));d(a)})()}),[]),console.log(null===a||void 0===a?void 0:a.value),(0,x.jsx)("div",{className:"card flex flex-column align-items-center  h-9",children:(0,x.jsx)(l.Ph,{size:"sm",className:"mb-4 w-full",placeholder:"Please Select",options:r,components:{Option:g,Control:p},value:null!==r?r.filter((e=>e.value===(null===a||void 0===a?void 0:a.value))):[{value:"",label:"Data Not Found"}].filter((e=>e.value)),onChange:e=>{console.log(e),s(e)},isDisabled:o})})};var N=s(81320),b=s(84373);const f=[{value:"24",label:"24"},{value:"25",label:"25"},{value:"30",label:"30"}],I=e=>{var a,s,r,d,m;let{channelsetting:u,Content:C,setChannelsetting:v,setActiveIndex:j}=e;const g=(0,c.s0)(),p=(0,h.useSelector)((e=>e.locale.selectedChannel)),I={ChannelCode:u.ChannelCode||(null===(a=C.Channel)||void 0===a?void 0:a.ChannelCode)||p.ChannelCode,LocationCode:u.LocationCode||(null===(s=C.locations)||void 0===s?void 0:s.LocationCode)||p.LocationCode,value:"".concat(u.LocationCode||(null===(r=C.locations)||void 0===r?void 0:r.LocationCode)||p.LocationCode,"-").concat(u.ChannelCode||(null===(d=C.Channel)||void 0===d?void 0:d.ChannelCode)||p.ChannelCode),label:""},[P,T]=(0,n.useState)(I),[y,w]=(0,n.useState)(I.LocationCode),[M,A]=(0,n.useState)(I.ChannelCode),[k,L]=(0,n.useState)(u.StartTime||C.StartTime||""),[z,F]=(0,n.useState)("23:59:59:23"),[Z,R]=(0,n.useState)(u.FramePerSec||C.FramePerSec||""),[D,E]=(0,n.useState)(u.PlayoutCode||(null===(m=C.Playout)||void 0===m?void 0:m.PlayoutCode)||""),[V,_]=(0,n.useState)(u.MamCode||Number(C.MamCode)||""),[H,O]=(0,n.useState)(u.ProviderCode||Number(C.ProviderCode)||""),[J,Y]=(0,n.useState)(u.SapWebService||C.SapWebService||""),[B,G]=(0,n.useState)(u.TallyIntegrationPath||C.TallyIntegrationPath||""),[W,X]=(0,n.useState)([]),[Q,q]=(0,n.useState)([]),[U,K]=(0,n.useState)([]);(0,n.useEffect)((()=>{(0,o.Gu)(P)&&(w(P.LocationCode),A(P.ChannelCode))}),[P]),(0,n.useEffect)((()=>{(async()=>{const e=await(0,i.Cr)(),a=await(0,i.Sq)(),s=await(0,i.Cc)();X(e.data.map((e=>({value:e.PlayoutCode,label:e.PlayoutName})))),q(a.data.map((e=>({value:e.MamCode,label:e.MamName})))),K(s.data.map((e=>({value:e.ProviderCode,label:e.ProviderName}))))})()}),[]);(0,n.useEffect)((()=>{(0,N.parseDuration)(z)<(0,N.parseDuration)(k)&&(F(""),L(""))}),[k,z]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"col-span-4 mb-1",children:[(0,x.jsx)("h4",{children:"Channel Settings"}),(0,x.jsx)("br",{})]}),(0,x.jsx)(l.Yb,{children:(0,x.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,x.jsx)("div",{className:"col-span-1",children:(0,x.jsx)(l.xJ,{label:"Channel",asterisk:!0,children:(0,x.jsx)(S,{selected:P,setSelected:T,Isdisabled:!0})})}),(0,x.jsx)("div",{className:"col-span-1",children:(0,x.jsx)(l.xJ,{label:"FramePerSec",asterisk:!0,children:(0,x.jsx)(l.Ph,{asterisk:!0,placeholder:"Please Select",options:f,name:"FramePerSec",value:f.find((e=>e.value===Z)),onChange:e=>R(e.value)})})}),(0,x.jsx)("div",{className:"col-span-1",children:(0,x.jsx)(l.xJ,{label:"Start Time",asterisk:!0,children:(0,x.jsx)(l.II,{asterisk:!0,size:"sm",type:"text",value:k,placeholder:"HH:MM:SS",name:"StartTime",onChange:e=>(0,N.handleChangeWithFrameSingleWithoutff)(e,L),onBlur:e=>{const{name:a,value:s}=e.target,n=(0,N.formatOnHHMMSSBlur)(s);"StartTime"===a?L(n):"EndTime"===a&&F(n)}})})})]})}),(0,x.jsx)("br",{}),(0,x.jsxs)(l.Zb,{children:[(0,x.jsx)(l.Yb,{children:(0,x.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,x.jsx)("div",{className:"col-span-1",children:(0,x.jsx)(l.xJ,{label:"Playout Integration",asterisk:!0,children:(0,x.jsx)(l.Ph,{asterisk:!0,placeholder:"Please Select Playout",options:W,name:"PlayoutCode",value:W.find((e=>e.value===D)),onChange:e=>E(e.value)})})}),(0,x.jsx)("div",{className:"col-span-1",children:(0,x.jsx)(l.xJ,{label:"EPG Integration",children:(0,x.jsx)(l.Ph,{placeholder:"Please Select EPG",options:U,name:"ProviderCode",value:U.find((e=>e.value===H)),onChange:e=>O(e.value)})})}),(0,x.jsx)("div",{className:"col-span-1",children:(0,x.jsx)(l.xJ,{label:"MAM Integration",children:(0,x.jsx)(l.Ph,{placeholder:"Please Select MAM",options:Q,name:"MamCode",value:Q.find((e=>e.value===V)),onChange:e=>_(e.value)})})})]})}),(0,x.jsx)(l.Yb,{children:(0,x.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4 mt-3",children:[(0,x.jsx)("div",{className:"col-span-1",children:(0,x.jsx)(l.xJ,{label:"SAP Web Service Path",children:(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(l.II,{asterisk:!0,name:"SapWebService",className:"w-[400px]",value:J,onChange:e=>Y(e.target.value),size:"sm",maxLength:"10",placeholder:"SAP Service"}),(0,x.jsx)(l.zx,{size:"xs",className:"ml-2",variant:"solid",type:"button",icon:(0,x.jsx)(b.be3,{}),children:"Verify"})]})})}),(0,x.jsx)("div",{className:"col-span-1",children:(0,x.jsx)(l.xJ,{label:"Tally Integration Path",children:(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(l.II,{asterisk:!0,name:"TallyIntegrationPath",value:B,className:"w-[400px]",onChange:e=>G(e.target.value),size:"sm",maxLength:"10",placeholder:"Tally Integration Path"}),(0,x.jsx)(l.zx,{size:"xs",className:"ml-2",variant:"solid",type:"button",icon:(0,x.jsx)(b.be3,{}),children:"Verify"})]})})})]})})]}),(0,x.jsxs)("div",{className:"mt-3 text-right",children:[(0,x.jsx)(l.zx,{size:"sm",onClick:()=>g("/ChannelSettingMaster"),children:"Discard"}),"\xa0",(0,x.jsx)(l.zx,{size:"sm",variant:"solid",onClick:()=>{(e=>{if(!y||!M||!Z||!k||!z||!D)return void(0,N.openNotification)("danger","All Fields Are Required");if(8!==k.length)return void(0,N.openNotification)("danger","Enter StartTime Properly");const a=(0,t.Z)((0,t.Z)({},u),{},{LocationCode:P.LocationCode,ChannelCode:P.ChannelCode,LocationName:P.LocationName,ChannelName:P.ChannelName,FramePerSec:Z,StartTime:k,EndTime:z,PlayoutCode:D,ProviderCode:H,SapWebService:J,TallyIntegrationPath:B,MamCode:V});v(a),j(e)})(1)},children:"Next"})]})]})};var P=s(30203),T=s(64582);const y=e=>{let{channelsetting:a,setChannelsetting:s,setActiveIndex:i,Content:o}=e;const[c,r]=(0,n.useState)(o.IsRateCardAllowed?o.IsRateCardAllowed:1);Object.keys(a).length;console.log(o.IsTRAI_InventoryRule);const[d,h]=(0,n.useState)((()=>1===a.IsTRAI_InventoryRule||1===Number(o.IsTRAI_InventoryRule))),[m,u]=(0,n.useState)((()=>1===a.IsTapeCounterFlag||1===Number(o.IsTapeCounterFlag))),[C,v]=(0,n.useState)((()=>1===a.IsDiscountFlag||1===Number(o.IsDiscountFlag))),[j,g]=(0,n.useState)((()=>1===a.SRModificationAllowed||1===Number(o.SRModificationAllowed))),[p,S]=(0,n.useState)((()=>1===a.IsDealApproval||1===Number(o.IsDealApproval))),[N,b]=(0,n.useState)((()=>1===a.PaperMedia||1===Number(o.PaperMedia))),[f,I]=(0,n.useState)((()=>1===a.IsMultiChannel||1===Number(o.IsMultiChannel))),[y,w]=(0,n.useState)((()=>1===a.IsNTCAutoCalc||1===Number(o.IsNTCAutoCalc))),[M,A]=(0,n.useState)((()=>1===a.IsNTCGroup||1===Number(o.IsNTCGroup))),k=e=>{let a={};2==e&&(a={Type:"Standard",TimeBandwise_Programwise:"07:00-11:59",Rate:"5000"}),3==e&&(a={AgencyName:"Sample Agency",TimeBandwise_Programwise:"07:00-11:59",Rate:"4000"}),4==e&&(a={ClientName:"Sample Client",TimeBandwise_Programwise:"07:00-11:59",Rate:"5000"}),(0,T.L)([a],"Ratecard_Template")};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.Zb,{children:(0,x.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[(0,x.jsxs)("div",{className:"flex flex-col mb-5",children:[(0,x.jsx)(l.XZ,{name:"IsTRAI_InventoryRule",checked:d,onChange:e=>h(e?1:0),children:"TRAI Inventory Rule"}),(0,x.jsx)("p",{className:"text-[11px] w-[250px] ",children:"( Telecom Regulatory Authority of India Rule for Duration of Advertisement in TV Channels. )"})]}),(0,x.jsxs)("div",{className:"flex flex-col mb-5",children:[(0,x.jsx)(l.XZ,{onChange:e=>u(e?1:0),checked:m,name:"IsTapeCounterFlag",children:"Tape Counter"}),(0,x.jsx)("p",{className:"text-[11px] w-[250px]",children:"( Tape Counter applicable means mandatory SOM and EOM of content. )"})]}),(0,x.jsxs)("div",{className:"flex flex-col mb-5",children:[(0,x.jsx)(l.XZ,{name:"IsDiscountFlag",onChange:e=>v(e?1:0),checked:C,children:"Is Discount"})," ",(0,x.jsx)("p",{className:"text-[11px] w-[250px]",children:"( Standard Discount Structure applicable. )"})]}),(0,x.jsxs)("div",{className:"flex flex-col mb-5",children:[(0,x.jsx)(l.XZ,{name:"SRModificationAllowed",onChange:e=>g(e?1:0),checked:j,children:"SR Modification Allowed"})," ",(0,x.jsx)("p",{className:"text-[11px] w-[250px]",children:"( Spot Rate Modification allowed. )"})]}),(0,x.jsxs)("div",{className:"flex flex-col mb-5",children:[(0,x.jsx)(l.XZ,{name:"IsDealApproval",onChange:e=>S(e?1:0),checked:p,children:"Deal Approval Flow"})," ",(0,x.jsx)("p",{className:"text-[11px] w-[250px]",children:"( Client Deal Approval flow is required before spot booking. )"})]}),(0,x.jsxs)("div",{className:"flex flex-col mb-5",children:[(0,x.jsx)(l.XZ,{name:"PaperMedia",onChange:e=>b(e?1:0),checked:N,children:"Paper Media"})," ",(0,x.jsx)("p",{className:"text-[11px] w-[250px]",children:"( News Paper ads entry allowed\xa0for\xa0billing. )"})]}),(0,x.jsxs)("div",{className:"flex flex-col mb-5",children:[(0,x.jsx)(l.XZ,{name:"IsMultiChannel",onChange:e=>I(e?1:0),checked:f,children:"Is Multi Channel Deal"})," ",(0,x.jsx)("p",{className:"text-[11px] w-[250px]",children:"( News Paper ads entry allowed\xa0for\xa0billing. )"})]}),(0,x.jsxs)("div",{className:"flex flex-col mb-5",children:[(0,x.jsx)(l.XZ,{name:"IsNTCAutoCalc",onChange:e=>{w(e?1:0),e&&A(1)},checked:y,children:"Is NTC Auto Calculate"})," ",(0,x.jsx)("p",{className:"text-[11px] w-[250px]",children:"( News Paper ads entry allowed\xa0for\xa0billing. )"})]}),(0,x.jsxs)("div",{className:"flex flex-col mb-5",children:[(0,x.jsx)(l.XZ,{name:"IsNTCGroup",disabled:y,onChange:e=>!y&&A(e?1:0),checked:M,children:"Is NTC Group"})," ",(0,x.jsx)("p",{className:"text-[11px] w-[250px]",children:"( News Paper ads entry allowed\xa0for\xa0billing. )"})]})]})}),(0,x.jsxs)(l.Zb,{children:[(0,x.jsx)("h4",{children:"Rate Card"}),(0,x.jsx)("br",{}),(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:(0,x.jsx)("div",{children:(0,x.jsxs)(l.Y8.Group,{value:c,onChange:e=>{r(e)},children:[(0,x.jsx)("div",{className:"mr-6",children:(0,x.jsx)(l.Y8,{value:1,children:"Manual Ratecard"})}),(0,x.jsxs)("div",{className:"mr-6",children:[(0,x.jsx)(l.Y8,{value:2,children:"Normal Ratecard"}),(0,x.jsx)(l.zx,{size:"xs",className:"ml-1 block",onClick:()=>k(2),variant:"twoTone",icon:(0,x.jsx)(P.D_Q,{}),children:"Normal Template"})]}),(0,x.jsxs)("div",{className:"mr-6",children:[(0,x.jsx)(l.Y8,{value:3,children:"Agency Ratecard"}),(0,x.jsx)(l.zx,{size:"xs",className:"ml-1 block",onClick:()=>k(3),variant:"twoTone",icon:(0,x.jsx)(P.D_Q,{}),children:"Agency Template"})]}),(0,x.jsxs)("div",{className:"mr-6",children:[(0,x.jsx)(l.Y8,{value:4,children:"Client Ratecard"})," ",(0,x.jsx)(l.zx,{size:"xs",className:"ml-1 block",onClick:()=>k(4),variant:"twoTone",icon:(0,x.jsx)(P.D_Q,{}),children:"Client Template"})]})]})})})]}),(0,x.jsx)("br",{}),(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(l.zx,{size:"sm",onClick:()=>{let e=(0,t.Z)({},a);e.IsTRAI_InventoryRule=d,e.IsTapeCounterFlag=m,e.IsDiscountFlag=C,e.SRModificationAllowed=j,e.IsDealApproval=p,e.PaperMedia=N,e.IsMultiChannel=f,e.IsNTCAutoCalc=y,e.IsNTCGroup=M,e.IsRateCardAllowed=c,s(e),i(0)},className:"mr-2",children:"Previous"}),(0,x.jsx)(l.zx,{size:"sm",variant:"solid",onClick:()=>{let e=(0,t.Z)({},a);e.IsTRAI_InventoryRule=d,e.IsTapeCounterFlag=m,e.IsDiscountFlag=C,e.SRModificationAllowed=j,e.IsDealApproval=p,e.PaperMedia=N,e.IsMultiChannel=f,e.IsNTCAutoCalc=y,e.IsNTCGroup=M,e.IsRateCardAllowed=c,s(e),i(2)},children:"Next"})]})]})},{Tr:w,Th:M,Td:A,THead:k,TBody:L}=l.iA,z=e=>{let{Settings:a,setSettings:s}=e;return(0,x.jsx)("div",{children:(0,x.jsxs)(l.iA,{compact:!0,children:[(0,x.jsx)(k,{children:(0,x.jsxs)(w,{children:[(0,x.jsx)(M,{children:"Action"}),(0,x.jsx)(M,{children:"Location"}),(0,x.jsx)(M,{children:"Channel"}),(0,x.jsx)(M,{children:"Description"}),(0,x.jsx)(M,{children:"StartTime"}),(0,x.jsx)(M,{children:"EffectiveFrom"})]})}),a.length>0?(0,x.jsx)(L,{children:a.map((e=>(0,x.jsxs)(w,{children:[(0,x.jsx)(A,{children:(0,x.jsx)(l.zx,{shape:"circle",size:"sm",icon:(0,x.jsx)(d.bQR,{}),onClick:()=>{const n=a.filter((a=>a.id!==e.id));s(n)}})}),(0,x.jsx)(A,{children:e.LocationName}),(0,x.jsx)(A,{children:e.ChannelName}),(0,x.jsx)(A,{children:e.ChannelTimeDescription}),(0,x.jsx)(A,{children:e.StartTime}),(0,x.jsx)(A,{children:e.EffectiveFrom})]},e.id)))}):(0,x.jsx)(L,{children:(0,x.jsx)(w,{children:(0,x.jsx)(A,{colSpan:"2",children:"No Rows Found"})})})]})})},F=e=>{let{channelsetting:a,setChannelsetting:s,setActiveIndex:i,Setting:c,setSetting:r,Settings:m,setSettings:u}=e;const C=(0,h.useSelector)((e=>e.locale.selectedChannel)),v=(0,h.useSelector)((e=>e.auth.session.ChannelSetting));Object.keys(a).length;const[j,g]=(0,n.useState)(""),[p,S]=(0,n.useState)(null),[b,f]=(0,n.useState)(null),[I,P]=(0,n.useState)("");(0,n.useEffect)((()=>{var e,s,n,l;let t,i={};for(console.log(a);t=Math.floor(900*Math.random())+100,m.some((e=>e.id===t)););i.id=t,i.LocationName=a.LocationName||(null===(e=a.locations)||void 0===e?void 0:e.LocationName),i.ChannelName=a.ChannelName||(null===(s=a.Channel)||void 0===s?void 0:s.ChannelName),i.LocationCode=a.LocationCode||(null===(n=a.locations)||void 0===n?void 0:n.LocationCode),i.ChannelCode=a.ChannelCode||(null===(l=a.Channel)||void 0===l?void 0:l.ChannelCode),i.ChannelTimeDescription=j,i.StartTime=p,i.EndTime=b,i.EffectiveFrom=(0,o.Gu)(I)?(0,o.Tk)(I):"",i.IsActive=1,r(i)}),[j,p,b,I]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(l.Zb,{children:[" ",(0,x.jsxs)("div",{className:" mb-1 flex justify-between",children:[(0,x.jsx)("h4",{children:"Setting Details"}),(0,x.jsx)("div",{className:"col-span-1",children:(0,x.jsx)(l.zx,{shape:"circle",variant:"solid",size:"sm",icon:(0,x.jsx)(d.b9W,{}),onClick:()=>{if(console.log(j),p>b)return void(0,N.openNotification)("danger","StartTime must be less than EndTime");if(0===j.length)return void(0,N.openNotification)("danger","All fields are required");if(m.some((e=>e.id===c.id)))(0,N.openNotification)("danger","This setting already exists in the list");else{const e=[...m,(0,t.Z)((0,t.Z)({},c),{},{LocationCode:C.LocationCode,ChannelCode:C.ChannelCode,LocationName:C.LocationName,ChannelName:C.ChannelName})];u(e)}}})})]}),(0,x.jsxs)(l.Yb,{children:[(0,x.jsx)("div",{className:"grid grid-cols-4 gap-4",children:(0,x.jsx)("div",{className:"col-span-3",children:(0,x.jsx)(l.xJ,{label:" Channel Time Description",asterisk:!0,children:(0,x.jsx)(l.II,{onChange:e=>g(e.target.value),size:"sm",maxLength:"100",placeholder:""})})})}),(0,x.jsx)("br",{}),(0,x.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-4",children:[(0,x.jsx)("div",{className:"col-span-1",children:(0,x.jsx)(l.xJ,{label:"Start Time",asterisk:!0,children:(0,x.jsx)(l.II,{asterisk:!0,size:"sm",type:"text",value:p,placeholder:"HH:MM:SS:FF",name:"StartTime",onChange:e=>(0,N.handleChangeWithFrameSingleValue)(e,S),onBlur:e=>{var a;const{name:s,value:n}=e.target,l=(0,N.formatOnHHMMSSFFBlur)(n,Number((null===(a=v[0])||void 0===a?void 0:a.FramePerSec)||24));S(l)}})})}),(0,x.jsx)("div",{className:"col-span-1",children:(0,x.jsx)(l.xJ,{label:"End Time",asterisk:!0,children:(0,x.jsx)(l.II,{asterisk:!0,size:"sm",type:"text",value:b,placeholder:"HH:MM:SS:FF",name:"EndTime",onChange:e=>(0,N.handleChangeWithFrameSingleValue)(e,f),onBlur:e=>{var a;const{name:s,value:n}=e.target,l=(0,N.formatOnHHMMSSFFBlur)(n,Number((null===(a=v[0])||void 0===a?void 0:a.FramePerSec)||24));f(l)}})})}),(0,x.jsx)("div",{className:"col-span-1",children:(0,x.jsx)(l.xJ,{label:"Effective From",asterisk:!0,children:(0,x.jsx)(l.Mt,{size:"sm",inputFormat:"DD-MMM-YYYY",name:"EffectiveFrom",value:I,onChange:e=>{P(e)}})})})]})]}),(0,x.jsx)("br",{}),(0,x.jsx)(z,{Settings:m,setSettings:u})]}),(0,x.jsx)("br",{}),(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(l.zx,{onClick:()=>{let e=(0,t.Z)({},a);s(e),i(1)},className:"mr-2",size:"sm",children:"Previous"}),(0,x.jsx)(l.zx,{size:"sm",variant:"solid",onClick:()=>{if(0==m.length)return void(0,N.openNotification)("danger","Kindly Enter at least one Detail");let e=(0,t.Z)({},a);s(e),i(3)},children:"Next"})]})]})};var Z=s(27952);const R=e=>{let{channelsetting:a,setChannelsetting:s,setActiveIndex:o,Settings:r,Content:d,setMessage:m}=e,u=0===Object.keys(a).length?"Continue":"Save";const C=(0,c.s0)(),[v,j]=(0,n.useState)(a.VideoPath1||d.VideoPath1||""),[g,p]=(0,n.useState)(a.VideoPath2||d.VideoPath2||""),[S,N]=(0,n.useState)(a.VideoPath3||d.VideoPath3||""),[f,I]=(0,n.useState)(a.VideoPath4||d.VideoPath4||""),[P,T]=(0,n.useState)(a.VideoPath5||d.VideoPath5||""),y=(0,h.useSelector)((e=>e.auth.session.token));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(l.Zb,{children:[(0,x.jsxs)("div",{className:"col-span-4 mb-1",children:[(0,x.jsx)("h4",{children:"Content Video Path"}),(0,x.jsx)("br",{})]}),(0,x.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:[v,g,S,f,P].map(((e,a)=>(0,x.jsxs)("div",{className:"col-span-2 flex items-center",children:[(0,x.jsx)("div",{className:"w-[150px]",children:["Segment Path","Commercial Path","Promo Path","Song Path","Others"][a]}),(0,x.jsx)(l.II,{name:"Content Path ".concat(a+1),size:"sm",maxLength:"100",className:"w-[600px] ml-2",placeholder:"",value:e,onChange:e=>{[j,p,N,I,T][a](e.target.value)}}),(0,x.jsx)(l.zx,{size:"xs",className:"ml-2",variant:"solid",type:"button",icon:(0,x.jsx)(b.be3,{}),children:"Verify"})]},a)))})]}),(0,x.jsx)("br",{}),(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(l.zx,{size:"sm",onClick:()=>{o(2)},className:"mr-2",children:"Previous"}),d.ChannelSettingCode?(0,x.jsx)(l.zx,{type:"button",size:"sm",variant:"solid",onClick:async()=>{let e=(0,t.Z)((0,t.Z)({},a),{},{VideoPath1:v,VideoPath2:g,VideoPath3:S,VideoPath4:f,VideoPath5:P,IsActive:1});e.ProviderCode||delete e.ProviderCode,e.MamCode||delete e.MamCode,s(e);try{await(0,i.HJ)(e,y,d.ChannelSettingCode);l.Am.push((0,x.jsx)(Z.Z,{title:"success",type:"success",children:"Updated Successfully"}));const a=r.map((e=>(0,t.Z)((0,t.Z)({},e),{},{ChannelSettingCode:d.ChannelSettingCode})));200===(await(0,i.Oo)(a,y)).status&&C("/ChannelSettingMaster")}catch(n){console.error("Error updating data:",n)}},children:"Update"}):(0,x.jsx)(l.zx,{type:"button",size:"sm",variant:"solid",onClick:async()=>{if(console.log(a),r.length>0){let n=(0,t.Z)((0,t.Z)({},a),{},{VideoPath1:v,VideoPath2:g,VideoPath3:S,VideoPath4:f,VideoPath5:P,IsActive:1});n.ProviderCode||delete n.ProviderCode,n.MamCode||delete n.MamCode,s(n);try{const e=await(0,i.Q3)(n,y),a=r.map((a=>(0,t.Z)((0,t.Z)({},a),{},{ChannelSettingCode:e.data.ChannelSettingCode})));200===(await(0,i.Oo)(a,y)).status?C("/ChannelSettingMaster"):m("Data Not Saved!!")}catch(e){m("Data Not Saved!!")}}else o(2),m("Please add Setting Details..")},children:u})]})]})};var D=s(44630),E=s(96361);const{TabNav:V,TabList:_,TabContent:H}=l.mQ,O=()=>{const[e,a]=(0,n.useState)(0),[s,t]=(0,n.useState)({}),[o,c]=(0,n.useState)({}),[r,d]=(0,n.useState)([]),{Content:m}=(0,h.useSelector)((e=>e.base.common)),[u,C]=(0,D.Z)();return(0,n.useEffect)((()=>{m.ChannelSettingCode&&(async e=>{const a=(await(0,i._5)(m.ChannelSettingCode)).data.map(((e,a)=>({id:a+1,LocationCode:e.locations.LocationCode,ChannelCode:e.Channel.ChannelCode,ChannelTimeDescription:e.ChannelTimeDescription,StartTime:e.StartTime,EndTime:e.EndTime,LocationName:e.locations.LocationName,ChannelName:e.Channel.ChannelName,EffectiveFrom:e.EffectiveFrom.substring(0,10),IsActive:e.IsActive})));d(a)})()}),[]),(0,x.jsxs)(l.Zb,{header:(0,x.jsx)(E.Z,{}),children:[u&&(0,x.jsx)(l.bZ,{className:"mb-4",type:"danger",showIcon:!0,children:u}),(0,x.jsxs)(l.mQ,{value:e,onChange:e=>{},children:[(0,x.jsxs)(_,{children:[(0,x.jsx)(V,{value:0,children:"Channel Setting"}),(0,x.jsx)(V,{value:1,children:"Rules"}),(0,x.jsx)(V,{value:2,children:"Time Details"}),(0,x.jsx)(V,{value:3,children:"Video Path"})]}),(0,x.jsxs)("div",{className:"p-4",children:[(0,x.jsx)(H,{value:0,children:(0,x.jsx)(l.Zb,{children:(0,x.jsx)(I,{channelsetting:s,Content:m,setChannelsetting:t,setActiveIndex:a})})}),(0,x.jsx)(H,{value:1,children:(0,x.jsx)(y,{channelsetting:s,setChannelsetting:t,setActiveIndex:a,Content:m})}),(0,x.jsx)(H,{value:2,children:(0,x.jsx)(F,{channelsetting:s,setChannelsetting:t,setActiveIndex:a,setSetting:c,setSettings:d,Setting:o,Settings:r})}),(0,x.jsx)(H,{value:3,children:(0,x.jsx)(R,{channelsetting:s,setChannelsetting:t,setActiveIndex:a,Settings:r,Content:m,setMessage:C})})]})]})]})}}}]);
//# sourceMappingURL=271.a7a4025b.chunk.js.map