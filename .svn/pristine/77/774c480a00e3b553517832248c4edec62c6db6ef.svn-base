"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[3673],{92959:(e,t,o)=>{o.d(t,{C:()=>n,Q:()=>a});var l=o(46152);async function n(e){return l.Z.fetchData({url:"/columnsetting",method:"post",data:e})}async function a(e){return l.Z.fetchData({url:"/columnsetting/".concat(e),method:"get"})}},83659:(e,t,o)=>{o.d(t,{U:()=>N,Z:()=>T});var l=o(72791),n=o(2803),a=o(36996),r=o(48080),s=o(58617),i=o(60364),c=(o(33155),o(51314)),d=o(25146),u=o(39126),m=o(46513),g=o(56355),h=o(25763),p=o(41578),x=o(9494),b=o(80184);const{Tr:f,Th:y,Td:v,THead:S,TBody:j,Sorter:w}=n.iA,C=[{value:10,label:"10 / page"},{value:20,label:"20 / page"},{value:30,label:"30 / page"},{value:40,label:"40 / page"},{value:50,label:"50 / page"}],N=(e,t,o)=>{const l={};if(e.forEach((e=>{e.accessorKey&&(l[e.accessorKey]=e.header)})),Array.isArray(t))(0,d.J)(!1,!1,0,0,!0,t,o,e,!1);else{const n=t.getCoreRowModel().rows.map((e=>{const t={};return Object.keys(e.original).forEach((o=>{l[o]?t[l[o]]=e.original[o]:t[o]=e.original[o]})),t})),a=[...e,{header:"IsActive",accessorKey:"IsActive"}];(0,d.J)(!1,!1,0,0,!0,n,o,a,!1)}},T=e=>{let{data:t,columns:o,globalFilter:d,setGlobalFilter:T,seteditData:k,openDrawer:E,ExportName:D}=e;const F=(0,i.useSelector)((e=>e.theme.themeColor)),z=(0,i.useSelector)((e=>e.theme.mode)),[R,O]=(0,l.useState)([]),[I,G]=(0,l.useState)(!0),A=(0,a.b7)({data:t,columns:o,state:{columnFilters:R,globalFilter:d},onColumnFiltersChange:O,onGlobalFilterChange:T,globalFilterFn:function(e,t,o,l){const n=(0,m.O4)(e.getValue(t),o);return l({itemRank:n}),n.passed},getCoreRowModel:(0,r.sC)(),getFilteredRowModel:(0,r.vL)(),getSortedRowModel:(0,r.tj)(),getPaginationRowModel:(0,r.G_)(),getFacetedRowModel:(0,r.o6)(),getFacetedUniqueValues:(0,r.JG)(),getFacetedMinMaxValues:(0,r.HO)(),debugHeaders:!0,debugColumns:!1,debugTable:!0});(0,l.useEffect)((()=>{t.length>0&&G(!1)}),[]);return(0,b.jsxs)("div",{className:"root-container",children:[(0,b.jsxs)(n.iA,{className:"table",children:[(0,b.jsx)(S,{className:"border-b-1 ",style:{borderColor:F,height:"4%"},variant:"solid",children:A.getHeaderGroups().map((e=>(0,b.jsxs)(f,{className:"tr3",children:[(0,b.jsx)(y,{className:"dark"==z?"srno th":"srno th Light",style:{textAlign:"Center"},children:(0,b.jsx)("h6",{className:"dark"==z?"capitalize  text-xs":"capitalize   text-xs Light",children:"Sr."})}),e.headers.map((e=>{var t;return(0,b.jsx)(y,{colSpan:e.colSpan,style:{width:null===(t=e.column.columnDef.headStyle)||void 0===t?void 0:t.width},children:(0,b.jsx)("h6",{className:"capitalize text-xs",children:e.isPlaceholder?null:(0,b.jsxs)("div",{className:e.column.getCanSort()?"cursor-pointer select-none ":"",onClick:e.column.getToggleSortingHandler(),children:[(0,a.ie)(e.column.columnDef.header,e.getContext()),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w,{sort:e.column.getIsSorted()}),(0,b.jsx)("div",{className:"cursor-all-scroll ".concat(e.column.getIsResizing()?"isResizing":""),onMouseDown:e.getResizeHandler(),onTouchStart:e.getResizeHandler()})]})]})})},e.id)})),"ExchangeMaster"==D||D.includes("Retrieved Spots")||D.includes("Matched Spots")||D.includes("Missed Spots")||D.includes("All Spots")||D.includes("Imported Spots")||D.includes("Bill Spots")||""===D?null:(0,b.jsx)(y,{className:"actions ",children:(0,b.jsx)("center",{className:"capitalize text-center font-bold ",children:"Actions"})})]},e.id)))}),I?(0,b.jsx)(c.Z,{columns:3,rows:5}):(0,b.jsx)(j,{className:"tbody",children:A.getRowModel().rows.map(((e,t)=>{var o;const l=A.getState().pagination.pageIndex*A.getState().pagination.pageSize+t+1;return(0,b.jsxs)(f,{className:"tr",children:[(0,b.jsx)(v,{className:"dark"==z?"text-xs  srno td":"text-xs  srno tdLight",style:{textAlign:"Center"},children:l}),e.getVisibleCells().map((e=>{var t;return(0,b.jsx)(v,{className:"dark"==z?"text-xs  font-medium  td":"text-xs   font-medium  tdLight",style:{width:null===(t=e.column.columnDef.cellStyle)||void 0===t?void 0:t.width},children:(0,b.jsx)("p",{className:"text-xs",children:(0,a.ie)(e.column.columnDef.cell,e.getContext())})},e.id)})),"ExchangeMaster"==D||D.includes("Retrieved Spots")||D.includes("Matched Spots")||D.includes("Missed Spots")||D.includes("All Spots")||D.includes("Imported Spots")||D.includes("Bill Spots")||""===D?null:D.includes("Credit/Debit Note Bills")?(0,b.jsx)(v,{className:"dark"==z?"text-xs font-medium  td !w-max":"text-xs font-medium  tdLight ",children:(0,b.jsx)("center",{children:(0,b.jsx)(n.u,{title:"Generate ".concat(e.original.noteType.label," Note"),children:(0,b.jsx)(n.zx,{className:"btnEdit",size:"xs",icon:(0,b.jsx)(u.HlX,{}),onClick:()=>{k(e.original)}})})})}):D.includes("Credit/Debit Notes Edit")?(0,b.jsx)(v,{className:"dark"==z?"text-xs font-medium  td ":"text-xs font-medium  tdLight ",children:(0,b.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,b.jsx)(n.u,{title:"View Note",children:(0,b.jsx)(n.zx,{size:"xs",icon:(0,b.jsx)(g.z5B,{})})}),(0,b.jsx)(n.u,{title:"Download Note",children:(0,b.jsx)(n.zx,{size:"xs",icon:(0,b.jsx)(p.HXz,{})})}),""===e.original.IRNNumber&&""===e.original.QRCODE&&(0,b.jsx)(n.u,{title:"Edit Note",children:(0,b.jsx)(n.zx,{size:"xs",icon:(0,b.jsx)(h.LBv,{}),onClick:()=>{k(e.original)}})})]})}):(0,b.jsx)(v,{className:"dark"==z?"text-xs font-medium actions td ":"text-xs font-medium  actions tdLight ",children:(0,b.jsxs)("center",{children:[(0,b.jsx)(n.zx,{className:"btnEdit",size:"xs",icon:(0,b.jsx)(s._vs,{}),onClick:()=>{k(e.original),E(e.original)}}),"SpotBooking"==D&&(null===(o=e.original.BookingCode)||void 0===o?void 0:o.startsWith("uns"))&&(0,b.jsx)(n.zx,{className:"btnEdit ml-2",size:"xs",icon:(0,b.jsx)(s.fMW,{}),onClick:async()=>{try{const t=await(0,x.apiCallstoreprocedure)("USP_DELETE_TEMPBooking",{par_BookingNumber:e.original.BookingNumber});console.log(t)}catch(t){console.error("Error calling stored procedure:",t)}}})]})})]},e.id)}))})]}),(0,b.jsxs)("div",{className:"bottom-actions-container",children:[(null===t||void 0===t?void 0:t.length)>10&&(0,b.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,b.jsx)(n.tl,{pageSize:A.getState().pagination.pageSize,currentPage:A.getState().pagination.pageIndex+1,total:t.length,onChange:e=>{A.setPageIndex(e-1)}}),(0,b.jsxs)("div",{className:"flex items-center justify-end mt-1",children:[(0,b.jsx)(n.zx,{variant:"solid",className:"mr-2",onClick:()=>{N(o,A,D)},style:{width:130},block:!0,size:"sm",icon:(0,b.jsx)(s.H_7,{}),children:"Export"}),t.length>10?(0,b.jsx)("div",{style:{minWidth:130},children:(0,b.jsx)(n.Ph,{size:"sm",isSearchable:!1,value:C.filter((e=>e.value===A.getState().pagination.pageSize)),options:C,onChange:e=>{return t=e.value,void A.setPageSize(Number(t));var t}})}):null]})]}),(0,b.jsx)("div",{className:"flex  justify-start mt-2",children:(0,b.jsxs)("h1",{className:"text-xs  font-light",children:["Records : ",null===t||void 0===t?void 0:t.length]})})]})]})}},25146:(e,t,o)=>{o.d(t,{J:()=>s});var l=o(1413),n=(o(72791),o(25415)),a=o(64802),r=o(81320);const s=(e,t,o,s,i,c,d,u,m)=>{if(0===c.length)return void(0,r.openNotification)("info","No data to export");const g=c.map((e=>(0,l.Z)({},e))),h={};u.forEach((e=>{e.accessorKey&&(console.log(e.accessorKey),console.log(h[e.accessorKey]),h[e.accessorKey]=e.header)}));const p=g.map((e=>{const t={};return Object.keys(e).forEach((o=>{h[o]?t[h[o]]=e[o]:t[o]=e[o]})),t})),x=Object.keys(h).length>0?Object.keys(h).map((e=>h[e])):[],b=(x.map((e=>({header:e,key:e}))),new n.Workbook),f=b.addWorksheet(d);for(let l=0;l<s;l++)f.addRow([]);const y=[];for(let l=0;l<o;l++)y.push("");if(y.push(...x),f.addRow(y),e){f.getRow(s+1).font={bold:!0,size:10}}if(i){const e=f.getRow(s+1);e.font={bold:!0,size:12},e.eachCell((e=>{e.border={top:{style:"medium"},left:{style:"medium"},bottom:{style:"medium"},right:{style:"medium"}},m||(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"009dff"}})}))}if(p.forEach((e=>{const t=[];for(let n=0;n<o;n++)t.push("");x.forEach((o=>{t.push(e[o]||"")}));const l=f.addRow(t);l.font={size:10},l.eachCell(((t,o)=>{t.value instanceof Date&&(t.value=new Date(Date.UTC(t.value.getFullYear(),t.value.getMonth(),t.value.getDate()))),m&&e.EventDefaultBackColor&&(t.fill={type:"pattern",pattern:"solid",fgColor:{argb:e.EventDefaultBackColor.substring(1)}}),m&&e.EventDefaultFrontColor&&(t.font={color:{argb:e.EventDefaultFrontColor.substring(1)}}),i&&(t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}})}))})),f.columns.forEach((e=>{let t=10;e.eachCell((e=>{const o=(e.value||"").toString().length;t=Math.max(t,o)})),e.width=Math.min(30,t+2)})),f.views=[{state:"frozen",xSplit:o,ySplit:s+1,topLeftCell:"A".concat(s+2)}],t){const e=c.length+s+100,t=u.length>0?u.length+100:100;for(let o=1;o<=e;o++){const e=f.getRow(o);for(let o=1;o<=t;o++){const t=e.getCell(o);t.value=t.value||"",t.border={top:{style:"thin",color:{argb:"000000"}},left:{style:"thin",color:{argb:"000000"}},bottom:{style:"thin",color:{argb:"000000"}},right:{style:"thin",color:{argb:"000000"}}}}}}b.xlsx.writeBuffer().then((e=>{(0,a.saveAs)(new Blob([e]),"".concat(d,".xlsx"))}))}},93673:(e,t,o)=>{o.d(t,{Z:()=>q});var l=o(72791),n=o(2803),a=o(23853),r=o(47475),s=o(17425),i=o(81320),c=o(40003),d=o(80184);const u=function(){const{formattedTableData:e,groupByOptions:t,selectedGroups:o,setSelectedGroups:u,setGroupedTableData:m,curView:g,setCurView:h,resetGroupedTableData:p}=(0,l.useContext)(c.Z);(0,l.useEffect)((()=>{try{0===o.length?(h(r.$.currentView.ORIGINAL),p()):(h(r.$.currentView.GROUPED),y(o,e))}catch(t){console.error(t)}}),[o,e]);const x=()=>{try{h((e=>e===r.$.currentView.ORIGINAL?r.$.currentView.GROUPED:r.$.currentView.ORIGINAL))}catch(e){(0,i.openNotification)("danger","Unable to change view"),console.error(e)}},b=(e,t)=>{try{let o=[];const l=[];return t.forEach((t=>{const n=t[e];if(o.includes(n))l.forEach((e=>{e.name===n&&e.data.data.push(t)}));else{const a={name:n,column:e,data:{type:"table",data:[t]}};l.push(a),o.push(n)}})),l}catch(o){console.error(o)}},f=(e,t)=>{try{if("table"===t.data.type){const o=b(e,t.data.data);t.data.type="group",t.data.data=o}else t.data.data.forEach((t=>{f(e,t)}));return t}catch(o){console.error(o)}},y=(e,t)=>{try{let o=[];e.forEach(((e,l)=>{const n=e.value;0===l?o=b(n,t):o.forEach(((e,t)=>{const l=f(n,e);o[t]=l}))})),m((e=>{const t=Object.assign({},e);return t.data=o,t}))}catch(o){throw o}};return(0,d.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,d.jsx)(n.Ph,{isMulti:!0,placeholder:"Group By",size:"sm",className:"col-span-3 min-w-[25%] max-w-[30%]",options:t,onChange:e=>{try{u(e)}catch(t){console.error(t)}},value:o}),g===r.$.currentView.ORIGINAL?(0,d.jsx)(n.u,{title:"View Grouped Table",children:(0,d.jsx)(n.zx,{disabled:0===o.length,icon:(0,d.jsx)(a.yG,{}),onClick:x,size:"sm",children:"Grouped Table"})}):(0,d.jsx)(n.u,{title:"View Original Table",children:(0,d.jsx)(n.zx,{icon:(0,d.jsx)(s.ltq,{}),onClick:x,size:"sm",children:"Original Table"})})]})};var m=o(1413),g=o(36996),h=o(48080),p=o(46513),x=o(4346),b=o(7064),f=o(58617),y=o(83659);const v=[{value:10,label:"10 / page"},{value:20,label:"20 / page"},{value:30,label:"30 / page"},{value:40,label:"40 / page"},{value:50,label:"50 / page"}];const S=function(e){let{table:t,managedColumns:o,exportFileName:a,setPaginationState:r}=e;const{exportFile:s,hideMaxPageSelector:i}=(0,l.useContext)(c.Z);return(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(n.tl,{pageSize:t.getState().pagination.pageSize,currentPage:t.getState().pagination.pageIndex+1,total:t.getFilteredRowModel().rows.length,onChange:e=>{try{t.setPageIndex(e-1),"function"===typeof r&&r((0,m.Z)((0,m.Z)({},t.getState().pagination),{},{pageIndex:e-1}))}catch(o){console.error(o)}}}),(0,d.jsxs)("div",{className:"flex",children:[s&&(0,d.jsx)(n.zx,{variant:"solid",onClick:()=>{(0,y.U)(o,t.getCoreRowModel().rows.map((e=>e.original)),a)},style:{width:130},block:!0,size:"sm",icon:(0,d.jsx)(f.H_7,{}),children:"Export"}),!i&&(0,d.jsx)("div",{style:{minWidth:130},className:"ml-4",children:(0,d.jsx)(n.Ph,{size:"sm",isSearchable:!1,value:v.filter((e=>e.value===t.getState().pagination.pageSize)),options:v,onChange:e=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{t.setPageSize(Number(e)),"function"===typeof r&&r((0,m.Z)((0,m.Z)({},t.getState().pagination),{},{pageSize:Number(e)}))}catch(o){console.error(o)}}(null===e||void 0===e?void 0:e.value)})})]})]})};var j=o(16856),w=o(45987);const C=["value","onChange","debounce"];const N=function(e){let{value:t,onChange:o,debounce:a=500}=e,r=(0,w.Z)(e,C);const[s,i]=(0,l.useState)(t);return(0,l.useEffect)((()=>{i(t)}),[t]),(0,l.useEffect)((()=>{const e=setTimeout((()=>{o(s)}),a);return()=>clearTimeout(e)}),[s]),(0,d.jsx)(n.II,(0,m.Z)((0,m.Z)({},r),{},{value:s,onChange:e=>i(e.target.value)}))};var T=o(28536),k=o(41578),E=o(84373),D=o(92959),F=o(60364);const z=function(e){let{managedColumns:t,setManagedColumns:o}=e;(0,F.useSelector)((e=>e.auth.session.token));const{tableName:a,fetchedColumnSetting:r,originalTableColumns:u}=(0,l.useContext)(c.Z),[g,h]=(0,l.useState)([]),[p,x]=(0,l.useState)([]),[b,f]=(0,l.useState)([]),[y,v]=(0,l.useState)([]),[S,w]=(0,l.useState)(!1),[C,N]=(0,l.useState)(!1),z=(0,l.useRef)(null);(0,l.useEffect)((()=>{try{if(0===r.length){o(Object.assign([],u));const e=I(u);h([...e]),x([...e])}else{const{visibleColumns:e,removedColumns:t}=O(r);o(e);const l=I(e);h([...l]),x([...l]);const n=I(t);f([...n]),v([...n])}}catch(e){console.error(e)}}),[u,r]),(0,l.useEffect)((()=>{function e(e){z.current&&!z.current.contains(e.target)&&(h([...p]),f([...y]),w(!1),N(!1))}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[z,p,y]);const R=e=>{"Enter"===e.key&&(e.preventDefault(),e.target.blur())},O=e=>{try{const t=e.sort(((e,t)=>e.SequenceNo-t.SequenceNo)),o=[],l=[];return t.forEach((e=>{const t=u.filter((t=>"string"===typeof t.accessorKey&&""!==t.accessorKey&&t.accessorKey===e.ColumnName&&1===e.IsVisible))[0];if(t)o.push(t);else{const t=u.filter((t=>t.accessorKey===e.ColumnName))[0];l.push(t)}})),{visibleColumns:o,removedColumns:l}}catch(t){throw t}};function I(e){try{let t=[];return e.forEach((e=>{if(e.header){const o={id:e.accessorKey,content:e.header};"action"===e.accessorKey&&(o.actions=e.actions),t.push(o)}})),t}catch(t){throw t}}const G=(e,t,o)=>{try{const l=Array.from(e),[n]=l.splice(t,1);return l.splice(o,0,n),l}catch(l){throw l}},A=async()=>{try{if(""===a)return void console.error('"tableName" prop in "ReportsTable" component cannot be empty.');if(!a)return void console.error('"tableName" prop in "ReportsTable" component cannot be null or undefined.');let t=g.map(((e,t)=>({ScreenName:a,Header:e.content,ColumnName:e.id,ColumnWidht:0,SequenceNo:t,IsVisible:1}))),o=g.length;b.forEach((e=>{t.push({ScreenName:a,Header:e.content,ColumnName:e.id,ColumnWidht:0,SequenceNo:o,IsVisible:0}),o++}));try{const e=await(0,D.C)(t);200!==e.status&&(0,i.openNotification)("danger","Something went wrong while saving column settings. Server responded with status code ".concat(e.status))}catch(e){(0,i.openNotification)("danger","Something went wrong while saving column settings"),console.error(e)}}catch(e){throw e}};return(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(n.zx,{size:"sm",icon:(0,d.jsx)(k.Rqg,{}),onClick:()=>w(!0),variant:(()=>{try{return!(0,i.isJSONArrayEqual)(t,u)}catch(e){console.error(e)}})()?"twoTone":"",children:"Manage Columns"}),S&&(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(n.Zb,{bordered:!1,className:"!bg-gray-700 text-white mt-2 absolute left-1/2 top-full z-[1]",bodyClass:"p-3",style:{boxShadow:"#000000cc 0px 0px 10px",minWidth:"14rem"},ref:z,children:[(0,d.jsxs)("div",{className:"mb-2 border-b border-b-gray-600 pb-1 flex justify-between items-center",children:[(0,d.jsx)("p",{className:"text-sm font-semibold",children:"Columns"}),(0,d.jsx)(n.u,{title:"Add column",children:(0,d.jsx)(n.zx,{icon:(0,d.jsx)(E.D0w,{}),shape:"circle",size:"xs",onClick:()=>N(!0)})})]}),(0,d.jsx)("div",{className:"h-[30vh] overflow-y-auto overflow-x-hidden",children:(0,d.jsx)(T.Z5,{onDragEnd:e=>{if(!e.destination)return;const t=G(g,e.source.index,e.destination.index);h(t)},children:(0,d.jsx)(T.bK,{droppableId:"droppable",children:e=>(0,d.jsxs)("div",(0,m.Z)((0,m.Z)({},e.droppableProps),{},{ref:e.innerRef,children:[g.map(((e,t)=>(0,d.jsx)(T._l,{draggableId:e.id,index:t,children:t=>(0,d.jsxs)("div",(0,m.Z)((0,m.Z)((0,m.Z)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{className:"border-b border-b-gray-600 py-1 flex items-center justify-between text-gray-300",children:[(0,d.jsxs)("div",{className:"flex gap-1 items-center text-sm",children:[(0,d.jsx)(s.vKY,{}),(0,d.jsxs)("div",{className:"relative group",children:[(0,d.jsx)("span",{contentEditable:"true",spellCheck:"false",className:"px-1.5 py-0.5 hover:cursor-pointer focus:outline focus:outline-teal-500 focus:outline-[1.5px] rounded",style:{textWrap:"nowrap"},onBlur:t=>((e,t)=>{try{const o=g.map((o=>o.id===t.id?(0,m.Z)((0,m.Z)({},o),{},{content:e.target.innerText}):o));h(o)}catch(o){console.log(o)}})(t,e),onKeyDown:R,suppressContentEditableWarning:!0,children:e.content}),(0,d.jsx)("div",{className:"absolute top-3/4 left-1/2 transform -translate-x-1/3 mt-2 hidden group-hover:block bg-gray-800 text-white text-xs px-2 py-1 rounded shadow-lg z-[50]",style:{textWrap:"nowrap"},children:"Click to edit header"})]})]}),(0,d.jsx)(n.zx,{icon:(0,d.jsx)(j.lTq,{}),shape:"circle",size:"xs",onClick:()=>(e=>{try{const t=g.filter((t=>t.id!==e.id));h(t),f((t=>[...t,e]))}catch(t){console.error(t)}})(e)})]}))},e.id))),e.placeholder]}))})})}),(0,d.jsxs)("div",{className:"mt-3 flex justify-between",children:[(0,d.jsx)(n.zx,{className:"w-max font-normal",size:"sm",style:{borderColor:"rgb(107 114 128)",fontSize:"0.8rem",lineHeight:"1rem"},onClick:()=>{try{h(I(u)),f([]),N(!1)}catch(e){console.error(e)}},children:"Reset"}),(0,d.jsx)(n.zx,{className:"w-max font-normal",size:"sm",variant:"twoTone",style:{fontSize:"0.8rem",lineHeight:"1rem"},onClick:()=>{try{const e=g.map((e=>{const t={accessorKey:e.id,header:e.content};return"action"===e.id&&(t.actions=e.actions),t}));o(e),w(!1),N(!1),A()}catch(e){console.error(e)}},children:"Apply"})]}),C&&(0,d.jsxs)(n.Zb,{bordered:!1,className:"!bg-gray-700 text-white ml-2 absolute left-full top-0 z-[1] w-56",bodyClass:"p-3",children:[(0,d.jsxs)("div",{className:"mb-2 border-b border-b-gray-600 pb-1 flex justify-between items-center",children:[(0,d.jsx)("p",{className:"text-sm font-semibold",children:"Add"}),(0,d.jsx)(n.u,{title:"Close",children:(0,d.jsx)(n.zx,{icon:(0,d.jsx)(j.lTq,{}),shape:"circle",size:"xs",onClick:()=>N(!1)})})]}),(0,d.jsx)("div",{className:"h-[30vh] overflow-auto",children:b.map((e=>(0,d.jsxs)("div",{className:"border-b border-b-gray-600 py-1 flex items-center justify-between text-gray-300",children:[(0,d.jsxs)("div",{className:"flex gap-1 items-center text-sm",children:[(0,d.jsx)(s.vKY,{}),e.content]}),(0,d.jsx)(n.zx,{icon:(0,d.jsx)(E.D0w,{}),shape:"circle",size:"xs",onClick:()=>(e=>{try{const t=[...g];t.push(e),h(t),f((t=>t.filter((t=>t.id!==e.id))))}catch(t){console.error(t)}})(e)})]})))})]})]})})]})};const R=function(e){let{globalFilter:t,setGlobalFilter:o,toolbarOptions:r,managedColumns:s,setManagedColumns:i}=e;const{showGlobalToolbar:u,setShowGlobalToolbar:m,toolbarExtraContent:g,selectedFilters:h,setSelectedFilters:p,externalGlobalFilter:x}=(0,l.useContext)(c.Z),b=()=>{try{m((e=>!e))}catch(e){console.error(e)}};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[!0===r.groupBy&&(0,d.jsx)(d.Fragment,{children:"boolean"===typeof u&&u?(0,d.jsx)(n.u,{title:"Disable Group By",children:(0,d.jsx)(n.zx,{size:"sm",className:"w-max",variant:"twoTone",icon:(0,d.jsx)(j.zlJ,{}),onClick:b,children:"Group By"})}):(0,d.jsx)(n.u,{title:"Enable Group By",children:(0,d.jsx)(n.zx,{size:"sm",className:"w-max",icon:(0,d.jsx)(a.yG,{}),onClick:b,children:"Group By"})})}),"boolean"===typeof r.manageColumns&&r.manageColumns&&(0,d.jsx)(z,{managedColumns:s,setManagedColumns:i}),h.length>0&&(0,d.jsx)(n.u,{title:"Clear all filters",children:(0,d.jsx)(n.zx,{icon:(0,d.jsx)(j.xBS,{}),size:"sm",className:"w-max",onClick:()=>{try{p([])}catch(e){console.error(e)}},children:"Clear"})})]}),(0,d.jsxs)("div",{className:"grow flex justify-end items-center gap-2",children:["string"!==typeof x&&(0,d.jsx)(N,{value:null!==t&&void 0!==t?t:"",className:"p-2 shadow border border-block w-[250px] text-sm",placeholder:"Search all columns",size:"sm",onChange:e=>o(String(e))}),g]})]})})};var O=o(81694),I=o.n(O);const G=["indeterminate","onChange"];const A=function(e){let{indeterminate:t,onChange:o}=e,a=(0,w.Z)(e,G);const r=(0,l.useRef)(null);return(0,l.useEffect)((()=>{"boolean"===typeof t&&r.current&&(r.current.indeterminate=!a.checked&&t)}),[r,t]),(0,d.jsx)(n.XZ,(0,m.Z)({ref:r,onChange:(e,t)=>o(t)},a))},{Tr:M,Th:L,Td:Z,THead:B,TBody:V,Sorter:P}=n.iA;const H=function(e){let{tableData:t,managedColumns:o,setManagedColumns:a,exportFileName:s,setSelectedRows:i,paginationState:u,setPaginationState:f,rowSelection:y,setRowSelection:v}=e;const{selectedFilters:j,toolbarOptions:w,externalGlobalFilter:C,setExternalGlobalFilter:N,tableType:T}=(0,l.useContext)(c.Z),[k,E]=(0,l.useState)([]),[D,F]=(0,l.useState)(""),[z,O]=(0,l.useState)(t);(0,l.useEffect)((()=>{try{if(0===j.length)O(t);else{let e=[...t];j.forEach((t=>{const o=t.columnKey,l=t.filter,n=t.searchValue.toLowerCase();e=e.filter((e=>{const t=e[o].toLowerCase();switch(l){case b.b.filterOptions.STARTS_WITH:return t.startsWith(n);case b.b.filterOptions.CONTAINS:return t.includes(n);case b.b.filterOptions.NOT_CONTAINS:return!t.includes(n);case b.b.filterOptions.ENDS_WITH:return t.endsWith(n);case b.b.filterOptions.EQUALS:return t===n;case b.b.filterOptions.NOT_EQUALS:return t!==n;default:return!1}}))})),O(e)}}catch(e){console.error(e)}}),[j,t]);const G=(0,g.b7)({data:z,columns:o,filterFns:{fuzzy:H},state:(0,m.Z)({columnFilters:k,globalFilter:"string"===typeof C?C:D,rowSelection:y},u&&{pagination:u}),enableRowSelection:e=>!0!==e.original.disableSelection,onRowSelectionChange:function(e){try{const t=e instanceof Function?e(y):e;v(t);const o=Object.keys(t).map((e=>{var t;const o=(null===(t=G.getRowModel().rowsById[e])||void 0===t?void 0:t.original)||{};return(0,m.Z)((0,m.Z)({},o),{},{rowIndex:e})}));i([...o])}catch(t){console.error(t)}},onColumnFiltersChange:E,onGlobalFilterChange:"string"===typeof C?N:F,globalFilterFn:H,getCoreRowModel:(0,h.sC)(),getFilteredRowModel:(0,h.vL)(),getSortedRowModel:(0,h.tj)(),getPaginationRowModel:(0,h.G_)(),getFacetedRowModel:(0,h.o6)(),getFacetedUniqueValues:(0,h.JG)(),getFacetedMinMaxValues:(0,h.HO)(),debugHeaders:!0,debugColumns:!1});function H(e,t,o,l){const n=(0,p.O4)(e.getValue(t),o);return l({itemRank:n}),n.passed}const K=(e,t)=>{try{const o=e.getState().pagination.pageIndex;return o*e.getState().pagination.pageSize+t+1}catch(o){console.error(o)}};return(0,d.jsxs)("div",{className:"h-full flex flex-col grow",children:[(0,d.jsx)(R,{globalFilter:D,setGlobalFilter:F,toolbarOptions:w,managedColumns:o,setManagedColumns:a}),(0,d.jsxs)("div",{className:"grow mt-4 flex flex-col",children:[(0,d.jsx)("div",{className:"grow overflow-auto grid grid-cols-1 pb-2",children:(0,d.jsxs)(n.iA,{hoverable:!1,children:[(0,d.jsx)(B,{children:G.getHeaderGroups().map((e=>(0,d.jsxs)(M,{children:[T===r.$.tableTypes.DEFAULT&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(L,{className:"border-none dark:!border-gray-600 dark:border",children:(0,d.jsx)("div",{className:"capitalize py-1 text-center dark:!text-white text-black",style:{textWrap:"nowrap",minWidth:"3rem"},children:"Sr"})}),e.headers.map(((e,t)=>{return"action"===e.column.columnDef.accessorKey?(0,d.jsx)(L,{className:"border-none dark:!border-gray-600 dark:border",children:(0,d.jsx)("div",{className:"capitalize py-1 text-center",style:{textWrap:"nowrap",minWidth:"3rem"},children:"Action"})},e.column.columnDef.accessorKey):(0,d.jsx)(L,{colSpan:e.colSpan,className:I()(!1!==(null===(o=e.column.columnDef.options)||void 0===o||null===(l=o.header)||void 0===l?void 0:l.style.borderRight)&&"dark:!border-r  border-none dark:!border-r-gray-600",!1!==(null===(n=e.column.columnDef.options)||void 0===n||null===(a=n.header)||void 0===a?void 0:a.style.borderLeft)&&"dark:!border-l border-none dark:!border-l-gray-600",!1!==(null===(r=e.column.columnDef.options)||void 0===r||null===(s=r.header)||void 0===s?void 0:s.style.borderTop)&&"dark:!border-t border-none dark:!border-t-gray-600",!1!==(null===(i=e.column.columnDef.options)||void 0===i||null===(c=i.header)||void 0===c?void 0:c.style.borderBottom)&&"dark:!border-b border-none dark:!border-b-gray-600"),style:{width:null===(u=e.column.columnDef.options)||void 0===u||null===(m=u.header)||void 0===m?void 0:m.style.width},children:e.isPlaceholder?null:(0,d.jsxs)("div",{className:"flex justify-between items-center gap-6",children:[(0,d.jsxs)("div",{className:e.column.getCanSort()?"cursor-pointer select-none capitalize py-1 grow flex gap-0.5 items-center":"grow",onClick:e.column.getToggleSortingHandler(),style:{textWrap:"nowrap"},children:[(0,g.ie)(e.column.columnDef.header,e.getContext()),!1!==(null===(h=e.column.columnDef.options)||void 0===h||null===(p=h.header)||void 0===p?void 0:p.sort)&&(0,d.jsx)(P,{sort:e.column.getIsSorted()})]}),!1!==(null===(b=e.column.columnDef.options)||void 0===b||null===(f=b.header)||void 0===f?void 0:f.filter)&&(0,d.jsx)(x.Z,{columnKey:e.column.columnDef.accessorKey,isLastColumn:t===e.headerGroup.headers.length-1})]})},e.column.columnDef.accessorKey);var o,l,n,a,r,s,i,c,u,m,h,p,b,f}))]}),T===r.$.tableTypes.SELECTABLE&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(L,{className:"border-none  dark:border dark:border-gray-600",children:(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)(A,{checked:G.getIsAllRowsSelected(),indeterminate:G.getIsSomeRowsSelected(),onChange:G.getToggleAllRowsSelectedHandler()})})}),e.headers.map(((e,t)=>{var o,l,n,a,r,s,i,c,u,m,h,p,b,f;return(0,d.jsx)(L,{colSpan:e.colSpan,className:I()(!1!==(null===(o=e.column.columnDef.options)||void 0===o||null===(l=o.header)||void 0===l?void 0:l.style.borderRight)&&"dark:!border-r  border-none dark:!border-r-gray-600",!1!==(null===(n=e.column.columnDef.options)||void 0===n||null===(a=n.header)||void 0===a?void 0:a.style.borderLeft)&&"dark:!border-l border-none dark:!border-l-gray-600",!1!==(null===(r=e.column.columnDef.options)||void 0===r||null===(s=r.header)||void 0===s?void 0:s.style.borderTop)&&"dark:!border-t border-none dark:!border-t-gray-600",!1!==(null===(i=e.column.columnDef.options)||void 0===i||null===(c=i.header)||void 0===c?void 0:c.style.borderBottom)&&"dark:!border-b border-none dark:!border-b-gray-600"),style:{width:null===(u=e.column.columnDef.options)||void 0===u||null===(m=u.header)||void 0===m?void 0:m.style.width},children:e.isPlaceholder?null:(0,d.jsx)("div",{className:"flex justify-between items-center gap-6",children:"select"===e.column.columnDef.id?(0,d.jsx)("div",{className:e.column.getCanSort()?"cursor-pointer select-none capitalize py-1 grow flex gap-0.5 items-center":"grow",onClick:e.column.getToggleSortingHandler(),style:{textWrap:"nowrap"},children:(0,g.ie)(e.column.columnDef.header,e.getContext())}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:e.column.getCanSort()?"cursor-pointer select-none capitalize py-1 grow flex gap-0.5 items-center":"grow",onClick:e.column.getToggleSortingHandler(),style:{textWrap:"nowrap"},children:[(0,g.ie)(e.column.columnDef.header,e.getContext()),!1!==(null===(h=e.column.columnDef.options)||void 0===h||null===(p=h.header)||void 0===p?void 0:p.sort)&&(0,d.jsx)(P,{sort:e.column.getIsSorted()})]}),!1!==(null===(b=e.column.columnDef.options)||void 0===b||null===(f=b.header)||void 0===f?void 0:f.filter)&&(0,d.jsx)(x.Z,{columnKey:e.column.columnDef.accessorKey,isLastColumn:t===e.headerGroup.headers.length-1})]})})},e.column.columnDef.accessorKey)}))]})]},e.id)))}),(0,d.jsx)(V,{children:G.getRowModel().rows.map(((e,t)=>(0,d.jsxs)(M,{style:{backgroundColor:e.original.bgColor,color:e.original.fontColor},children:[T===r.$.tableTypes.DEFAULT&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Z,{className:"text-xs border dark:!border-gray-600 border-gray-200 ",children:(0,d.jsx)("div",{className:"text-center dark:!text-white text-black",children:K(G,t)})}),e.getVisibleCells().map((t=>{return"action"===t.column.columnDef.accessorKey?(0,d.jsx)(Z,{className:"text-xs border dark:!border-gray-600 border-gray-200 dark:!text-white text-black",children:(0,d.jsx)("div",{className:"justify-center flex gap-1",children:t.column.columnDef.actions.map((t=>t.action(e.index,e.original)))})},t.id):(0,d.jsx)(Z,{className:I()(!1!==(null===(o=t.column.columnDef.options)||void 0===o?void 0:o.cell.style.borderRight)&&"border-r dark:border-r-gray-600 border-b-gray-200",!1!==(null===(l=t.column.columnDef.options)||void 0===l?void 0:l.cell.style.borderLeft)&&"border-l dark:border-l-gray-600 border-b-gray-200",!1!==(null===(n=t.column.columnDef.options)||void 0===n?void 0:n.cell.style.borderTop)&&"border-t dark:border-t-gray-600 border-b-gray-200",!1!==(null===(a=t.column.columnDef.options)||void 0===a?void 0:a.cell.style.borderBottom)&&"border-b dark:border-b-gray-600 border-b-gray-200"),children:(0,d.jsx)("p",{className:"dark:!text-white text-black",style:{textWrap:"nowrap",paddingBlock:null!=(null===(r=t.column.columnDef.options)||void 0===r?void 0:r.cell.style.paddingBlock)||void 0!=(null===(s=t.column.columnDef.options)||void 0===s?void 0:s.cell.style.paddingBlock)?null===(i=t.column.columnDef.options)||void 0===i?void 0:i.cell.style.paddingBlock:"4px"},children:(0,g.ie)(t.column.columnDef.cell,t.getContext())})},t.id);var o,l,n,a,r,s,i}))]}),T===r.$.tableTypes.SELECTABLE&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Z,{className:"text-xs border dark:border-gray-600  border-gray-200",children:(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)(A,{checked:e.getIsSelected(),disabled:!!e.original.disableSelection,indeterminate:e.getIsSomeSelected(),onChange:e.getToggleSelectedHandler(),className:"m-0"})})}),e.getVisibleCells().map((e=>{var t,o,l,n,a,r,s;return(0,d.jsx)(Z,{className:I()(!1!==(null===(t=e.column.columnDef.options)||void 0===t?void 0:t.cell.style.borderRight)&&"border-r dark:border-r-gray-600 border-b-gray-200",!1!==(null===(o=e.column.columnDef.options)||void 0===o?void 0:o.cell.style.borderLeft)&&"border-l dark:border-l-gray-600 border-b-gray-200",!1!==(null===(l=e.column.columnDef.options)||void 0===l?void 0:l.cell.style.borderTop)&&"border-t dark:border-t-gray-600 border-b-gray-200",!1!==(null===(n=e.column.columnDef.options)||void 0===n?void 0:n.cell.style.borderBottom)&&"border-b dark:border-b-gray-600 border-b-gray-200"),children:(0,d.jsx)("p",{className:"dark:!text-white text-black",style:{textWrap:"nowrap",paddingBlock:null!=(null===(a=e.column.columnDef.options)||void 0===a?void 0:a.cell.style.paddingBlock)||void 0!=(null===(r=e.column.columnDef.options)||void 0===r?void 0:r.cell.style.paddingBlock)?null===(s=e.column.columnDef.options)||void 0===s?void 0:s.cell.style.paddingBlock:"4px"},children:(0,g.ie)(e.column.columnDef.cell,e.getContext())})},e.id)}))]})]},e.id)))})]})}),(0,d.jsx)("div",{className:"mt-8 mb-1",children:(0,d.jsx)(S,{table:G,managedColumns:o,exportFileName:s,setPaginationState:f})})]})]})};const K=function(e){let{managedColumns:t,setManagedColumns:o,setSelectedRows:n,paginationState:a,setPaginationState:r,rowSelection:s,setRowSelection:i}=e;const{formattedTableData:u,originalTableColumns:m,originalTableExportFileName:g}=(0,l.useContext)(c.Z);return(0,d.jsx)(H,{tableData:u,originalColumns:m,managedColumns:t,setManagedColumns:o,exportFileName:g,setSelectedRows:n,paginationState:a,setPaginationState:r,rowSelection:s,setRowSelection:i})};var W=o(36100);const U=function(e){let{managedColumns:t,setManagedColumns:o,setSelectedRows:n,paginationState:a,setPaginationState:r,rowSelection:s,setRowSelection:u}=e;const{groupedTableData:g,originalTableColumns:h,toolbarOptions:p,setToolbarOptions:x,setIsGroupedTableAccordionTabOpen:b}=(0,l.useContext)(c.Z);(0,l.useEffect)((()=>{try{x((0,m.Z)((0,m.Z)({},p),{},{groupBy:!1}))}catch(e){console.error(e)}}),[]);const f=e=>{try{if("group"===e.type)return(0,d.jsx)(W.J,{onTabOpen:()=>b(!0),onTabClose:()=>b(!1),activeIndex:0,children:e.data.map(((e,l)=>(0,d.jsx)(W.U,{header:"".concat(e.name," (").concat(e.data.data.length,")"),className:"dark:!bg-[#1f2639] !bg-[#fff]",children:"group"===e.data.type?f(e.data):(0,d.jsx)("div",{style:{minHeight:"20rem",display:"flex",flexDirection:"column"},children:(0,d.jsx)(H,{tableData:e.data.data,originalColumns:h,managedColumns:t,setManagedColumns:o,exportFileName:e.name,setSelectedRows:n,paginationState:a,setPaginationState:r,rowSelection:s,setRowSelection:u})})},"".concat(e.name,"-").concat(l))))});throw'Invalid groupedTableData.type - The type should be of "group" but got '.concat(e.type,".")}catch(l){(0,i.openNotification)("danger","Something went wrong"),console.error(l)}};return(0,d.jsx)(d.Fragment,{children:"group"===g.type?f(g):(0,d.jsx)("div",{className:"h-full justify-center items-center",children:"Something went wrong. Unable to show grouped table."})})},_=e=>{let{children:t}=e;const[o,n]=(0,l.useState)([]),[a,s]=(0,l.useState)(""),[i,u]=(0,l.useState)([]),[m,g]=(0,l.useState)([]),[h,p]=(0,l.useState)(""),[x,b]=(0,l.useState)([]),[f,y]=(0,l.useState)(null),[v,S]=(0,l.useState)([]),[j,w]=(0,l.useState)([]),[C,N]=(0,l.useState)([]),[T,k]=(0,l.useState)({type:"group",data:[]}),[E,D]=(0,l.useState)(!1),[F,z]=(0,l.useState)(r.$.currentView.ORIGINAL),[R,O]=(0,l.useState)(null),[I,G]=(0,l.useState)(null),[A,M]=(0,l.useState)(!0),[L,Z]=(0,l.useState)(r.$.tableTypes.DEFAULT),[B,V]=(0,l.useState)(!1),[P,H]=(0,l.useState)(!1);return(0,d.jsx)(c.Z.Provider,{value:{originalTableData:o,tableName:a,formattedTableData:i,originalTableColumns:m,originalTableExportFileName:h,selectedFilters:x,externalGlobalFilter:f,fetchedColumnSetting:v,groupByOptions:j,selectedGroups:C,groupedTableData:T,showGlobalToolbar:E,curView:F,toolbarOptions:R,toolbarExtraContent:I,exportFile:A,tableType:L,isGroupedTableAccordionTabOpen:B,hideMaxPageSelector:P,setOriginalTableData:n,setTableName:s,setFormattedTableData:u,setOriginalTableColumns:g,setOriginalTableExportFileName:p,setSelectedFilters:b,setExternalGlobalFilter:y,setFetchedColumnSetting:S,setGroupbyOptions:w,setSelectedGroups:N,setGroupedTableData:k,setShowGlobalToolbar:D,setCurView:z,resetGroupedTableData:()=>{try{k({type:"group",data:[]})}catch(e){throw e}},setToolbarOptions:O,setToolbarExtraContent:G,setExportFile:M,setTableType:Z,setIsGroupedTableAccordionTabOpen:V,setHideMaxPageSelector:H},children:t})},$={groupBy:!0,manageColumns:!0};const q=function(e){let{tableData:t,tableName:o,originalColumns:l,managedColumns:n,setManagedColumns:a,exportFile:r,exportFileName:s,defaultGroupByColumns:i,columnsToFormatInINR:c,toolbarOptions:u,toolbarExtraContent:m,externalGlobalFilter:g,tableType:h,setSelectedRows:p,paginationState:x,setPaginationState:b,rowSelection:f,setRowSelection:y,hideMaxPageSelector:v}=e;return(0,d.jsx)(_,{children:(0,d.jsx)(Q,{tableData:t,tableName:o,originalColumns:l,managedColumns:n,setManagedColumns:a,exportFile:r,exportFileName:s,defaultGroupByColumns:i,columnsToFormatInINR:c,toolbarOptions:u,toolbarExtraContent:m,externalGlobalFilter:g,tableType:h,setSelectedRows:p,paginationState:x,setPaginationState:b,rowSelection:f,setRowSelection:y,hideMaxPageSelector:v})})};function Q(e){let{tableData:t,tableName:o,originalColumns:n,managedColumns:a,setManagedColumns:s,exportFile:m,exportFileName:g,defaultGroupByColumns:h,columnsToFormatInINR:p,toolbarOptions:x,toolbarExtraContent:b,externalGlobalFilter:f,tableType:y,setSelectedRows:v,paginationState:S,setPaginationState:j,rowSelection:w,setRowSelection:C,hideMaxPageSelector:N}=e;const T=(0,F.useSelector)((e=>e.auth.session.token)),{formattedTableData:k,setOriginalTableData:E,setTableName:z,setFormattedTableData:R,setOriginalTableColumns:O,setOriginalTableExportFileName:I,setGroupbyOptions:G,showGlobalToolbar:A,setShowGlobalToolbar:M,setCurView:L,curView:Z,setSelectedFilters:B,setSelectedGroups:V,setToolbarOptions:P,setToolbarExtraContent:H,setExternalGlobalFilter:W,setExportFile:_,setTableType:q,setFetchedColumnSetting:Q,groupedTableData:J,isGroupedTableAccordionTabOpen:X,setHideMaxPageSelector:Y}=(0,l.useContext)(c.Z);(0,l.useEffect)((()=>{try{O(n),I(g),E(t),z(o),"string"===typeof f&&W(f),"boolean"===typeof m&&!1===m&&_(m),y&&q(y),P(x||$),H(b),Array.isArray(p)?R((0,i.columnsToINRFormat)(t,p)):R(t),Array.isArray(h)&&h.length>0&&(L(r.$.currentView.GROUPED),M(!0),V(h)),Y(N)}catch(e){console.error(e)}}),[n,g,t,f,m,y,x,h,N]),(0,l.useEffect)((()=>{try{if(Array.isArray(k)&&k.length>0){let e=[];n.forEach((t=>{t.header&&!t.header.toLowerCase().includes("action")&&e.push({value:t.accessorKey,label:t.header})})),G(e)}}catch(e){console.error(e)}}),[k]),(0,l.useEffect)((()=>{try{B([])}catch(e){console.error(e)}}),[Z]),(0,l.useEffect)((()=>{(async()=>{try{!x||x&&x.manageColumns?await ee():s(Object.assign([],n))}catch(e){console.error(e)}})()}),[t,J,Z,X,x]);const ee=async()=>{try{""===o&&console.error('"tableName" prop in ReportsTable component cannot be empty.'),o||console.error('"tableName" prop in "ReportsTable" component cannot be null or undefined.');const e=await(0,D.Q)(o,T);200===e.status?Q(e.data):204===e.status?(console.info("No column settings found for table: ".concat(o,".")),Q([])):(console.error("Something went wrong while fetching column settings from server. Server responded with status code: ".concat(e.status,".")),Q([]))}catch(e){console.error(e)}};return(0,d.jsx)(d.Fragment,{children:k.length>0?(0,d.jsxs)("div",{className:"h-full flex flex-col",children:[A&&(0,d.jsx)(u,{}),(0,d.jsx)("div",{className:"grow p-0 h-full",children:Z===r.$.currentView.ORIGINAL?(0,d.jsx)(K,{managedColumns:a,setManagedColumns:s,setSelectedRows:v,paginationState:S,setPaginationState:j,rowSelection:w,setRowSelection:C}):(0,d.jsx)(U,{managedColumns:a,setManagedColumns:s,setSelectedRows:v,paginationState:S,setPaginationState:j,rowSelection:w,setRowSelection:C})})]}):(0,d.jsx)("div",{className:"h-full flex justify-center items-center",children:"No Data to show"})})}},4346:(e,t,o)=>{o.d(t,{Z:()=>g});var l=o(1413),n=o(2803),a=o(72791),r=o(40071),s=o(40003),i=o(7064),c=o(80184);const d="rgb(107 114 128)",u=[{value:"0",label:i.b.filterOptions.STARTS_WITH},{value:"1",label:i.b.filterOptions.CONTAINS},{value:"2",label:i.b.filterOptions.NOT_CONTAINS},{value:"3",label:i.b.filterOptions.ENDS_WITH},{value:"4",label:i.b.filterOptions.EQUALS},{value:"5",label:i.b.filterOptions.NOT_EQUALS}],m={control:e=>(0,l.Z)((0,l.Z)({},e),{},{borderColor:d,"&:hover":{cursor:"pointer"}}),dropdownIndicator:e=>(0,l.Z)((0,l.Z)({},e),{},{color:d})};const g=function(e){let{columnKey:t,isLastColumn:o}=e;const{selectedFilters:i,setSelectedFilters:g}=(0,a.useContext)(s.Z),[h,p]=(0,a.useState)({selectorValue:u[0],searchInputValue:""});(0,a.useEffect)((()=>{try{0===i.length&&p({selectorValue:u[0],searchInputValue:""})}catch(e){console.error(e)}}),[i]);const x=()=>{try{p({selectorValue:u[0],searchInputValue:""})}catch(e){throw e}};return(0,c.jsxs)(n.Lt,{renderTitle:(0,c.jsx)(n.u,{title:"Filter",children:(0,c.jsx)(n.zx,{shape:"circle",variant:"plain",size:"xs",icon:(0,c.jsx)(r.Q65,{color:(()=>{try{return i.filter((e=>e.columnKey===t)).length>0}catch(e){console.error(e)}})()?"rgb(20 184 166)":""})})}),menuClass:"w-80 font-normal p-3 capitalize text-xs",placement:o?"bottom-end":"bottom-center",children:[(0,c.jsx)("p",{className:"text-[0.92rem] font-normal  border-b border-b-gray-600 pb-2",children:"Filter"}),(0,c.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-x-2 gap-y-3 items-center",children:[(0,c.jsx)(n.Ph,{placeholder:"Select",size:"sm",styles:m,options:u,value:h.selectorValue,onChange:e=>{p((0,l.Z)((0,l.Z)({},h),{},{selectorValue:e}))}}),(0,c.jsx)(n.II,{size:"sm",style:{borderColor:d},placeholder:"Search",className:"h-full hover:cursor-pointer",value:h.searchInputValue,onChange:e=>{p((0,l.Z)((0,l.Z)({},h),{},{searchInputValue:e.target.value}))}}),(0,c.jsxs)(n.Lt.Item,{variant:"custom",className:"mt-2 col-span-2 flex justify-between",children:[(0,c.jsx)(n.zx,{className:"w-max font-normal",style:{borderColor:d,fontSize:"0.8rem",lineHeight:"1rem"},size:"sm",onClick:()=>{try{g((e=>{let o=[...e];return o=o.filter((e=>e.columnKey!==t)),o})),x()}catch(e){console.error(e)}},children:"Clear"}),(0,c.jsx)(n.zx,{className:"w-max font-normal",size:"sm",variant:"twoTone",disabled:!h.searchInputValue,onClick:()=>{try{g((e=>{let o=[...e];return o=o.filter((e=>!(e.columnKey===t&&e.filter===h.selectorValue.label))),o.push({columnKey:t,filter:h.selectorValue.label,searchValue:h.searchInputValue}),o}))}catch(e){console.error(e)}},style:{fontSize:"0.8rem",lineHeight:"1rem"},children:"Apply"})]})]})]})}},40003:(e,t,o)=>{o.d(t,{Z:()=>l});const l=o(72791).createContext()},7064:(e,t,o)=>{o.d(t,{b:()=>l});const l={filterOptions:{STARTS_WITH:"Starts With",CONTAINS:"Contains",NOT_CONTAINS:"Not Contains",ENDS_WITH:"Ends With",EQUALS:"Equals",NOT_EQUALS:"Not Equals"}}},47475:(e,t,o)=>{o.d(t,{$:()=>l});const l={currentView:{ORIGINAL:"ORIGINAL",GROUPED:"GROUPED"},tableTypes:{DEFAULT:"DEFAULT",SELECTABLE:"SELECTABLE"}}},33155:()=>{}}]);
//# sourceMappingURL=3673.304f39de.chunk.js.map