{"version":3,"file":"static/js/2758.74bdf122.chunk.js","mappings":"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","sources":["views/Controls/Loader.js","views/Scheduling/Scheduler/components/SchedulingArea/components/RotationInfo/RotationInfo.js","views/Scheduling/Scheduler/components/SchedulingArea/SchedulingArea.js","views/Scheduling/Scheduler/components/SchedulingArea/components/DraggableTable/Cell/components/DeleteMultipleRowsDialog.js","views/Scheduling/Scheduler/components/SchedulingArea/components/DraggableTable/Cell/components/DropMultipleRowsDialog.js","views/Scheduling/Scheduler/components/SchedulingArea/components/RotationInfo/SelectAllButton.js","views/Scheduling/Scheduler/components/SchedulingArea/components/RotationInfo/BottomToolbar.js","views/Scheduling/Scheduler/components/SchedulingArea/components/RotationInfo/RotationInfoTable.js","views/Scheduling/Scheduler/components/SchedulingArea/components/RotationInfo/utils.js"],"sourcesContent":["import { Spinner } from 'components/ui';\r\nimport React from 'react';\r\n\r\nfunction Loader({ showLoader }) {\r\n  return (\r\n    <>\r\n      {showLoader ? (\r\n        <div className=\"dialog-overlay flex justify-center items-center z-50\">\r\n          <Spinner size=\"3.25rem\" />\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import { Button, Card, Tooltip } from 'components/ui';\r\nimport React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport { IoMdClose } from 'react-icons/io';\r\nimport {\r\n  getAllColumnsOfTable,\r\n  getColumnSettingsFromAPI,\r\n  handleFeatureClose,\r\n} from '../../utils/utils';\r\nimport {\r\n  featuresEnum,\r\n  pagesEnum,\r\n  rowDataTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport RotationInfoTable from './RotationInfoTable';\r\nimport BottomToolbar from './BottomToolbar';\r\nimport { TABLE_NAMES } from 'views/Scheduling/Scheduler/constants';\r\nimport { useSelector } from 'react-redux';\r\nimport Loader from 'views/Controls/Loader';\r\n\r\nfunction RotationInfo() {\r\n  /* REDUX */\r\n  const token = useSelector((state) => state.auth.session.token);\r\n\r\n  /* CONTEXT */\r\n  const {\r\n    schedulingTableData,\r\n    schedulingTableSelectedRows,\r\n    setLeftClickedSchTableRow,\r\n    setActiveFeatures,\r\n    isScheduleAllowedToEdit,\r\n    secondaryAreaZindexRef,\r\n    page,\r\n    setSecondaryTableName,\r\n  } = useContext(SchedulerContext);\r\n\r\n  /* STATES */\r\n  const [rotationInfoTableData, setRotationInfoTableData] = useState([]);\r\n  const [columns, setColumns] = useState({\r\n    originalColumns: [],\r\n    visibleColumns: [],\r\n    removedColumns: [],\r\n  });\r\n  const [curSelectedEventRow, setCurSelectedEventRow] = useState(null);\r\n  const [showLoader, setShowLoader] = useState(true);\r\n\r\n  /* HOOKS */\r\n  const columnsRef = useRef(null);\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        let selectedRow = null;\r\n        if (schedulingTableSelectedRows.length === 1) {\r\n          setCurSelectedEventRow(schedulingTableSelectedRows[0]);\r\n          setLeftClickedSchTableRow(schedulingTableSelectedRows[0]);\r\n          selectedRow = schedulingTableSelectedRows[0];\r\n        } else {\r\n          selectedRow = curSelectedEventRow;\r\n        }\r\n        if (selectedRow) {\r\n          let rotationRows = [];\r\n          if (selectedRow.F_C_S_P !== rowDataTypesEnum.NTC) {\r\n            rotationRows = schedulingTableData.filter(\r\n              (row) =>\r\n                row.F_C_S_P === selectedRow.F_C_S_P &&\r\n                row.Event_Name === selectedRow.Event_Name,\r\n            );\r\n          } else {\r\n            if ('BookingDetailID' in selectedRow) {\r\n              rotationRows = schedulingTableData.filter(\r\n                (row) =>\r\n                  row.F_C_S_P === rowDataTypesEnum.NTC &&\r\n                  row.Event_Name === selectedRow.Event_Name &&\r\n                  'BookingDetailID' in row,\r\n              );\r\n            } else {\r\n              rotationRows = schedulingTableData.filter(\r\n                (row) =>\r\n                  row.F_C_S_P === rowDataTypesEnum.NTC &&\r\n                  row.Event_Name === selectedRow.Event_Name &&\r\n                  !('BookingDetailID' in row),\r\n              );\r\n            }\r\n          }\r\n          setRotationInfoTableData(rotationRows);\r\n          setShowLoader(true);\r\n          if (!columnsRef.current) await setManagedColumns(rotationRows);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n        openNotification(\r\n          'danger',\r\n          'Something went wrong while loading rotation info',\r\n        );\r\n      } finally {\r\n        setShowLoader(false);\r\n      }\r\n    })();\r\n  }, [schedulingTableData, schedulingTableSelectedRows]);\r\n\r\n  /* HELPER FUNCTIONS */\r\n  const setManagedColumns = async (tableData) => {\r\n    const tableName =\r\n      page === pagesEnum.PROMO\r\n        ? TABLE_NAMES.SECONDARY_TABLE_NAMES.PROMO_ROTATION_INFO\r\n        : page === pagesEnum.SONG\r\n        ? TABLE_NAMES.SECONDARY_TABLE_NAMES.SONG_ROTATION_INFO\r\n        : page === pagesEnum.COMMERCIAL\r\n        ? TABLE_NAMES.SECONDARY_TABLE_NAMES.COMMERCIAL_ROTATION_INFO\r\n        : page === pagesEnum.NTC\r\n        ? TABLE_NAMES.SECONDARY_TABLE_NAMES.NTC_ROTATION_INFO\r\n        : TABLE_NAMES.SECONDARY_TABLE_NAMES.FINAL_LOG_ROTATION_INFO;\r\n    setSecondaryTableName(tableName);\r\n    const ignoredColumns = ['actions', 'customCellColor', 'cellWarning'];\r\n    const { visibleColumns, removedColumns } = await getColumnSettingsFromAPI(\r\n      tableName,\r\n      tableData,\r\n      token,\r\n      undefined,\r\n      ignoredColumns,\r\n    );\r\n    const columns = {\r\n      originalColumns: getAllColumnsOfTable(\r\n        tableData,\r\n        undefined,\r\n        ignoredColumns,\r\n      ),\r\n      visibleColumns,\r\n      removedColumns,\r\n    };\r\n    setColumns(columns);\r\n    columnsRef.current = columns;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"h-full w-full flex flex-col bg-gray-800 p-3 pt-2 rounded-lg absolute top-0 left-0 overflow-scroll no-scrollbar\"\r\n      style={{\r\n        zIndex: secondaryAreaZindexRef.current[featuresEnum.ROTATION_INFO],\r\n      }}\r\n    >\r\n      <div className=\"flex justify-between items-center mb-2\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <h5>Rotation Info</h5>\r\n          {rotationInfoTableData.length > 0 && (\r\n            <h6 className=\"rounded-md px-1.5 py-0.5 bg-gray-600 flex items-center justify-center\">\r\n              {rotationInfoTableData.length}\r\n            </h6>\r\n          )}\r\n        </div>\r\n        <div className=\"flex gap-1.5\">\r\n          <Tooltip title=\"Close\">\r\n            <Button\r\n              size=\"xs\"\r\n              icon={<IoMdClose />}\r\n              onClick={() => {\r\n                handleFeatureClose(\r\n                  setActiveFeatures,\r\n                  featuresEnum.ROTATION_INFO,\r\n                );\r\n              }}\r\n            />\r\n          </Tooltip>\r\n        </div>\r\n      </div>\r\n      <div className=\"h-[92%] flex flex-col gap-3\">\r\n        {rotationInfoTableData.length > 0 ? (\r\n          <>\r\n            <div className=\"grow overflow-scroll\">\r\n              <RotationInfoTable\r\n                columns={columns.visibleColumns}\r\n                tableData={rotationInfoTableData}\r\n              />\r\n            </div>\r\n            {isScheduleAllowedToEdit && (\r\n              <BottomToolbar rotationInfoTableData={rotationInfoTableData} />\r\n            )}\r\n          </>\r\n        ) : (\r\n          <Card\r\n            className=\"h-full w-full\"\r\n            bodyClass=\"h-full w-full flex justify-center items-center p-2\"\r\n          >\r\n            Please select an event\r\n          </Card>\r\n        )}\r\n      </div>\r\n      <Loader showLoader={showLoader} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RotationInfo;\r\n","import { lazy, Suspense, useContext, useEffect, useRef, useState } from 'react';\r\nimport { DragDropContext } from '@hello-pangea/dnd';\r\nimport { hideStackedSideNav } from 'views/Scheduling/general';\r\nimport SchedulerContext from '../../context/SchedulerContext';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport {\r\n  isScheduleAllowedToEditFn,\r\n  isAnyRHSFeatureActive,\r\n  getDeletableRows,\r\n} from './utils/utils';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { convertDateToYMD } from 'components/validators';\r\nimport {\r\n  droppableIdsEnum,\r\n  featuresEnum,\r\n  operationTypesEnum,\r\n  pagesEnum,\r\n  secondaryTableTypesEnum,\r\n  tableTypesEnum,\r\n} from '../../enum';\r\nimport {\r\n  setResizableAreaRContainerWidth,\r\n  setResizableAreaTContainerHeight,\r\n  setUnsavedWork,\r\n} from 'store/auth/scheduling';\r\nimport { handleDeleteRows, TABLE_NAMES } from '../../constants';\r\nimport Loader from 'views/Controls/Loader';\r\nimport { apiCallstoreprocedure } from 'services/CommonService';\r\nimport { format } from 'date-fns';\r\nimport RotationInfo from './components/RotationInfo/RotationInfo';\r\n\r\n/* CODE SPLITTING */\r\nconst Toolbar = lazy(() => import('./components/Toolbar/Toolbar'));\r\nconst Hours = lazy(() => import('./components/Hours'));\r\nconst FpcTime = lazy(() => import('./components/FpcTime'));\r\nconst DraggableTable = lazy(() =>\r\n  import('./components/DraggableTable/DraggableTable'),\r\n);\r\nconst InsertPromo = lazy(() => import('./components/InsertPromo/InsertPromo'));\r\nconst InsertSong = lazy(() => import('./components/InsertSong/InsertSong'));\r\nconst InsertDroppedSpot = lazy(() =>\r\n  import('./components/InsertDroppedSpot/InsertDroppedSpot'),\r\n);\r\nconst InsertLastMinuteSpot = lazy(() =>\r\n  import('./components/InsertLastMinuteSpot/InsertLastMinuteSpot'),\r\n);\r\nconst InsertNTC = lazy(() => import('./components/InsertNTC/InsertNTC'));\r\nconst InsertDroppedNTC = lazy(() =>\r\n  import('./components/InsertDroppedNTC/InsertDroppedNTC'),\r\n);\r\nconst InsertLastMinuteNTC = lazy(() =>\r\n  import('./components/InsertLastMinuteNTC/InsertLastMinuteNTC'),\r\n);\r\nconst InsertProgram = lazy(() =>\r\n  import('./components/InsertProgram/InsertProgram'),\r\n);\r\nconst Summary = lazy(() => import('./components/Summary/Summary'));\r\nconst RotationInfoWithManageColumns = lazy(() =>\r\n  import('./components/RotationInfo/RotationInfoWithManageColumns'),\r\n);\r\nconst RuleCheck = lazy(() => import('./components/RuleCheck/RuleCheck'));\r\nconst ChangeProgram = lazy(() =>\r\n  import('./components/ChangeProgram/ChangeProgram'),\r\n);\r\nconst HourwiseInventory = lazy(() =>\r\n  import('./components/HourwiseInventory/HourwiseInventory'),\r\n);\r\nconst Duration = lazy(() => import('./components/Duration/Duration'));\r\nconst BottomSummary = lazy(() =>\r\n  import('./components/BottomSummary/BottomSummary'),\r\n);\r\nconst DeleteMultipleRowsDialog = lazy(() =>\r\n  import(\r\n    './components/DraggableTable/Cell/components/DeleteMultipleRowsDialog'\r\n  ),\r\n);\r\nconst DragIcon = lazy(() => import('./components/DragIcon'));\r\n\r\nfunction SchedulingArea() {\r\n  /* REDUX */\r\n  const channel = useSelector((state) => state.locale.selectedChannel);\r\n  const token = useSelector((state) => state.auth.session.token);\r\n  const LoginId = useSelector((state) => state.auth.session.LoginId);\r\n  const unsavedWork = useSelector((state) => state.auth.scheduling.unsavedWork);\r\n  const resizableAreaRContainerWidth = useSelector(\r\n    (state) => state.auth.scheduling.resizableAreaRContainerWidth,\r\n  );\r\n  const resizableAreaTContainerHeight = useSelector(\r\n    (state) => state.auth.scheduling.resizableAreaTContainerHeight,\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  /* CONTEXT */\r\n  const {\r\n    page,\r\n    date,\r\n    activeFeatures,\r\n    loadUnsavedWork,\r\n    unsavedWorkState,\r\n    updateSchedulerStateInRedux,\r\n    schedulingTableData,\r\n    schedulingTableOffset,\r\n    schedulingTableManagedColumns,\r\n    schedulingTableSelectedRows,\r\n    setSchedulingTableSelectedRows,\r\n    schedulingTableRef,\r\n    setShowLoader,\r\n    setStartTime,\r\n    executeOperation,\r\n    isScheduleAllowedToEdit,\r\n    setIsScheduleAllowedToEdit,\r\n  } = useContext(SchedulerContext);\r\n\r\n  /* STATES */\r\n  const [isDeleteMultipleRowsDialogOpen, setIsDeleteMultipleRowsDialogOpen] =\r\n    useState(false);\r\n\r\n  /* HOOKS - REFS */\r\n  const resizableAreaParentContainerRef = useRef(null);\r\n  const resizableAreaRContainerRef = useRef(null);\r\n  const resizableAreaTContainerRef = useRef(null);\r\n  const resizableAreaRContainerWidthRef = useRef(resizableAreaRContainerWidth);\r\n  const resizableAreaTContainerHeightRef = useRef(\r\n    resizableAreaTContainerHeight,\r\n  );\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    try {\r\n      hideStackedSideNav();\r\n      document.querySelector('.page-container').classList.add('!py-2');\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n    return () => {\r\n      document.querySelector('.page-container').classList.remove('!py-2');\r\n      handleSchedulingPageClose();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        if (!page || !channel || !date || isScheduleAllowedToEdit === null)\r\n          return;\r\n        setShowLoader(true);\r\n        if (loadUnsavedWork && unsavedWorkState) {\r\n          await executeOperation({\r\n            operation: operationTypesEnum.INITIALIZE_SCHEDULER,\r\n            isFirstLoad: true,\r\n            isLoadUnsavedWork: true,\r\n          });\r\n        } else {\r\n          await executeOperation({\r\n            operation: operationTypesEnum.INITIALIZE_SCHEDULER,\r\n            isFirstLoad: true,\r\n          });\r\n        }\r\n        setShowLoader(false);\r\n      } catch (error) {\r\n        openNotification(\r\n          'danger',\r\n          'Something went wrong while fetching schedule',\r\n        );\r\n        setShowLoader(false);\r\n        console.error(error);\r\n      }\r\n    })();\r\n  }, [page, date, unsavedWorkState, channel, isScheduleAllowedToEdit]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!date || !channel || !token) return;\r\n      setIsScheduleAllowedToEdit(\r\n        await isScheduleAllowedToEditFn(date, channel, token),\r\n      );\r\n    })();\r\n  }, [date, channel, token]);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      if (schedulingTableData.length > 0) {\r\n        setStartTime(schedulingTableData[1].Tel_Time);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [schedulingTableData]);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      // STORE UNSAVED WORK IN REDUX\r\n      if (page && activeFeatures && updateSchedulerStateInRedux) {\r\n        dispatch(\r\n          setUnsavedWork({\r\n            ...unsavedWork,\r\n            [page]: {\r\n              ...unsavedWork[page],\r\n              [convertDateToYMD(date)]: {\r\n                schedulingTableData,\r\n                activeFeatures,\r\n                timeStamp: new Date(),\r\n              },\r\n            },\r\n          }),\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [\r\n    page,\r\n    date,\r\n    schedulingTableData,\r\n    activeFeatures,\r\n    updateSchedulerStateInRedux,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', handleDeleteKeyDown);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleDeleteKeyDown);\r\n    };\r\n  }, [schedulingTableSelectedRows]);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleMouseDown = (direction, e) => {\r\n    const startX = e.clientX;\r\n    const startY = e.clientY;\r\n    const parentContainerRect =\r\n      resizableAreaParentContainerRef.current.getBoundingClientRect();\r\n    const initialRContainerWidth = resizableAreaRContainerWidthRef.current;\r\n    const initialTContainerHeight = resizableAreaTContainerHeightRef.current;\r\n    // add mouse move and moue up event handlers\r\n    document.addEventListener('mousemove', onMouseMove);\r\n    document.addEventListener('mouseup', onMouseUp);\r\n\r\n    function onMouseMove(event) {\r\n      if (direction === 'horizontal') {\r\n        const draggedPixels = startX - event.clientX;\r\n        let newWidth =\r\n          (((initialRContainerWidth * parentContainerRect.width) / 100 +\r\n            draggedPixels) *\r\n            100) /\r\n          parentContainerRect.width;\r\n        newWidth = Math.min(50, Math.max(20, newWidth));\r\n        resizableAreaRContainerWidthRef.current = newWidth;\r\n        resizableAreaRContainerRef.current.style.width = `${newWidth}%`;\r\n      } else if (direction === 'vertical') {\r\n        const draggedPixels = event.clientY - startY;\r\n        let newHeight =\r\n          (((initialTContainerHeight * parentContainerRect.height) / 100 +\r\n            draggedPixels) *\r\n            100) /\r\n          parentContainerRect.height;\r\n        newHeight = Math.min(82, Math.max(50, newHeight));\r\n        resizableAreaTContainerHeightRef.current = newHeight;\r\n        resizableAreaTContainerRef.current.style.height = `${newHeight}%`;\r\n      }\r\n    }\r\n\r\n    function onMouseUp() {\r\n      // set final width and height to redux\r\n      dispatch(\r\n        setResizableAreaRContainerWidth(\r\n          resizableAreaRContainerWidthRef.current,\r\n        ),\r\n      );\r\n      dispatch(\r\n        setResizableAreaTContainerHeight(\r\n          resizableAreaTContainerHeightRef.current,\r\n        ),\r\n      );\r\n      // Remove event handlers created on mouse down event\r\n      document.removeEventListener('mousemove', onMouseMove);\r\n      document.removeEventListener('mouseup', onMouseUp);\r\n    }\r\n  };\r\n\r\n  const handleDeleteKeyDown = (event) => {\r\n    if (event.key === 'Delete' && schedulingTableSelectedRows.length > 0) {\r\n      handleDeleteRows({\r\n        rows: getDeletableRows(schedulingTableSelectedRows),\r\n        executeOperation,\r\n        setIsDeleteMultipleRowsDialogOpen,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSchedulingPageClose = async () => {\r\n    try {\r\n      await apiCallstoreprocedure('USP_Sch_SchedulingSameDay', {\r\n        Channel: channel.ChannelCode,\r\n        Location: channel.LocationCode,\r\n        TelecastDate: format(date, 'yyyy-MM-dd'),\r\n        IsOpen: 0,\r\n        OpenBy: LoginId,\r\n        Page: page,\r\n      });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Suspense fallback={<Loader showLoader={true} />}>\r\n      <div className=\"h-full flex flex-col\">\r\n        {activeFeatures && (\r\n          <>\r\n            <Toolbar />\r\n            <div\r\n              className=\"grow h-0 select-none w-full flex flex-col\"\r\n              ref={resizableAreaParentContainerRef}\r\n            >\r\n              <div\r\n                className=\"flex gap-2 my-2\"\r\n                style={{ height: `${resizableAreaTContainerHeight}%` }}\r\n                ref={resizableAreaTContainerRef}\r\n              >\r\n                {activeFeatures[featuresEnum.HOURS] && (\r\n                  <div className=\"h-full min-w-[5%] max-w-max transition-all\">\r\n                    <Hours />\r\n                  </div>\r\n                )}\r\n                {activeFeatures[featuresEnum.FPC_TIME] && (\r\n                  <div className=\"h-full min-w-[5%] max-w-max transition-all\">\r\n                    <FpcTime />\r\n                  </div>\r\n                )}\r\n                <DragDropContext\r\n                  onDragEnd={(result) =>\r\n                    executeOperation({\r\n                      operation: operationTypesEnum.DRAG_ROW,\r\n                      dragInfo: result,\r\n                    })\r\n                  }\r\n                >\r\n                  <div\r\n                    className={`h-full bg-gray-800 p-3 pt-2 rounded-lg flex flex-col transition-all ${\r\n                      isAnyRHSFeatureActive(activeFeatures, page)\r\n                        ? 'flex-1'\r\n                        : 'w-full'\r\n                    }`}\r\n                    style={{\r\n                      width: isAnyRHSFeatureActive(activeFeatures, page)\r\n                        ? `flex-1`\r\n                        : '100%',\r\n                    }}\r\n                  >\r\n                    <DraggableTable\r\n                      tableName={TABLE_NAMES.SCHEDULING_TABLE_NAMES[page]}\r\n                      tableType={tableTypesEnum.SCHEDULING}\r\n                      tableData={schedulingTableData}\r\n                      columns={schedulingTableManagedColumns.visibleColumns}\r\n                      droppableId={droppableIdsEnum.SCHEDULING}\r\n                      selectedRows={schedulingTableSelectedRows}\r\n                      setSelectedRows={setSchedulingTableSelectedRows}\r\n                      scrolledOffset={schedulingTableOffset}\r\n                      tableRef={schedulingTableRef}\r\n                      isSortEnabled={false}\r\n                    />\r\n                  </div>\r\n                  {isAnyRHSFeatureActive(activeFeatures, page) && (\r\n                    <div\r\n                      className=\"resizer flex items-center h-full bg-gray-800 cursor-ew-resize hover:bg-gray-600 rounded-md px-1\"\r\n                      title=\"Drag to resize\"\r\n                      data-direction=\"horizontal\"\r\n                      onMouseDown={(e) => handleMouseDown('horizontal', e)}\r\n                    >\r\n                      <DragIcon orientation=\"vertical\" />\r\n                    </div>\r\n                  )}\r\n                  {isAnyRHSFeatureActive(activeFeatures, page) && (\r\n                    <div\r\n                      className=\"h-full relative\"\r\n                      style={{ width: `${resizableAreaRContainerWidth}%` }}\r\n                      ref={resizableAreaRContainerRef}\r\n                    >\r\n                      {page === pagesEnum.PROMO &&\r\n                        activeFeatures[featuresEnum.INSERT] && <InsertPromo />}\r\n                      {page === pagesEnum.SONG &&\r\n                        activeFeatures[featuresEnum.INSERT] && <InsertSong />}\r\n                      {page === pagesEnum.COMMERCIAL &&\r\n                        activeFeatures[featuresEnum.INSERT]?.isActive && (\r\n                          <>\r\n                            {activeFeatures[featuresEnum.INSERT]?.eventType ===\r\n                            secondaryTableTypesEnum.DROPPED_SPOTS ? (\r\n                              <InsertDroppedSpot />\r\n                            ) : (\r\n                              activeFeatures[featuresEnum.INSERT]?.eventType ===\r\n                                secondaryTableTypesEnum.LAST_MINUTE_SPOTS && (\r\n                                <InsertLastMinuteSpot />\r\n                              )\r\n                            )}\r\n                          </>\r\n                        )}\r\n                      {page === pagesEnum.NTC &&\r\n                        activeFeatures[featuresEnum.INSERT]?.isActive && (\r\n                          <>\r\n                            {activeFeatures[featuresEnum.INSERT]?.eventType ===\r\n                            secondaryTableTypesEnum.NTC ? (\r\n                              <InsertNTC />\r\n                            ) : activeFeatures[featuresEnum.INSERT]\r\n                                ?.eventType ===\r\n                              secondaryTableTypesEnum.DROPPED_NTC ? (\r\n                              <InsertDroppedNTC />\r\n                            ) : (\r\n                              activeFeatures[featuresEnum.INSERT]?.eventType ===\r\n                                secondaryTableTypesEnum.LAST_MINUTE_NTC && (\r\n                                <InsertLastMinuteNTC />\r\n                              )\r\n                            )}\r\n                          </>\r\n                        )}\r\n                      {page === pagesEnum.FINAL_LOG &&\r\n                        activeFeatures[featuresEnum.INSERT]?.isActive && (\r\n                          <>\r\n                            {activeFeatures[featuresEnum.INSERT]?.eventType ===\r\n                            secondaryTableTypesEnum.PROMO ? (\r\n                              <InsertPromo />\r\n                            ) : activeFeatures[featuresEnum.INSERT]\r\n                                ?.eventType === secondaryTableTypesEnum.SONG ? (\r\n                              <InsertSong />\r\n                            ) : activeFeatures[featuresEnum.INSERT]\r\n                                ?.eventType ===\r\n                              secondaryTableTypesEnum.DROPPED_SPOTS ? (\r\n                              <InsertDroppedSpot />\r\n                            ) : activeFeatures[featuresEnum.INSERT]\r\n                                ?.eventType ===\r\n                              secondaryTableTypesEnum.LAST_MINUTE_SPOTS ? (\r\n                              <InsertLastMinuteSpot />\r\n                            ) : activeFeatures[featuresEnum.INSERT]\r\n                                ?.eventType === secondaryTableTypesEnum.NTC ? (\r\n                              <InsertNTC />\r\n                            ) : activeFeatures[featuresEnum.INSERT]\r\n                                ?.eventType ===\r\n                              secondaryTableTypesEnum.DROPPED_NTC ? (\r\n                              <InsertDroppedNTC />\r\n                            ) : activeFeatures[featuresEnum.INSERT]\r\n                                ?.eventType ===\r\n                              secondaryTableTypesEnum.LAST_MINUTE_NTC ? (\r\n                              <InsertLastMinuteNTC />\r\n                            ) : (\r\n                              <></>\r\n                            )}\r\n                          </>\r\n                        )}\r\n                      {activeFeatures[featuresEnum.SUMMARY] && <Summary />}\r\n                      {activeFeatures[featuresEnum.ROTATION_INFO] && (\r\n                        <RotationInfo />\r\n                      )}\r\n                      {activeFeatures[\r\n                        featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS\r\n                      ] && <RotationInfoWithManageColumns />}\r\n                      {activeFeatures[featuresEnum.RULE_CHECK] &&\r\n                        activeFeatures[featuresEnum.RULE_CHECK]?.isActive && (\r\n                          <RuleCheck />\r\n                        )}\r\n                      {activeFeatures[featuresEnum.CHANGE_PROGRAM] && (\r\n                        <ChangeProgram />\r\n                      )}\r\n                      {activeFeatures[featuresEnum.MANAGE_SEGMENT] && (\r\n                        <InsertProgram />\r\n                      )}\r\n                      {activeFeatures[featuresEnum.HOURWISE_INVENTORY] && (\r\n                        <HourwiseInventory />\r\n                      )}\r\n                      {activeFeatures[featuresEnum.DURATION] && <Duration />}\r\n                    </div>\r\n                  )}\r\n                </DragDropContext>\r\n              </div>\r\n              <div\r\n                className=\"resizer flex items-center justify-center w-full bg-gray-800 cursor-ns-resize hover:bg-gray-600 rounded-md py-1\"\r\n                title=\"Drag to resize\"\r\n                data-direction=\"vertical\"\r\n                onMouseDown={(e) => handleMouseDown('vertical', e)}\r\n              >\r\n                <DragIcon />\r\n              </div>\r\n              <div className=\"flex-1 mt-2 grow\">\r\n                <BottomSummary />\r\n              </div>\r\n            </div>\r\n            {isDeleteMultipleRowsDialogOpen && (\r\n              <DeleteMultipleRowsDialog\r\n                isDialogOpen={isDeleteMultipleRowsDialogOpen}\r\n                setIsDialogOpen={setIsDeleteMultipleRowsDialogOpen}\r\n                selectedRows={getDeletableRows(schedulingTableSelectedRows)}\r\n                setSelectedRows={setSchedulingTableSelectedRows}\r\n              />\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nexport default SchedulingArea;\r\n","import { Button, Dialog } from 'components/ui';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport {\r\n  operationTypesEnum,\r\n  rowDataTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\n\r\nfunction DeleteMultipleRowsDialog({\r\n  isDialogOpen,\r\n  setIsDialogOpen,\r\n  selectedRows,\r\n  setSelectedRows,\r\n}) {\r\n  /* CONTEXT */\r\n  const { executeOperation, resetAllSelectedRows } =\r\n    useContext(SchedulerContext);\r\n\r\n  /* STATES */\r\n  const [selectedRowsByRowDataType, setSelectedRowsByRowDataType] = useState(\r\n    [],\r\n  );\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    if (isDialogOpen) {\r\n      setSelectedRowsByRowDataType(getSelectedRowsByRowDataType());\r\n    }\r\n  }, [selectedRows, isDialogOpen]);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleClose = () => setIsDialogOpen(false);\r\n\r\n  const handleDeleteMultipleRows = async () => {\r\n    try {\r\n      executeOperation({\r\n        operation: operationTypesEnum.DELETE_ROW,\r\n        selectedRowsToDelete: selectedRows,\r\n      });\r\n      resetAllSelectedRows();\r\n      openNotification(\r\n        'success',\r\n        `${selectedRows.length} events deleted successfully`,\r\n      );\r\n    } catch (error) {\r\n      openNotification('danger', 'Something went wrong while deleting events');\r\n      setSelectedRows([]);\r\n    } finally {\r\n      handleClose();\r\n    }\r\n  };\r\n\r\n  /* HELPER FUNCTIONS */\r\n  function getSelectedRowsByRowDataType() {\r\n    try {\r\n      let selectedRowsByRowDataType = {};\r\n      selectedRows.forEach((row) => {\r\n        if (Object.keys(selectedRowsByRowDataType).includes(row.F_C_S_P)) {\r\n          selectedRowsByRowDataType[row.F_C_S_P].push(row);\r\n        } else {\r\n          selectedRowsByRowDataType[row.F_C_S_P] = [row];\r\n        }\r\n      });\r\n      return selectedRowsByRowDataType;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog\r\n      isOpen={isDialogOpen}\r\n      onClose={handleClose}\r\n      onRequestClose={handleClose}\r\n    >\r\n      <h5 className=\"mb-4\">Delete</h5>\r\n      <p>Are you sure you want to delete below events?</p>\r\n      <div className=\"mt-4 flex flex-col gap-4\">\r\n        {Object.keys(selectedRowsByRowDataType).map((key) => (\r\n          <div key={key} className=\"flex items-center gap-2\">\r\n            <span className=\"p-2 bg-gray-600 rounded-full w-7 h-7 flex items-center justify-center text-gray-300\">\r\n              {selectedRowsByRowDataType[key].length}\r\n            </span>\r\n            <span>\r\n              {key === rowDataTypesEnum.COMMERCIAL\r\n                ? 'Commercials'\r\n                : key === rowDataTypesEnum.PROMO\r\n                ? 'Promos'\r\n                : key === rowDataTypesEnum.NTC\r\n                ? 'NTCs'\r\n                : key === rowDataTypesEnum.SONG\r\n                ? 'Songs'\r\n                : key === rowDataTypesEnum.CONTENT_TERMINATION\r\n                ? 'Content Terminations'\r\n                : key === rowDataTypesEnum.SEGMENT\r\n                ? 'Segments'\r\n                : 'Events'}\r\n            </span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"text-right mt-6\">\r\n        <Button variant=\"solid\" onClick={handleDeleteMultipleRows}>\r\n          Delete\r\n        </Button>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default DeleteMultipleRowsDialog;\r\n","import { Button, Dialog } from 'components/ui';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport {\r\n  operationTypesEnum,\r\n  rowDataTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\n\r\nfunction DropMultipleRowsDialog({\r\n  isDialogOpen,\r\n  setIsDialogOpen,\r\n  selectedRows,\r\n  setSelectedRows,\r\n}) {\r\n  /* CONTEXT */\r\n  const { executeOperation } = useContext(SchedulerContext);\r\n\r\n  /* STATES */\r\n  const [selectedRowsByRowDataType, setSelectedRowsByRowDataType] = useState(\r\n    [],\r\n  );\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    if (isDialogOpen) {\r\n      setSelectedRowsByRowDataType(getSelectedRowsByRowDataType());\r\n    }\r\n  }, [selectedRows, isDialogOpen]);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleClose = () => setIsDialogOpen(false);\r\n\r\n  const handleDropMultipleRows = async () => {\r\n    try {\r\n      executeOperation({\r\n        operation: operationTypesEnum.DROP_ROW,\r\n        selectedRowsToDrop: selectedRows,\r\n      });\r\n      openNotification(\r\n        'success',\r\n        `${selectedRows.length} events dropped successfully`,\r\n      );\r\n    } catch (error) {\r\n      openNotification('danger', 'Something went wrong while deleting events');\r\n      setSelectedRows([]);\r\n    } finally {\r\n      handleClose();\r\n    }\r\n  };\r\n\r\n  /* HELPER FUNCTIONS */\r\n  function getSelectedRowsByRowDataType() {\r\n    try {\r\n      let selectedRowsByRowDataType = {};\r\n      selectedRows.forEach((row) => {\r\n        if (Object.keys(selectedRowsByRowDataType).includes(row.F_C_S_P)) {\r\n          selectedRowsByRowDataType[row.F_C_S_P].push(row);\r\n        } else {\r\n          selectedRowsByRowDataType[row.F_C_S_P] = [row];\r\n        }\r\n      });\r\n      return selectedRowsByRowDataType;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Dialog\r\n      isOpen={isDialogOpen}\r\n      onClose={handleClose}\r\n      onRequestClose={handleClose}\r\n    >\r\n      <h5 className=\"mb-4\">Drop</h5>\r\n      <p>Are you sure you want to drop below events?</p>\r\n      <div className=\"mt-4 flex flex-col gap-4\">\r\n        {Object.keys(selectedRowsByRowDataType).map((key) => (\r\n          <div key={key} className=\"flex items-center gap-2\">\r\n            <span className=\"p-2 bg-gray-600 rounded-full w-7 h-7 flex items-center justify-center text-gray-300\">\r\n              {selectedRowsByRowDataType[key].length}\r\n            </span>\r\n            <span>\r\n              {key === rowDataTypesEnum.COMMERCIAL\r\n                ? 'Commercials'\r\n                : key === rowDataTypesEnum.PROMO\r\n                ? 'Promos'\r\n                : key === rowDataTypesEnum.NTC\r\n                ? 'NTCs'\r\n                : key === rowDataTypesEnum.SONG\r\n                ? 'Songs'\r\n                : 'Events'}\r\n            </span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"text-right mt-6\">\r\n        <Button variant=\"solid\" onClick={handleDropMultipleRows}>\r\n          Drop\r\n        </Button>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default DropMultipleRowsDialog;\r\n","import { Button, Tooltip } from 'components/ui';\r\nimport React from 'react';\r\nimport { MdOutlineLibraryAddCheck } from 'react-icons/md';\r\n\r\nfunction SelectAllButton({ isAllRowsSelected, handleSelectAll }) {\r\n  return (\r\n    <Tooltip title={isAllRowsSelected ? 'Un-select all' : 'Select All'}>\r\n      <Button\r\n        className={`hover:!bg-teal-700 transition-all !h-8 !w-8 ${\r\n          isAllRowsSelected && '!bg-teal-700'\r\n        }`}\r\n        variant=\"plain\"\r\n        size=\"sm\"\r\n        icon={<MdOutlineLibraryAddCheck className=\"text-[1.2rem]\" />}\r\n        onClick={handleSelectAll}\r\n      />\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nexport default SelectAllButton;\r\n","import { Button, Tooltip } from 'components/ui';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { RiBox3Line, RiDeleteBin6Line } from 'react-icons/ri';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport DeleteMultipleRowsDialog from '../DraggableTable/Cell/components/DeleteMultipleRowsDialog';\r\nimport {\r\n  operationTypesEnum,\r\n  rowDataTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport DropMultipleRowsDialog from '../DraggableTable/Cell/components/DropMultipleRowsDialog';\r\nimport SelectAllButton from './SelectAllButton';\r\n\r\nfunction BottomToolbar({ rotationInfoTableData }) {\r\n  /* CONTEXT */\r\n  const {\r\n    schedulingTableSelectedRows,\r\n    setSchedulingTableSelectedRows,\r\n    executeOperation,\r\n  } = useContext(SchedulerContext);\r\n\r\n  /* STATES */\r\n  const [isAllRowsSelected, setIsAllRowsSelected] = useState(false);\r\n  const [isDeleteMultipleRowsDialogOpen, setIsDeleteMultipleRowsDialogOpen] =\r\n    useState(false);\r\n  const [isDropMultipleRowsDialogOpen, setIsDropMultipleRowsDialogOpen] =\r\n    useState(false);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleDelete = () => {\r\n    try {\r\n      if (schedulingTableSelectedRows.length === 1) {\r\n        executeOperation({\r\n          operation: operationTypesEnum.DELETE_ROW,\r\n          selectedRowsToDelete: schedulingTableSelectedRows,\r\n        });\r\n        openNotification('success', 'Events deleted successfully');\r\n      } else setIsDeleteMultipleRowsDialogOpen(true);\r\n    } catch (error) {\r\n      openNotification('danger', 'Something went wrong while deleting events');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleDrop = () => {\r\n    try {\r\n      if (schedulingTableSelectedRows.length === 1) {\r\n        executeOperation({\r\n          operation: operationTypesEnum.DROP_ROW,\r\n          selectedRowsToDrop: schedulingTableSelectedRows,\r\n        });\r\n        openNotification('success', 'Events dropped successfully');\r\n      } else setIsDropMultipleRowsDialogOpen(true);\r\n    } catch (error) {\r\n      openNotification('danger', 'Something went wrong while dropping events');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleSelectAll = () => {\r\n    try {\r\n      if (schedulingTableSelectedRows.length === rotationInfoTableData.length) {\r\n        setSchedulingTableSelectedRows([]);\r\n        setIsAllRowsSelected(false);\r\n      } else {\r\n        setSchedulingTableSelectedRows(rotationInfoTableData);\r\n        setIsAllRowsSelected(true);\r\n      }\r\n    } catch (error) {\r\n      openNotification(\r\n        'danger',\r\n        'Something went wrong while selecting all events',\r\n      );\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    try {\r\n      if (schedulingTableSelectedRows.length === rotationInfoTableData.length) {\r\n        setIsAllRowsSelected(true);\r\n      } else {\r\n        setIsAllRowsSelected(false);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [rotationInfoTableData, schedulingTableSelectedRows]);\r\n\r\n  return (\r\n    <div className=\"bg-gray-700 bg-opacity-50 flex gap-0.5 p-0.5 rounded-lg border border-gray-600\">\r\n      {(rotationInfoTableData[0].F_C_S_P === rowDataTypesEnum.PROMO ||\r\n        rotationInfoTableData[0].F_C_S_P === rowDataTypesEnum.SONG ||\r\n        (rotationInfoTableData[0].F_C_S_P === rowDataTypesEnum.NTC &&\r\n          !('BookingDetailID' in rotationInfoTableData[0]))) && (\r\n        <>\r\n          <Tooltip title=\"Delete\">\r\n            <Button\r\n              className=\"hover:!bg-red-700 transition-all !h-8 !w-8\"\r\n              variant=\"plain\"\r\n              size=\"sm\"\r\n              icon={<RiDeleteBin6Line className=\"text-[1.1rem] -mt-[0.2rem]\" />}\r\n              disabled={schedulingTableSelectedRows.length === 0}\r\n              onClick={handleDelete}\r\n            />\r\n          </Tooltip>\r\n          <SelectAllButton\r\n            isAllRowsSelected={isAllRowsSelected}\r\n            handleSelectAll={handleSelectAll}\r\n          />\r\n          <DeleteMultipleRowsDialog\r\n            isDialogOpen={isDeleteMultipleRowsDialogOpen}\r\n            setIsDialogOpen={setIsDeleteMultipleRowsDialogOpen}\r\n            selectedRows={schedulingTableSelectedRows}\r\n            setSelectedRows={setSchedulingTableSelectedRows}\r\n          />\r\n        </>\r\n      )}\r\n      {rotationInfoTableData[0].F_C_S_P === rowDataTypesEnum.COMMERCIAL && (\r\n        <>\r\n          <Tooltip title=\"Drop Spot\">\r\n            <Button\r\n              className=\"hover:!bg-red-700 transition-all !h-8 !w-8\"\r\n              variant=\"plain\"\r\n              size=\"sm\"\r\n              icon={<RiBox3Line className=\"text-[1.1rem] -mt-[0.2rem]\" />}\r\n              disabled={schedulingTableSelectedRows.length === 0}\r\n              onClick={handleDrop}\r\n            />\r\n          </Tooltip>\r\n          <SelectAllButton\r\n            isAllRowsSelected={isAllRowsSelected}\r\n            handleSelectAll={handleSelectAll}\r\n          />\r\n          <DropMultipleRowsDialog\r\n            isDialogOpen={isDropMultipleRowsDialogOpen}\r\n            setIsDialogOpen={setIsDropMultipleRowsDialogOpen}\r\n            selectedRows={schedulingTableSelectedRows}\r\n            setSelectedRows={setSchedulingTableSelectedRows}\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BottomToolbar;\r\n","import React, { useContext, useState } from 'react';\r\nimport { TABLE_ROW_HEIGHT } from 'views/Scheduling/Scheduler/constants';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport { getBgColor, getBorderColor, getFontColor } from './utils';\r\n\r\nfunction RotationInfoTable({ columns, tableData }) {\r\n  /* CONTEXT */\r\n  const {\r\n    schedulingTableRef,\r\n    schedulingTableSelectedRows,\r\n    setSchedulingTableSelectedRows,\r\n    setLeftClickedSchTableRow,\r\n    maintainScrolledOffsetOfTables,\r\n  } = useContext(SchedulerContext);\r\n\r\n  /* STATES */\r\n  const [hoveredRow, setHoveredRow] = useState(false);\r\n  const [clickedRow, setClickedRow] = useState(null);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleCtrlClick = (clickedRow) => {\r\n    try {\r\n      if (\r\n        schedulingTableSelectedRows.filter(\r\n          (row) => row.rowIndex === clickedRow.rowIndex,\r\n        ).length > 0\r\n      ) {\r\n        setSchedulingTableSelectedRows(\r\n          schedulingTableSelectedRows.filter(\r\n            (row) => row.rowIndex !== clickedRow.rowIndex,\r\n          ),\r\n        );\r\n      } else {\r\n        setSchedulingTableSelectedRows([\r\n          ...schedulingTableSelectedRows,\r\n          ...tableData.filter((row) => row.rowIndex === clickedRow.rowIndex),\r\n        ]);\r\n      }\r\n      setLeftClickedSchTableRow(clickedRow);\r\n      maintainScrolledOffsetOfTables();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Table Header */}\r\n      <div className=\"flex font-semibold text-white text-[12px] sticky top-0\">\r\n        {columns.map((column, index) => (\r\n          <div\r\n            style={{\r\n              width: `${column.style.width}%`,\r\n              height: `${TABLE_ROW_HEIGHT}px`,\r\n            }}\r\n            key={column.accessorKey}\r\n            className={`flex-none flex items-center justify-${\r\n              column.accessorKey !== 'Event_Name' && 'center'\r\n            } px-2.5 bg-gray-700 border-gray-400 border-y border-r ${\r\n              index === 0 && 'border-l'\r\n            }`}\r\n          >\r\n            {column.header}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {/* Table Body */}\r\n      <div>\r\n        {tableData.map((row) => (\r\n          <div\r\n            key={row.rowId}\r\n            className=\"hover:cursor-pointer flex\"\r\n            onMouseEnter={() => setHoveredRow(row)}\r\n            onMouseLeave={() => setHoveredRow(null)}\r\n            onClick={(event) => {\r\n              if (event.button === 0 && event.ctrlKey) handleCtrlClick(row);\r\n              else {\r\n                schedulingTableRef.current?.scrollToItem(\r\n                  row.rowIndex,\r\n                  'center',\r\n                );\r\n                setClickedRow(row);\r\n                setTimeout(() => {\r\n                  maintainScrolledOffsetOfTables();\r\n                  setLeftClickedSchTableRow(row);\r\n                }, 0);\r\n              }\r\n            }}\r\n          >\r\n            {columns.map((column, index) => (\r\n              <div\r\n                key={index}\r\n                style={{\r\n                  height: `${TABLE_ROW_HEIGHT}px`,\r\n                  width: `${column.style.width}%`,\r\n                  backgroundColor: getBgColor(\r\n                    schedulingTableSelectedRows,\r\n                    row,\r\n                    hoveredRow,\r\n                    clickedRow,\r\n                  ),\r\n                  color: getFontColor(\r\n                    schedulingTableSelectedRows,\r\n                    row,\r\n                    clickedRow,\r\n                  ),\r\n                  borderColor: getBorderColor(schedulingTableSelectedRows, row),\r\n                }}\r\n                className={`flex-none flex items-center justify-${\r\n                  column.accessorKey !== 'Event_Name' && 'center'\r\n                } text-[12px] py-1 px-2.5 border-b border-r ${\r\n                  index === 0 && 'border-l'\r\n                }`}\r\n              >\r\n                <div className=\"text-ellipsis overflow-hidden whitespace-nowrap\">\r\n                  {row[column.accessorKey]}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default RotationInfoTable;\r\n","import { getHexColorWithOpacity } from 'views/Controls/GLOBALFUNACTION';\r\n\r\nconst isRowSelected = (selectedRows, row) => {\r\n  try {\r\n    return selectedRows\r\n      .map((selectedRow) => selectedRow.rowId)\r\n      .includes(row.rowId);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getFontColor = (selectedRows, row, clickedRow) => {\r\n  try {\r\n    if (isRowSelected(selectedRows, row)) {\r\n      return 'rgb(229 231 235)';\r\n    } else if (row.rowId === clickedRow?.rowId) return 'white';\r\n    return row.EventDefaultFrontColor;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst getBgColor = (selectedRows, row, hoveredRow, clickedRow) => {\r\n  try {\r\n    const isRowHovered = row.rowId === hoveredRow?.rowId;\r\n    if (isRowSelected(selectedRows, row))\r\n      return isRowHovered ? 'rgba(71, 85, 105, 0.8)' : 'rgb(71 85 105)';\r\n    else if (row.rowId === clickedRow?.rowId) return 'rgba(148, 163, 184, 0.9)';\r\n    return isRowHovered\r\n      ? getHexColorWithOpacity(row.EventDefaultBackColor, 0.8)\r\n      : row.EventDefaultBackColor;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst getBorderColor = (selectedRows, row) => {\r\n  try {\r\n    if (isRowSelected(selectedRows, row)) {\r\n      return 'rgb(156 163 175)';\r\n    }\r\n    return 'rgb(107 114 128)';\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst closeDropDowns = (event, dropdownRef, setSecTableToolbarState) => {\r\n  if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n    setSecTableToolbarState((prevState) => ({\r\n      ...prevState,\r\n      isManageColumnsDropdownVisible: false,\r\n    }));\r\n  }\r\n};\r\n\r\nexport { getBgColor, getBorderColor, getFontColor, closeDropDowns };\r\n"],"names":["showLoader","className","size","token","useSelector","state","auth","session","schedulingTableData","schedulingTableSelectedRows","setLeftClickedSchTableRow","setActiveFeatures","isScheduleAllowedToEdit","secondaryAreaZindexRef","page","setSecondaryTableName","useContext","SchedulerContext","rotationInfoTableData","setRotationInfoTableData","useState","columns","setColumns","originalColumns","visibleColumns","removedColumns","curSelectedEventRow","setCurSelectedEventRow","setShowLoader","columnsRef","useRef","useEffect","selectedRow","length","rotationRows","F_C_S_P","rowDataTypesEnum","filter","row","Event_Name","current","setManagedColumns","error","console","openNotification","async","tableName","pagesEnum","TABLE_NAMES","ignoredColumns","getColumnSettingsFromAPI","tableData","undefined","getAllColumnsOfTable","style","zIndex","featuresEnum","title","icon","onClick","handleFeatureClose","RotationInfoTable","BottomToolbar","bodyClass","Loader","Toolbar","lazy","Hours","FpcTime","DraggableTable","InsertPromo","InsertSong","InsertDroppedSpot","InsertLastMinuteSpot","InsertNTC","InsertDroppedNTC","InsertLastMinuteNTC","InsertProgram","Summary","RotationInfoWithManageColumns","RuleCheck","ChangeProgram","HourwiseInventory","Duration","BottomSummary","DeleteMultipleRowsDialog","DragIcon","channel","locale","selectedChannel","LoginId","unsavedWork","scheduling","resizableAreaRContainerWidth","resizableAreaTContainerHeight","dispatch","useDispatch","date","activeFeatures","loadUnsavedWork","unsavedWorkState","updateSchedulerStateInRedux","schedulingTableOffset","schedulingTableManagedColumns","setSchedulingTableSelectedRows","schedulingTableRef","setStartTime","executeOperation","setIsScheduleAllowedToEdit","isDeleteMultipleRowsDialogOpen","setIsDeleteMultipleRowsDialogOpen","resizableAreaParentContainerRef","resizableAreaRContainerRef","resizableAreaTContainerRef","resizableAreaRContainerWidthRef","resizableAreaTContainerHeightRef","hideStackedSideNav","document","querySelector","classList","add","remove","handleSchedulingPageClose","operation","operationTypesEnum","isFirstLoad","isLoadUnsavedWork","isScheduleAllowedToEditFn","Tel_Time","setUnsavedWork","convertDateToYMD","timeStamp","Date","addEventListener","handleDeleteKeyDown","removeEventListener","handleMouseDown","direction","e","startX","clientX","startY","clientY","parentContainerRect","getBoundingClientRect","initialRContainerWidth","initialTContainerHeight","onMouseMove","event","draggedPixels","newWidth","width","Math","min","max","newHeight","height","onMouseUp","setResizableAreaRContainerWidth","setResizableAreaTContainerHeight","key","handleDeleteRows","rows","getDeletableRows","apiCallstoreprocedure","Channel","ChannelCode","Location","LocationCode","TelecastDate","format","IsOpen","OpenBy","Page","Suspense","fallback","ref","onDragEnd","result","dragInfo","isAnyRHSFeatureActive","tableType","tableTypesEnum","droppableId","droppableIdsEnum","selectedRows","setSelectedRows","scrolledOffset","tableRef","isSortEnabled","onMouseDown","orientation","isActive","eventType","secondaryTableTypesEnum","isDialogOpen","setIsDialogOpen","resetAllSelectedRows","selectedRowsByRowDataType","setSelectedRowsByRowDataType","forEach","Object","keys","includes","push","getSelectedRowsByRowDataType","handleClose","isOpen","onClose","onRequestClose","map","variant","selectedRowsToDelete","selectedRowsToDrop","isAllRowsSelected","handleSelectAll","setIsAllRowsSelected","isDropMultipleRowsDialogOpen","setIsDropMultipleRowsDialogOpen","disabled","DropMultipleRowsDialog","maintainScrolledOffsetOfTables","hoveredRow","setHoveredRow","clickedRow","setClickedRow","column","index","TABLE_ROW_HEIGHT","accessorKey","header","onMouseEnter","onMouseLeave","button","ctrlKey","rowIndex","handleCtrlClick","scrollToItem","setTimeout","backgroundColor","getBgColor","color","getFontColor","borderColor","getBorderColor","rowId","isRowSelected","EventDefaultFrontColor","isRowHovered","getHexColorWithOpacity","EventDefaultBackColor","closeDropDowns","dropdownRef","setSecTableToolbarState","contains","target","prevState","isManageColumnsDropdownVisible"],"sourceRoot":""}