import { Button, Card, Spinner, Tooltip } from 'components/ui';
import React, { useContext, useState } from 'react';
import { handleFeatureClose } from '../../utils/utils';
import { featuresEnum } from 'views/Scheduling/Scheduler/enum';
import { IoMdClose } from 'react-icons/io';
import SchedulerContext from 'views/Scheduling/SchedulerOld/context/SchedulerContext';
// import SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';

function InsertLastMinuteNTC() {
  /* CONTEXT */
  const { resetSecondaryTableStates, setActiveFeatures } =
    useContext(SchedulerContext);

  /* STATES */
  const [showLoader, setShowLoader] = useState(false);

  /* CONSTANTS */
  const ntcs = [];

  return (
    <div className="h-full w-full flex flex-col overflow-auto no-scrollbar bg-gray-800 p-3 pt-2 rounded-lg">
      <div className="flex justify-between items-center mb-2">
        <div className="flex items-center gap-3">
          <h5>Last Minute NTC</h5>
          {ntcs.length > 0 && (
            <h6 className="rounded-md px-1.5 py-0.5 bg-gray-600 flex items-center justify-center">
              {ntcs.length}
            </h6>
          )}
        </div>
        <div className="flex gap-1.5">
          <Tooltip title="Close">
            <Button
              size="xs"
              icon={<IoMdClose />}
              onClick={() =>
                handleFeatureClose(
                  setActiveFeatures,
                  featuresEnum.INSERT,
                  resetSecondaryTableStates,
                )
              }
            />
          </Tooltip>
        </div>
      </div>
      <div className="h-[92%] flex flex-col gap-3">
        {ntcs.length > 0 ? (
          <>
            <div className="grow">
              {/* <DraggableTable
                tableName={TABLE_NAMES.SECONDARY_TABLE_NAMES.INSERT_PROGRAMS}
                tableType={tableTypesEnum.SECONDARY}
                tableData={secondaryTableData}
                columns={INSERT_PROGRAM_COLUMNS}
                droppableId={droppableIdsEnum.SECONDARY}
                selectedRows={secondaryTableSelectedRows}
                setSelectedRows={setSecondaryTableSelectedRows}
                scrolledOffset={secondaryTableOffset}
                tableRef={secondaryTableRef}
              /> */}
            </div>
          </>
        ) : (
          <Card
            className="h-full"
            bodyClass="h-full flex justify-center items-center"
          >
            {showLoader ? (
              <Spinner size="45px" />
            ) : (
              ' No last minute NTCs to show'
            )}
          </Card>
        )}
      </div>
    </div>
  );
}

export default InsertLastMinuteNTC;
