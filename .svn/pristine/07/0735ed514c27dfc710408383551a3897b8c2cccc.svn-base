"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[8778,7676,5682],{19351:(e,t,a)=>{a.d(t,{Z:()=>i});var s=a(2803),n=(a(72791),a(58617)),o=a(60364),l=a(80184);const i=e=>{let{CardHeight:t,AnimateColorClass:a,Icon:i,CardName:r,CardNote:d,CardFigure:c,COLOR:u,BackgroundColor:m,Function:p,IsFunction:h,cursor:x}=e;const f=(0,o.useSelector)((e=>e.theme.mode));return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"web-card animate__animated\n         onlythis flex justify-center col-span-1 \n          min-h-full dark:!bg-[#1f2639]\n          !bg-[#fff] dark:!border-[#374558]\n           dark:!border "+"".concat(x&&"cursor-pointer"),style:{maxHeight:t},onClick:()=>{h&&p(r)},children:(0,l.jsxs)("div",{className:"card-bodyR",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("div",{className:"flex ",children:"dark"===f?(0,l.jsx)("div",{className:" animate__animated onlythis2 order ".concat(a),children:(0,l.jsx)("span",{children:i})}):(0,l.jsx)(s.zx,{size:"lg",icon:i,className:"!".concat(u," !bg-opacity-25 !border-transparent")})}),(0,l.jsx)("div",{children:(0,l.jsx)(n.JEI,{})})]}),(0,l.jsxs)("div",{className:"flex-grow-1 mt-2",children:[(0,l.jsx)("span",{className:"text-lg font-extrabold dark:!text-gray-400 text-gray-500 ",children:r}),(0,l.jsx)("h3",{className:"text-2xl dark:!text-gray-400 text-gray-500 ",children:c})]}),(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)("p",{className:"text-xs dark:!text-gray-400 text-gray-500 ",children:d})})]})})})}},44630:(e,t,a)=>{a.d(t,{Z:()=>n});var s=a(72791);const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;const[t,a]=(0,s.useState)("");return(0,s.useEffect)((()=>{if(t){let t=setTimeout((()=>a("")),e);return()=>{clearTimeout(t)}}}),[t]),[t,a]}},85214:(e,t,a)=>{a.r(t),a.d(t,{AMBER_500:()=>d,BLUE_500:()=>r,EMERALD_300:()=>l,EMERALD_500:()=>i,EMERALD_500_50:()=>x,GRAY_300:()=>p,GRAY_500:()=>h,GREEN_500:()=>m,GREEN_700:()=>v,Month:()=>n,ORANGE_500:()=>u,RED_500:()=>c,RED_700:()=>C,RED_900:()=>g,ROSE_700_40:()=>f,TW_COLORS:()=>o});const s=(e,t)=>{const a=e.match(/\w\w/g).map((e=>parseInt(e,16)));return"rgba(".concat(a[0],", ").concat(a[1],", ").concat(a[2],", ").concat(t/100,")")},n=[{id:"01",name:"Jan"},{id:"02",name:"Feb"},{id:"03",name:"Mar"},{id:"04",name:"Apr"},{id:"05",name:"May"},{id:"06",name:"Jun"},{id:"07",name:"Jul"},{id:"08",name:"Aug"},{id:"09",name:"Sep"},{id:"10",name:"Oct"},{id:"11",name:"Nov"},{id:"12",name:"Dec"}],o={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337"}},l=o.emerald[300],i=o.emerald[500],r=o.blue[500],d=o.amber[500],c=o.red[500],u=o.orange[500],m=o.green[500],p=o.gray[300],h=o.gray[500],x=s(o.emerald[500],50),f=s(o.rose[700],40),C=o.red[700],g=o.red[900],v=o.green[700]},14584:(e,t,a)=>{a.d(t,{Z:()=>b});var s=a(72791),n=a(2803),o=a(36996),l=a(48080),i=a(58617),r=a(60364),d=(a(33155),a(51314)),c=a(25123),u=a(73073),m=a(67388),p=a(25146),h=a(46513),x=a(45682),f=a(80184);const{Tr:C,Th:g,Td:v,THead:j,TBody:N,Sorter:S}=n.iA,y=[{value:10,label:"10 / page"},{value:20,label:"20 / page"},{value:30,label:"30 / page"},{value:40,label:"40 / page"},{value:50,label:"50 / page"}],b=e=>{let{data:t,columns:a,sorting:b,globalFilter:T,setSorting:E,setGlobalFilter:w,ExportName:I}=e;const{themeColor:R}=(0,r.useSelector)((e=>e.theme)),D=(0,r.useSelector)((e=>e.theme.mode)),A=(0,r.useDispatch)(),[P,M]=(0,s.useState)(!0),[F,k]=(0,s.useState)([]),[_,L]=(0,s.useState)(!1);(0,s.useEffect)((()=>{t.length>0&&M(!1)}),[]);const z=(0,o.b7)({data:t,columns:a,state:{sorting:b,globalFilter:T},onSortingChange:E,onColumnFiltersChange:k,onGlobalFilterChange:w,globalFilterFn:function(e,t,a,s){const n=(0,h.O4)(e.getValue(t),a);return s({itemRank:n}),n.passed},getCoreRowModel:(0,l.sC)(),getFilteredRowModel:(0,l.vL)(),getSortedRowModel:(0,l.tj)(),getPaginationRowModel:(0,l.G_)(),getFacetedRowModel:(0,l.o6)(),getFacetedUniqueValues:(0,l.JG)(),getFacetedMinMaxValues:(0,l.HO)(),debugHeaders:!0,debugColumns:!1,debugTable:!0}),G=t.length;const O=async(e,t)=>{L(!0);try{let s=[],n=[];try{const e=await(0,m.apiGetcontenttxversion)(t.ContentCode);200===e.status&&(s=e.data.map((e=>({value:e.TXVersion.TXVersionCode,label:e.TXVersion.TXVersionName}))))}catch(a){console.error("Error fetching TXVersion:",a)}try{const e=await(0,m.apiGetcontentsuppliermap)(t.ContentCode);200===e.status&&(n=e.data.map((e=>({value:e.SupplierMasterTable.SupplierCode,label:e.SupplierMasterTable.SupplierName}))))}catch(a){console.error("Error fetching Supplier:",a)}A((0,c.ZV)({Supplier:n,TXVersion:s})),A((0,c.Us)(t)),L(!1),A((0,c.Es)(e)),A((0,c.fs)(!0))}catch(a){console.error("Unexpected error:",a),L(!1),A((0,c.Us)(t)),A((0,c.Es)(e)),A((0,c.fs)(!0))}L(!1)};return(0,f.jsxs)("div",{className:"root-container",children:[(0,f.jsx)(x.default,{showLoader:_}),(0,f.jsxs)(n.iA,{className:"table",children:[(0,f.jsx)(j,{className:"border-b-1 ",style:{borderColor:R,height:"4%"},variant:"solid",children:z.getHeaderGroups().map((e=>(0,f.jsxs)(C,{className:"tr3",children:[(0,f.jsx)(g,{className:"dark"==D?"srno th":"srno th Light",style:{textAlign:"Center"},translate:"no",children:(0,f.jsx)("h6",{className:"dark"==D?"capitalize text-xs":"capitalize text-xs Light",children:"Sr."})}),e.headers.map(((e,t)=>(0,f.jsx)(g,{colSpan:e.colSpan,style:0===t?{width:"28%"}:{},translate:"no",children:(0,f.jsx)("p",{className:"text-xs capitalize",children:e.isPlaceholder?null:(0,f.jsxs)("div",{className:e.column.getCanSort()?"cursor-pointer select-none":"",onClick:e.column.getToggleSortingHandler(),children:[(0,o.ie)(e.column.columnDef.header,e.getContext()),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(S,{sort:e.column.getIsSorted()}),(0,f.jsx)("div",{className:"cursor-all-scroll ".concat(e.column.getIsResizing()?"isResizing":""),onMouseDown:e.getResizeHandler(),onTouchStart:e.getResizeHandler()})]})]})})},e.id))),(0,f.jsx)(g,{className:"actions",translate:"no",children:(0,f.jsx)("center",{className:"text-xs capitalize font-bold ",children:"Actions"})})]},e.id)))}),P?(0,f.jsx)(d.Z,{columns:3,rows:5}):(0,f.jsx)(N,{className:"tbody",translate:"no",children:z.getRowModel().rows.map(((e,t)=>{const a=z.getState().pagination.pageIndex*z.getState().pagination.pageSize+t+1;return(0,f.jsxs)(C,{className:"tr",children:[(0,f.jsx)(v,{className:"dark"==D?"text-xs text-center srno td":"text-xs text-center srno tdLight",children:a}),e.getVisibleCells().map(((e,t)=>(0,f.jsx)(v,{className:"dark"==D?"text-xs font-medium  td":"text-xs font-medium  tdLight",style:0===t?{width:"28%"}:{},children:(0,f.jsx)("p",{className:"text-xs",children:(0,o.ie)(e.column.columnDef.cell,e.getContext())})},e.id))),(()=>{switch(I){case"ContentMaster":return(0,f.jsx)(u.VR,{row:e,openDialog:O});case"ContentSegmentMaster":return(0,f.jsx)(u.C1,{row:e});case"ChannelsettingMaster":return(0,f.jsx)(u.ZM,{row:e});case"PatternMaster":return(0,f.jsx)(u.Fp,{row:e});case"PromoMaster":return(0,f.jsx)(u.vJ,{row:e});case"SongMaster":return(0,f.jsx)(u.jC,{row:e});case"NTCMaster":return(0,f.jsx)(u.Zp,{row:e});case"ContentContractMaster":return(0,f.jsx)(u.TM,{row:e});case"CommercialMaster":return(0,f.jsx)(u.jV,{row:e});case"DealMaster":return(0,f.jsx)(u.fj,{row:e});case"AgencyPaymentMaster":return(0,f.jsx)(u.uU,{row:e});default:return null}})()]},e.id)}))})]}),(0,f.jsxs)("div",{className:"bottom-actions-container",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,f.jsx)(n.tl,{pageSize:z.getState().pagination.pageSize,currentPage:z.getState().pagination.pageIndex+1,total:G,onChange:e=>{z.setPageIndex(e-1)}}),(0,f.jsxs)("div",{className:"flex items-center justify-end mt-1",children:[(0,f.jsx)(n.zx,{variant:"solid",className:"mr-2",onClick:()=>{const e={};a.forEach((t=>{t.accessorKey&&(e[t.accessorKey]=t.header)}));const s=[...a,{header:"IsActive",accessorKey:"IsActive"}];(0,p.J)(!1,!1,0,0,!0,t,I,s,!1)},style:{width:130},block:!0,size:"sm",icon:(0,f.jsx)(i.H_7,{}),children:"Export"}),t.length>10?(0,f.jsx)("div",{style:{minWidth:130},children:(0,f.jsx)(n.Ph,{size:"sm",isSearchable:!1,value:y.filter((e=>e.value===z.getState().pagination.pageSize)),options:y,onChange:e=>{return t=e.value,void z.setPageSize(Number(t));var t}})}):null]})]}),(0,f.jsx)("div",{className:"flex  justify-start mt-2",children:(0,f.jsxs)("h1",{className:"text-xs  font-light",children:["Records : ",null===t||void 0===t?void 0:t.length]})})]})]})}},23357:(e,t,a)=>{a.d(t,{m:()=>l});var s=a(2803),n=a(58617),o=a(80184);const l=(e,t,a,l)=>(0,o.jsxs)("span",{className:"flex items-center",children:[(0,o.jsx)("span",{className:"mr-1 mt-4  font-semibold",children:(0,o.jsx)(t,{value:null!==a&&void 0!==a?a:"",className:" solid",placeholder:"Search all columns...",size:"sm",onChange:e=>{l(e)}})}),(0,o.jsx)("span",{className:"mr-1 font-semibold",children:(0,o.jsx)(s.zx,{block:!0,variant:"solid",size:"sm",icon:(0,o.jsx)(n.yEd,{}),onClick:()=>e(),children:"Add Entity"})})]})},45682:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=a(2803),n=(a(72791),a(80184));const o=function(e){let{showLoader:t}=e;return(0,n.jsx)(n.Fragment,{children:t?(0,n.jsx)("div",{className:"dialog-overlay flex justify-center items-center z-50",children:(0,n.jsx)(s.$j,{size:"3.25rem"})}):(0,n.jsx)(n.Fragment,{})})}},48160:(e,t,a)=>{a.d(t,{Z:()=>d});var s=a(1413),n=a(72791),o=a(11308),l=a(2803),i=a(60364),r=a(80184);const d=function(e){let{ticketData:t,setTicketData:a}=e;console.log("ticketData",t);const d=["bg-rose-500","bg-indigo-500","bg-blue-500","bg-amber-400"];(0,n.useEffect)((()=>{const e=t.map((e=>{var a,n,o,l;return(0,s.Z)((0,s.Z)({},e),{},{value:"".concat(null===(a=t[0])||void 0===a?void 0:a.LocationCode,"-").concat(null===(n=t[0])||void 0===n?void 0:n.ChannelCode),label:"".concat(null===(o=t[0])||void 0===o?void 0:o.LocationName,"-").concat(null===(l=t[0])||void 0===l?void 0:l.ChannelName)})}));console.log("updatedData",e),a(e)}),[]);const[c,u]=(0,n.useState)([]),[m,p]=(0,n.useState)([]),h=(0,i.useSelector)((e=>e.auth.session.LoginId));return(0,n.useEffect)((()=>{(async e=>{const a=await(0,o.bu)(h);console.log("LocationCode*",a),console.log("ticketDataLocationCode",t);const s=a.data.filter((e=>!t.some((t=>e.LocationCode+"-"+e.ChannelCode===t.LocationCode+"-"+t.ChannelCode)))).map(((e,t)=>({ChannelName:e.ChannelName,ChannelCode:e.ChannelCode,ColorClass:d[t%d.length],LocationCode:e.LocationCode,value:e.ChannelCode+"-"+e.LocationCode,label:e.LocationName+"-"+e.ChannelName})));console.log("updatedData",s),u(s),p(s)})()}),[t]),(0,r.jsx)("div",{className:"py-4 ",children:(0,r.jsx)("div",{children:(0,r.jsxs)("div",{children:[t.length>0?t.map(((e,s)=>(0,r.jsx)(l.Vp,{className:"mr-2 rtl:ml-2 mb-2",prefix:!0,prefixClass:e.ColorClass,onClose:()=>(e=>{const s=t.filter((t=>t.value!==e)),n=m.find((t=>t.value===e));a(s),u([...c,n])})(e.value),children:e.label},s))):null,(0,r.jsx)(l.Lt,{renderTitle:(0,r.jsx)(l.Vp,{showCloseButton:!1,className:"border-dashed cursor-pointer mr-2 rtl:ml-2",children:"Map Channel"}),placement:"bottom-end",children:c.map(((e,s)=>(0,r.jsx)(l.Lt.Item,{onSelect:()=>(e=>{const s=c.filter((t=>t.value!==e.value));u(s),a([...t,e])})(e),eventKey:s,children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(l.Ct,{innerClass:null===e||void 0===e?void 0:e.ColorClass}),(0,r.jsx)("span",{className:"ml-2 rtl:mr-2",children:null===e||void 0===e?void 0:e.label})]})},s)))})]})})})}},13515:(e,t,a)=>{a.d(t,{Z:()=>N});var s=a(1413),n=a(72791),o=a(41026),l=a(2803),i=a(67388),r=a(56355),d=a(81320),c=a(60364),u=a(36064),m=a(45682),p=a(25123),h=a(80184);const{Tr:x,Th:f,Td:C,THead:g,TBody:v}=o.Z,j=[{name:"Select"},{name:"StarCast Type"},{name:"StarCast"},{name:"Action"}],N=e=>{let{setMapStarcast:t,sMapStarcast:a,isEditMode:N,GetContents:S,path:y}=e;const{Content:b}=(0,c.useSelector)((e=>e.base.common)),{LOADERCHECK:T,STARCAST:E}=(0,c.useSelector)((e=>e.locale)),[w,I]=(0,n.useState)(null),[R,D]=(0,n.useState)(null),[A,P]=(0,n.useState)([]),[M,F]=(0,n.useState)([]),[k,_]=(0,n.useState)([]),[L,z]=(0,n.useState)(!1),G=(0,c.useDispatch)();(0,n.useEffect)((()=>{O()}),[E]);const O=async()=>{if(E&&E.star){G((0,u.kf)(!0));const e=await(0,i.apiStarcastmasterDrop)(5),a=E.star.map((t=>{const a=e.data.find((e=>e.StarCastName===t));return{StarCastTypeCode:5,StarCastTypeName:"Star",StarCastName:t,StarCastCode:a?a.StarCastCode:null}}));t(a),G((0,u.kf)(!1))}};(0,n.useEffect)((()=>{(async()=>{const e=(await(0,i.apiGetStarCastTypemaster)()).data.map((e=>({value:e.StarCastTypeCode,label:e.StarCastTypeName})));P(e)})()}),[T]);return(0,h.jsxs)("div",{children:[(0,h.jsx)(m.default,{showLoader:T}),(0,h.jsxs)("div",{className:"grid grid-cols-10 gap-2 mb-4",children:[(0,h.jsxs)("div",{className:"col-span-4",children:[(0,h.jsx)("h6",{className:"mb-2",children:"StarCast Type"}),(0,h.jsx)(l.Ph,{options:A,value:w,onChange:e=>{I(e),F([]),D(null),(async e=>{const t=(await(0,i.apiStarcastmasterDrop)(e)).data.map((e=>({value:e.StarCastCode,label:e.StarCastName})));F(t)})(e.value)}})]}),(0,h.jsxs)("div",{className:"col-span-4",children:[(0,h.jsx)("h6",{className:"mb-2",children:"StarCast"}),(0,h.jsx)(l.Ph,{options:M,value:R,onChange:e=>D(e)})]}),(0,h.jsx)("div",{className:"col-span-1",children:(0,h.jsx)(l.zx,{size:"sm",onClick:()=>{if(!w||!R)return void(0,d.openNotification)("danger","Select Star Cast And Type");if(a.some((e=>e.StarCastName===R.label)))return void(0,d.openNotification)("danger","StarCast Already Exist");const e={StarCastCode:R.value,StarCastName:R.label,StarCastTypeCode:w.value,StarCastTypeName:w.label};t([...a,e]),D(null)},type:"button",className:"mt-8",children:"Add"})})]}),0===a.length?(0,h.jsx)("div",{className:"flex justify-center",children:(0,h.jsx)("h4",{children:"No Record Found"})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.zx,{size:"sm",onClick:()=>{const e=a.filter(((e,t)=>!k.includes(t)));t(e),_([]),z(!1)},type:"button",className:"mb-4",disabled:0===k.length,children:"Delete Selected"}),(0,h.jsxs)(o.Z,{compact:!0,style:{height:"auto"},children:[(0,h.jsx)(g,{children:(0,h.jsxs)(x,{children:[(0,h.jsx)(f,{style:{textAlign:"center"},children:(0,h.jsx)(l.XZ,{checked:L,onChange:()=>{_(L?[]:a.map(((e,t)=>t))),z(!L)}})}),j.slice(1).map(((e,t)=>(0,h.jsx)(f,{style:{textAlign:"center",textTransform:"capitalize"},children:e.name},t)))]})}),(0,h.jsx)(v,{children:a.map(((e,s)=>(0,h.jsxs)(x,{style:{border:"1px solid #E3E5EB"},children:[(0,h.jsx)(C,{style:{border:"1px solid #E3E5EB",textAlign:"center"},children:(0,h.jsx)(l.XZ,{checked:k.includes(s),onChange:()=>(e=>{const t=k.includes(e)?k.filter((t=>t!==e)):[...k,e];_(t)})(s)})}),(0,h.jsx)(C,{style:{border:"1px solid #E3E5EB",textAlign:"center"},children:e.StarCastTypeName}),(0,h.jsx)(C,{style:{border:"1px solid #E3E5EB",textAlign:"center"},children:e.StarCastName}),(0,h.jsx)(C,{style:{border:"1px solid #E3E5EB",textAlign:"center"},children:(0,h.jsx)(l.zx,{type:"button",shape:"circle",style:{fontSize:"14px"},size:"xs",onClick:()=>{const e=a.filter(((e,t)=>t!==s));t(e)},icon:(0,h.jsx)(r.AMf,{})})})]},s)))})]})]}),N&&0!==a.length&&(0,h.jsx)("div",{className:"flex justify-start mt-4",children:(0,h.jsx)(l.zx,{size:"sm",onClick:async()=>{const e=a.map((e=>(0,s.Z)((0,s.Z)({},e),{},{ContentCode:b.ContentCode})));try{const t=await(0,i.apiPostContenStarCast)(b.ContentCode,e);200===t.status?(S("/EventTeamPlaner"==y||"EventTeamPlaner"==y?1:0),(0,d.openNotification)("success","Data Updated Successfully"),setTimeout((()=>G((0,p.fs)(!1))),500)):t.data.msg}catch(t){(0,d.openNotification)("danger","Somthing Went Wrong"),setTimeout((()=>G((0,p.fs)(!1))),500)}},type:"button",className:"mb-4",children:"Save"})})]})}},19315:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(2803),n=a(72791),o=a(16856),l=a(81692),i=a(80184);const r=function(e){let{isOpen:t,title:a,uploadPercent:r}=e;const d=(0,n.useRef)(null);return(0,n.useEffect)((()=>{try{const e=(0,l.Z)({translateY:-20,duration:1e3,targets:d.current.querySelector("svg"),loop:!0,direction:"alternate",easing:"easeInOutSine",color:["rgb(75 85 99)","rgb(94 234 212)"]});return()=>e.pause()}catch(e){console.error(e)}}),[d.current]),(0,i.jsxs)(s.Vq,{closable:!1,isOpen:t,children:[(0,i.jsx)("h5",{children:a}),(0,i.jsx)("div",{className:"h-56 flex items-center justify-center",children:(0,i.jsx)(s.Ex,{variant:"circle",percent:r,width:170,className:"flex items-center justify-center",customInfo:(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,i.jsx)("div",{ref:d,children:(0,i.jsx)(o.YFT,{className:"text-gray-400 text-5xl"})}),(0,i.jsxs)("h4",{children:[r,"%"]}),(0,i.jsx)("span",{children:"completion"})]})})})]})}},57676:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});a(72791);var s=a(2803),n=a(54748),o=a(67388),l=a(60364),i=a(36064),r=a(80184);const d=e=>{let{precent:t}=e;return(0,r.jsx)("div",{children:(0,r.jsx)("h3",{style:{fontSize:15},className:"pppp",children:t})})},c=e=>{let{first:t,values:a,onDialogClose:c,setPreviewSource:u,setcontentratings:m,Rating:p}=e;const h=(0,l.useDispatch)();return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4    mt-1  ",children:[(0,r.jsx)("div",{className:"col-span-2 ",children:(0,r.jsxs)("div",{style:{marginTop:10,marginLeft:30},children:[(0,r.jsx)("h3",{children:null===t||void 0===t?void 0:t.Title}),(0,r.jsx)("br",{}),(0,r.jsx)("p",{children:null===t||void 0===t?void 0:t.Plot})]})}),(0,r.jsx)("div",{className:"col-span-1 mt-1 ",style:{marginLeft:40},children:(0,r.jsx)("img",{src:null===t||void 0===t?void 0:t.Poster,height:100,width:100})})]}),(0,r.jsxs)("div",{className:"grid grid-rows-7 grid-flow-col gap-2",children:[(0,r.jsx)("div",{className:"col-span-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,r.jsx)("div",{className:"rows-span-1 flex justify-center",children:(0,r.jsxs)("div",{style:{marginTop:"20px"},children:[(0,r.jsx)(s.Ex,{variant:"circle",percent:10*(null===t||void 0===t?void 0:t.imdbRating),width:60,className:"flex justify-center",strokeWidth:10,customInfo:(0,r.jsx)(d,{precent:null===t||void 0===t?void 0:t.imdbRating})}),(0,r.jsx)("center",{children:"Ratings"})]})}),(0,r.jsx)("div",{className:"rows-span-1 flex justify-center",children:(0,r.jsxs)("div",{style:{marginTop:"20px",width:100},children:[(0,r.jsxs)("center",{children:[(0,r.jsx)("p",{className:"text-xl",children:null===t||void 0===t?void 0:t.imdbVotes}),(0,r.jsx)("h3",{style:{fontSize:15},className:"pppp",children:"Votes"})]}),(0,r.jsx)("p",{className:"text-xl",children:(0,r.jsx)(s.Ex,{color:"blue-500",percent:100,showInfo:!1,size:"sm"})})]})}),(0,r.jsx)("div",{className:"rows-span-1 flex justify-center",children:(0,r.jsxs)("div",{style:{marginTop:"20px",width:100},children:[(0,r.jsxs)("center",{children:[(0,r.jsx)("p",{className:"text-xl",children:null===t||void 0===t?void 0:t.BoxOffice}),(0,r.jsx)("h3",{style:{fontSize:15},className:"pppp",children:"Box Office"})]}),(0,r.jsx)("p",{className:"text-xl",children:(0,r.jsx)(s.Ex,{color:"blue-500",percent:100,showInfo:!1,size:"sm"})})]})}),(0,r.jsx)("div",{className:"col-span-1 flex justify-center",children:(0,r.jsxs)("div",{style:{marginTop:"20px",width:100},children:[(0,r.jsxs)("center",{children:[(0,r.jsx)("p",{className:"text-xl",children:null===t||void 0===t?void 0:t.Year}),(0,r.jsx)("h3",{style:{fontSize:15},className:"pppp",children:"Year"})]}),(0,r.jsx)("p",{className:"text-xl",children:(0,r.jsx)(s.Ex,{color:"blue-500",percent:100,showInfo:!1,size:"sm"})})]})}),(0,r.jsx)("div",{className:"col-span-4 flex justify-center",children:(0,r.jsx)("div",{style:{marginTop:"10px"},children:(0,r.jsx)(s.Zb,{children:(0,r.jsxs)("center",{className:"text-5xl cursor-pointer",children:[(0,r.jsx)("h4",{children:"Cast Name"}),(0,r.jsx)("p",{className:"text-lg",children:null===t||void 0===t?void 0:t.Actors})]})})})})]})}),(0,r.jsx)("div",{className:"row-span-3",children:(0,r.jsxs)("div",{style:{marginTop:"10px",width:200,marginLeft:"80px"},children:[(0,r.jsx)("h3",{style:{fontSize:15,textTransform:"uppercase"},className:"pkk",children:"Initial Released"}),(0,r.jsx)("p",{className:"text-sm",style:{marginTop:"-5px"},children:null===t||void 0===t?void 0:t.Released}),(0,r.jsx)("br",{}),(0,r.jsx)("h3",{style:{fontSize:15,textTransform:"uppercase"},className:"pkk",children:"Length"}),(0,r.jsx)("p",{className:"text-sm",style:{marginTop:"-5px"},children:null===t||void 0===t?void 0:t.Runtime}),(0,r.jsx)("br",{}),(0,r.jsx)("h3",{style:{fontSize:15,textTransform:"uppercase"},className:"pkk",children:"Director"}),(0,r.jsx)("p",{className:"text-sm",style:{marginTop:"-5px"},children:null===t||void 0===t?void 0:t.Director}),(0,r.jsx)("br",{}),(0,r.jsx)("h3",{style:{fontSize:15,textTransform:"uppercase"},className:"pkk",children:"Genre"}),(0,r.jsx)("p",{className:"text-sm",style:{marginTop:"-5px"},children:null===t||void 0===t?void 0:t.Genre})]})})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(s.zx,{variant:"solid",size:"sm",onClick:()=>(()=>{var e;const s={star:(e=null===t||void 0===t?void 0:t.Actors)?e.split(", "):[],Director:null===t||void 0===t?void 0:t.Director};(async e=>{await(0,o.apiPOSTSTAR)(s),h((0,i.kf)(!0)),h((0,i.Ie)(s))})(),u(null===t||void 0===t?void 0:t.Poster),a.EPGContentName=null===t||void 0===t?void 0:t.Title,a.ContentName=null===t||void 0===t?void 0:t.Title,a.FPCReleaseDate=(0,n.jM)(null===t||void 0===t?void 0:t.Released),a.Synopsis=null===t||void 0===t?void 0:t.Plot,a.GenericSynopsis=null===t||void 0===t?void 0:t.Plot;const l=(null===t||void 0===t?void 0:t.Title.split(" ")).map((e=>e.charAt(0).toUpperCase())).join("");a.ShortName=l;const r=(null===t||void 0===t?void 0:t.Runtime.replace(/\bmin\b/g,"").trim()).replace(/\s/g,"");a.SlotDuration=r,console.log("Internet",t);const d=t.Ratings.flatMap((e=>{let a;return a="Internet Movie Database"===e.Source?p.filter((e=>2==e.RatingCompanyCode)):p.filter((t=>t.RatingCompanyName===e.Source)),0===a.length?[]:a.map((a=>{let s;if("Internet Movie Database"===e.Source&&2===a.RatingCompanyCode)s={RatingCompanyCode:a.RatingCompanyCode,Rating:parseFloat(e.Value.split("/")[0]),OutofRatingScale:10,TotalVoters:parseInt(t.imdbVotes.replace(/,/g,""),10)};else{if(3!==a.RatingCompanyCode)return null;s={RatingCompanyCode:a.RatingCompanyCode,Rating:10*Number(parseFloat(e.Value.split("/")[0]))/100,OutofRatingScale:10,TotalVoters:10*Number(parseFloat(e.Value.split("/")[0]))/100==0?0:parseInt(t.imdbVotes.replace(/,/g,""),10)}}return s}))}));m(d),c()})(),children:"Import Data"})})]})}},59866:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Me});var s=a(1413),n=a(72791),o=a(2803),l=a(67388),i=a(58617),r=a(96361),d=a(11087),c=a(14584),u=a(60364),m=a(25123),p=a(11308),h=a(92506),x=a(86836),f=a(23357),C=a(57676),g=a(73728),v=a(44630),j=a(54748),N=a(76053),S=a(1680),y=a(81320),b=a(9494),T=a(74569),E=a.n(T),w=a(80184);const I=[{value:1,label:"EPISODIC"},{value:2,label:"NONEPISODIC"}],R=[{value:"",label:"Data Not Found"}];let D="https://cloudbats.planetcast.in/download.jpg";const A=e=>{var t,a,s,r,d,c,T,A;let{GetContents:P}=e;const M=(0,u.useDispatch)(),{Content:F}=(0,u.useSelector)((e=>e.base.common)),{TXCode:k}=(0,u.useSelector)((e=>e.base.common)),_=(0,u.useSelector)((e=>e.base.common.Path)),[L,z]=(0,n.useState)([]),[G,O]=(0,n.useState)([]),[V,Z]=(0,n.useState)([]),[B,U]=(window.location.href.split("#")[1],(0,n.useState)([])),[H,X]=(0,n.useState)([]),[q,K]=(0,n.useState)([]),[Y,W]=(0,n.useState)([]),[$,J]=(0,n.useState)([]),[Q,ee]=(0,v.Z)(),[te,ae]=(0,n.useState)(""),[se,ne]=(0,n.useState)(""),[oe,le]=(0,n.useState)(!1),[ie,re]=(0,n.useState)(!1),[de,ce]=(0,n.useState)([""]),[ue,me]=(0,n.useState)("");console.log(ie);const pe=(0,u.useSelector)((e=>e.auth.session.token)),he=(0,u.useSelector)((e=>e.locale.selectedChannel)),xe=(0,u.useSelector)((e=>e.auth.session.Username));console.log(he);S.CLIENT.USA_Forbes,he.label;const[fe,Ce]=(0,n.useState)({}),ge=async e=>{if(e.Content_Image&&he.label==S.CLIENT.MASST_INDIA){const a=new FormData;a.append("image",e.Content_Image),a.append("folderName",he.ChannelName);try{const e=await E().post("http://103.14.97.155:3050/upload",a,{headers:{"Content-Type":"multipart/form-data"}});console.log("Upload successful:",e.data.url),D=e.data.url}catch(s){var t;return void(0,y.openNotification)("warning",(null===(t=s.response)||void 0===t?void 0:t.data.message)||"Image upload failed")}}if(e.InHouse&&0===e.SupplierName.length)(0,y.openNotification)("danger","Kindly Enter Supplier Name");else{he.label!==S.CLIENT.MASST_INDIA&&(D=e.Content_Image);try{const t=await(0,l.PutContent)(e,pe,D);0!==e.TxTypeName&&await(0,l.PutTxcode)(e.TxTypeName,e.ContentCode,pe),console.log("values*",e),0!==e.SupplierName.length&&await(0,l.Putcontentsuppliermap)(e.SupplierName,e.ContentCode,pe),200===t.status?(ae("success"),ee("Data Updated Successfully"),await(0,l.apisendnotification)({NotificationId:(Math.random()+1).toString(36).substring(7),user_ids:[10],message:e.ContentName+" Content Modified.",image:"",type:"1",location:"Content Modified.",locationLabel:xe,Status:"1",isGroup:1,Ispriority:1,readed:0})):204===t.status&&(ae("warning"),ee("Data Already Exist")),P("/EventTeamPlaner"==_?1:0),setTimeout((()=>M((0,m.fs)(!1))),500)}catch(s){var a;500===(null===(a=s.response)||void 0===a?void 0:a.status)?(ae("danger"),ee("Server Error.")):console.error("Unexpected error:",s),setTimeout((()=>M((0,m.fs)(!1))),500)}}},ve=(e,t)=>{le(!1)};(0,n.useEffect)((()=>{(async e=>{const t=(await(0,l.apiGetviewmasterdrop)(void 0)).data.map((e=>({value:e.ViewCode,label:e.ViewName})));Z(t)})(),(async e=>{const t=(await(0,l.apiGetContentTypemaster)(void 0)).data.map((e=>({value:e.ContentTypeCode,label:e.ContentTypeName})));O(t)})(),(async e=>{const t=(await(0,l.apiGetTXVersionmasterDrop)(void 0)).data.map((e=>({value:e.TXVersionCode,label:e.TXVersionName})));W(t)})(),(async e=>{const t=(await(0,l.apiGetSuppliermaster)(void 0)).data.map((e=>({value:e.SupplierCode,label:e.SupplierName})));z(t)})(),(async e=>{const t=await(0,b.apiCallstoreprocedure)("USP_GetPromosListusingPromotype",{ChannelCode:"19",LocationCode:"1",PromoTypeCode:"19"});if(t&&Array.isArray(t.data)&&t.data.length>0){const e=t.data.sort(((e,t)=>e.PromoCaption.localeCompare(t.PromoCaption))).map((e=>({value:e.PromoCode,label:e.PromoCaption})));Ce(e)}})(),(async e=>{const t=(await(0,p.Hq)(void 0)).data.map((e=>({value:e.LanguageCode,label:e.LanguageName})));U(t)})(),(async e=>{const t=(await(0,l.apiGetCensorshipmaster)(void 0)).data.map((e=>({value:e.CensorshipCode,label:e.CensorshipName})));J(t)})(),(async e=>{const t=(await(0,l.apiGetGenremaster)(void 0)).data.map((e=>({value:e.GenreCode,label:e.GenreName})));X(t)})(),(async e=>{const t=(await(0,l.apiGetSubGenremaster)(void 0)).data.map((e=>({value:e.SubGenreCode,label:e.SubGenreName})));K(t)})()}),[]);const je=(e,t)=>{let a=!0;const s=["image/jpeg","image/png"];if(e)for(const n of e)s.includes(n.type)||(a="Please upload a .jpeg or .png file!"),n.size>=5e6&&(a="Uploaded image cannot more than 500kb!");return a},[Ne,Se]=(0,n.useState)(F.Content_Image?F.Content_Image:"");return(0,w.jsxs)("div",{children:[(0,w.jsx)(o.Vq,{isOpen:oe,width:800,onClose:ve,onRequestClose:ve,children:(0,w.jsx)(C.default,{first:de})}),(0,w.jsxs)(o.Vq,{isOpen:ie,onClose:()=>re(!1),onRequestClose:()=>re(!1),children:[(0,w.jsx)("h5",{className:"mb-4",children:" Program Already Used On Below Dates"}),ie?ie.map((e=>(0,w.jsxs)("p",{style:{fontSize:15,color:"wheat"},children:["Date:- ",e.TelecastDate.split("T")[0]]}))):null,(0,w.jsx)("div",{className:"text-right mt-6",children:(0,w.jsx)(o.zx,{variant:"solid",onClick:()=>re(!1),children:"Okay"})})]}),Q&&(0,w.jsx)(o.bZ,{className:"mb-4",type:te,showIcon:!0,children:Q}),ue?(0,w.jsx)(o.bZ,{type:"info",title:"Alert!",showIcon:!0,children:"Movie not Found"}):null,(0,w.jsx)(h.J9,{initialValues:{ContentCode:F.ContentCode||"",ContentName:F.ContentName||"",ShortName:F.ShortName||"",ERPCode:F.ERPCode||"",ContentTypeCode:(null===(t=F.ContentType)||void 0===t?void 0:t.ContentTypeCode)||"",LanguageCode:(null===(a=F.Language)||void 0===a?void 0:a.LanguageCode)||"",ClassificationCode:(null===(s=F.ContentClassification)||void 0===s?void 0:s.ClassificationCode)||"",FPCReleaseDate:F.FPCReleaseDate||"",SlotDuration:F.SlotDuration||"",GenreCode:(null===(r=F.GenreMaster)||void 0===r?void 0:r.GenreCode)||"",SubGenreCode:(null===(d=F.SubGenreMaster)||void 0===d?void 0:d.SubGenreCode)||"",CensorshipCode:(null===(c=F.Censorship)||void 0===c?void 0:c.CensorshipCode)||"",TxTypeName:(null===k||void 0===k?void 0:k.TXVersion)||[],SupplierName:(null===k||void 0===k?void 0:k.Supplier)||[],DefaultSeg:F.DefaultSeg||"",Audience:(null===(T=F.View)||void 0===T?void 0:T.ViewCode)||"",Content_Image:Ne,IsActive:1===F.IsActive,InParenting:null!==F.PromoCode,InHouseOutHouse:1==F.InHouseOutHouse,Synopsis:F.Synopsis,BlackWhite:F.BlackWhite,GenericSynopsis:F.GenericSynopsis,EPGContentName:F.EPGContentName,MetaData:F.MetaData,VideoTypeCode:null===(A=F.VideoType)||void 0===A?void 0:A.VideoTypeCode,AspectRatio:F.AspectRatio,DefaultSegDur:F.DefaultSegDur,AppRejRemark:F.AppRejRemark,IsRecorded:F.IsRecorded,GroupName:F.GroupName,IgnoreRODPSpots:F.IgnoreRODPSpots,AllowOverBooking:F.AllowOverBooking,PromoCode:F.PromoCode||0},onSubmit:(e,t)=>{let{resetForm:a,setSubmitting:s}=t;setTimeout((()=>{F.ContentCode&&new Promise(((t,a)=>{s(!1),(async(e,t)=>{if(e.IsActive)ge(e);else try{const t=await(0,l.apiGetFPCDTATUSED)(e.ContentCode);200===t.status&&re(t.data)}catch(a){ge(e)}})(e).then((e=>{t(e)})).catch((e=>{a(e)}))})),a()}),400)},children:e=>{let{values:t,touched:a,errors:s}=e;return(0,w.jsx)(h.l0,{children:(0,w.jsx)(o.Zb,{headerExtra:(0,f.m)(se,ne),children:(0,w.jsx)("div",{className:"inline-flex flex-wrap xl:flex gap-2",children:(0,w.jsxs)(o.Yb,{children:[(0,w.jsx)(h.gN,{size:"sm",type:"ContentCode",autoComplete:"off",name:"ContentCode",placeholder:"ContentCode name",component:o.II,hidden:!0}),(0,w.jsxs)("div",{className:"grid grid-cols-8 md:grid-cols-8 gap-2",children:[(0,w.jsx)("div",{className:"col-span-3",children:(0,w.jsx)(o.lm,{asterisk:!0,label:he.label==S.CLIENT.USA_Forbes?"Template":"Content",invalid:s.ContentName&&a.ContentName,errorMessage:s.ContentName,children:(0,w.jsx)(h.gN,{type:"text",autoComplete:"off",name:"ContentName",size:"sm",placeholder:he.label==S.CLIENT.USA_Forbes?"Template":"Content",component:o.II})})}),(0,w.jsx)("div",{className:"col-span-1",children:(0,w.jsx)(o.lm,{asterisk:!0,label:"Short Name",invalid:s.ShortName&&a.ShortName,errorMessage:s.ShortName,children:(0,w.jsx)(h.gN,{type:"ShortName",autoComplete:"off",name:"ShortName",size:"sm",placeholder:"Short Name",component:o.II,maxLength:"8"})})}),(0,w.jsx)("div",{className:"col-span-2",children:(0,w.jsx)(o.lm,{asterisk:!0,label:"Content Type",invalid:s.ContentTypeCode&&a.ContentTypeCode,errorMessage:s.ContentTypeCode,children:(0,w.jsx)(h.gN,{size:"sm",name:"ContentTypeCode",children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.Ph,{field:a,form:s,options:G,value:G.length>0?G.filter((e=>e.value===t.ContentTypeCode)):R.filter((e=>e.value===t.ReportingTo)),onChange:e=>s.setFieldValue(a.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,w.jsx)("div",{className:"col-span-2",children:(0,w.jsx)(o.lm,{asterisk:!0,label:"Classification",invalid:s.ClassificationCode&&a.ClassificationCode,errorMessage:s.ClassificationCode,children:(0,w.jsx)(h.gN,{name:"ClassificationCode",children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.Ph,{field:a,form:s,isDisabled:!0,options:I,value:I.filter((e=>e.value===t.ClassificationCode)),onChange:e=>s.setFieldValue(a.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,w.jsx)("div",{className:"col-span-1",children:(0,w.jsx)(o.lm,{label:"ERP Code",invalid:s.ERPCode&&a.ERPCode,errorMessage:s.ERPCode,children:(0,w.jsx)(h.gN,{type:"ERPCode",autoComplete:"off",name:"ERPCode",size:"sm",placeholder:"ERPCode",component:o.II,maxLength:"8"})})}),(0,w.jsx)("div",{className:"col-span-2",children:(0,w.jsx)(o.lm,{asterisk:!0,label:"Audience",invalid:s.Audience&&a.Audience,errorMessage:s.Audience,children:(0,w.jsx)(h.gN,{name:"Audience",children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.Ph,{field:a,form:s,options:V,value:V.filter((e=>e.value===t.Audience)),onChange:e=>s.setFieldValue(a.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,w.jsx)("div",{className:"col-span-1",children:(0,w.jsx)(o.lm,{asterisk:!0,label:"Dur In Mins.",invalid:s.SlotDuration&&a.SlotDuration,errorMessage:s.SlotDuration,children:(0,w.jsx)(h.gN,{name:"SlotDuration",children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.II,{size:"sm",placeholder:"SlotDuration",field:a,form:s,value:t.SlotDuration,onChange:e=>{const t=e.target.value;/^[0-9]*$/.test(t)&&s.setFieldValue(a.name,t.slice(0,3))}})}})})}),(0,w.jsx)("div",{className:"col-span-2",children:(0,w.jsx)(o.lm,{asterisk:!0,label:"Censorship",invalid:s.CensorshipCode&&a.CensorshipCode,errorMessage:s.CensorshipCode,children:(0,w.jsx)(h.gN,{name:"CensorshipCode",children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.Ph,{field:a,form:s,options:$,value:$.length>0?$.filter((e=>e.value===t.CensorshipCode)):R.filter((e=>e.value===t.ReportingTo)),onChange:e=>s.setFieldValue(a.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,w.jsx)("div",{className:"col-span-2",children:(0,w.jsx)(o.lm,{asterisk:!0,label:"Release Date",invalid:s.FPCReleaseDate&&a.FPCReleaseDate,errorMessage:s.FPCReleaseDate,children:(0,w.jsx)(h.gN,{name:"FPCReleaseDate",children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.Mt,{field:a,size:"sm",form:s,name:"FPCReleaseDate",prefix:(0,w.jsx)(i.Gmo,{className:"text-xl"}),defaultValue:(0,j.Gu)(t.FPCReleaseDate)?new Date(t.FPCReleaseDate):"",onChange:e=>{s.setFieldValue(a.name,(0,j.Tk)(e))}})}})})}),(0,w.jsx)("div",{className:"col-span-2",children:(0,w.jsx)(o.lm,{asterisk:!0,label:"Genre",invalid:s.GenreCode&&a.GenreCode,errorMessage:s.GenreCode,children:(0,w.jsx)(h.gN,{size:"sm",name:"GenreCode",children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.Ph,{field:a,form:s,options:H,value:H.length>0?H.filter((e=>e.value===t.GenreCode)):R.filter((e=>e.value===t.ReportingTo)),onChange:e=>s.setFieldValue(a.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,w.jsx)("div",{className:"col-span-2",children:(0,w.jsx)(o.lm,{asterisk:!0,label:"Language",invalid:s.LanguageCode&&a.LanguageCode,errorMessage:s.LanguageCode,children:(0,w.jsx)(h.gN,{size:"sm",name:"LanguageCode",children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.Ph,{field:a,form:s,options:B,value:B.length>0?B.filter((e=>e.value===t.LanguageCode)):R.filter((e=>e.value===t.ReportingTo)),onChange:e=>s.setFieldValue(a.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,w.jsx)("div",{className:"col-span-2",children:(0,w.jsx)(o.lm,{asterisk:!0,label:"SubGenre",invalid:s.SubGenreCode&&a.SubGenreCode,errorMessage:s.SubGenreCode,children:(0,w.jsx)(h.gN,{size:"sm",name:"SubGenreCode",children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.Ph,{field:a,form:s,options:q,value:q.length>0?q.filter((e=>e.value===t.SubGenreCode)):R.filter((e=>e.value===t.ReportingTo)),onChange:e=>s.setFieldValue(a.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,w.jsx)("div",{className:"col-span-2",children:(0,w.jsx)(o.lm,{label:"TX Type Name",asterisk:!0,invalid:s.TxTypeName&&a.TxTypeName,errorMessage:s.TxTypeName,children:(0,w.jsx)(h.gN,{name:"TxTypeName",children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.Ph,{isMulti:!0,componentAs:x.Z,TXVersionType:!0,field:a,form:s,options:Y,value:t.TxTypeName,onChange:e=>{s.setFieldValue(a.name,e)}})}})})}),(0,w.jsx)("div",{className:"col-span-1",children:(0,w.jsx)(o.lm,{asterisk:!0,label:"IsActive",invalid:s.IsActive&&a.IsActive,errorMessage:s.IsActive,children:(0,w.jsx)("div",{children:(0,w.jsx)(h.gN,{name:"IsActive",component:o.T5})})})}),S.CLIENT.ANI_PLUS===he.label&&(0,w.jsx)("div",{className:"col-span-3",children:(0,w.jsx)("div",{children:(0,w.jsx)(o.xJ,{label:"Parenting Rating Disclaimers ",invalid:s.PromoCode&&a.PromoCode,errorMessage:s.PromoCode,children:(0,w.jsx)(h.gN,{name:"PromoCode",children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.Ph,{field:a,form:s,value:fe.length>0?fe.filter((e=>e.value===t.PromoCode)):R.filter((e=>e.value===t.ReportingTo)),options:fe,onChange:e=>{s.setFieldValue(a.name,e.value)}})}})})})}),(0,w.jsx)("div",{className:"col-span-1",children:(0,w.jsx)(o.lm,{label:"Is OutHouse",invalid:s.InHouseOutHouse&&a.InHouseOutHouse,errorMessage:s.InHouseOutHouse,children:(0,w.jsx)(h.gN,{name:"InHouseOutHouse",component:o.T5})})}),(0,w.jsx)("div",{className:"col-span-3",children:(1==t.InHouseOutHouse||t.InHouseOutHouse)&&(0,w.jsx)("div",{children:(0,w.jsx)(o.lm,{label:"Supplier Name",asterisk:!0,invalid:s.SupplierName&&a.SupplierName,errorMessage:s.SupplierName,children:(0,w.jsx)(h.gN,{name:"SupplierName",children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.Ph,{isMulti:!0,componentAs:x.Z,field:a,form:s,options:L,value:t.SupplierName,onChange:e=>{s.setFieldValue(a.name,e)}})}})})})}),(0,w.jsx)("div",{className:"col-span-4",children:(0,w.jsx)(o.lm,{label:"Content Image",invalid:s.Content_Image&&a.Content_Image,errorMessage:s.Content_Image,children:(0,w.jsx)(h.gN,{name:"Content_Image",children:e=>{let{field:t,form:a}=e;return(0,w.jsx)("div",{style:{display:"grid"},children:(0,w.jsx)(o.gq,{uploadLimit:1,beforeUpload:je,accept:".jpg, .jpeg, .png, .bmp, .svg",showList:!1,onChange:e=>{const s=e[0];if(s){const e=new FileReader;e.readAsDataURL(s),e.onloadend=()=>{a.setFieldValue(t.name,he.label==S.CLIENT.MASST_INDIA?s:e.result),Se(e.result)}}else a.setFieldValue(t.name,""),Se("")},children:(0,w.jsx)("div",{className:"border-dashed border-gray-500 border-2 p-3 rounded-lg w-full hover:cursor-pointer mt-1",children:Ne?(0,w.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)(o.u,{title:"Click to upload logo",children:(0,w.jsx)("img",{src:Ne,style:{height:"120px",width:"auto"},alt:"Preview",className:"hover:opacity-80"})}),(0,w.jsx)(o.u,{title:"Remove Logo",className:"relative",wrapperClass:"absolute -top-3 -right-3",children:(0,w.jsx)(o.zx,{shape:"circle",size:"xs",variant:"solid",color:"red-500",icon:(0,w.jsx)(N.nfZ,{}),type:"button",onClick:e=>{e.stopPropagation(),a.setFieldValue(t.name,""),Se("")}})})]})}):(0,w.jsx)("div",{className:"h-28 flex items-center justify-center w-full",children:(0,w.jsxs)(o.u,{title:"Click to upload logo",wrapperClass:"flex flex-col items-center justify-center",children:[(0,w.jsx)(g.Z30,{size:25}),(0,w.jsx)("p",{className:"text-xs mt-1 opacity-60 dark:text-white",children:"Support: jpeg, png, bmp, svg"}),(0,w.jsx)("p",{className:" text-xs mt-1 opacity-60 dark:text-white",children:"(Max 1MB)"})]})})})})})}})})})]}),(0,w.jsx)("br",{}),(0,w.jsx)(o.lm,{children:(0,w.jsx)(o.zx,{variant:"solid",type:"submit",children:"Save"})})]})})})})}})]})};a(81724);const P=e=>{var t,a,s,i,r,d,c,p;let{GetContents:x,path:C}=e;const{TXCode:g}=(0,u.useSelector)((e=>e.base.common)),{Content:N}=(0,u.useSelector)((e=>e.base.common)),y=(0,u.useSelector)((e=>e.auth.session.token)),[b,T]=(0,v.Z)(),E=(0,u.useDispatch)(),[I,R]=(0,n.useState)(""),[D,A]=(0,n.useState)("");console.log(N);const[P,M]=(0,n.useState)([]),[F,k]=(0,n.useState)([]),_=(0,u.useSelector)((e=>e.locale.selectedChannel));(0,n.useEffect)((()=>{(async e=>{const t=(await(0,l.apiGetAspectratiomasterdrop)(void 0)).data.map((e=>({value:"".concat(e.AspectRatioCode),label:e.AspectRatio})));M(t)})()}),[]),(0,n.useEffect)((()=>{(async e=>{const t=(await(0,l.apiGetvideotypdrop)(void 0)).data.map((e=>({value:e.VideoTypeCode,label:e.VideoTypeName})));k(t)})()}),[]);return(0,w.jsxs)("div",{children:[b&&(0,w.jsx)(o.bZ,{className:"mb-4",type:I,showIcon:!0,children:b}),(0,w.jsx)(h.J9,{initialValues:{ContentCode:N.ContentCode,ContentName:N.ContentName,ShortName:N.ShortName,ERPCode:N.ERPCode,ContentTypeCode:null===(t=N.ContentType)||void 0===t?void 0:t.ContentTypeCode,LanguageCode:null===(a=N.Language)||void 0===a?void 0:a.LanguageCode,ClassificationCode:null===(s=N.ContentClassification)||void 0===s?void 0:s.ClassificationCode,FPCReleaseDate:N.FPCReleaseDate,SlotDuration:N.SlotDuration,GenreCode:null===(i=N.GenreMaster)||void 0===i?void 0:i.GenreCode,SubGenreCode:null===(r=N.SubGenreMaster)||void 0===r?void 0:r.SubGenreCode,CensorshipCode:null===(d=N.Censorship)||void 0===d?void 0:d.CensorshipCode,TxTypeName:(null===g||void 0===g?void 0:g.TXVersion)||[],DefaultSeg:N.DefaultSeg||0,Audience:null===(c=N.View)||void 0===c?void 0:c.ViewCode,Content_Image:N.Content_Image,IsActive:N.IsActive,Synopsis:N.Synopsis||"",GenericSynopsis:N.GenericSynopsis||"",EPGContentName:N.EPGContentName||"",MetaData:N.MetaData||"",VideoType:(null===(p=N.VideoType)||void 0===p?void 0:p.VideoTypeCode)||"",AspectRatio:N.AspectRatio||"",DefaultSegDur:N.DefaultSegDur||"",InHouse:N.InHouseOutHouse,Colored:1==N.BlackWhite||"",Recorded:1==N.IsRecorded||"",IsGroup:1==N.GroupName||"",IsRODP:1==N.IgnoreRODPSpots||"",AllowOverBooking:1==N.AllowOverBooking||"",AppRejRemark:N.AppRejRemark},onSubmit:(e,t)=>{let{resetForm:a,setSubmitting:s}=t;setTimeout((()=>{N.ContentCode&&new Promise(((t,a)=>{s(!1),(async(e,t)=>{console.log(e);try{const a=await(0,l.PutContentSynop)(e,t);await(0,l.PutTxcode)(e.TxTypeName,e.ContentCode,t),200===a.status?(R("success"),x("/EventTeamPlaner"==C||"EventTeamPlaner"==C?1:0),T("Data Updated Successfully"),setTimeout((()=>E((0,m.fs)(!1))),500)):a.data.msg}catch(a){T("Somthing Went Wrong"),setTimeout((()=>E((0,m.fs)(!1))),500)}})(e,y).then((e=>{t(e)})).catch((e=>{a(e)}))})),a()}),400)},children:e=>{let{values:t,touched:a,errors:s}=e;return(0,w.jsx)(h.l0,{children:(0,w.jsx)(o.Zb,{headerExtra:(0,f.m)(D,A),children:(0,w.jsx)("div",{className:"inline-flex flex-wrap xl:flex gap-2",children:(0,w.jsxs)(o.Yb,{children:[(0,w.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-2 ",children:[(0,w.jsx)("div",{className:"col-span-1",children:(0,w.jsx)(o.lm,{label:"Synopsis",invalid:s.Synopsis&&a.Synopsis,errorMessage:s.Synopsis,children:(0,w.jsx)(h.gN,{type:"Synopsis",autoComplete:"off",name:"Synopsis",textArea:!0,placeholder:"",component:o.II})})}),(0,w.jsx)("div",{className:"col-span-1",children:(0,w.jsx)(o.lm,{label:"Generic Synopsis",invalid:s.GenericSynopsis&&a.GenericSynopsis,errorMessage:s.GenericSynopsis,children:(0,w.jsx)(h.gN,{type:"GenericSynopsis",autoComplete:"off",name:"GenericSynopsis",textArea:!0,placeholder:"",component:o.II})})}),(0,w.jsx)("div",{className:"col-span-1",children:(0,w.jsx)(o.lm,{label:"EPG Name",invalid:s.EPGContentName&&a.EPGContentName,errorMessage:s.EPGContentName,children:(0,w.jsx)(h.gN,{type:"text",autoComplete:"off",name:"EPGContentName",placeholder:"",component:o.II})})}),(0,w.jsx)("div",{className:"col-span-1",children:(0,w.jsx)(o.lm,{label:"Meta Data",invalid:s.MetaData&&a.MetaData,errorMessage:s.MetaData,children:(0,w.jsx)(h.gN,{type:"MetaData",autoComplete:"off",name:"MetaData",placeholder:"",component:o.II})})})]}),(0,w.jsxs)("div",{className:"grid grid-cols-8 md:grid-cols-8 gap-2",children:[(0,w.jsx)("div",{className:"col-span-2",children:(0,w.jsx)(o.lm,{asterisk:!0,label:"Video Type",invalid:s.VideoType&&a.VideoType,errorMessage:s.VideoType,style:{width:"250px"},children:(0,w.jsx)(h.gN,{size:"sm",name:"VideoType",style:{width:"250px"},children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.Ph,{style:{width:"250px"},field:a,form:s,options:F,value:F.filter((e=>e.value===t.VideoType)),onChange:e=>s.setFieldValue(a.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,w.jsx)("div",{className:"col-span-2",children:(0,w.jsx)(o.lm,{asterisk:!0,label:"Aspect Ratio",invalid:s.AspectRatio&&a.AspectRatio,errorMessage:s.AspectRatio,style:{width:"250px"},children:(0,w.jsx)(h.gN,{size:"sm",name:"AspectRatio",style:{width:"250px"},children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.Ph,{style:{width:"250px"},field:a,form:s,options:P,value:P.filter((e=>e.value==t.AspectRatio)),onChange:e=>s.setFieldValue(a.name,null===e||void 0===e?void 0:e.value)})}})})}),S.CLIENT.USA_Forbes!=_.label&&(0,w.jsx)("div",{className:"col-span-2",children:(0,w.jsx)(o.lm,{label:"Default Seg Duration",invalid:s.DefaultSegDur&&a.DefaultSegDur,errorMessage:s.DefaultSegDur,children:(0,w.jsx)(h.gN,{size:"sm",name:"DefaultSegDur",placeholder:"",children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.II,{field:a,form:s,size:"sm",value:t.DefaultSegDur,onChange:e=>{const t=e.target.value.replace(/\D/g,"");let n="";for(let a=0;a<Math.min(t.length,7);a+=2)a>0&&(n+=":"),n+=t.substr(a,2);s.setFieldValue(a.name,n)}})}})})}),S.CLIENT.USA_Forbes!=_.label&&(0,w.jsx)("div",{className:"col-span-2",children:(0,w.jsx)(o.lm,{label:"Default Segment No.",invalid:s.DefaultSeg&&a.DefaultSeg,errorMessage:s.DefaultSeg,children:(0,w.jsx)(h.gN,{size:"sm",name:"DefaultSeg",placeholder:"Default Seg No",children:e=>{let{field:a,form:s}=e;return(0,w.jsx)(o.II,{field:a,form:s,maxLength:"2",size:"sm",value:t.DefaultSeg,onChange:e=>{const t=e.target.value;(0,j.n1)(t)&&s.setFieldValue(a.name,t)}})}})})})]}),(0,w.jsxs)("div",{className:"grid grid-cols-5 gap-2",children:[(0,w.jsx)(o.lm,{invalid:s.Colored&&a.Colored,errorMessage:s.Colored,children:(0,w.jsx)("div",{children:(0,w.jsx)(o.lm,{label:S.CLIENT.ANI_PLUS==_.label?"Is Special Ep":"Is B&W",className:"mb-2",invalid:s.Colored&&a.Colored,errorMessage:s.Colored,children:(0,w.jsx)(h.gN,{name:"Colored",component:o.T5})})})}),S.CLIENT.USA_Forbes!=_.label&&(0,w.jsx)(o.lm,{className:"mb-2",invalid:s.Recorded&&a.Recorded,errorMessage:s.Recorded,children:(0,w.jsx)("div",{children:(0,w.jsx)(o.lm,{label:"Is Live",invalid:s.Recorded&&a.Recorded,errorMessage:s.Recorded,children:(0,w.jsx)(h.gN,{name:"Recorded",component:o.T5})})})}),(0,w.jsx)(o.lm,{label:" ",invalid:s.IsGroup&&a.IsGroup,errorMessage:s.IsGroup,children:(0,w.jsx)(h.gN,{name:"IsGroup",component:o.XZ,children:"Is Event Name"})}),(0,w.jsx)(o.lm,{label:" ",invalid:s.IsRODP&&a.IsRODP,errorMessage:s.IsRODP,children:(0,w.jsx)(h.gN,{name:"IsRODP",component:o.XZ,children:"Ignore RODP Spots"})}),(0,w.jsx)(o.lm,{label:" ",invalid:s.AllowOverBooking&&a.AllowOverBooking,errorMessage:s.AllowOverBooking,children:(0,w.jsx)(h.gN,{name:"AllowOverBooking",component:o.XZ,children:"Allow OverBooking"})})]}),(0,w.jsx)("div",{className:"flex justify-end",children:(0,w.jsx)(o.lm,{children:(0,w.jsx)(o.zx,{variant:"solid",type:"submit",children:"Save"})})})]})})})})}})]})};var M=a(41026),F=a(56355),k=a(48160);const{Tr:_,Th:L,Td:z,THead:G,TBody:O}=M.Z,V=[{name:"Season No"},{name:"Start Episode"},{name:"End Episode"},{name:"Action"}],Z=()=>{const e=(0,u.useDispatch)(),[t,a]=(0,n.useState)(""),[s,l]=(0,n.useState)(""),[i,r]=(0,n.useState)(""),[d,c]=(0,n.useState)(!0),[h,x]=(0,n.useState)([]),[f,C]=(0,n.useState)(null),[g,j]=(0,n.useState)(null),[N,S]=(0,n.useState)([]),[T,E]=(0,n.useState)([]),I=(0,u.useSelector)((e=>e.auth.session.token)),R=(0,u.useSelector)((e=>e.locale.selectedChannel)),[D,A]=(0,v.Z)(),[P,Z]=(0,n.useState)(""),{Content:B}=(0,u.useSelector)((e=>e.base.common));console.log(N),(0,n.useEffect)((()=>{(async e=>{const t=(await(0,p.H9)(B.ContentCode)).data.map((e=>({ContentCode:B.ContentCode,SeasonNo:e.SeasonNo,StartEpisode:e.StartEpisode,EndEpisodes:e.EndEpisodes,OldData:1})));x(...h,t)})();let e={};e.par_LocationCode=R.LocationCode,e.par_ChannelCode=R.ChannelCode,e.par_ContentCode=B.ContentCode,(0,b.apiCallstoreprocedure)("USP_PG_MaxEpisodeByContent",e).then((e=>{200==e.status&&(E(e.data),console.log(e.status)),e.status})).catch((e=>{e.response.status&&E(null)}))}),[]),(0,n.useEffect)((()=>{(async e=>{const t=(await(0,p.EX)(B.ContentCode)).data.map((e=>({ChannelCode:e.Channel.ChannelCode,ChannelName:e.Channel.ChannelName,LocationCode:e.locations.LocationCode,ColorClass:"bg-rose-500",LocationName:e.locations.LocationName,label:e.locations.LocationName+"-"+e.Channel.ChannelName,value:e.locations.LocationCode+"-"+e.Channel.ChannelCode})));S(t)})()}),[]);return(0,w.jsxs)("div",{children:[D&&(0,w.jsx)(o.bZ,{className:"mb-4",type:P,showIcon:!0,children:D}),N&&(0,w.jsx)(k.Z,{ticketData:N,setTicketData:S}),(0,w.jsxs)(M.Z,{style:{border:"2px solid #E3E5EB"},compact:!0,children:[(0,w.jsx)(G,{children:(0,w.jsx)(_,{style:{border:"1px solid #E3E5EB"},children:V.map(((e,t)=>(0,w.jsx)(L,{children:e.name},t)))})}),(0,w.jsxs)(O,{children:[d&&(0,w.jsxs)(_,{children:[(0,w.jsx)(z,{children:(0,w.jsx)(o.II,{size:"xs",value:t,onChange:e=>{const t=e.target.value;/^[0-9]*$/.test(t)&&a(t.slice(0,5))},onBlur:e=>{const t=e.target.value;if(1==h.filter((e=>e.SeasonNo==t)).length)return(0,y.openNotification)("warning","This Season No Already Exist"),void a("")}})}),(0,w.jsx)(z,{children:(0,w.jsx)(o.II,{value:s,size:"xs",onChange:e=>{const t=e.target.value;/^[0-9]*$/.test(t)&&l(t.slice(0,5))}})}),(0,w.jsx)(z,{children:(0,w.jsx)(o.II,{value:i,size:"xs",onChange:e=>{const t=e.target.value;/^[0-9]*$/.test(t)&&r(t.slice(0,5))}})}),(0,w.jsx)(z,{children:(0,w.jsx)(o.zx,{size:"xs",onClick:()=>(()=>{if(t&&s&&i){const e={ContentCode:B.ContentCode,SeasonNo:t,StartEpisode:s,EndEpisodes:i,OldData:0};x([...h,e])}else(0,y.openNotification)("danger"," All Field Are Required");a(""),l(""),r("")})(),type:"button",children:"Add"})})]}),h.map(((e,n)=>(0,w.jsxs)(_,{style:{border:"1px solid #E3E5EB"},className:"fontsetting",children:[(0,w.jsx)(z,{style:{border:"1px solid #E3E5EB"},children:f===n?(0,w.jsx)(o.II,{value:t,disabled:1==(null===g||void 0===g?void 0:g.OldData),size:"xs",onChange:e=>{const t=e.target.value;/^[0-9]*$/.test(t)&&a(t.slice(0,5))}}):e.SeasonNo}),(0,w.jsx)(z,{style:{border:"1px solid #E3E5EB"},children:f===n?(0,w.jsx)(o.II,{value:s,size:"xs",disabled:1==(null===g||void 0===g?void 0:g.OldData),onChange:e=>{const t=e.target.value;/^[0-9]*$/.test(t)&&l(t.slice(0,5))},onBlur:e=>{const t=e.target.value;parseInt(i)&&parseInt(i)<parseInt(t)&&((0,y.openNotification)("warning","End Episode Cannot be less then Start Episode"),r(""))}}):e.StartEpisode}),(0,w.jsx)(z,{style:{border:"1px solid #E3E5EB"},children:f===n?(0,w.jsx)(o.II,{value:i,size:"xs",onChange:e=>{const t=e.target.value;/^[0-9]*$/.test(t)&&r(t.slice(0,5))},onBlur:e=>{const t=e.target.value;if(T.filter((e=>e.SeasonNo==g.SeasonNo))[0].LastEpisodeNo>t&&1==g.OldData)return(0,y.openNotification)("warning","Sagment is Created of this Episode "),void r(g.EndEpisodes);parseInt(s)&&parseInt(t)<parseInt(s)&&((0,y.openNotification)("warning","End Episode Cannot be less then Start Episode"),r(""))}}):e.EndEpisodes}),(0,w.jsx)(z,{style:{border:"1px solid #E3E5EB"},children:f===n?(0,w.jsx)(o.zx,{type:"button",size:"xs",onClick:()=>(e=>{if(t&&s&&i){const n=[...h];n[e]={SeasonNo:t,StartEpisode:s,EndEpisodes:i,OldData:null===g||void 0===g?void 0:g.OldData},c(!d),x(n),a(""),l(""),r(""),C(null)}else(0,y.openNotification)("danger"," All Field Are Required")})(n),icon:(0,w.jsx)(F.ZNz,{})}):(0,w.jsx)(o.zx,{type:"button",size:"xs",onClick:()=>((e,t)=>{C(e),j(t),a(t.SeasonNo),l(t.StartEpisode),c(!d),r(t.EndEpisodes)})(n,e),icon:(0,w.jsx)(F.w2e,{})})})]},n)))]})]}),(0,w.jsx)(o.zx,{variant:"solid",className:"mt-2",onClick:()=>(async()=>{const t=N.map((e=>({ContentCode:B.ContentCode,ChannelCode:Number(e.ChannelCode),LocationCode:Number(e.LocationCode),IsActive:1}))),a=h.map((e=>({ContentCode:B.ContentCode,SeasonNo:Number(e.SeasonNo),StartEpisode:Number(e.StartEpisode),EndEpisodes:Number(e.EndEpisodes),IsActive:1})));try{const s=await(0,p.yU)(a,I);if(await(0,p.ty)(t,I),console.log(s.status),200==s.status)return Z("success"),A("Data Inserted Successfully."),void setTimeout((()=>e((0,m.fs)(!1))),500);if("Server Error."===s.status)return Z("error"),void A("Server Error.")}catch(s){return{}}})(),children:"Save"})]})};var B=a(85880);const{Tr:U,Th:H,Td:X,THead:q,TBody:K}=M.Z,Y=[{name:"Season No"},{name:"Episode No"},{name:"Remark"},{name:"Action"}],W=()=>{const[e,t]=(0,n.useState)(""),[a,s]=(0,n.useState)(""),[i,r]=(0,n.useState)(""),[d,c]=(0,n.useState)([]),p=(0,u.useSelector)((e=>e.auth.session.token)),[h,x]=(0,n.useState)(null),[f,C]=(0,n.useState)(),{Content:g}=(0,u.useSelector)((e=>e.base.common)),[j,N]=(0,v.Z)(),[S,b]=(0,n.useState)(""),T=(0,u.useDispatch)();(0,n.useEffect)((()=>{(async e=>{const t=await(0,l.apicontentepsrestriction)(g.ContentCode);if(204!==t.status&&200===t.status){var a;const e=null===(a=t.data)||void 0===a?void 0:a.map((e=>({ContentCode:g.ContentCode,Season:e.SeasonNo,Episode:e.EpisodeNo,Reason:e.Reason})));c(...d,e)}})()}),[]);const E=(e,t)=>{const a=[...d];a[e]=t,c(a)};return(0,w.jsxs)("div",{children:[j&&(0,w.jsx)(o.bZ,{className:"mb-4",type:S,showIcon:!0,children:j}),(0,w.jsxs)(M.Z,{style:{border:"2px solid #E3E5EB"},compact:!0,children:[(0,w.jsx)(q,{children:(0,w.jsx)(U,{style:{border:"1px solid #E3E5EB"},children:Y.map(((e,t)=>(0,w.jsx)(H,{children:e.name},t)))})}),(0,w.jsxs)(K,{children:[(0,w.jsxs)(U,{children:[(0,w.jsx)(X,{children:(0,w.jsx)(o.II,{size:"xs",value:e,onChange:e=>{const a=e.target.value;if(/^[0-9]*$/.test(a)){const e=!1;if("0"==a||0==a)return void t("");e&&"0"!=a||t(a.slice(0,5))}}})}),(0,w.jsx)(X,{children:(0,w.jsx)(o.II,{value:a,size:"xs",onChange:e=>{const t=e.target.value;"0"!=t&&0!=t?/^[0-9]*$/.test(t)&&s(t.slice(0,5)):s("")}})}),(0,w.jsx)(X,{children:(0,w.jsx)(o.II,{value:i,size:"xs",onChange:e=>{const t=e.target.value;r(t)}})}),(0,w.jsx)(X,{children:(0,w.jsx)(o.zx,{size:"xs",onClick:()=>(()=>{if(!e||!a||!i)return void(0,y.openNotification)("danger","All fields are required");if(d.some((t=>t.Season===e&&t.Episode===a)))return void(0,y.openNotification)("danger","This season and episode combination already exists!");const n={ContentCode:g.ContentCode,Season:e,Episode:a,Reason:i};c([...d,n]),t(""),s(""),r("")})(),type:"button",children:"Add"})})]}),d.map(((n,l)=>(0,w.jsxs)(U,{style:{border:"1px solid #E3E5EB"},className:"fontsetting",children:[(0,w.jsx)(X,{style:{border:"1px solid #E3E5EB"},children:h===l?(0,w.jsx)(o.II,{value:e,size:"xs",onChange:e=>{const a=e.target.value;if("0"!=a&&0!=a){if(/^[0-9]*$/.test(a)){!1||t(a.slice(0,5))}}else t("")}}):n.Season}),(0,w.jsx)(X,{style:{border:"1px solid #E3E5EB"},children:h===l?(0,w.jsx)(o.II,{value:a,size:"xs",onChange:e=>{const t=e.target.value;"0"!=t&&0!=t?/^[0-9]*$/.test(t)&&s(t.slice(0,5)):s("")}}):n.Episode}),(0,w.jsx)(X,{style:{border:"1px solid #E3E5EB"},children:h===l?(0,w.jsx)(o.II,{value:i,size:"xs",onChange:e=>{const t=e.target.value;r(t)}}):n.Reason}),(0,w.jsx)(X,{style:{border:"1px solid #E3E5EB"},children:h===l?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(o.zx,{type:"button",shape:"circle",variant:"plain",size:"xs",onClick:()=>(n=>{if(!e||!a||!i)return void(0,y.openNotification)("danger","All fields are required");if(d.some(((t,s)=>s!==n&&t.Season===e&&t.Episode===a)))return void(0,y.openNotification)("danger","This season and episode combination already exists!");const o=[...d];o[n]={Season:e,Episode:a,Reason:i},c(o),t(""),s(""),r(""),x(null)})(l),icon:(0,w.jsx)(F.ZNz,{})}),"\xa0",(0,w.jsx)(o.zx,{type:"button",size:"xs",shape:"circle",onClick:()=>(e=>{x(null),E(e,f)})(l),icon:(0,w.jsx)(B.Fk5,{})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(o.zx,{type:"button",size:"xs",onClick:()=>((e,t)=>{x(e),C(t),c(d.map(((t,a)=>a===e?{Season:"",Episode:"",Reason:""}:t)))})(l,n),icon:(0,w.jsx)(F.w2e,{})}),(0,w.jsx)(o.zx,{type:"button",shape:"circle",variant:"plain",size:"xs",onClick:()=>{const e=d.filter(((e,t)=>t!==l));c(e)},icon:(0,w.jsx)(F.AMf,{})})]})})]},l)))]})]}),(0,w.jsx)("br",{}),(0,w.jsx)(o.zx,{variant:"solid",onClick:()=>(async()=>{if(console.log(d.length),0===d.length){try{200===(await(0,l.apideleteEpisoderestriction)(g.ContentCode)).status&&(b("success"),N("Data Updated Successfully"),T((0,m.fs)(!1)))}catch(t){console.error("Error deleting episode restriction:",t),b("danger"),N("Failed to update data")}return}const e=d.map((e=>({ContentCode:g.ContentCode,SeasonNo:Number(e.Season),EpisodeNo:Number(e.Episode),Reason:e.Reason,ContentTypeCode:g.ContentType.ContentTypeCode,IsActive:1})));try{200===(await(0,l.Postcontentepsrestriction)(e,p)).status&&(b("success"),N("Data Updated Successfully"),T((0,m.fs)(!1)))}catch(t){console.error("Error posting content restriction:",t),b("danger"),N("Failed to update data")}})(),children:"Save"})]})};var $=a(14509),J=a(36064),Q=a(66651),ee=a(51523),te=a.n(ee),ae=a(45682);const se=()=>{const[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)([]),[i,r]=(0,n.useState)(!1),[d,c]=(0,n.useState)(!1),{Content:m}=(0,u.useSelector)((e=>e.base.common));(0,n.useEffect)((()=>{const e=a.filter((e=>10===e.OutofRatingScale&&0!==e.Rating)),t=e.reduce(((e,t)=>e+t.Rating),0),s=e.length>0?t/e.length:0,n=Number(s.toFixed(1));c(n)}),[a]);return(0,n.useEffect)((()=>{(async e=>{try{const e=await(0,l.apicontenteRATE)(m.ContentCode);if(200==e.status){var t;const a=null===(t=e.data)||void 0===t?void 0:t.map((e=>({ContentCode:m.ContentCode,RatingCompanyCode:e.RatingCompanyMaster.RatingCompanyCode,Rating:null===e||void 0===e?void 0:e.Rating,OutofRatingScale:10,TotalVoters:null===e||void 0===e?void 0:e.TotalVoters})));s(a)}else s([]);204==e.status&&((0,y.openNotification)("info","Ratings Not Found"),s([]))}catch(a){}})(),(async e=>{const a=await(0,l.apiGetRatingcompanymaster)(void 0);200==a.status?t(a.data):204===a.status&&((0,y.openNotification)("info","Ratings Not Found"),t([]))})()}),[]),(0,w.jsxs)(o.Zb,{children:[(0,w.jsx)(ae.default,{showLoader:i}),(0,w.jsx)("div",{className:"flex justify-between items-center ml-2 mr-3",children:(0,w.jsxs)("p",{style:{color:"white",fontSize:16,fontWeight:600},className:"flex",children:["Average Ratings"," ",(0,w.jsxs)("p",{className:"flex ml-2",children:[d," ",(0,w.jsx)("p",{className:"ml-1 filled",children:"\u2605"})]})]})}),(0,w.jsxs)("div",{style:{height:"150px",overflow:"auto"},children:[(0,w.jsx)("div",{style:{height:1,width:"100%",background:"#e6dcdc7a"},className:"mt-5"}),e.map(((e,t)=>{var n;const i=null===a||void 0===a?void 0:a.filter((t=>t.RatingCompanyCode===e.RatingCompanyCode)),d=(null===i||void 0===i?void 0:i.length)>0;return(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[(0,w.jsx)("div",{className:"flex justify-left ml-5 items-center",children:(0,w.jsx)("img",{src:e.RatingCompanyLogo,height:60,width:60,alt:e.RatingCompanyName})}),(0,w.jsxs)("div",{className:"flex justify-end items-center",children:[(0,w.jsxs)("div",{className:"mr-10 flex items-center",children:[(0,w.jsx)("h5",{className:"mr-1",style:{color:"gold",marginTop:"-5"},children:"\u2605"}),(0,w.jsx)("span",{className:"mr-2",style:{color:"gold"},children:d&&i[0].Rating}),d&&(0,w.jsxs)("span",{children:[" ","(",(0,y.abbreviateNumberE)(null===(n=i[0])||void 0===n?void 0:n.TotalVoters),")"]})]}),2!==(null===a||void 0===a?void 0:a.RatingCompanyCode)&&(0,w.jsx)(o.u,{title:"Sync Ratings",children:(0,w.jsx)(o.zx,{size:"xs",className:"mr-2",variant:"solid",type:"button",onClick:()=>{(async(e,t)=>{var n,o,i;r(!0);try{var d,c;if(a.some((a=>a.RatingCompanyCode===e.RatingCompanyCode&&a.Rating===t.Rating)))return(0,y.openNotification)("warning","Ratings have been already updated."),void r(!1);const p=await(0,l.apicontentGEtrates)(m.ContentName);var u;if(r(!1),"False"===(null===(d=p.data)||void 0===d?void 0:d.Response))return void(0,y.openNotification)("danger",null===(u=p.data)||void 0===u?void 0:u.Error);const h=null===(c=p.data)||void 0===c?void 0:c.Ratings.find((t=>t.Source===e.RatingCompanyName||2===e.RatingCompanyCode));if(!h)return void(0,y.openNotification)("danger","".concat(e.RatingCompanyName," Data Not Found"));let x;switch(e.RatingCompanyCode){case 2:x={ContentCode:m.ContentCode,RatingCompanyCode:e.RatingCompanyCode,Rating:parseFloat(h.Value.split("/")[0]),OutofRatingScale:10,TotalVoters:parseInt(null===(n=p.data)||void 0===n?void 0:n.imdbVotes.replace(/,/g,""),10)};break;case 3:x={ContentCode:m.ContentCode,RatingCompanyCode:e.RatingCompanyCode,Rating:Number(10*parseFloat(h.Value)/100),OutofRatingScale:10,TotalVoters:parseInt(null===(o=p.data)||void 0===o?void 0:o.imdbVotes.replace(/,/g,""),10)};break;case 4:x={ContentCode:m.ContentCode,RatingCompanyCode:e.RatingCompanyCode,Rating:h,OutofRatingScale:10,TotalVoters:parseInt(null===(i=p.data)||void 0===i?void 0:i.imdbVotes.replace(/,/g,""),10)};break;default:return void console.log("Unknown source:",e.RatingCompanyName)}s([...a,x]);const f=await(0,l.apicontentupdaterates)([...a,x]);200===f.status?(0,y.openNotification)("success","".concat(e.RatingCompanyName," Data Added!")):(console.error("Error In Updating Ratings:",f.data),(0,y.openNotification)("danger","Error In Updating Ratings"))}catch(p){(0,y.openNotification)("danger","Error occurred while processing")}finally{r(!1)}})(e,i[0])},icon:(0,w.jsx)(te(),{path:Q.ifN,size:.8,style:{color:"#fff"}})})})]})]}),(0,w.jsx)("div",{style:{height:1,width:"100%",background:"#e6dcdc7a"},className:"mt-2 mb-2"})]},t)}))]})]})};var ne=a(60488),oe=a(73073),le=a(84373),ie=a(19315),re=a(68014);const de=function(e){let{name:t,value:a}=e;return(0,w.jsxs)("p",{className:"text-gray-300 text-[15px] flex justify-between",children:[t,(0,w.jsx)("span",{className:"font-semibold text-white",children:a})]})};const ce=function(e){let{arrayCounts:t,typewiseSummary:a,setShowTables:s}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"mb-6",children:[(0,w.jsx)("h5",{className:"mb-2",children:"Summary"}),(0,w.jsx)("div",{className:"flex justify-between p-3 rounded-lg",style:{backgroundColor:"rgb(41 52 69)"},children:t.map(((e,a)=>(0,w.jsxs)("div",{className:"w-full text-center ".concat(0===a?"pr-2":a===t.length-1?"pl-2":"px-2"),style:{borderRight:a===t.length-1?"":"1px solid rgb(55 65 81)"},children:[(0,w.jsx)("p",{className:"text-[14.5px] text-gray-300",children:e.key}),(0,w.jsx)("p",{className:"text-white text-[15px] font-semibold",children:e.value.length})]},e.key)))})]}),(0,w.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,w.jsx)("h5",{children:"Content Types Summary"}),(0,w.jsx)(o.zx,{icon:(0,w.jsx)(re.vHB,{}),onClick:()=>s(!0),size:"sm",variant:"solid",children:"View Contents"})]}),(0,w.jsx)("div",{className:"grid grid-cols-4 gap-4 max-h-96 overflow-y-auto",children:Object.keys(a).map((e=>(0,w.jsxs)("div",{className:"rounded-lg p-3 flex flex-col gap-2",style:{backgroundColor:"rgb(41 52 69)"},children:[(0,w.jsx)("h6",{className:"font-semibold",children:e}),(0,w.jsx)(de,{name:"Success",value:a[e].filter((e=>1===e.Statuscode)).length}),(0,w.jsx)(de,{name:"Failed",value:a[e].filter((e=>0===e.Statuscode)).length})]},e)))})]})};var ue=a(72299),me=a(63821),pe=a(34927),he=a(78820),xe=a(30203),fe=a(16856),Ce=a(93673);const ge=[{accessorKey:"Status",header:"Status"},{accessorKey:"ChannelName",header:"Channel"},{accessorKey:"Contentname",header:"Content Name"},{accessorKey:"ContentType",header:"Content Type"},{accessorKey:"Season",header:"Season"},{accessorKey:"SlotDuration[Min]",header:"Duration [Min]"},{accessorKey:"Language",header:"Language"},{accessorKey:"Season Total Episodes",header:"Season Total Episodes"}],ve={groupBy:!1,manageColumns:!1};const je=function(e){let{fileArray:t,successArray:a,failedArray:s,setShowTables:l}=e;const[i,r]=(0,n.useState)([]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"flex justify-between items-center -mb-1",children:[(0,w.jsx)("h5",{children:"Content Details"}),(0,w.jsx)(o.zx,{icon:(0,w.jsx)(fe.JZ9,{}),onClick:()=>l(!1),size:"sm",variant:"solid",children:"View Summary"})]}),(0,w.jsxs)(o.mQ,{defaultValue:"all",children:[(0,w.jsxs)(me.Z,{children:[(0,w.jsxs)(pe.Z,{value:"all",icon:(0,w.jsx)(re.vHB,{}),children:["All (",t.length,")"]}),(0,w.jsxs)(pe.Z,{value:"success",icon:(0,w.jsx)(xe.ReY,{}),children:["Success (",a.length,")"]}),(0,w.jsxs)(pe.Z,{value:"failed",icon:(0,w.jsx)(he.SV5,{}),children:["Failed (",s.length,")"]})]}),(0,w.jsxs)("div",{className:"p-4",children:[(0,w.jsx)(ue.Z,{value:"all",children:(0,w.jsx)(Ce.Z,{tableData:t,originalColumns:ge,managedColumns:i,setManagedColumns:r,toolbarOptions:ve,externalGlobalFilter:"",exportFileName:"Content Master All Contents",columnsToFormatInINR:[],tableName:"ContentMasterAllContents",hideMaxPageSelector:!0})}),(0,w.jsx)(ue.Z,{value:"success",children:(0,w.jsx)(Ce.Z,{tableData:a,originalColumns:ge,managedColumns:i,setManagedColumns:r,toolbarOptions:ve,externalGlobalFilter:"",exportFileName:"Content Master Success Contents",columnsToFormatInINR:[],tableName:"ContentMasterSuccessContents",hideMaxPageSelector:!0})}),(0,w.jsx)(ue.Z,{value:"failed",children:(0,w.jsx)(Ce.Z,{tableData:s,originalColumns:ge,managedColumns:i,setManagedColumns:r,toolbarOptions:ve,externalGlobalFilter:"",exportFileName:"Content Master Failed Contents",columnsToFormatInINR:[],tableName:"ContentMasterFailedContents",hideMaxPageSelector:!0})})]})]})]})};const Ne=function(e){let{fileArray:t,setFileArray:a,isOpen:s,setIsOpen:l}=e;const[i,r]=(0,n.useState)([]),[d,c]=(0,n.useState)({}),[u,m]=(0,n.useState)(!1);(0,n.useEffect)((()=>{try{const{arrayCounts:e,typewiseSummary:t}=h();r(e),c(t)}catch(e){console.error(e),(0,y.openNotification)("danger","Something went wrong while generating file summary")}}),[t]);const p=()=>{l(!1),a(null)},h=()=>{try{let e=[{key:"Total Contents",value:t}],a={},s=[],n=[];return t.forEach((e=>{e.ContentType in a?a[e.ContentType].push(e):a[e.ContentType]=[e],0===e.Statuscode?n.push(e):s.push(e)})),e.push({key:"Success",value:s}),e.push({key:"Failed",value:n}),{arrayCounts:e,typewiseSummary:a}}catch(e){throw e}},x=e=>{var t;return null===(t=i.filter((t=>t.key===e))[0])||void 0===t?void 0:t.value},f=x("Success"),C=x("Failed");return(0,w.jsx)(o.Vq,{isOpen:s,onClose:p,onRequestClose:p,width:"60%",contentClassName:"mt-8",children:u?(0,w.jsx)(je,{fileArray:t,successArray:f,failedArray:C,setShowTables:m}):(0,w.jsx)(ce,{arrayCounts:i,typewiseSummary:d,setShowTables:m})})};var Se=a(54048),ye=a(85214),be=a(19351),Te=a(14651),Ee=a(41578),we=a(15369),Ie=a(58146),Re=a(13515);const De=e=>{let{GetContents:t,path:a}=e;const{Content:s}=(0,u.useSelector)((e=>e.base.common)),[o,i]=(0,n.useState)([]);return(0,n.useEffect)((()=>{(async e=>{const t=(await(0,l.apiGetContenStarCast)(s.ContentCode)).data.map((e=>{var t,a,s,n;return{StarCastCode:null===e||void 0===e||null===(t=e.StarCastMaster)||void 0===t?void 0:t.StarCastCode,StarCastName:null===e||void 0===e||null===(a=e.StarCastMaster)||void 0===a?void 0:a.StarCastName,StarCastTypeCode:null===e||void 0===e||null===(s=e.StarCastTypeMaster)||void 0===s?void 0:s.StarCastTypeCode,StarCastTypeName:null===e||void 0===e||null===(n=e.StarCastTypeMaster)||void 0===n?void 0:n.StarCastTypeName}}));i(t)})()}),[]),(0,w.jsx)("div",{children:(0,w.jsx)(Re.Z,{setMapStarcast:i,sMapStarcast:o,isEditMode:!0,GetContents:t,path:a})})},Ae={1:"bg-emerald-500",0:"bg-red-500"},Pe=(e,t,a,s,n)=>(0,w.jsxs)("span",{className:"flex items-center",children:[(0,w.jsx)(o.u,{title:"Download Template",children:(0,w.jsx)(o.zx,{variant:"solid",className:"mr-1",size:"sm",icon:(0,w.jsx)(le.Oyg,{}),onClick:()=>{try{const e=document.createElement("a");e.href="".concat("","/Content_Template.xlsx"),e.download="Content_Template.xlsx",e.click()}catch(e){console.error(e),(0,y.openNotification)("danger","Something went wrong")}}})}),(0,w.jsx)(o.u,{title:"Upload Content",children:(0,w.jsx)(o.gq,{beforeUpload:async(e,t)=>{let s;e.length>0?(s=e[0],["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(s.type)?a(s):(0,y.openNotification)("danger","Please upload an XLSX file!")):(0,y.openNotification)("danger","Please select a file!")},uploadLimit:1,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",showList:!1,children:(0,w.jsx)(o.zx,{variant:"solid",size:"sm",icon:(0,w.jsx)(le.DH$,{}),className:"mr-2"})})}),(0,w.jsx)("span",{className:"mr-1   font-semibold",children:(0,w.jsx)($.Z,{value:null!==e&&void 0!==e?e:"",className:"solid",placeholder:"Search all columns...",size:"sm",onChange:e=>{/^[0-9a-zA-Z\s]*$/.test(e.target.value)&&t(e.target.value)}})}),(0,w.jsx)("span",{className:"mr-1 font-semibold",children:(0,w.jsx)(d.rU,{to:s.label==S.CLIENT.USA_Forbes?"/addtemplate":"/EventTeamPlaner"==n||"EventTeamPlaner"==n?"/addEventTeamPlaner":"/addcontent",children:(0,w.jsxs)(o.zx,{block:!0,variant:"solid",size:"sm",icon:(0,w.jsx)(i.yEd,{}),children:["Add ",s.label==S.CLIENT.USA_Forbes?"Template":"Content"]})})})]}),Me=()=>{(0,ne.Dh)();const e=(0,u.useSelector)((e=>e.locale.selectedChannel)),t=window.location.href.split("#")[1],a=t?t.split("/")[1]:"",i=(0,u.useSelector)((e=>e.auth.session.token)),{Dialogbox:d,DialogboxName:p}=(0,u.useSelector)((e=>e.base.common)),h=(0,u.useDispatch)(),[x,f]=(0,n.useState)([""]),[C,g]=(0,n.useState)(""),[v,j]=(0,n.useState)([]),[N,b]=(0,n.useState)(!1),[T,E]=(0,n.useState)(!1),[I,R]=(0,n.useState)([""]),[D,M]=(0,n.useState)([""]),[F,k]=(0,n.useState)([""]),[_,L]=(0,n.useState)(!1),[z,G]=(0,n.useState)({}),[O,V]=(0,n.useState)(null),[B,U]=(0,n.useState)(null),[H,X]=(0,n.useState)(!1),[q,K]=(0,n.useState)(!1),[Y,$]=(0,n.useState)(0),Q=(0,n.useMemo)((()=>[{header:e.label==S.CLIENT.USA_Forbes?"Template":"Content",accessorKey:"ContentName",cell:e=>{const t=e.row.original;return(0,w.jsx)(o.u,{title:t.ContentName,children:(0,w.jsxs)("div",{className:"flex items-center",onClick:()=>{G(t),L(!0)},children:[(0,w.jsx)(o.Ct,{style:{minWidth:"9px",marginRight:10},className:Ae[t.IsActive]}),(0,w.jsx)("img",{src:t.Content_Image,style:{height:"30px",width:"30px"},className:"hover:opacity-80 cursor-pointer"}),(0,w.jsx)("span",{className:"ml-2 rtl:mr-2 capitalize",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"90%",maxWidth:"90%"},children:t.ContentName})]})})}},{header:"Type",accessorKey:"ContentType.ContentTypeName"},{header:"Genre",accessorKey:"GenreMaster.GenreName"},{header:"Dur. (Min)",accessorKey:"SlotDuration"},{header:"Language",accessorKey:"Language.LanguageName"},{header:"Release",accessorKey:"FPCReleaseDate",cell:e=>{const t=e.row.original,a=(0,y.formatDateToDDMMMYYYY)(new Date(t.FPCReleaseDate)),s=(0,y.formatDateToDDMMMYYYY)(new Date(t.AddedOn)),n=(new Date-s)/864e5<=7;return(0,w.jsx)(o.u,{title:n?"Recently Added Event":"Previous Added Event",children:(0,w.jsx)("div",{className:"flex items-center ",children:(0,w.jsx)("span",{className:"ml-2 rtl:mr-2 ".concat(n?"text-yellow-500 font-extrabold":""),children:a})})})}}]),[]);(0,n.useEffect)((()=>{(0,ne.Dh)()}),[]),(0,n.useEffect)((()=>{(async()=>{try{O&&(U(await ue()),$(100),await new Promise((e=>setTimeout(e,1e3))),V(null),X(!1),K(!0))}catch(e){console.error(e),V(null),(0,y.openNotification)("danger","Something went wrong while uploading file")}})()}),[O]),(0,n.useEffect)((()=>{"/EventTeamPlaner"==a||"EventTeamPlaner"==a?(b(!1),re(1)):(re(0),b(!0))}),[e,a]),(0,n.useEffect)((()=>{let e;return H?e=setInterval((()=>{Y>=90?clearInterval(e):Y<100&&$((e=>e+1))}),1e3):$(0),()=>clearInterval(e)}),[H,Y]);const ee=new Date,te=ee.getFullYear(),le=ee.getMonth(),re=(t,a)=>{(async()=>{E(!0);let s={LocationCode:e.LocationCode,ChannelCode:e.ChannelCode,IsGroup:t,EventContentCode:a};try{const e=await(0,l.apiGetContentmaster)(s);if(204==e.status)return E(!1),R([]),void M([]);R(e.data),M(e.data);const t=e.data.filter((e=>{const t=new Date(e.AddedOn);return t.getFullYear()===te&&t.getMonth()===le}));k(t),E(!1)}catch(n){if(console.log(n.response.status),0==n.response.status)return E(!1),M([]),void R([])}})(),h((0,J.Ie)([])),h((0,J.kf)(!1))},de=async(e,t)=>{if("Template Master"==e||"Content Master"==e||"Synopsis"==e)try{let s=[],n=[];try{const e=await(0,l.apiGetcontenttxversion)(t.ContentCode);200===e.status&&(s=e.data.map((e=>({value:e.TXVersion.TXVersionCode,label:e.TXVersion.TXVersionName}))))}catch(a){console.error("Error fetching TXVersion:",a)}try{const e=await(0,l.apiGetcontentsuppliermap)(t.ContentCode);n=200===e.status?e.data.map((e=>({value:e.SupplierMasterTable.SupplierCode,label:e.SupplierMasterTable.SupplierName}))):[]}catch(a){console.error("Error fetching Supplier:",a)}h((0,m.ZV)({Supplier:n,TXVersion:s})),h((0,m.Us)(t)),h((0,m.Es)(e)),h((0,m.fs)(!0))}catch(a){console.error("Unexpected error:",a),h((0,m.Us)(t)),h((0,m.Es)(e)),h((0,m.fs)(!0))}},ce=e=>{h((0,m.ZV)()),h((0,J.Ie)([])),h((0,m.fs)(!1))},ue=async()=>{try{const t=new FormData;X(!0);const a=await new Promise(((e,t)=>{const a=new FileReader;a.readAsArrayBuffer(O),a.onload=function(t){e(t.target.result)},a.onerror=function(e){t(e)}})),n=new Blob([a],{type:O.type});t.append("file",n,O.name);let o=await fetch(Se.Z.apiPrefix+"/contentmaster/uploadContent/?LocationCode="+e.LocationCode,{method:"POST",body:t,headers:{Accept:"*/*",Authorization:"Bearer ".concat(i)}});if(o=await o.json(),Array.isArray(o))return o=o.map((e=>0===e.Statuscode?(0,s.Z)((0,s.Z)({},e),{},{bgColor:ye.RED_700,fontColor:"white"}):(0,s.Z)((0,s.Z)({},e),{},{bgColor:ye.GREEN_700,fontColor:"white"}))),o;throw new Error("Something went wrong while uploading file")}catch(t){throw X(!1),t}},me=t=>{switch(t){case e.label==S.CLIENT.USA_Forbes?"Total Template":"Total Content":M(I);break;case e.label==S.CLIENT.USA_Forbes?"Active Template":"Active Content":M(I.filter((e=>1==e.IsActive)));break;case e.label==S.CLIENT.USA_Forbes?"InActive Template":"InActive Content":M(I.filter((e=>0==e.IsActive)));break;case"Current Month Added":M(F)}};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Ie.Z,{isDialogOpen:_,setIsDialogOpen:L,contentInfo:z}),(0,w.jsxs)(o.Zb,{header:(0,w.jsx)(r.Z,{}),headerExtra:Pe(C,g,V,e,a),className:"flex flex-col h-full",bodyClass:"grow",style:{overflow:"scroll"},children:[(0,w.jsxs)("div",{className:"grid grid-cols-1 gap-4 mb-4 mt-2 lg:grid-cols-4 xl:grid-cols-4",children:[(0,w.jsx)(be.Z,{CardHeight:180,AnimateColorClass:"order3",Icon:(0,w.jsx)(Ee.Mw8,{style:{fontSize:35,color:we.AN}}),CardName:e.label==S.CLIENT.USA_Forbes?"Total Template":"Total Content",CardNote:"Content is used for creating daily Playlist.",CardFigure:I.length,COLOR:"bg-emerald-500",Function:me,IsFunction:!0,cursor:!0}),(0,w.jsx)(be.Z,{CardHeight:180,AnimateColorClass:"order2",Icon:(0,w.jsx)(Te.XJx,{style:{fontSize:35,color:we.e8}}),CardName:e.label==S.CLIENT.USA_Forbes?"Active Template":"Active Content",CardNote:"Content is ready to Schedule in playlist.",CardFigure:I.filter((e=>1==e.IsActive)).length,COLOR:"bg-amber-500",Function:me,IsFunction:!0,cursor:!0}),(0,w.jsx)(be.Z,{CardHeight:180,AnimateColorClass:"order1",Icon:(0,w.jsx)(fe.qjx,{style:{fontSize:35,color:we.Je}}),CardName:e.label==S.CLIENT.USA_Forbes?"InActive Template":"InActive Content",CardNote:"Content is inactive for playlist template",CardFigure:I.filter((e=>0==e.IsActive)).length,COLOR:"bg-red-500",Function:me,IsFunction:!0,cursor:!0}),(0,w.jsx)(be.Z,{CardHeight:180,AnimateColorClass:"order8",Icon:(0,w.jsx)(fe.XiZ,{style:{fontSize:35,color:we.lK}}),CardName:"Current Month Added",CardNote:"New Content is added in current month.",CardFigure:F.length,COLOR:"bg-yellow-500",Function:me,IsFunction:!0,cursor:!0})]}),0==I.length&&(0,w.jsx)("p",{className:"flex justify-center ",children:"Data Not Found"}),N&&I.length>0?(0,w.jsx)(c.Z,{data:D,columns:Q,globalFilter:C,setGlobalFilter:g,seteditData:f,ExportName:"ContentMaster",sorting:v,setSorting:j}):(0,w.jsx)("div",{className:"grid grid-cols-4 gap-4",children:I.map(((e,t)=>{var s,n,l,i;return(0,w.jsx)("div",{className:"",children:(0,w.jsxs)(o.Zb,{className:"".concat("number"===typeof streamedPercent&&"rounded-bl-none"),bodyClass:"p-3",children:[(0,w.jsxs)("div",{className:"flex justify-between items-start mb-2",onClick:()=>{re("/EventTeamPlaner"==a||"EventTeamPlaner"==a?1:0,e.ContentCode),b(!0)},children:[(0,w.jsxs)("div",{className:"flex items-center cursor-pointer ",children:[(0,w.jsxs)("p",{className:"font-semibold text-teal-600 text-sm ",children:[e.Content_Image?(0,w.jsx)("img",{src:e.Content_Image,style:{height:"30px",width:"30px",borderRadius:900},className:"hover:opacity-80 cursor-pointer mr-2"}):(0,w.jsx)("img",{src:"/img/3204121.jpg",style:{height:"30px",width:"30px",borderRadius:900},className:"hover:opacity-80 cursor-pointer  mr-2"})," "]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"font-semibold text-teal-600 text-sm ",children:null===(s=e.ContentType)||void 0===s?void 0:s.ContentTypeName}),(0,w.jsx)(o.u,{title:e.ContentName,children:(0,w.jsx)("p",{className:"font-semibold text-sm text-slate-300",children:(null===(n=e.ContentName)||void 0===n?void 0:n.length)>22?"".concat(null===(l=e.ContentName)||void 0===l?void 0:l.substring(0,22),"..."):null===e||void 0===e?void 0:e.ContentName})})]})]}),(0,w.jsx)("div",{className:" text-sm text-slate-300",children:(0,w.jsx)("p",{className:"mb-1",children:null===(i=e.Language)||void 0===i?void 0:i.LanguageName})})]}),(0,w.jsx)(oe.VR,{row:{original:e},openDialog:de})]})},t)}))}),(0,w.jsx)(o.Vq,{isOpen:d,width:"Rating"==p?500:1e3,onClose:ce,onRequestClose:ce,style:{content:{marginTop:"-50px"}},children:(0,w.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,w.jsx)("h5",{className:"mb-4",children:p}),(()=>{switch(p){case S.CLIENT.USA_Forbes==e.label?"Template Master":"Content Master":return(0,w.jsx)(A,{GetContents:re,path:a});case"Synopsis":return(0,w.jsx)(P,{GetContents:re,path:a});case"EpisodeRestrictions":return(0,w.jsx)(W,{});case"SeasonMapping":return(0,w.jsx)(Z,{});case"StarCastEdit":return(0,w.jsx)(De,{GetContents:re,path:a});case"Rating":return(0,w.jsx)(se,{});default:return null}})()]})})]}),(0,w.jsx)(ie.Z,{title:"Uploading File",isOpen:H,uploadPercent:Y}),Array.isArray(B)&&(0,w.jsx)(Ne,{fileArray:B,setFileArray:U,isOpen:q,setIsOpen:K}),(0,w.jsx)(ae.default,{showLoader:T})]})}},46553:(e,t,a)=>{a.d(t,{Z:()=>l});a(72791);var s=a(96710),n=a.n(s),o=a(80184);const l=e=>{let{link:t}=e;return(0,o.jsx)("div",{children:(0,o.jsx)(n(),{url:t,playing:!0,controls:!0,width:"100%",height:"300px"})})}},58146:(e,t,a)=>{a.d(t,{Z:()=>i});var s=a(2803),n=a(72791),o=a(46553),l=a(80184);const i=function(e){var t,a,i,r;let{isDialogOpen:d,setIsDialogOpen:c,contentInfo:u}=e;const[m,p]=(0,n.useState)();return(0,l.jsx)(s.Vq,{isOpen:d,width:1e3,onClose:()=>c(!1),onRequestClose:()=>c(!1),children:(0,l.jsxs)("div",{className:"w-full h-full grid grid-cols-2 gap-1",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center mt-5",children:[(0,l.jsx)(s.qE,{size:"sm",src:"FAV.png"}),(0,l.jsx)("h6",{className:"ml-2 ",style:{letterSpacing:6,color:"rgb(127, 132, 138)"},children:null===(t=u.ContentType)||void 0===t?void 0:t.ContentTypeName})]}),(0,l.jsx)("h1",{className:"mt-10 font-outfit  font-medium ",children:null===u||void 0===u?void 0:u.ContentName}),(0,l.jsxs)("div",{className:"flex mt-5 ml-1",children:[(0,l.jsxs)("h6",{className:"mr-1",children:[Math.floor((null===u||void 0===u?void 0:u.SlotDuration)/60),"Hr"]}),(0,l.jsxs)("h6",{children:[(null===u||void 0===u?void 0:u.SlotDuration)%60,"Min"]})]}),(0,l.jsx)("h3",{className:" mt-5 mb-2 font-outfit font-extrabold",children:"Type"}),(0,l.jsx)("div",{className:"flex ",children:(0,l.jsx)("div",{style:{height:30,border:"1px solid #f6e6e61a",display:"flex",alignItems:"center",padding:"18px 25px",background:"#00000029",color:"white"},children:null===(a=u.View)||void 0===a?void 0:a.ViewName})}),(0,l.jsx)("h3",{className:" mt-5 mb-2 font-outfit font-extrabold",children:"Genre"}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("p",{className:" font-outfit  font-medium mr-2",style:{height:30,border:"1px solid #f6e6e61a",display:"flex",alignItems:"center",padding:"18px 25px",background:"#00000029",color:"white"},children:null===(i=u.GenreMaster)||void 0===i?void 0:i.GenreName}),(0,l.jsx)("p",{className:" font-outfit  font-medium",style:{height:30,border:"1px solid #f6e6e61a",display:"flex",alignItems:"center",padding:"18px 25px",background:"#00000029",color:"white"},children:null===(r=u.SubGenreMaster)||void 0===r?void 0:r.SubGenreName})]}),(0,l.jsx)("h3",{className:"mt-7 font-outfit font-extrabold",children:" Synopsis"}),(0,l.jsx)("h6",{className:"mt-2 font-outfit  font-medium",children:null===u||void 0===u?void 0:u.Synopsis})]}),(0,l.jsx)("div",{className:"flex justify-center items-center",children:m?(0,l.jsx)(o.Z,{link:null===u||void 0===u?void 0:u.MetaData}):u.Content_Image?(0,l.jsx)("img",{src:null===u||void 0===u?void 0:u.Content_Image,style:{height:300,width:300}}):(0,l.jsx)("img",{src:"/img/3204121.jpg",style:{height:300,width:300}})})]})})}},60488:(e,t,a)=>{a.d(t,{Dh:()=>h,SE:()=>p,SU:()=>g,a1:()=>c,aP:()=>d,f$:()=>x,rp:()=>m,yw:()=>f});var s=a(1413),n=(a(81320),a(72791)),o=a(56355),l=a(2803),i=a(80184);const r=e=>e.split(":").map((e=>e.padStart(2,"0"))).join(":").substring(0,11);function d(e){let t=0;const a=[];return e.forEach((e=>{"NTC"!==e.F_C_S_P&&t++;const n=(0,s.Z)((0,s.Z)({},e),{},{PrimaryID:t});a.push(n)})),a}function c(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"CM",o=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,d="00:00:00:00",c=o||"00:00:00:00";return e.map(((e,m)=>{if(l&&"NTC"===e.F_C_S_P&&"DTM"===e.NtcTypeName)return e;if("NTC"===e.F_C_S_P||"BR"===e.F_C_S_P)return e.OffsetStartTime?(0,s.Z)((0,s.Z)({},e),{},{Start_Time:e.OffsetStartTime,Tel_Time:e.OffsetStartTime}):(0,s.Z)((0,s.Z)({},e),{},{Start_Time:"00:00:00:00",Tel_Time:"00:00:00:00",OffsetStartTime:"00:00:00:00"});let p=c;if(t)return"CT"!==e.F_C_S_P?e.F_C_S_P===n&&a||"NTC"===e.F_C_S_P||"BR"===e.F_C_S_P?(c=r(c),(0,s.Z)((0,s.Z)({},e),{},{Start_Time:c,Tel_Time:c})):(p=u(c,d,i),d=e.Duration,p=r(p),c=r(p),(0,s.Z)((0,s.Z)({},e),{},{Start_Time:p,Tel_Time:p})):(c=e.FPC_Time+":00:00",d=e.Duration,p=r(p),c=r(c),(0,s.Z)((0,s.Z)({},e),{},{Start_Time:c,Tel_Time:c}));if(0===m)c=o||e.Start_Time,d=e.Duration;else{if(p=u(c,d,i),p=r(p),c=r(p),"NTC"===e.F_C_S_P&&a||"BR"===e.F_C_S_P)return(0,s.Z)((0,s.Z)({},e),{},{Start_Time:c,Tel_Time:c});d=e.Duration,p=r(p),c=r(p)}return(0,s.Z)((0,s.Z)({},e),{},{Start_Time:p,Tel_Time:p})}))}const u=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:24;try{const s=60,n=60,o=24,[l,i,r,d]=e.split(":").map(Number),[c,u,m,p]=t.split(":").map(Number);let h=d+p,x=Math.floor(h/a);h%=a;let f=r+m+x,C=Math.floor(f/s);f%=s;let g=i+u+C,v=Math.floor(g/n);g%=n;let j=l+c+v;j%=o;return String(j).padStart(2,"0")+":"+String(g).padStart(2,"0")+":"+String(f).padStart(2,"0")+":"+String(h).padStart(2,"0")}catch(s){throw s}};function m(e){let t=0;return e.forEach((e=>{const[a,s,n,o]=e.CommercialDuration.split(":").map((e=>parseInt(e)));t+=3600*a+60*s+n+o/30})),t}function p(){document.getElementsByClassName("stacked-side-nav")[0].classList.add("hidden");document.getElementsByClassName("footer")[0].classList.add("hidden")}function h(){var e,t;const a=document.getElementsByClassName("stacked-side-nav-secondary")[0];void 0!=a&&(null===a||void 0===a||a.classList.add("hidden")),null===(e=document.getElementById("rightIndicator"))||void 0===e||e.classList.remove("hidden"),null===(t=document.getElementById("leftIndicator"))||void 0===t||t.classList.add("hidden")}function x(){var e,t;const a=document.getElementsByClassName("stacked-side-nav-secondary")[0];void 0!=a&&(null===a||void 0===a||a.classList.remove("hidden")),null===(e=document.getElementById("leftIndicator"))||void 0===e||e.classList.remove("hidden"),null===(t=document.getElementById("rightIndicator"))||void 0===t||t.classList.add("hidden")}const f=(e,t)=>e.map((e=>{let a=(0,s.Z)({},e);return"S"===a.F_C_S_P||a.F_C_S_P,"NTC"===a.F_C_S_P?(a.PrimaryID=t.PrimaryID,a.SeasonNo=t.SeasonNo,a.Ep_No=t.Ep_No,a.ContentCode=t.ContentCode,a.BreakNumber=t.BreakNumber,a.SeasonNo=t.SeasonNo,a.FPC_ID=t.FPC_ID):"CM"===a.F_C_S_P?(a.PrimaryID=t.PrimaryID,a.SeasonNo=t.SeasonNo,a.Ep_No=t.Ep_No,a.ContentCode=t.ContentCode,a.BreakNumber=t.BreakNumber,a.SeasonNo=t.SeasonNo,a.FPC_ID=t.FPC_ID,a.ScheduleTime=t.ScheduleTime):(a.SeasonNo=t.SeasonNo,a.Ep_No=t.Ep_No,a.ContentCode=t.ContentCode,a.BreakNumber=t.BreakNumber,a.SeasonNo=t.SeasonNo,a.FPC_ID=t.FPC_ID),a.SequenceNo=t.SequenceNo,a.Start_Time="00:00:00:00",a})),C=e=>{const t=Math.floor(e/60),a=e%60;return"".concat(String(t).padStart(2,"0"),":").concat(String(a).padStart(2,"0"))};const g=e=>{let{Progress:t,PromoSchdulingSave:a,openNotification:s}=e;const[r,d]=(0,n.useState)(0),[c,u]=(0,n.useState)(0),[m,p]=(0,n.useState)(0),[h,x]=(0,n.useState)(!1),f=(0,n.useRef)(!0),[g,v]=(0,n.useState)(!1),[j,N]=(0,n.useState)(""),S=e=>{let{percent:t}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{onClick:()=>{v(!0)},style:{cursor:"pointer"},children:(0,i.jsx)("p",{style:{marginTop:"5px",fontSize:"12px",color:"white"},children:C(c)})}),(0,i.jsx)("p",{style:{cursor:"pointer",color:"white",marginLeft:"10px"},onClick:()=>{x(!h)},children:h?(0,i.jsx)(o.Wh,{}):(0,i.jsx)(o.gmG,{})})]})};(0,n.useEffect)((()=>{y(10)}),[]),(0,n.useEffect)((()=>{let e;return h&&c>0?e=setInterval((()=>{u((e=>Math.max(e-1,0))),d((e=>{const t=100-c/(m||1)*100;return Math.min(t,100)}))}),1e3):0===c&&h&&(a(),s("info"),u(m)),()=>clearInterval(e)}),[h,c,m]),(0,n.useEffect)((()=>{f.current&&(f.current=!1)}),[c]);const y=e=>{const t=parseInt(e,10);if(!isNaN(t)&&t>0){const e=60*t;u(e),p(e),d(0),x(!0)}},b=e=>{console.log("onDialogClose",e),v(!1)};return(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)(l.Vq,{isOpen:g,width:300,height:200,onClose:b,onRequestClose:b,children:(0,i.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,i.jsx)("h5",{className:"mb-4",children:"Set Timer"}),(0,i.jsx)("div",{className:"flex align-center",children:(0,i.jsx)(l.II,{maxLength:"2",value:j,onChange:e=>{const t=e.target.value;(/^\d{0,2}$/.test(t)||""===t)&&N(t)}})}),(0,i.jsxs)("div",{className:"text-right mt-6",children:[(0,i.jsx)(l.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"solid",onClick:()=>{y(j),b()},children:"Set"}),(0,i.jsx)(l.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"solid",onClick:b,children:"Cancel"})]})]})}),(0,i.jsx)("div",{className:"flex",style:{width:"120px"},children:(0,i.jsx)(t,{variant:"circle",className:"mx-6",size:"sm",width:50,percent:r,customInfo:(0,i.jsx)(S,{percent:r})})})]})}},85781:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function n(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(n=e[a],o=t[a],!(n===o||s(n)&&s(o)))return!1;var n,o;return!0}const o=function(e,t){var a;void 0===t&&(t=n);var s,o=[],l=!1;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return l&&a===this&&t(n,o)||(s=e.apply(this,n),l=!0,a=this,o=n),s}}},86836:(e,t,a)=>{a.d(t,{Z:()=>h});var s=a(87462),n=a(72791),o=a(69880),l=a(8003),i=a(1413),r=a(93433),d=a(45987),c=a(88406),u=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,s=String(e).toLowerCase(),n=String(a.getOptionValue(t)).toLowerCase(),o=String(a.getOptionLabel(t)).toLowerCase();return n===s||o===s},p={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,a,s){return!(!e||t.some((function(t){return m(e,t,s)}))||a.some((function(t){return m(e,t,s)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};a(54164),a(51672);const h=(0,n.forwardRef)((function(e,t){var a=function(e){var t=e.allowCreateWhileLoading,a=void 0!==t&&t,s=e.createOptionPosition,l=void 0===s?"last":s,m=e.formatCreateLabel,h=void 0===m?p.formatCreateLabel:m,x=e.isValidNewOption,f=void 0===x?p.isValidNewOption:x,C=e.getNewOptionData,g=void 0===C?p.getNewOptionData:C,v=e.onCreateOption,j=e.options,N=void 0===j?[]:j,S=e.onChange,y=(0,d.Z)(e,u),b=y.getOptionValue,T=void 0===b?o.g:b,E=y.getOptionLabel,w=void 0===E?o.b:E,I=y.inputValue,R=y.isLoading,D=y.isMulti,A=y.value,P=y.name,M=(0,n.useMemo)((function(){return f(I,(0,c.I)(A),N,{getOptionValue:T,getOptionLabel:w})?g(I,h(I)):void 0}),[h,g,w,T,I,f,N,A]),F=(0,n.useMemo)((function(){return!a&&R||!M?N:"first"===l?[M].concat((0,r.Z)(N)):[].concat((0,r.Z)(N),[M])}),[a,l,R,M,N]),k=(0,n.useCallback)((function(e,t){if("select-option"!==t.action)return S(e,t);var a=Array.isArray(e)?e:[e];if(a[a.length-1]!==M)S(e,t);else if(v)v(I);else{var s=g(I,I),n={action:"create-option",name:P,option:s};S((0,c.D)(D,[].concat((0,r.Z)((0,c.I)(A)),[s]),s),n)}}),[g,I,D,P,M,v,S,A]);return(0,i.Z)((0,i.Z)({},y),{},{options:F,onChange:k})}((0,l.u)(e));return n.createElement(o.S,(0,s.Z)({ref:t},a))}))}}]);
//# sourceMappingURL=8778.84e43d02.chunk.js.map