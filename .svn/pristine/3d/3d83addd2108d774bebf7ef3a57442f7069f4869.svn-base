(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[7566],{6884:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var n=s(1413),a=s(45987),l=s(2803),i=s(72791),r=s(80184);const o=["styles","size","placeholder"],c=i.memo(i.forwardRef(((e,t)=>{const{styles:s,size:i,placeholder:c}=e,d=(0,a.Z)(e,o);return(0,r.jsx)(l.Ph,(0,n.Z)((0,n.Z)({size:"sm"},d),{},{styles:(0,n.Z)({valueContainer:e=>(0,n.Z)((0,n.Z)({},e),{},{padding:"2px 5px"}),input:e=>(0,n.Z)((0,n.Z)({},e),{},{color:"white"}),control:e=>(0,n.Z)((0,n.Z)({},e),{},{minHeight:"30px"})},s),ref:t,placeholder:c||"Select"}))})))},55397:(e,t,s)=>{"use strict";s.d(t,{Z:()=>f});var n=s(72791),a=s(2803),l=s(36996),i=s(48080),r=s(40980),o=s(81694),c=s.n(o),d=s(80184);const{Tr:u,Th:m,Td:h,THead:p,TBody:x,Sorter:g}=a.iA,f=e=>{let{data:t,columns:s,trClassNames:o}=e;const[f,v]=(0,n.useState)([]),y=(0,l.b7)({data:t,columns:s,state:{sorting:f},onSortingChange:v,getCoreRowModel:(0,i.sC)(),getSortedRowModel:(0,i.tj)()});return(0,d.jsx)(r.ZP,{children:e=>{let{height:t,width:s}=e;return(0,d.jsx)("div",{style:{height:t,width:s},className:"overflow-auto",children:(0,d.jsxs)(a.iA,{children:[(0,d.jsx)(p,{className:"sticky top-0",children:y.getHeaderGroups().map((e=>(0,d.jsx)(u,{children:e.headers.map(((e,t)=>{var s,n,a;return(0,d.jsx)(m,{colSpan:e.colSpan,className:"overflow-hidden text-ellipsis whitespace-nowrap border-r border-r-gray-600 !normal-case w-max px-2 ".concat(0===t&&"border-l border-l-gray-600"),style:{width:null===(s=e.column.columnDef.headStyle)||void 0===s?void 0:s.width},children:e.isPlaceholder?null:(0,d.jsxs)("div",{className:e.column.getCanSort()?"cursor-pointer select-none table-head-cell ":"",onClick:e.column.getToggleSortingHandler(),style:{fontSize:null===(n=e.column.columnDef.headStyle)||void 0===n?void 0:n.fontSize,justifyContent:null===(a=e.column.columnDef.headStyle)||void 0===a?void 0:a.align},children:[(0,l.ie)(e.column.columnDef.header,e.getContext()),(0,d.jsx)(g,{sort:e.column.getIsSorted()})]})},e.id)}))},e.id)))}),(0,d.jsx)(x,{children:y.getRowModel().rows.slice(0,10).map((e=>(0,d.jsx)(u,{className:"function"===typeof o?o(e.original):"",children:e.getVisibleCells().map(((e,t)=>{var s,n,a,i;return(0,d.jsx)(h,{className:c()("overflow-hidden text-ellipsis whitespace-nowrap border-r border-r-gray-700 text-gray-200 border-b border-b-gray-700 w-max px-2",0===t&&"border-l border-l-gray-700"),style:{width:null===(s=e.column.columnDef.cellStyle)||void 0===s?void 0:s.width,textAlign:null===(n=e.column.columnDef.cellStyle)||void 0===n?void 0:n.align},children:(0,d.jsx)("div",{className:"table-body-cell",style:{fontWeight:null===(a=e.column.columnDef.cellStyle)||void 0===a?void 0:a.fontWeight,fontSize:null===(i=e.column.columnDef.cellStyle)||void 0===i?void 0:i.fontSize},children:(0,l.ie)(e.column.columnDef.cell,e.getContext())})},e.id)}))},e.id)))})]})})}})}},76255:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>xt});var n=s(81721),a=s(2803),l=s(72791),i=s(78820),r=s(9494),o=s(11308),c=s(67388),d=s(81320),u=s(6884),m=s(60488),h=s(72299),p=s(63821),x=s(34927),g=s(1413),f=s(45987),v=s(80184);const y=["value","onChange","debounce"];function N(e){let{value:t,onChange:s,debounce:n=500}=e,i=(0,f.Z)(e,y);const[r,o]=(0,l.useState)(t);return(0,l.useEffect)((()=>{o(t)}),[t]),(0,l.useEffect)((()=>{const e=setTimeout((()=>{s(r)}),n);return()=>clearTimeout(e)}),[r]),(0,v.jsx)("div",{children:(0,v.jsx)(a.II,(0,g.Z)((0,g.Z)({},i),{},{value:r,onChange:e=>o(e.target.value)}))})}const b=(0,l.memo)(N);var j=s(84373);const C="dateRange",S="amortisationType",w="totalCost",R="costPerPlay",_="countries",T="isUnlimitedRuns",E="permissibleDuration",O="broadcastStartTime",I="broadcastEndTime",D="days",P="remarks",Z="isActive",F="seasons",z="startEpisode",M="endEpisode",k="totalEpisodes",W="originalPlayRun",L="repeatPlayRun",A="totalOriginalRun",B="totalRepeatRun",H="originalRunWithin24Hr",U="repeatRunWithin24Hr",G="nextOriginalRunWithin",V="nextRepeatRunWithin",q="nextOriginalRunType",Y="nextRepeatRunType",X="Content",K="Movie",Q="Song",J={label:"Days",value:1},$=[J,{label:"Weekly",value:2},{label:"Monthly",value:3}],ee={[C]:[null,null],[S]:null,[w]:null,[R]:null,[_]:[],[T]:!1,[E]:null,[O]:null,[I]:null,[D]:[0,1,2,3,4,5,6],[Z]:!0,[P]:"",[F]:null,[z]:null,[M]:null,[k]:null,[W]:1,[L]:null,[A]:1,[B]:null,[H]:null,[U]:null,[G]:null,[V]:null,[q]:J,[Y]:J},te={[C]:[null,null],[S]:null,[w]:null,[R]:null,[_]:[],[T]:!1,[E]:null,[O]:null,[I]:null,[D]:[0,1,2,3,4,5,6],[Z]:!0,[P]:"",[F]:null,[z]:null,[M]:null,[k]:null,[W]:1,[L]:null,[A]:1,[B]:null,[H]:null,[U]:null,[G]:null,[V]:null,[q]:J,[Y]:J},se={[C]:[null,null],[S]:null,[w]:null,[R]:null,[_]:[],[T]:!1,[E]:null,[O]:null,[I]:null,[D]:[0,1,2,3,4,5,6],[Z]:!0,[P]:"",[F]:null,[z]:null,[M]:null,[k]:null,[W]:1,[L]:null,[A]:1,[B]:null,[H]:null,[U]:null,[G]:null,[V]:null,[q]:J,[Y]:J},ne=(e,t)=>{let s=e.dateRange[0]&&e.dateRange[1]&&e.costPerPlay>0&&e.amortisationType&&e.countries.length>0;return t===X&&(s=!(!s||!(e[T]||e[E]>0))||e.seasons&&e.startEpisode&&e.endEpisode),s},ae=e=>({ContractStartDate:e[C][0],ContractEndDate:e[C][1],AmortisationTypeCode:e[S],Geocountruy:e[_],CostPerEp:e[R],BroadcastStartTime:e[O],BroadcastEndTime:e[I],PDuration:e[E],SUN:e[D].includes(0),MON:e[D].includes(1),TUE:e[D].includes(2),WED:e[D].includes(3),THU:e[D].includes(4),FRI:e[D].includes(5),SAT:e[D].includes(6),UnlimitedRuns:e[T],IsActive:e[Z],ProgCost:e[w],ContractRemarks:e[P],Season:e[F],StartEpisode:e[z],EndEpisode:e[M],TotalEpisode:e[k],OrignalPlayRun:e[W],TotalOrignalRun:e[A],OrignalRunWithIn24:e[H],NextOrignalRun:e[G],NextOrignalRunType:e[q],RepeatPlayRun:e[L],TotalRepeatRun:e[B],RepeatRunWithIn24:e[U],NextRepeatRun:e[V],NextRepeatRunType:e[Y]}),le=e=>({[C]:[e.ContractStartDate,e.ContractEndDate],[S]:e.AmortisationTypeCode,[w]:e.ProgCost,[R]:e.CostPerEp,[_]:e.Geocountruy,[T]:e.UnlimitedRuns,[E]:e.PDuration,[O]:e.BroadcastStartTime,[I]:e.BroadcastEndTime,[D]:ie(e.SUN,e.MON,e.TUE,e.WED,e.THU,e.FRI,e.SAT),[Z]:e.IsActive,[P]:e.ContractRemarks,[F]:e.Season,[z]:e.StartEpisode,[M]:e.EndEpisode,[k]:e.TotalEpisode,[W]:e.OrignalPlayRun,[L]:e.RepeatPlayRun,[A]:e.TotalOrignalRun,[B]:e.TotalRepeatRun,[H]:e.OrignalRunWithIn24,[U]:e.RepeatRunWithIn24,[G]:e.NextOrignalRun,[V]:e.NextRepeatRun,[q]:e.NextOrignalRunType,[Y]:e.NextRepeatRunType}),ie=(e,t,s,n,a,l,i)=>{const r=[];return e&&r.push(0),t&&r.push(1),s&&r.push(2),n&&r.push(3),a&&r.push(4),l&&r.push(5),i&&r.push(6),r},re=e=>{let{field:t,value:s,formState:n,setFormState:a,eventType:l}=e;const i=l===K?ee:l===X?te:se;if(t===R)a((e=>(0,g.Z)((0,g.Z)({},e),{},{[t]:s||null,[w]:s?s*e[A]:null})));else if(t===T&&s)a((e=>(0,g.Z)((0,g.Z)({},e),{},{[t]:s,[F]:i[F],[z]:i[z],[M]:i[M],[k]:i[k],[W]:i[W],[A]:i[A],[H]:i[H],[G]:i[G],[q]:i[q],[L]:i[L],[B]:i[B],[U]:i[U],[V]:i[V],[Y]:i[Y]})));else if(t===E&&s)a((e=>(0,g.Z)((0,g.Z)({},e),{},{[t]:s,[G]:i[G],[q]:i[q],[V]:i[V],[Y]:i[Y]})));else if(t===F)a((e=>(0,g.Z)((0,g.Z)({},e),{},{[t]:s,[z]:i[z],[M]:i[M],[k]:i[k],[A]:i[A],[L]:i[L],[B]:i[B]})));else if(t===M||t===z&&n[M]){let e=(0,g.Z)((0,g.Z)({},n),{},{[t]:s});e[k]=e[M].value-e[z].value+1,e[A]=e[W]*e[k],e[B]=e[L]?e[L]*e[k]:e[L],e[w]="number"===typeof e[R]?e[R]*e[A]:e[R],a(e)}else a(t===L?l===K||l===Q?e=>(0,g.Z)((0,g.Z)({},e),{},{[t]:s,[B]:s?s*n[W]:s}):e=>(0,g.Z)((0,g.Z)({},e),{},{[t]:s,[B]:s?s*n[k]:s}):e=>(0,g.Z)((0,g.Z)({},e),{},{[t]:s}))},oe=(e,t)=>!!t[T]||(e===z?!t[F]:e===M?!t[F]||!t[z]:e===G||e===q||e===V||e===Y?t[T]||t[E]>0:e===L&&!t[k]);var ce=s(87537),de=s(55397);const ue=function(e){let{className:t,label:s}=e;return(0,v.jsx)("p",{className:"font-semibold text-[15px] border-b border-b-gray-700 pb-1 mb-3 text-teal-500 ".concat(t),children:s})};const me=function(e){let{label:t,value:s,className:n}=e;return(0,v.jsxs)("div",{className:"flex flex-col h-full ".concat(n),children:[(0,v.jsx)("p",{className:"text-gray-200 mb-1",children:t}),(0,v.jsx)("h4",{className:"grow flex items-center border-b border-b-teal-500 px-2 mb-1",children:s})]})};const he=function(e){let{className:t,label:s,value:n,onChange:l,placeholder:i,disabled:r,required:o,suffix:c}=e;return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("p",{className:"text-gray-200 mb-1",children:[s," ",o&&(0,v.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,v.jsx)(a.II,{placeholder:i,size:"sm",suffix:c,value:n,onChange:e=>(0,d.handleNumberInputChange)(e,l),disabled:r})]})};function pe(e){let{countryOptions:t,amortisationTypeOptions:s,formState:n,setFormState:l,tableData:i,columns:r,className:o,eventType:c,selectedCurrency:d}=e;return(0,v.jsx)("div",{className:"bg-gray-900 bg-opacity-40 p-3 rounded-md overflow-auto h-full ".concat(o),children:(0,v.jsxs)("div",{className:"grid grid-cols-12 gap-x-4",children:[(0,v.jsx)(ue,{className:"col-span-12",label:"CONTRACT DETAILS"}),(0,v.jsxs)("div",{className:"mb-7 col-span-4",children:[(0,v.jsxs)("p",{className:"text-gray-200 mb-1",children:["Contract Date ",(0,v.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,v.jsx)(ce.Z,{placeholder:"Date range",size:"sm",value:n[C],inputFormat:"DD-MMM-YYYY",onChange:e=>re({field:C,value:e,setFormState:l})})]}),(0,v.jsxs)("div",{className:"mb-7 col-span-4",children:[(0,v.jsxs)("p",{className:"text-gray-200 mb-1",children:["Amortisation Type ",(0,v.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,v.jsx)(u.Z,{options:s,value:n[S],onChange:e=>re({field:S,value:e,setFormState:l})})]}),(0,v.jsxs)("div",{className:"mb-7 col-span-4",children:[(0,v.jsxs)("p",{className:"text-gray-200 mb-1",children:["Geological Rights ",(0,v.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,v.jsx)(u.Z,{isMulti:!0,options:t,value:n[_],onChange:e=>re({field:_,value:e,setFormState:l})})]}),(0,v.jsxs)("div",{className:"mb-7 col-span-2",children:[(0,v.jsxs)("p",{className:"text-gray-200 mb-1",children:["Cost Per Play ",(0,v.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,v.jsx)(a.II,{placeholder:"Cost",size:"sm",type:"number",prefix:d.CurrencySymbol,value:n[R],onChange:e=>re({field:R,value:Number(e.target.value),setFormState:l})})]}),(0,v.jsxs)("div",{className:"mb-7 col-span-2",children:[(0,v.jsx)("p",{className:"text-gray-200 mb-1",children:"Start Time"}),(0,v.jsx)(a.MG,{size:"sm",value:n[O],onChange:e=>re({field:O,value:e,setFormState:l})})]}),(0,v.jsxs)("div",{className:"mb-7 col-span-2",children:[(0,v.jsx)("p",{className:"text-gray-200 mb-1",children:"End Time"}),(0,v.jsx)(a.MG,{size:"sm",value:n[I],onChange:e=>re({field:I,value:e,setFormState:l})})]}),(0,v.jsx)("div",{className:"mb-7 col-span-3",children:(0,v.jsx)(he,{label:"Daily Permissible Dur",placeholder:"Duration",suffix:"(Min)",value:n[E],onChange:e=>re({field:E,value:e.target.value.length>0?Number(e.target.value):null,setFormState:l,eventType:c})})}),(0,v.jsx)("div",{className:"mb-7 col-span-3",children:(0,v.jsxs)(a.XZ.Group,{className:"w-full flex items-center justify-between",value:n[D],onChange:e=>re({field:D,value:e,setFormState:l}),children:[(0,v.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,v.jsx)("p",{className:"text-gray-200 mb-1",children:"S"}),(0,v.jsx)(a.XZ,{value:0,className:"m-0"})]}),(0,v.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,v.jsx)("p",{className:"text-gray-200 mb-1",children:"M"}),(0,v.jsx)(a.XZ,{value:1,className:"m-0"})]}),(0,v.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,v.jsx)("p",{className:"text-gray-200 mb-1",children:"T"}),(0,v.jsx)(a.XZ,{value:2,className:"m-0"})]}),(0,v.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,v.jsx)("p",{className:"text-gray-200 mb-1",children:"W"}),(0,v.jsx)(a.XZ,{value:3,className:"m-0"})]}),(0,v.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,v.jsx)("p",{className:"text-gray-200 mb-1",children:"T"}),(0,v.jsx)(a.XZ,{value:4,className:"m-0"})]}),(0,v.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,v.jsx)("p",{className:"text-gray-200 mb-1",children:"F"}),(0,v.jsx)(a.XZ,{value:5,className:"m-0"})]}),(0,v.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,v.jsx)("p",{className:"text-gray-200 mb-1",children:"S"}),(0,v.jsx)(a.XZ,{value:6,className:"m-0"})]})]})}),(0,v.jsxs)("div",{className:"mb-7 col-span-2",children:[(0,v.jsx)("p",{className:"text-red-500 mb-1",children:"Unlimited Runs"}),(0,v.jsx)(a.XZ,{checked:n[T],onChange:e=>re({field:T,value:e,setFormState:l,eventType:c})})]}),(0,v.jsx)("div",{className:"mb-7 col-span-3",children:(0,v.jsx)(me,{label:"Total Cost",value:n[w]})}),(0,v.jsxs)("div",{className:"mb-7 col-span-1",children:[(0,v.jsx)("p",{className:"text-gray-200 mb-1",children:"Active"}),(0,v.jsx)(a.T5,{checked:n[Z],onChange:e=>re({field:Z,value:!e,setFormState:l})})]}),(0,v.jsxs)("div",{className:"mb-7 col-span-6",children:[(0,v.jsx)("p",{className:"text-gray-200 mb-1",children:"Remarks"}),(0,v.jsx)(a.II,{size:"sm",placeholder:"Remarks",value:n[P],onChange:e=>re({field:P,value:e.target.value,setFormState:l})})]}),(0,v.jsx)("p",{className:"font-semibold text-[15px] border-b border-b-gray-700 pb-1 col-span-12 text-teal-500 mb-2",children:"SELECTED CONTENTS"}),(0,v.jsx)("div",{className:"col-span-12 h-52",children:(0,v.jsx)(de.Z,{data:i,columns:r})})]})})}const xe=(0,l.memo)(pe);const ge=function(e){let{className:t,label:s,inputPlaceholder:n,typeValue:l,typeOnChange:i,typeMenuPlacement:r,runWithinValue:o,runWithinOnChange:c,disabled:m}=e;return(0,v.jsxs)("div",{className:t,children:[(0,v.jsx)("p",{className:"text-gray-200 mb-1",children:s}),(0,v.jsxs)(a.BZ,{className:"flex",children:[(0,v.jsx)(a.II,{placeholder:n,size:"sm",className:"h-full",value:o,onChange:e=>(0,d.handleNumberInputChange)(e,c),disabled:m}),(0,v.jsx)(u.Z,{placeholder:"Type",options:$,className:"w-full",value:l,onChange:i,menuPlacement:r,blurInputOnSelect:!0,styles:{valueContainer:e=>(0,g.Z)((0,g.Z)({},e),{},{paddingRight:0})},isDisabled:m})]})]})};function fe(e){let{formState:t,setFormState:s,className:n,eventType:a}=e;return(0,v.jsx)("div",{className:"bg-gray-900 bg-opacity-40 p-3 rounded-md overflow-auto h-full ".concat(n),children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,v.jsx)(ue,{className:"col-span-2",label:"ORIGINAL PLAY RUN"}),(0,v.jsxs)("div",{className:"mb-7 col-span-2 grid grid-cols-2 gap-x-4",children:[(0,v.jsx)(he,{label:"Original Play Run",placeholder:"Play run",value:t[W],disabled:!0}),(0,v.jsx)(me,{label:"Total Original Run",value:t[A]})]}),(0,v.jsx)(he,{className:"mb-7",label:"Original Run Within 24 Hr",placeholder:"Run within 24 hr",value:t[H],onChange:e=>re({field:H,value:Number(e.target.value),setFormState:s}),disabled:oe(H,t)}),(0,v.jsx)(ge,{className:"mb-9",label:"Next Original Run After",inputPlaceholder:"Run after",typeValue:t[q],typeOnChange:e=>re({field:q,value:e,setFormState:s}),runWithinValue:t[G],runWithinOnChange:e=>re({field:G,value:Number(e.target.value),setFormState:s}),disabled:oe(G,t)}),(0,v.jsx)(ue,{className:"col-span-2",label:"REPEAT PLAY RUN"}),(0,v.jsxs)("div",{className:"mb-7 col-span-2 grid grid-cols-2 gap-x-4",children:[(0,v.jsx)(he,{label:"Repeat Play Run",placeholder:"Play run",value:t[L],onChange:e=>re({field:L,value:Number(e.target.value),formState:t,setFormState:s,eventType:a}),disabled:oe(L,t)}),(0,v.jsx)(me,{label:"Total Repeat Run",value:t[B]})]}),(0,v.jsx)(he,{className:"mb-7",label:"Repeat Run Within 24 Hr",placeholder:"Run within 24 hr",value:t[U],onChange:e=>re({field:U,value:Number(e.target.value),setFormState:s}),disabled:oe(U,t)}),(0,v.jsx)(ge,{className:"mb-7",label:"Next Repeat Run WITHIN",inputPlaceholder:"Run within",typeValue:t[Y],typeOnChange:e=>re({field:Y,value:e,setFormState:s}),typeMenuPlacement:"top",runWithinValue:t[V],runWithinOnChange:e=>re({field:V,value:Number(e.target.value),setFormState:s}),disabled:oe(V,t)})]})})}const ve=(0,l.memo)(fe);function ye(e){let{countryOptions:t,amortisationTypeOptions:s,formState:n,setFormState:a,tableData:l,columns:i,eventType:r,selectedCurrency:o}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(xe,{countryOptions:t,amortisationTypeOptions:s,formState:n,setFormState:a,tableData:l,columns:i,className:"col-span-2",eventType:r,selectedCurrency:o}),(0,v.jsx)(ve,{formState:n,setFormState:a,className:"col-span-1",eventType:r})]})}const Ne=(0,l.memo)(ye);function be(e){let{formState:t,setFormState:s,className:n,seasonOptions:l,episodeOptions:i,eventType:r}=e;const o=t[T];return(0,v.jsx)("div",{className:"bg-gray-900 bg-opacity-40 p-3 rounded-md overflow-auto h-full ".concat(n),children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,v.jsx)(ue,{className:"col-span-2",label:"CONTENT DETAILS"}),(0,v.jsxs)("div",{className:"mb-7 col-span-2 grid grid-cols-4 gap-x-4",children:[(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"text-gray-200 mb-1",children:["Seasons ",!o&&(0,v.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,v.jsx)(u.Z,{options:l,value:t[F],onChange:e=>re({field:F,value:e,setFormState:s}),isDisabled:oe(F,t)})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"text-gray-200 mb-1",children:["Start Episode"," ",!o&&(0,v.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,v.jsx)(u.Z,{options:i,value:t[z],onChange:e=>re({field:z,value:e,formState:t,setFormState:s}),isDisabled:oe(z,t)})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"text-gray-200 mb-1",children:["End Episode"," ",!o&&(0,v.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,v.jsx)(u.Z,{options:i,value:t[M],onChange:e=>re({field:M,value:e,formState:t,setFormState:s}),isDisabled:oe(M,t)})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("p",{className:"text-gray-200 mb-1",children:"Total Episodes"}),(0,v.jsx)(a.II,{size:"sm",placeholder:"Episodes",value:t[k],disabled:!0})]})]}),(0,v.jsx)(ue,{className:"col-span-2",label:"ORIGINAL PLAY RUN"}),(0,v.jsxs)("div",{className:"mb-7 col-span-2 flex items-center gap-x-4",children:[(0,v.jsx)(he,{label:"Original Play Run",placeholder:"Play run",value:t[W],disabled:!0}),(0,v.jsx)("div",{className:"h-full flex items-end pb-2",children:"X"}),(0,v.jsx)(he,{label:"Total Episodes",value:t[k],disabled:!0}),(0,v.jsx)("div",{className:"h-full flex items-end pb-2 text-base",children:"="}),(0,v.jsx)(me,{label:"Total Original Run",value:t[A],className:"w-[40%]"})]}),(0,v.jsx)(he,{className:"mb-7",label:"Original Run Within 24 Hr",placeholder:"Run within 24 hr",value:t[H],onChange:e=>re({field:H,value:Number(e.target.value),setFormState:s}),disabled:oe(H,t)}),(0,v.jsx)(ge,{className:"mb-7",label:"Next Original Run After",inputPlaceholder:"Run after",typeValue:t[q],typeOnChange:e=>re({field:q,value:e,setFormState:s}),runWithinValue:t[G],runWithinOnChange:e=>re({field:G,value:Number(e.target.value),setFormState:s}),disabled:oe(G,t)}),(0,v.jsx)(ue,{className:"col-span-2",label:"REPEAT PLAY RUN"}),(0,v.jsxs)("div",{className:"mb-7 col-span-2 flex items-center gap-x-4",children:[(0,v.jsx)(he,{label:"Repeat Play Run",placeholder:"Play run",value:t[L],onChange:e=>re({field:L,value:Number(e.target.value),formState:t,setFormState:s,eventType:r}),disabled:oe(L,t)}),(0,v.jsx)("div",{className:"h-full flex items-end pb-2",children:"X"}),(0,v.jsx)(he,{label:"Total Episodes",value:t[k],disabled:!0}),(0,v.jsx)("div",{className:"h-full flex items-end pb-2 text-base",children:"="}),(0,v.jsx)(me,{label:"Total Repeat Run",value:t[B],className:"w-[40%]"})]}),(0,v.jsx)(he,{className:"mb-7",label:"Repeat Run Within 24 Hr",placeholder:"Run within 24 hr",value:t[U],onChange:e=>re({field:U,value:Number(e.target.value),setFormState:s}),disabled:oe(U,t)}),(0,v.jsx)(ge,{className:"mb-7",label:"Next Repeat Run Within",inputPlaceholder:"Run within",typeValue:t[Y],typeOnChange:e=>re({field:Y,value:e,setFormState:s}),typeMenuPlacement:"top",runWithinValue:t[V],runWithinOnChange:e=>re({field:V,value:Number(e.target.value),setFormState:s}),disabled:oe(V,t)})]})})}const je=(0,l.memo)(be);function Ce(e){let{countryOptions:t,amortisationTypeOptions:s,tableData:n,columns:a,formState:l,setFormState:i,eventType:r,seasonOptions:o,episodeOptions:c,selectedCurrency:d}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(xe,{countryOptions:t,amortisationTypeOptions:s,formState:l,setFormState:i,tableData:n,columns:a,className:"col-span-7",eventType:r,selectedCurrency:d}),(0,v.jsx)(je,{formState:l,setFormState:i,className:"col-span-5",seasonOptions:o,episodeOptions:c,eventType:r})]})}const Se=(0,l.memo)(Ce);function we(e){let{formState:t,setFormState:s,className:n,eventType:a}=e;return(0,v.jsx)("div",{className:"bg-gray-900 bg-opacity-40 p-3 rounded-md overflow-auto h-full ".concat(n),children:(0,v.jsxs)("div",{className:"grid grid-cols-2 gap-x-4",children:[(0,v.jsx)(ue,{className:"col-span-2",label:"ORIGINAL PLAY RUN"}),(0,v.jsxs)("div",{className:"mb-7 col-span-2 grid grid-cols-2 gap-x-4",children:[(0,v.jsx)(he,{label:"Original Play Run",placeholder:"Play run",value:t[W],disabled:!0}),(0,v.jsx)(me,{label:"Total Original Run",value:t[A]})]}),(0,v.jsx)(he,{className:"mb-7",label:"Original Run Within 24 Hr",placeholder:"Run within 24 hr",value:t[H],onChange:e=>re({field:H,value:Number(e.target.value),setFormState:s}),disabled:oe(H,t)}),(0,v.jsx)(ge,{className:"mb-9",label:"Next Original Run After",inputPlaceholder:"Run after",typeValue:t[q],typeOnChange:e=>re({field:q,value:e,setFormState:s}),runWithinValue:t[G],runWithinOnChange:e=>re({field:G,value:Number(e.target.value),setFormState:s}),disabled:oe(G,t)}),(0,v.jsx)(ue,{className:"col-span-2",label:"REPEAT PLAY RUN"}),(0,v.jsxs)("div",{className:"mb-7 col-span-2 grid grid-cols-2 gap-x-4",children:[(0,v.jsx)(he,{label:"Repeat Play Run",placeholder:"Play run",value:t[L],onChange:e=>re({field:L,value:Number(e.target.value),formState:t,setFormState:s,eventType:a}),disabled:oe(L,t)}),(0,v.jsx)(me,{label:"Total Repeat Run",value:t[B]})]}),(0,v.jsx)(he,{className:"mb-7",label:"Repeat Run Within 24 Hr",placeholder:"Run within 24 hr",value:t[U],onChange:e=>re({field:U,value:Number(e.target.value),setFormState:s}),disabled:oe(U,t)}),(0,v.jsx)(ge,{className:"mb-7",label:"Next Repeat Run WITHIN",inputPlaceholder:"Run within",typeValue:t[Y],typeOnChange:e=>re({field:Y,value:e,setFormState:s}),typeMenuPlacement:"top",runWithinValue:t[V],runWithinOnChange:e=>re({field:V,value:Number(e.target.value),setFormState:s}),disabled:oe(V,t)})]})})}const Re=(0,l.memo)(we);function _e(e){let{countryOptions:t,amortisationTypeOptions:s,tableData:n,columns:a,formState:l,setFormState:i,eventType:r,selectedCurrency:o}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(xe,{countryOptions:t,amortisationTypeOptions:s,formState:l,setFormState:i,tableData:n,columns:a,className:"col-span-2",eventType:r,selectedCurrency:o}),(0,v.jsx)(Re,{formState:l,setFormState:i,className:"col-span-1",eventType:r})]})}const Te=(0,l.memo)(_e);function Ee(e){var t,s,n;let{isOpen:i,setIsOpen:r,newContents:c,setNewContents:u,newContentsColumns:m,newContSelRowIds:f,licensedContents:y,setLicensedContents:N,licensedContSelRowIds:b,clearSelections:j,operationMode:C,countryOptions:S,amortisationTypeOptions:w,selectedCurrency:R}=e;const _="add"===C?f:b,T=m,E=((e,t)=>{const s={};return Object.keys(e).map((e=>t[e])).forEach((e=>{s[e.EventType]||(s[e.EventType]=[]),s[e.EventType].push(e)})),s})(_,"add"===C?c:y),O=(null===E||void 0===E||null===(t=E.Movie)||void 0===t?void 0:t.length)>0,I=(null===E||void 0===E||null===(s=E.Content)||void 0===s?void 0:s.length)>0,D=(null===E||void 0===E||null===(n=E.Song)||void 0===n?void 0:n.length)>0,[P,Z]=(0,l.useState)("add"!==C&&E[K]?le(E[K][0]):ee),[z,M]=(0,l.useState)("add"!==C&&E[X]?le(E[X][0]):te),[k,W]=(0,l.useState)("add"!==C&&E[Q]?le(E[Q][0]):se),[L,A]=(0,l.useState)(O?K:I?X:Q),[B,H]=(0,l.useState)([]),[U,G]=(0,l.useState)([]),V=(0,l.useMemo)((()=>((e,t,s,n)=>{var a,l,i;let r=!0,o=!0,c=!0;return(null===e||void 0===e||null===(a=e.Movie)||void 0===a?void 0:a.length)>0&&(r=ne(t)),(null===e||void 0===e||null===(l=e.Content)||void 0===l?void 0:l.length)>0&&(o=ne(s,X)),(null===e||void 0===e||null===(i=e.Song)||void 0===i?void 0:i.length)>0&&(c=ne(n)),r?o?!!c||"Please fill mandatory fields for songs":"Please fill mandatory fields for contents":"Please fill mandatory fields for movies"})(E,P,z,k)),[z,P,k,E]);(0,l.useEffect)((()=>{(async()=>{try{if(L!==X||B.length>0)return;H(await(async e=>{const t=await(0,o.H9)(e);let s=[];if(200===t.status)t.data.forEach((e=>{const t={value:e.SeasonNo,label:e.SeasonNo,episodeOptions:[]};for(let s=e.StartEpisode;s<=e.EndEpisodes;s++)t.episodeOptions.push({value:s,label:s});s.push(t)}));else{if(204!==t.status)throw new Error;s=[]}return s})(E.Content[0].ContentCode))}catch(e){console.log(e),(0,d.openNotification)()}})()}),[L,B,E]),(0,l.useEffect)((()=>{var e;i&&z[F]&&B.length>0&&G(null===(e=B.filter((e=>e.value===z[F].value))[0])||void 0===e?void 0:e.episodeOptions)}),[i,z[F],B]);const q=()=>r(!1);return(0,v.jsx)(a.Vq,{isOpen:i,width:"85vw",height:"90vh",onClose:q,onRequestClose:q,className:"-mt-8 max-w-[85vw]",contentClassName:"pt-3",bodyOpenClassName:"overflow-hidden",children:(0,v.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,v.jsx)("div",{className:"grow -ml-2",children:(0,v.jsxs)(a.mQ,{value:L,onChange:A,className:"h-full flex flex-col gap-3",variant:"pill",children:[(0,v.jsxs)(p.Z,{className:"border-b !border-b-gray-600 pb-1",children:[O&&(0,v.jsxs)(x.Z,{value:K,className:"".concat(L===K&&"!text-white !bg-teal-700"),children:["Movies (",E.Movie.length,")"]}),I&&(0,v.jsxs)(x.Z,{value:X,className:"".concat(L===X&&"!text-white !bg-teal-700"),children:["Contents (",E.Content.length,")"]}),D&&(0,v.jsxs)(x.Z,{value:Q,className:"".concat(L===Q&&"!text-white !bg-teal-700"),children:["Songs (",E.Song.length,")"]})]}),(0,v.jsxs)("div",{className:"grow h-0",children:[L===K&&O&&(0,v.jsx)(h.Z,{value:K,className:"grid grid-cols-3 gap-3 h-full",children:(0,v.jsx)(Ne,{countryOptions:S,amortisationTypeOptions:w,formState:P,setFormState:Z,tableData:null!==E&&void 0!==E&&E.Movie?E.Movie:[],columns:T,eventType:K,selectedCurrency:R})}),L===X&&I&&(0,v.jsx)(h.Z,{value:X,className:"grid grid-cols-12 gap-3 h-full",children:(0,v.jsx)(Se,{countryOptions:S,amortisationTypeOptions:w,tableData:null!==E&&void 0!==E&&E.Content?E.Content:[],columns:T,formState:z,setFormState:M,eventType:X,seasonOptions:B,episodeOptions:U,selectedCurrency:R})}),L===Q&&D&&(0,v.jsx)(h.Z,{value:Q,className:"grid grid-cols-2 gap-3 h-full",children:(0,v.jsx)(Te,{countryOptions:S,amortisationTypeOptions:w,tableData:null!==E&&void 0!==E&&E.Song?E.Song:[],columns:T,formState:k,setFormState:W,eventType:Q,selectedCurrency:R})})]})]})}),(0,v.jsx)("div",{className:"text-right mt-3",children:!0!==V?(0,v.jsx)(a.u,{title:V,children:(0,v.jsx)(a.zx,{variant:"solid",disabled:!0,children:"Apply"})}):(0,v.jsx)(a.zx,{variant:"solid",onClick:()=>{let e=null!==E&&void 0!==E&&E.Movie?E.Movie:[],t=null!==E&&void 0!==E&&E.Content?E.Content:[],s=null!==E&&void 0!==E&&E.Song?E.Song:[],n=[...c],a=[...y];const l=e.length>0,i=t.length>0,r=s.length>0;let o=l?ae(P):[],m=i?ae(z):[],h=r?ae(k):[];if("add"===C){l&&(o=e.map((e=>(0,g.Z)((0,g.Z)({},e),o)))),i&&(m=t.map((e=>(0,g.Z)((0,g.Z)({},e),m)))),r&&(h=s.map((e=>(0,g.Z)((0,g.Z)({},e),h)))),a.push(...o,...m,...h);const c=Object.keys(_).map((e=>n[e].ContentCode));n=n.filter((e=>!c.includes(e.ContentCode))),u(n)}else Object.keys(_).forEach((e=>{a[e].EventType===K?a[e]=(0,g.Z)((0,g.Z)({},a[e]),o):a[e].EventType===X?a[e]=(0,g.Z)((0,g.Z)({},a[e]),m):a[e].EventType===Q&&(a[e]=(0,g.Z)((0,g.Z)({},a[e]),h))}));N(a),j(),q(),(0,d.openNotification)("success","Changes applied successfully")},children:"Apply"})})]})})}const Oe=(0,l.memo)(Ee);var Ie=s(36996),De=s(48080),Pe=s(41026),Ze=s(8946),Fe=s(40980),ze=s(81694),Me=s.n(ze);const ke=e=>{const t=e.getValue();return l.isValidElement(t)?t:(0,Ie.ie)(e.column.columnDef.cell,e.getContext())},We=["indeterminate","onChange"],{Tr:Le,Th:Ae,Td:Be,THead:He,TBody:Ue}=Pe.Z,Ge=[{value:10,label:"10 / page"},{value:20,label:"20 / page"},{value:30,label:"30 / page"},{value:40,label:"40 / page"},{value:50,label:"50 / page"}];function Ve(e){let{indeterminate:t,onChange:s}=e,n=(0,f.Z)(e,We);const a=(0,l.useRef)(null);return(0,l.useEffect)((()=>{"boolean"===typeof t&&a.current&&(a.current.indeterminate=!n.checked&&t)}),[a,t]),(0,v.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,v.jsx)(Ze.Z,(0,g.Z)((0,g.Z)({ref:a,onChange:(e,t)=>s(t)},n),{},{className:"mx-1"}))})}const qe=(e,t,s)=>{const n=e.getValue(t);return"string"===typeof n&&n.toLowerCase().includes(s.toLowerCase())};function Ye(e){let{columns:t,tableData:s,selectedRowIds:n,setSelectedRowIds:i,title:r,showRowCount:o,additionalButtons:c,externalSearch:d,disableSearch:m}=e;const[h,p]=(0,l.useState)([]),[x,g]=(0,l.useState)(""),f=(0,l.useMemo)((()=>[{id:"select",header:e=>{let{table:t}=e;return(0,v.jsx)(Ve,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler(),title:"Select all"})},cell:e=>{let{row:t}=e;return(0,v.jsx)(Ve,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler(),title:"Select"})}},...t]),[t]),y=(0,l.useMemo)((()=>d?d.globalFilter:x),[d,x]),N=(0,l.useMemo)((()=>d?d.setGlobalFilter:g),[d,g]),j=(0,l.useMemo)((()=>!d&&!m),[d,m]),C=(0,Ie.b7)({data:s,columns:f,filterFns:{includesString:qe},state:{rowSelection:n,columnFilters:h,globalFilter:y},onRowSelectionChange:i,onColumnFiltersChange:p,onGlobalFilterChange:N,globalFilterFn:qe,getCoreRowModel:(0,De.sC)(),getFilteredRowModel:(0,De.vL)(),getPaginationRowModel:(0,De.G_)(),getSortedRowModel:(0,De.tj)(),getFacetedRowModel:(0,De.o6)(),getFacetedUniqueValues:(0,De.JG)(),getFacetedMinMaxValues:(0,De.HO)(),debugHeaders:!0,debugColumns:!1}),S=(0,l.useCallback)((e=>{C.setPageIndex(e-1)}),[C]),w=(0,l.useCallback)((e=>{let{value:t=0}=e;C.setPageSize(Number(t))}),[C]);return(0,v.jsxs)("div",{className:"h-full flex flex-col",children:[(r||j||c)&&(0,v.jsxs)("div",{className:"flex justify-between items-center mb-2.5",children:[(0,v.jsxs)("div",{className:"flex gap-2 items-center",children:[r&&(0,v.jsx)("h5",{children:r}),o&&(0,v.jsx)("h6",{className:"py-0.5 px-1 bg-gray-700 rounded-md",children:C.getFilteredRowModel().rows.length})]}),(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[j&&(0,v.jsx)(b,{value:null!==y&&void 0!==y?y:"",placeholder:"Search all columns",size:"sm",className:"!px-[2] !h-8",onChange:N}),c]})]}),(0,v.jsx)("div",{className:"grow",children:(0,v.jsx)(Fe.ZP,{children:e=>{let{height:t,width:s}=e;return(0,v.jsx)("div",{style:{height:t,width:s},className:"overflow-auto",children:(0,v.jsxs)(Pe.Z,{children:[(0,v.jsx)(He,{className:"sticky top-0",children:C.getHeaderGroups().map((e=>(0,v.jsx)(Le,{children:e.headers.map(((e,t)=>(0,v.jsx)(Ae,{colSpan:e.colSpan,className:"overflow-hidden text-ellipsis whitespace-nowrap border-r border-r-gray-600 !normal-case w-max px-2 ".concat(0===t&&"border-l border-l-gray-600"),children:(0,Ie.ie)(e.column.columnDef.header,e.getContext())},e.id)))},e.id)))}),(0,v.jsx)(Ue,{children:C.getRowModel().rows.map((e=>(0,v.jsx)(Le,{children:e.getVisibleCells().map(((e,t)=>(0,v.jsx)(Be,{className:Me()("overflow-hidden text-ellipsis whitespace-nowrap border-r border-r-gray-700  border-b border-b-gray-700 w-max px-2",0===t&&"border-l border-l-gray-700"),children:ke(e)},e.id)))},e.id)))})]})})}})}),(0,v.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,v.jsx)(a.tl,{pageSize:C.getState().pagination.pageSize,currentPage:C.getState().pagination.pageIndex+1,total:s.length,onChange:S}),(0,v.jsx)("div",{style:{minWidth:130},children:(0,v.jsx)(u.Z,{isSearchable:!1,value:Ge.filter((e=>e.value===C.getState().pagination.pageSize)),options:Ge,onChange:w,blurInputOnSelect:!0,menuPlacement:"top"})})]})]})}const Xe=(0,l.memo)(Ye);var Ke=s(17425),Qe=s(43235),Je=s(58617),$e=s(40071);function et(e){let{active:t,day:s,isFirst:n,isLast:a}=e;return(0,v.jsx)("p",{className:"text-xs font-semibold text-white py-1 border-r border-x-gray-600 flex items-center justify-center ".concat(t?"bg-teal-900":""," ").concat(n?"rounded-l-md":""," ").concat(a?"rounded-r-md border-none":""),children:s})}function tt(e){let{imageWidth:t,content:s,index:n,setLicensedContSelRowIds:i,openBulkEditDialog:r,originalContentsReponse:o,setNewContents:c,setLicensedContents:d,selectedCurrency:u,getContentById:m}=e;const h=(0,l.useRef)(null),p=h.current?h.current.clientHeight:"max-content";return(0,v.jsxs)(a.Zb,{className:"h-max",bodyClass:"p-0 flex",ref:h,children:[(0,v.jsxs)("div",{className:"grow pt-2 flex flex-col gap-2",children:[(0,v.jsx)("div",{className:"flex items-center justify-between gap-1 px-3",children:(0,v.jsxs)("div",{className:"flex gap-2 grow",children:[s.EventType===K?(0,v.jsx)(a.u,{title:"Movie",children:(0,v.jsx)(a.qE,{shape:"circle",className:"text-lg",children:"M"})}):s.EventType===X?(0,v.jsx)(a.u,{title:"Content",children:(0,v.jsx)(a.qE,{shape:"circle",className:"text-lg",children:"WS"})}):(0,v.jsx)(a.u,{title:"Song",children:(0,v.jsx)(a.qE,{shape:"circle",className:"text-lg",children:"S"})}),(0,v.jsxs)("div",{className:"grow",children:[(0,v.jsx)("div",{className:"flex items-center justify-between gap-2",children:(0,v.jsx)("p",{className:"text-white font-semibold grow overflow-hidden text-ellipsis whitespace-nowrap",children:s.ContentName})}),(0,v.jsx)(a.u,{title:"Contract Duration",children:(0,v.jsxs)("p",{className:"text-gray-400 text-xs font-semibold",children:[(0,Qe.WU)(s.ContractStartDate,"dd-MMM-yyyy")," to"," ",(0,Qe.WU)(s.ContractEndDate,"dd-MMM-yyyy")]})})]}),(0,v.jsxs)("span",{className:"text-white font-semibold text-lg",children:[u.CurrencySymbol," ",s.ProgCost]})]})}),(0,v.jsx)("div",{className:"flex justify-between gap-2 py-2 border-y border-y-gray-700 px-3",children:s.EventType===X?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"flex flex-col justify-center items-center text-xs",children:[(0,v.jsx)("span",{className:"text-gray-400 font-semibold",children:"Season"}),(0,v.jsx)("span",{className:"text-white font-semibold",children:s.Season?s.Season.label:"-"})]}),(0,v.jsxs)("div",{className:"flex flex-col justify-center items-center text-xs",children:[(0,v.jsx)("span",{className:"text-gray-400 font-semibold",children:"Start EP"}),(0,v.jsx)("span",{className:"text-white font-semibold",children:s.StartEpisode?s.StartEpisode.label:"-"})]}),(0,v.jsxs)("div",{className:"flex flex-col justify-center items-center text-xs",children:[(0,v.jsx)("span",{className:"text-gray-400 font-semibold",children:"End EP"}),(0,v.jsx)("span",{className:"text-white font-semibold",children:s.EndEpisode?s.EndEpisode.label:"-"})]})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"flex flex-col justify-center items-center text-xs",children:[(0,v.jsx)("span",{className:"text-gray-400",children:"S Time"}),(0,v.jsx)("span",{className:"text-white font-semibold",children:s.BroadcastStartTime?(0,Qe.WU)(s.BroadcastStartTime,"HH:mm"):null})]}),(0,v.jsxs)("div",{className:"flex flex-col justify-center items-center text-xs",children:[(0,v.jsx)("span",{className:"text-gray-400",children:"E Time"}),(0,v.jsx)("span",{className:"text-white font-semibold",children:s.BroadcastEndTime?(0,Qe.WU)(s.BroadcastEndTime,"HH:mm"):null})]}),(0,v.jsxs)("div",{className:"flex flex-col justify-center items-center text-xs",children:[(0,v.jsx)("span",{className:"text-gray-400",children:"Total Runs"}),(0,v.jsx)("span",{className:"text-white font-semibold",children:s.UnlimitedRuns?(0,v.jsx)(a.u,{title:"Unlimited Runs",children:(0,v.jsx)(Ke.GE6,{className:"text-base text-white"})}):2})]}),(0,v.jsxs)("div",{className:"flex flex-col justify-center items-center text-xs",children:[(0,v.jsx)("span",{className:"text-gray-400",children:"Used"}),(0,v.jsx)("span",{className:"text-white font-semibold",children:s.UnlimitedRuns?(0,v.jsx)(a.u,{title:"Unlimited Runs",children:(0,v.jsx)(Ke.GE6,{className:"text-base text-white"})}):s.TotalOrignalRun})]}),(0,v.jsxs)("div",{className:"flex flex-col justify-center items-center text-xs",children:[(0,v.jsx)("span",{className:"text-gray-400",children:"Balanced"}),(0,v.jsx)("span",{className:"text-white font-semibold",children:s.UnlimitedRuns?(0,v.jsx)(a.u,{title:"Unlimited Runs",children:(0,v.jsx)(Ke.GE6,{className:"text-base text-white"})}):s.TotalOrignalRun})]})]})}),(0,v.jsx)(a.u,{title:"Active Days",wrapperClass:"block px-3 py-1",children:(0,v.jsxs)("div",{className:"grid grid-cols-7 border border-gray-600 rounded-md",children:[(0,v.jsx)(et,{active:s.SUN,day:"S",isFirst:!0}),(0,v.jsx)(et,{active:s.MON,day:"M"}),(0,v.jsx)(et,{active:s.TUE,day:"T"}),(0,v.jsx)(et,{active:s.WED,day:"W"}),(0,v.jsx)(et,{active:s.THU,day:"T"}),(0,v.jsx)(et,{active:s.FRI,day:"F"}),(0,v.jsx)(et,{active:s.SAT,day:"S",isLast:!0})]})}),(0,v.jsxs)("div",{className:"grid grid-cols-2",children:[(0,v.jsx)(a.zx,{shape:"none",icon:(0,v.jsx)(Je._vs,{className:"text-[0.9rem]"}),size:"sm",className:"!rounded-bl-lg !border-r !border-r-gray-600 ".concat(s.IsContentUsed&&"col-span-2"),onClick:()=>{i({[n]:!0}),r()},children:"Edit"}),!s.IsContentUsed&&(0,v.jsx)(a.zx,{shape:"none",icon:(0,v.jsx)(Ke.qy0,{className:"text-[0.9rem]"}),size:"sm",onClick:()=>{return e=s,c((t=>[...t,(0,g.Z)((0,g.Z)({},o.filter((t=>t.ContentCode===e.ContentCode))[0]),{},{ContentContractDetailID:null})])),void d((t=>t.filter((t=>t.ContentCode!==e.ContentCode))));var e},children:"Delete"})]})]}),s.Content_Image.includes("No_Image_Available")?(0,v.jsxs)("div",{style:{width:t,height:p},className:"rounded-r-lg flex flex-col justify-center items-center gap-2 border-l border-l-gray-700",children:[(0,v.jsx)($e.tpQ,{className:"text-2xl"}),(0,v.jsx)("p",{className:"text-[0.825rem]",children:"No Image Found"})]}):(0,v.jsx)("div",{style:{width:t,backgroundImage:"url(".concat(s.Content_Image,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},className:"rounded-r-lg",onClick:()=>m(s.ContentCode)})]})}const st=(0,l.memo)(tt);var nt=s(58146);function at(e){let{newContents:t,setNewContents:s,newContSelRowIds:n,setNewContSelRowIds:i,licensedContents:r,setLicensedContents:o,licensedContSelRowIds:u,setLicensedContSelRowIds:m,countryOptions:g,amortisationTypeOptions:f,isAllContractMasterFieldsFilled:y,clearSelections:N,originalContentsReponse:C,selectedCurrency:S}=e;const[w,R]=(0,l.useState)("newContents"),[_,T]=(0,l.useState)(""),[E,O]=(0,l.useState)(""),[I,D]=(0,l.useState)(r),[P,Z]=(0,l.useState)(!1),[F,z]=(0,l.useState)(!1),[M,k]=(0,l.useState)({}),W=(0,l.useMemo)((()=>!y||0===Object.keys(n).length),[y,n]),L=(0,l.useMemo)((()=>[{header:"ContentName",accessorKey:"ContentName",cell:e=>{const t=e.row.original;return(0,v.jsxs)("div",{className:"flex items-center gap-2 py-0.5 cursor-pointer ",children:[(0,v.jsx)("div",{style:{width:25,height:25,backgroundImage:"url(".concat(null===t||void 0===t?void 0:t.Content_Image,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},className:"rounded-full dark:!text-slate-700",onClick:()=>B(t.ContentCode)}),t.ContentName]})}},{header:"EventType",accessorKey:"EventType"},{header:"ContentType",accessorKey:"ContentType"},{header:"Genre",accessorKey:"Genre"},{header:"ReleaseDate",accessorKey:"ReleaseDate",cell:e=>{let{row:t}=e;return(0,Qe.WU)(t.original.ReleaseDate,"dd-MMM-yyyy")}},{header:"Duration [Min]",accessorKey:"SlotDuration"}]),[]);(0,l.useEffect)((()=>{const e=""===E?[...r]:r.filter((e=>e.ContentName.toLowerCase().includes(E.toLowerCase())||e.ProgCost.toString().includes(E)));D(e)}),[r,E]);const A=()=>Z(!0),B=async e=>{try{const t=await(0,c.apiGetContentmasterbyid)(e);200===t.status?(z(!0),k(t.data)):204===t.status&&(0,d.openNotification)("info","Content not found")}catch(t){console.error("Error fetching content info:",t),(0,d.openNotification)("info","Content not found")}};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(a.mQ,{value:w,onChange:R,variant:"pill",children:[(0,v.jsxs)(p.Z,{className:"mb-2 flex items-center justify-between border-b !border-b-gray-600",children:[(0,v.jsxs)("div",{className:"flex",children:[(0,v.jsxs)(x.Z,{value:"newContents",className:"".concat("newContents"===w&&"!text-white !bg-teal-700"),children:["Contents ",t.length>0?"(".concat(t.length,")"):""]}),(0,v.jsxs)(x.Z,{value:"licensedContents",className:"".concat("licensedContents"===w&&"!text-white !bg-teal-700"),children:["Licensed Contents"," ",r.length>0?"(".concat(r.length,")"):""]})]}),(0,v.jsxs)("div",{className:"flex gap-2 items-center mt-2 mb-1.5",children:[(0,v.jsx)(b,{value:"newContents"===w?_:null!==E&&void 0!==E?E:"",placeholder:"".concat("newContents"===w?"Search all columns":"Search contents"),size:"sm",className:"!px-[2] !h-8",onChange:"newContents"===w?T:O}),"newContents"===w&&(0,v.jsx)(v.Fragment,{children:W?(0,v.jsx)(a.u,{title:"Please fill all master fields and select a content to add contract",placement:"left",children:(0,v.jsx)(a.zx,{size:"xs",className:"!h-8 text-sm",icon:(0,v.jsx)(j.Lgw,{className:"text-[0.9rem]"}),disabled:W,children:"Add Contract"})}):(0,v.jsx)(a.zx,{size:"xs",className:"!h-8 text-sm",icon:(0,v.jsx)(j.Lgw,{className:"text-[0.9rem]"}),onClick:A,disabled:W,children:"Add Contract"})})]})]}),(0,v.jsx)(h.Z,{value:"newContents",children:t.length>0?(0,v.jsx)("div",{className:"h-[60vh] ",children:(0,v.jsx)(Xe,{columns:L,tableData:t,selectedRowIds:n,setSelectedRowIds:i,externalSearch:{globalFilter:_,setGlobalFilter:T}})}):(0,v.jsx)("div",{className:"h-[60vh] flex items-center justify-center",children:"No new contents to show"})}),(0,v.jsx)(h.Z,{value:"licensedContents",children:(0,v.jsx)("div",{className:"h-[60vh] pt-2",children:I.length>0?(0,v.jsx)("div",{className:"h-full grid grid-cols-3 gap-4 overflow-auto",children:I.map(((e,t)=>(0,v.jsx)(st,{imageWidth:"25%",content:e,index:t,setLicensedContSelRowIds:m,openBulkEditDialog:A,originalContentsReponse:C,setNewContents:s,setLicensedContents:o,selectedCurrency:S,getContentById:B},e.ContentCode)))}):(0,v.jsx)("div",{className:"h-[60vh] flex items-center justify-center",children:"No licensed contents to show"})})})]}),P&&(0,v.jsx)(Oe,{isOpen:P,setIsOpen:Z,newContents:t,setNewContents:s,newContentsColumns:L,newContSelRowIds:n,licensedContents:r,setLicensedContents:o,licensedContSelRowIds:u,clearSelections:N,operationMode:"newContents"===w?"add":"edit",countryOptions:g,amortisationTypeOptions:f,selectedCurrency:S}),F&&(0,v.jsx)(nt.Z,{isDialogOpen:F,setIsDialogOpen:z,contentInfo:M})]})}const lt=(0,l.memo)(at);var it=s(54748);const rt=(e,t,s,n)=>{let a=[];if(200===e.status)a=e.data.map((e=>(0,g.Z)((0,g.Z)({},e),{},{value:e[s],label:e[n]}))),t(a);else{if(204!==e.status)throw new Error;t(a)}return a},ot=(e,t,s,n,a,l)=>{const i=[],r=[];e.forEach((e=>{n?e.ContentContractDetailID?r.push(ct(e,a)):i.push((0,g.Z)((0,g.Z)({},e),{},{ContractCode:l.ContractCode})):i.push(e)})),t(i),s(r)},ct=(e,t)=>(0,g.Z)((0,g.Z)({},e),{},{ContractStartDate:new Date(e.ContractStartDate),ContractEndDate:new Date(e.ContractEndDate),AmortisationTypeCode:dt(t,e.AmortisationTypeCode),Geocountruy:[{value:78,label:"India "}],BroadcastStartTime:ut(e.BroadcastStartTime),BroadcastEndTime:ut(e.BroadcastEndTime),PDuration:e.PDuration>"0"?Number(e.PDuration):null,SUN:1===e.SUN,MON:1===e.MON,TUE:1===e.TUE,WED:1===e.WED,THU:1===e.THU,FRI:1===e.FRI,SAT:1===e.SAT,UnlimitedRuns:1===e.UnlimitedRuns,IsActive:1===e.IsActive,Season:{value:e.Season,label:e.Season},StartEpisode:{value:e.StartEpisode,label:e.StartEpisode},EndEpisode:{value:e.EndEpisode,label:e.EndEpisode},OrignalRunWithIn24:e.OrignalRunWithIn24?e.OrignalRunWithIn24:null,NextOrignalRun:e.NextOrignalRun?e.NextOrignalRun:null,NextOrignalRunType:dt($,e.NextOrignalRunType),RepeatPlayRun:e.RepeatPlayRun?e.RepeatPlayRun:null,TotalRepeatRun:e.TotalRepeatRun?e.TotalRepeatRun:null,RepeatRunWithIn24:e.RepeatRunWithIn24?e.RepeatRunWithIn24:null,NextRepeatRun:e.NextRepeatRun?e.NextRepeatRun:null,NextRepeatRunType:dt($,e.NextRepeatRunType)}),dt=(e,t)=>{const s=e.filter((e=>e.value===t))[0];return s||null},ut=e=>e?new Date((new Date).setHours(e.split(":")[0],e.split(":")[1],0,0)):null;var mt=s(60364),ht=s(57689),pt=s(25123);const xt=function(){const e=(0,mt.useSelector)((e=>e.auth.session.token)),t=(0,mt.useSelector)((e=>e.base.common)).queryParams,s=(0,mt.useDispatch)(),[h,p]=(0,l.useState)(null),[x,f]=(0,l.useState)([]),[y,N]=(0,l.useState)([]),[b,j]=(0,l.useState)([]),[C,S]=(0,l.useState)([]),[w,R]=(0,l.useState)([]),[_,T]=(0,l.useState)(null),[E,O]=(0,l.useState)(null),[I,D]=(0,l.useState)(""),[P,Z]=(0,l.useState)(""),[F,z]=(0,l.useState)(null),[M,k]=(0,l.useState)(null),[W,L]=(0,l.useState)(null),[A,B]=(0,l.useState)(null),[H,U]=(0,l.useState)(null),[G,V]=(0,l.useState)(null),[q,Y]=(0,l.useState)([]),[X,K]=(0,l.useState)([]),[Q,J]=(0,l.useState)({}),[$,ee]=(0,l.useState)([]),[te,se]=(0,l.useState)({}),ne=(0,ht.s0)(),ae=(0,ht.TH)(),le=(0,l.useMemo)((()=>"/ContentContractEdit"===ae.pathname),[ae]),ie=(0,l.useMemo)((()=>({contractName:!E,authorisedPerson:!E||!I,agreementDate:!E||!I||!P,country:!E||!I||!P||!F,state:!E||!I||!P||!F||!W,city:!E||!I||!P||!F||!W||!A,currency:!E||!I||!P||!F||!W||!A||!H,all:!E||!I||!P||!F||!W||!A||!H||!G,saveBtn:!E||!I||!P||!F||!W||!A||!H||!G||0===$.length})),[E,I,P,F,W,A,H,G,$]);(0,l.useEffect)((()=>((async()=>{try{if(!ae)return;le&&!t&&((0,d.openNotification)("info","No contract details found"),ne("/ContentContractMaster")),(0,d.showCursorLoader)(),(0,m.SE)(),document.querySelector(".page-container").classList.add("!py-2");const e=await oe();le&&await ce(e)}catch(e){console.error(e),(0,d.openNotification)("danger","Something went wrong while. Please refresh the page")}finally{(0,d.hideCursorLoader)()}})(),()=>{document.querySelector(".page-container").classList.remove("!py-2"),s((0,pt.BT)(null))})),[t,ae,le]);const re=()=>{J({}),se({})},oe=async()=>{try{const e=await(0,c.apiGetSuppliermasterDrop)(),t=await(0,o.oo)(),s=await(0,o.it)(),n=await(0,c.apiGetAmortisationTypeMaster)(),a=rt(e,f,"SupplierCode","SupplierName"),l=rt(t,N,"CountryCode","CountryName"),i=rt(s,R,"CurrencyCode","CurrencyName");return{supplierDropOptions:a,countryDropOptions:l,currencyDropOptions:i,amortisationDropOptions:rt(n,T,"AmortisationTypeCode","AmortisationTypeName")}}catch(e){(0,d.openNotification)("danger","Something went wrong while fetcing selector options")}},ce=async e=>{const{supplierDropOptions:s,countryDropOptions:n,currencyDropOptions:a,amortisationDropOptions:l}=e,i=await(0,c.apiGetcontentcontractmasterId)(t);if(200===i.status){const e=i.data;p(e);const c=s.filter((t=>t.value===e.SupplierCode))[0];O(c),D(e.ContractName),Z(e.AuthorisedPerson),z(new Date(e.AgreementDate)),k(e.BudgetYear);const u=n.filter((t=>t.value===e.CountryCode))[0];L(u);const m=await(0,o.bT)(u.value),h=rt(m,j,"StateCode","StateName").filter((t=>t.value===e.StateCode))[0];B(h);const x=await(0,o.C2)(h.value),g=rt(x,S,"PlaceCode","PlaceName").filter((t=>t.value===e.PlaceCode))[0];U(g),V(a.filter((t=>t.value===e.CurrencyCode))[0]);const f=await(0,r.apiCallstoreprocedure)("USP_PG_GetContentBySupplierAndContract",{SupplierCode:c.value,ContractCode:Number(t)});let v=[];if(200===f.status)v=f.data,Y(f.data);else{if(204!==f.status)throw new Error;(0,d.openNotification)("info","No contents found for the selected supplier")}ot(v,K,ee,le,l,e)}else{if(204!==i.status)throw new Error;(0,d.openNotification)("info","No contract details found")}};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("h5",{className:"mb-2",children:"Content Contract Master"}),(0,v.jsx)(a.Zb,{bodyClass:"px-3 pt-3 pb-4",bordered:!1,children:(0,v.jsxs)("div",{className:"grid grid-cols-5 gap-4 ",children:[(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"dark:!text-slate-600 !text-gray-300 mb-1 ",children:["Supplier Name ",(0,v.jsx)("span",{className:"text-red-700 ",children:"*"})]}),(0,v.jsx)(u.Z,{options:x,value:E,onChange:async e=>{try{(0,d.showCursorLoader)(),O(e);const t=await(0,r.apiCallstoreprocedure)("USP_PG_GetContentBySupplier",{SupplierCode:e.value});let s=[];if(200===t.status)s=t.data,Y(t.data);else{if(204!==t.status)throw new Error;(0,d.openNotification)("info","No contents found for the selected supplier")}ot(s,K,ee)}catch(t){console.error(t),(0,d.openNotification)("danger","Unable to fetch contents for suppliers")}finally{re(),(0,d.hideCursorLoader)()}},blurInputOnSelect:!0,isDisabled:le})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"dark:!text-slate-600 !text-gray-300 mb-1",children:["Contract Name ",(0,v.jsx)("span",{className:"text-red-700",children:"*"})]}),(0,v.jsx)(a.II,{size:"sm",placeholder:"Contract Name",disabled:ie.contractName||le,value:I,onChange:e=>D(e.target.value)})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"dark:!text-slate-600 !text-gray-300 mb-1",children:["Authorised Person ",(0,v.jsx)("span",{className:"text-red-700",children:"*"})]}),(0,v.jsx)(a.II,{size:"sm",placeholder:"Person Name",disabled:ie.authorisedPerson,value:P,onChange:e=>Z(e.target.value)})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"dark:!text-slate-600 !text-gray-300 mb-1",children:["Agreement Date ",(0,v.jsx)("span",{className:"text-red-700",children:"*"})]}),(0,v.jsx)(a.Mt,{placeholder:"Date",size:"sm",disabled:ie.agreementDate,value:F,inputFormat:"DD-MMM-YYYY",onChange:e=>{z(e),k(e.getFullYear())}})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"dark:!text-slate-600 !text-gray-300 mb-1",children:["Budget Year ",(0,v.jsx)("span",{className:"text-red-700",children:"*"})]}),(0,v.jsx)(a.II,{disabled:!0,size:"sm",placeholder:"Year",value:M})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"dark:!text-slate-600 !text-gray-300 mb-1",children:["Country ",(0,v.jsx)("span",{className:"text-red-700",children:"*"})]}),(0,v.jsx)(u.Z,{isDisabled:ie.country,options:y,value:W,onChange:async e=>{try{(0,d.showCursorLoader)(),L(e),B(null),U(null);const t=await(0,o.bT)(e.value);rt(t,j,"StateCode","StateName")}catch(t){console.error(t),j([]),S([]),(0,d.openNotification)("danger","Unable to fetch states for the selected country")}finally{(0,d.hideCursorLoader)()}},blurInputOnSelect:!0})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"dark:!text-slate-600 !text-gray-300 mb-1",children:["State ",(0,v.jsx)("span",{className:"text-red-700",children:"*"})]}),(0,v.jsx)(u.Z,{isDisabled:ie.state,options:b,value:A,onChange:async e=>{try{(0,d.showCursorLoader)(),B(e),U(null);const t=await(0,o.C2)(e.value);rt(t,S,"PlaceCode","PlaceName")}catch(t){console.error(t),S([]),(0,d.openNotification)("danger","Unable to fetch cities for the selected states")}finally{(0,d.hideCursorLoader)()}},blurInputOnSelect:!0})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"dark:!text-slate-600 !text-gray-300 mb-1",children:["City ",(0,v.jsx)("span",{className:"text-red-700",children:"*"})]}),(0,v.jsx)(u.Z,{isDisabled:ie.city,options:C,value:H,onChange:U,blurInputOnSelect:!0})]}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("p",{className:"dark:!text-slate-600 !text-gray-300 mb-1",children:["Currency ",(0,v.jsx)("span",{className:"text-red-700",children:"*"})]}),(0,v.jsx)(u.Z,{isDisabled:ie.currency,options:w,value:G,onChange:V,blurInputOnSelect:!0})]})]})})]}),(0,v.jsxs)("div",{children:[!E&&0===q.length&&(0,v.jsx)(a.Zb,{bodyClass:"p-3 h-[50vh] flex justify-center items-center",bordered:!1,children:"Please select a supplier to view contents"}),E&&0===q.length&&(0,v.jsx)(a.Zb,{bodyClass:"p-3 h-[50vh] flex justify-center items-center",bordered:!1,children:"No contents to show for selected supplier"}),E&&q.length>0&&(0,v.jsx)(a.Zb,{bodyClass:"p-3 pt-1",bordered:!1,children:(0,v.jsx)(lt,{newContents:X,setNewContents:K,newContSelRowIds:Q,setNewContSelRowIds:J,licensedContents:$,setLicensedContents:ee,licensedContSelRowIds:te,setLicensedContSelRowIds:se,countryOptions:y,amortisationTypeOptions:_,isAllContractMasterFieldsFilled:!ie.all,clearSelections:re,originalContentsReponse:q,selectedCurrency:G})})]})]}),(0,v.jsxs)(n.gi,{className:"-mx-6 px-8 flex items-center justify-end gap-2 py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,v.jsx)(a.zx,{size:"sm",className:"ltr:mr-3 rtl:ml-3",onClick:()=>ne("/ContentContractMaster"),children:"Back"}),(0,v.jsx)(a.zx,{size:"sm",variant:"solid",icon:(0,v.jsx)(i.JMf,{}),type:"submit",disabled:ie.saveBtn,onClick:async()=>{try{const t=((e,t,s,n,a,l,i,r,o,c,d,u)=>{const m={contract:(0,g.Z)({SupplierCode:e.value,ContractName:t,AuthorisedPerson:s,AgreementDate:(0,it.Tk)(n),BudgetYear:a,CountryCode:l.value,StateCode:i.value,PlaceCode:r.value,CurrencyCode:o.value,Remarks:"",IsActive:1},d&&{ContractNo:u.ContractNo,ContractCode:u.ContractCode}),details:[]};return c.forEach((e=>{const t=(0,g.Z)((0,g.Z)({},e),{},{ContractStartDate:(0,it.Tk)(e.ContractStartDate),ContractEndDate:(0,it.Tk)(e.ContractEndDate),AmortisationTypeCode:e.AmortisationTypeCode.value,Geocountruy:e.Geocountruy.map((e=>({CountryCode:e.value}))),BroadcastStartTime:e.BroadcastStartTime instanceof Date?(0,Qe.WU)(e.BroadcastStartTime,"HH:mm"):e.BroadcastStartTime,BroadcastEndTime:e.BroadcastEndTime instanceof Date?(0,Qe.WU)(e.BroadcastEndTime,"HH:mm"):e.BroadcastEndTime,PDuration:"".concat(e.PDuration?e.PDuration:0),SUN:e.SUN?1:0,MON:e.MON?1:0,TUE:e.TUE?1:0,WED:e.WED?1:0,THU:e.THU?1:0,FRI:e.FRI?1:0,SAT:e.SAT?1:0,UnlimitedRuns:e.UnlimitedRuns?1:0,Season:e.Season?e.Season.value:null,StartEpisode:e.StartEpisode?e.StartEpisode.value:null,EndEpisode:e.EndEpisode?e.EndEpisode.value:null,OrignalRunWithIn24:e.OrignalRunWithIn24?e.OrignalRunWithIn24:0,NextOrignalRun:e.NextOrignalRun?e.NextOrignalRun:0,NextOrignalRunType:e.NextOrignalRunType.value,RepeatPlayRun:e.RepeatPlayRun?e.RepeatPlayRun:0,TotalRepeatRun:e.TotalRepeatRun?e.TotalRepeatRun:0,RepeatRunWithIn24:e.RepeatRunWithIn24?e.RepeatRunWithIn24:0,NextRepeatRun:e.NextRepeatRun?e.NextRepeatRun:0,NextRepeatRunType:e.NextRepeatRunType.value,IsActive:e.IsActive?1:0});m.details.push(t)})),m})(E,I,P,F,M,W,A,H,G,$,le,h);if(le){if(200!==(await(0,c.PutContentContract)(t.contract,e)).status)throw new Error;if(200!==(await(0,c.addcontentcontractdetails)(t.details,e)).status)throw new Error;(0,d.openNotification)("success","Contract updated successfully"),ne("/ContentContractMaster")}else{const s=await(0,c.PostContentContract)(t,e);if(200===s.status)(0,d.openNotification)("success","Contract created successfully"),ne("/ContentContractMaster");else{if(206!==s.status)throw new Error;(0,d.openNotification)("danger","Contract already exist with name ".concat(I))}}}catch(t){console.error(t),(0,d.openNotification)("danger","Something went wrong while saving content contract details")}},children:"Save"})]})]})}},46553:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});s(72791);var n=s(96710),a=s.n(n),l=s(80184);const i=e=>{let{link:t}=e;return(0,l.jsx)("div",{children:(0,l.jsx)(a(),{url:t,playing:!0,controls:!0,width:"100%",height:"300px"})})}},58146:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(2803),a=s(72791),l=s(46553),i=s(80184);const r=function(e){var t,s,r,o;let{isDialogOpen:c,setIsDialogOpen:d,contentInfo:u}=e;const[m,h]=(0,a.useState)();return(0,i.jsx)(n.Vq,{isOpen:c,width:1e3,onClose:()=>d(!1),onRequestClose:()=>d(!1),children:(0,i.jsxs)("div",{className:"w-full h-full grid grid-cols-2 gap-1",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center mt-5",children:[(0,i.jsx)(n.qE,{size:"sm",src:"FAV.png"}),(0,i.jsx)("h6",{className:"ml-2 ",style:{letterSpacing:6,color:"rgb(127, 132, 138)"},children:null===(t=u.ContentType)||void 0===t?void 0:t.ContentTypeName})]}),(0,i.jsx)("h1",{className:"mt-10 font-outfit  font-medium ",children:null===u||void 0===u?void 0:u.ContentName}),(0,i.jsxs)("div",{className:"flex mt-5 ml-1",children:[(0,i.jsxs)("h6",{className:"mr-1",children:[Math.floor((null===u||void 0===u?void 0:u.SlotDuration)/60),"Hr"]}),(0,i.jsxs)("h6",{children:[(null===u||void 0===u?void 0:u.SlotDuration)%60,"Min"]})]}),(0,i.jsx)("h3",{className:" mt-5 mb-2 font-outfit font-extrabold",children:"Type"}),(0,i.jsx)("div",{className:"flex ",children:(0,i.jsx)("div",{style:{height:30,border:"1px solid #f6e6e61a",display:"flex",alignItems:"center",padding:"18px 25px",background:"#00000029",color:"white"},children:null===(s=u.View)||void 0===s?void 0:s.ViewName})}),(0,i.jsx)("h3",{className:" mt-5 mb-2 font-outfit font-extrabold",children:"Genre"}),(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)("p",{className:" font-outfit  font-medium mr-2",style:{height:30,border:"1px solid #f6e6e61a",display:"flex",alignItems:"center",padding:"18px 25px",background:"#00000029",color:"white"},children:null===(r=u.GenreMaster)||void 0===r?void 0:r.GenreName}),(0,i.jsx)("p",{className:" font-outfit  font-medium",style:{height:30,border:"1px solid #f6e6e61a",display:"flex",alignItems:"center",padding:"18px 25px",background:"#00000029",color:"white"},children:null===(o=u.SubGenreMaster)||void 0===o?void 0:o.SubGenreName})]}),(0,i.jsx)("h3",{className:"mt-7 font-outfit font-extrabold",children:" Synopsis"}),(0,i.jsx)("h6",{className:"mt-2 font-outfit  font-medium",children:null===u||void 0===u?void 0:u.Synopsis})]}),(0,i.jsx)("div",{className:"flex justify-center items-center",children:m?(0,i.jsx)(l.Z,{link:null===u||void 0===u?void 0:u.MetaData}):u.Content_Image?(0,i.jsx)("img",{src:null===u||void 0===u?void 0:u.Content_Image,style:{height:300,width:300}}):(0,i.jsx)("img",{src:"/img/3204121.jpg",style:{height:300,width:300}})})]})})}},60488:(e,t,s)=>{"use strict";s.d(t,{Dh:()=>p,SE:()=>h,SU:()=>v,a1:()=>d,aP:()=>c,f$:()=>x,rp:()=>m,yw:()=>g});var n=s(1413),a=(s(81320),s(72791)),l=s(56355),i=s(2803),r=s(80184);const o=e=>e.split(":").map((e=>e.padStart(2,"0"))).join(":").substring(0,11);function c(e){let t=0;const s=[];return e.forEach((e=>{"NTC"!==e.F_C_S_P&&t++;const a=(0,n.Z)((0,n.Z)({},e),{},{PrimaryID:t});s.push(a)})),s}function d(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"CM",l=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0,c="00:00:00:00",d=l||"00:00:00:00";return e.map(((e,m)=>{if(i&&"NTC"===e.F_C_S_P&&"DTM"===e.NtcTypeName)return e;if("NTC"===e.F_C_S_P||"BR"===e.F_C_S_P)return e.OffsetStartTime?(0,n.Z)((0,n.Z)({},e),{},{Start_Time:e.OffsetStartTime,Tel_Time:e.OffsetStartTime}):(0,n.Z)((0,n.Z)({},e),{},{Start_Time:"00:00:00:00",Tel_Time:"00:00:00:00",OffsetStartTime:"00:00:00:00"});let h=d;if(t)return"CT"!==e.F_C_S_P?e.F_C_S_P===a&&s||"NTC"===e.F_C_S_P||"BR"===e.F_C_S_P?(d=o(d),(0,n.Z)((0,n.Z)({},e),{},{Start_Time:d,Tel_Time:d})):(h=u(d,c,r),c=e.Duration,h=o(h),d=o(h),(0,n.Z)((0,n.Z)({},e),{},{Start_Time:h,Tel_Time:h})):(d=e.FPC_Time+":00:00",c=e.Duration,h=o(h),d=o(d),(0,n.Z)((0,n.Z)({},e),{},{Start_Time:d,Tel_Time:d}));if(0===m)d=l||e.Start_Time,c=e.Duration;else{if(h=u(d,c,r),h=o(h),d=o(h),"NTC"===e.F_C_S_P&&s||"BR"===e.F_C_S_P)return(0,n.Z)((0,n.Z)({},e),{},{Start_Time:d,Tel_Time:d});c=e.Duration,h=o(h),d=o(h)}return(0,n.Z)((0,n.Z)({},e),{},{Start_Time:h,Tel_Time:h})}))}const u=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:24;try{const n=60,a=60,l=24,[i,r,o,c]=e.split(":").map(Number),[d,u,m,h]=t.split(":").map(Number);let p=c+h,x=Math.floor(p/s);p%=s;let g=o+m+x,f=Math.floor(g/n);g%=n;let v=r+u+f,y=Math.floor(v/a);v%=a;let N=i+d+y;N%=l;return String(N).padStart(2,"0")+":"+String(v).padStart(2,"0")+":"+String(g).padStart(2,"0")+":"+String(p).padStart(2,"0")}catch(n){throw n}};function m(e){let t=0;return e.forEach((e=>{const[s,n,a,l]=e.CommercialDuration.split(":").map((e=>parseInt(e)));t+=3600*s+60*n+a+l/30})),t}function h(){document.getElementsByClassName("stacked-side-nav")[0].classList.add("hidden");document.getElementsByClassName("footer")[0].classList.add("hidden")}function p(){var e,t;const s=document.getElementsByClassName("stacked-side-nav-secondary")[0];void 0!=s&&(null===s||void 0===s||s.classList.add("hidden")),null===(e=document.getElementById("rightIndicator"))||void 0===e||e.classList.remove("hidden"),null===(t=document.getElementById("leftIndicator"))||void 0===t||t.classList.add("hidden")}function x(){var e,t;const s=document.getElementsByClassName("stacked-side-nav-secondary")[0];void 0!=s&&(null===s||void 0===s||s.classList.remove("hidden")),null===(e=document.getElementById("leftIndicator"))||void 0===e||e.classList.remove("hidden"),null===(t=document.getElementById("rightIndicator"))||void 0===t||t.classList.add("hidden")}const g=(e,t)=>e.map((e=>{let s=(0,n.Z)({},e);return"S"===s.F_C_S_P||s.F_C_S_P,"NTC"===s.F_C_S_P?(s.PrimaryID=t.PrimaryID,s.SeasonNo=t.SeasonNo,s.Ep_No=t.Ep_No,s.ContentCode=t.ContentCode,s.BreakNumber=t.BreakNumber,s.SeasonNo=t.SeasonNo,s.FPC_ID=t.FPC_ID):"CM"===s.F_C_S_P?(s.PrimaryID=t.PrimaryID,s.SeasonNo=t.SeasonNo,s.Ep_No=t.Ep_No,s.ContentCode=t.ContentCode,s.BreakNumber=t.BreakNumber,s.SeasonNo=t.SeasonNo,s.FPC_ID=t.FPC_ID,s.ScheduleTime=t.ScheduleTime):(s.SeasonNo=t.SeasonNo,s.Ep_No=t.Ep_No,s.ContentCode=t.ContentCode,s.BreakNumber=t.BreakNumber,s.SeasonNo=t.SeasonNo,s.FPC_ID=t.FPC_ID),s.SequenceNo=t.SequenceNo,s.Start_Time="00:00:00:00",s})),f=e=>{const t=Math.floor(e/60),s=e%60;return"".concat(String(t).padStart(2,"0"),":").concat(String(s).padStart(2,"0"))};const v=e=>{let{Progress:t,PromoSchdulingSave:s,openNotification:n}=e;const[o,c]=(0,a.useState)(0),[d,u]=(0,a.useState)(0),[m,h]=(0,a.useState)(0),[p,x]=(0,a.useState)(!1),g=(0,a.useRef)(!0),[v,y]=(0,a.useState)(!1),[N,b]=(0,a.useState)(""),j=e=>{let{percent:t}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{onClick:()=>{y(!0)},style:{cursor:"pointer"},children:(0,r.jsx)("p",{style:{marginTop:"5px",fontSize:"12px",color:"white"},children:f(d)})}),(0,r.jsx)("p",{style:{cursor:"pointer",color:"white",marginLeft:"10px"},onClick:()=>{x(!p)},children:p?(0,r.jsx)(l.Wh,{}):(0,r.jsx)(l.gmG,{})})]})};(0,a.useEffect)((()=>{C(10)}),[]),(0,a.useEffect)((()=>{let e;return p&&d>0?e=setInterval((()=>{u((e=>Math.max(e-1,0))),c((e=>{const t=100-d/(m||1)*100;return Math.min(t,100)}))}),1e3):0===d&&p&&(s(),n("info"),u(m)),()=>clearInterval(e)}),[p,d,m]),(0,a.useEffect)((()=>{g.current&&(g.current=!1)}),[d]);const C=e=>{const t=parseInt(e,10);if(!isNaN(t)&&t>0){const e=60*t;u(e),h(e),c(0),x(!0)}},S=e=>{console.log("onDialogClose",e),y(!1)};return(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(i.Vq,{isOpen:v,width:300,height:200,onClose:S,onRequestClose:S,children:(0,r.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,r.jsx)("h5",{className:"mb-4",children:"Set Timer"}),(0,r.jsx)("div",{className:"flex align-center",children:(0,r.jsx)(i.II,{maxLength:"2",value:N,onChange:e=>{const t=e.target.value;(/^\d{0,2}$/.test(t)||""===t)&&b(t)}})}),(0,r.jsxs)("div",{className:"text-right mt-6",children:[(0,r.jsx)(i.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"solid",onClick:()=>{C(N),S()},children:"Set"}),(0,r.jsx)(i.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"solid",onClick:S,children:"Cancel"})]})]})}),(0,r.jsx)("div",{className:"flex",style:{width:"120px"},children:(0,r.jsx)(t,{variant:"circle",className:"mx-6",size:"sm",width:50,percent:o,customInfo:(0,r.jsx)(j,{percent:o})})})]})}},85781:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function a(e,t){if(e.length!==t.length)return!1;for(var s=0;s<e.length;s++)if(a=e[s],l=t[s],!(a===l||n(a)&&n(l)))return!1;var a,l;return!0}const l=function(e,t){var s;void 0===t&&(t=a);var n,l=[],i=!1;return function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];return i&&s===this&&t(a,l)||(n=e.apply(this,a),i=!0,s=this,l=a),n}}},40980:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>x});var n=s(1413),a=s(45987),l=s(72791);const i=["children","defaultHeight","defaultWidth","disableHeight","disableWidth","doNotBailOutOnEmptyChildren","nonce","onResize","style","tagName"];let r;r="undefined"!==typeof window?window:"undefined"!==typeof self?self:s.g;let o=null,c=null;const d=r.clearTimeout,u=r.setTimeout,m=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame,h=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame;function p(e){let t,s,n,a,l,i,d;const u="undefined"!==typeof document&&document.attachEvent;if(!u){i=function(e){const t=e.__resizeTriggers__,s=t.firstElementChild,n=t.lastElementChild,a=s.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,a.style.width=s.offsetWidth+1+"px",a.style.height=s.offsetHeight+1+"px",s.scrollLeft=s.scrollWidth,s.scrollTop=s.scrollHeight},l=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},d=function(e){if(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)return;const t=this;i(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=c((function(){l(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(s){s.call(t,e)})))}))};let e=!1,r="";n="animationstart";const u="Webkit Moz O ms".split(" ");let m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h="";{const t=document.createElement("fakeelement");if(void 0!==t.style.animationName&&(e=!0),!1===e)for(let s=0;s<u.length;s++)if(void 0!==t.style[u[s]+"AnimationName"]){h=u[s],r="-"+h.toLowerCase()+"-",n=m[s],e=!0;break}}s="resizeanim",t="@"+r+"keyframes "+s+" { from { opacity: 0; } to { opacity: 0; } } ",a=r+"animation: 1ms "+s+"; "}return{addResizeListener:function(l,o){if(u)l.attachEvent("onresize",o);else{if(!l.__resizeTriggers__){const o=l.ownerDocument,c=r.getComputedStyle(l);c&&"static"===c.position&&(l.style.position="relative"),function(s){if(!s.getElementById("detectElementResize")){const n=(t||"")+".resize-triggers { "+(a||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',l=s.head||s.getElementsByTagName("head")[0],i=s.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(s.createTextNode(n)),l.appendChild(i)}}(o),l.__resizeLast__={},l.__resizeListeners__=[],(l.__resizeTriggers__=o.createElement("div")).className="resize-triggers";const u=o.createElement("div");u.className="expand-trigger",u.appendChild(o.createElement("div"));const m=o.createElement("div");m.className="contract-trigger",l.__resizeTriggers__.appendChild(u),l.__resizeTriggers__.appendChild(m),l.appendChild(l.__resizeTriggers__),i(l),l.addEventListener("scroll",d,!0),n&&(l.__resizeTriggers__.__animationListener__=function(e){e.animationName===s&&i(l)},l.__resizeTriggers__.addEventListener(n,l.__resizeTriggers__.__animationListener__))}l.__resizeListeners__.push(o)}},removeResizeListener:function(e,t){if(u)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",d,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(n,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(s){}}}}}null==m||null==h?(o=d,c=function(e){return u(e,20)}):(o=function(e){let[t,s]=e;m(t),d(s)},c=function(e){const t=h((function(){d(s),e()})),s=u((function(){m(t),e()}),20);return[t,s]});class x extends l.Component{constructor(){super(...arguments),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:e,disableWidth:t,onResize:s}=this.props;if(this._parentNode){const n=window.getComputedStyle(this._parentNode)||{},a=parseFloat(n.paddingLeft||"0"),l=parseFloat(n.paddingRight||"0"),i=parseFloat(n.paddingTop||"0"),r=parseFloat(n.paddingBottom||"0"),o=this._parentNode.getBoundingClientRect(),c=o.height-i-r,d=o.width-a-l,u=this._parentNode.offsetHeight-i-r,m=this._parentNode.offsetWidth-a-l;(e||this.state.height===u&&this.state.scaledHeight===c)&&(t||this.state.width===m&&this.state.scaledWidth===d)||(this.setState({height:u,width:m,scaledHeight:c,scaledWidth:d}),"function"===typeof s&&s({height:u,scaledHeight:c,scaledWidth:d,width:m}))}},this._setRef=e=>{this._autoSizer=e}}componentDidMount(){const{nonce:e}=this.props,t=this._autoSizer?this._autoSizer.parentNode:null;if(null!=t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){this._parentNode=t;const s=t.ownerDocument.defaultView.ResizeObserver;null!=s?(this._resizeObserver=new s((()=>{this._timeoutId=setTimeout(this._onResize,0)})),this._resizeObserver.observe(t)):(this._detectElementResize=p(e),this._detectElementResize.addResizeListener(t,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),null!==this._timeoutId&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const e=this.props,{children:t,defaultHeight:s,defaultWidth:r,disableHeight:o=!1,disableWidth:c=!1,doNotBailOutOnEmptyChildren:d=!1,nonce:u,onResize:m,style:h={},tagName:p="div"}=e,x=(0,a.Z)(e,i),{height:g,scaledHeight:f,scaledWidth:v,width:y}=this.state,N={overflow:"visible"},b={};let j=!1;return o||(0===g&&(j=!0),N.height=0,b.height=g,b.scaledHeight=f),c||(0===y&&(j=!0),N.width=0,b.width=y,b.scaledWidth=v),d&&(j=!1),(0,l.createElement)(p,(0,n.Z)({ref:this._setRef,style:(0,n.Z)((0,n.Z)({},N),h)},x),!j&&t(b))}}},38416:(e,t,s)=>{var n=s(64062);e.exports=function(e,t,s){return(t=n(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e},e.exports.__esModule=!0,e.exports.default=e.exports},42122:(e,t,s)=>{var n=s(38416);function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}e.exports=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){n(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},95036:(e,t,s)=>{var n=s(18698).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},64062:(e,t,s)=>{var n=s(18698).default,a=s(95036);e.exports=function(e){var t=a(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},18698:e=>{function t(s){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(s)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=7566.3b792317.chunk.js.map