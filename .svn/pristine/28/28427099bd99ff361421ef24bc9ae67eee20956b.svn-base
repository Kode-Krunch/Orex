"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[303,5682],{37634:(e,t,o)=>{o.d(t,{Z:()=>p});o(72791);var n=o(58617),a=o(39126),s=o(56355),i=o(85880),r=o(30203),l=o(41578),c=o(19129),d=o(17425),u=o(16856),m=o(80184);const p={UserManagement:(0,m.jsx)(n.HHH,{}),CommonMaster:(0,m.jsx)(s.T9j,{}),ChannelSettings:(0,m.jsx)(i.UCm,{}),SystemSettings:(0,m.jsx)(i.gfy,{}),ContentManagement:(0,m.jsx)(n.n0p,{}),ContentLicense:(0,m.jsx)(r.XFe,{}),ApprovalManagement:(0,m.jsx)(n.FxF,{}),FPCManagement:(0,m.jsx)(s.tdI,{}),PlaylistManagement:(0,m.jsx)(s.tdI,{}),Metadata:(0,m.jsx)(r.pnU,{}),MasterData:(0,m.jsx)(s.THo,{}),RateManagement:(0,m.jsx)(n.Moc,{}),BillGeneration:(0,m.jsx)(n.AQQ,{}),BillPrinting:(0,m.jsx)(r.eQQ,{}),"Third-PartyIntegration":(0,m.jsx)(n.Moc,{}),DailyTransaction:(0,m.jsx)(n.dhi,{}),Home:(0,m.jsx)(n.VRM,{}),BILLING:(0,m.jsx)(s.m$D,{}),Admin:(0,m.jsx)(s.BKo,{}),ADMIN:(0,m.jsx)(s.BKo,{}),NTC:(0,m.jsx)(n.Fhe,{}),PROGRAMMING:(0,m.jsx)(s.IEK,{}),DEAL:(0,m.jsx)(s.THo,{}),SALES:(0,m.jsx)(n.m1$,{}),SALESADMIN:(0,m.jsx)(s.YxP,{}),SCHEDULING:(0,m.jsx)(s.rHK,{}),LIBRARY:(0,m.jsx)(a.yrZ,{}),Reports:(0,m.jsx)(l.xaK,{}),REPORTS:(0,m.jsx)(l.xaK,{}),PromoOrganizer:(0,m.jsx)(n.Fhe,{}),SongOrganizer:(0,m.jsx)(l.Ldt,{}),LinearManagement:(0,m.jsx)(c.kQr,{}),DailyTransactions:(0,m.jsx)(n.dhi,{}),MISReports:(0,m.jsx)(l.xaK,{}),ACCOUNTS:(0,m.jsx)(s.T_s,{}),BillSettings:(0,m.jsx)(d.mj$,{}),NTCBillSetting:(0,m.jsx)(d.mj$,{}),NTCBillSettings:(0,m.jsx)(d.mj$,{}),NTCBillPrinting:(0,m.jsx)(r.eQQ,{}),NTCBillGeneration:(0,m.jsx)(n.AQQ,{}),BillingSettings:(0,m.jsx)(l.C6u,{}),Payments:(0,m.jsx)(d.xIp,{}),SpotManagement:(0,m.jsx)(u.aV$,{}),EventManagement:(0,m.jsx)(n.Fhe,{}),NTCSpotManagement:(0,m.jsx)(u.aV$,{}),SCHEDULER:(0,m.jsx)(s.IEK,{})}},87350:(e,t,o)=>{o.d(t,{Bs:()=>A,C4:()=>q,CY:()=>Q,D7:()=>z,DD:()=>L,EF:()=>ae,FN:()=>R,FZ:()=>T,Fb:()=>l,Gm:()=>g,Hg:()=>G,Kc:()=>f,Ko:()=>v,LI:()=>S,MC:()=>E,NP:()=>M,Nq:()=>p,OK:()=>Z,QI:()=>B,SU:()=>Y,Tf:()=>j,Ux:()=>X,V9:()=>N,VG:()=>u,VT:()=>K,Ww:()=>y,XC:()=>H,Xc:()=>i,_V:()=>b,ae:()=>J,c0:()=>_,c1:()=>C,c_:()=>ee,cn:()=>F,db:()=>D,f7:()=>P,fL:()=>m,fi:()=>h,gK:()=>W,hE:()=>c,hG:()=>U,je:()=>d,n5:()=>V,nR:()=>te,nY:()=>I,nr:()=>k,pp:()=>oe,qg:()=>ne,sb:()=>O,sd:()=>x,t2:()=>$,w4:()=>w,xl:()=>r});var n=o(54048),a=o(46152);const s=o(74569);async function i(e,t){const o=t?"&search=".concat(t):"",n="/promomaster/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode).concat(o);return a.Z.fetchData({url:n,method:"get",data:e})}async function r(e,t){let o="/promomaster/filter/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode);return t.PromoTypeCode&&(o+="&PromoTypeCode=".concat(t.PromoTypeCode)),t.Caption&&(o+="&Caption=".concat(t.Caption)),t.Duration[0]&&(o+="&Duration1=".concat(t.Duration[0])),t.Duration[1]&&(o+="&Duration2=".concat(t.Duration[1])),t.VideoID&&(o+="&VideoID=".concat(t.VideoID)),a.Z.fetchData({url:o,method:"get",data:t})}async function l(e){return a.Z.fetchData({url:"/smartshufflesetting/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}async function c(e,t){return a.Z.fetchData({url:"/smartshufflesetting/".concat(t),method:"put",data:e})}async function d(e){return a.Z.fetchData({url:"/smartshufflesetting/",method:"post",data:e})}async function u(e){return a.Z.fetchData({url:"/songgenre/",method:"get",data:e})}async function m(e){return a.Z.fetchData({url:"/songcategory/",method:"get",data:e})}async function p(e){return a.Z.fetchData({url:"/songmaster/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}async function h(e){return a.Z.fetchData({url:"/songmaster/".concat(e),method:"get"})}const C=(e,t)=>fetch(n.Z.apiPrefix+"/songgenre/".concat(e.SongGenreCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({SongGenreName:e.SongGenreName,IsActive:e.IsActive})}),g=(e,t)=>fetch(n.Z.apiPrefix+"/moviealbummaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({MovieAlbumName:e.MovieAlbumName,IsActive:e.IsActive})}),S=(e,t)=>fetch(n.Z.apiPrefix+"/moviealbummaster/".concat(e.MovieAlbumCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({MovieAlbumName:e.MovieAlbumName,IsActive:e.IsActive})}),x=(e,t)=>(console.log(e),fetch(n.Z.apiPrefix+"/songcategory/".concat(e.SongCategoryCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({SongCategoryName:e.SongCategoryName,IsActive:e.IsActive})})),f=(e,t)=>fetch(n.Z.apiPrefix+"/songgenre",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({SongGenreName:e.SongGenreName,IsActive:e.IsActive})}),v=(e,t)=>fetch(n.Z.apiPrefix+"/songcategory",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({SongCategoryName:e.SongCategoryName,IsActive:e.IsActive})}),N=(e,t)=>new Promise(((o,a)=>{let i={method:"post",maxBodyLength:1/0,url:n.Z.apiPrefix+"/promomaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};s.request(i).then((e=>{o(e)})).catch((e=>{a(e)}))})),j=(e,t,o)=>new Promise(((a,i)=>{let r={method:"put",maxBodyLength:1/0,url:n.Z.apiPrefix+"/promomaster/".concat(o),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};s.request(r).then((e=>{a(e)})).catch((e=>{i(e)}))}));async function y(e){return a.Z.fetchData({url:"/promotypemaster/drop/",method:"get",data:e})}async function b(e){return a.Z.fetchData({url:"/songgenre/drop/",method:"get",data:e})}async function T(e){return a.Z.fetchData({url:"/tapetypemaster/drop/",method:"get",data:e})}async function D(e){return a.Z.fetchData({url:"/songtempo/drop/",method:"get",data:e})}async function I(e,t,o){const n="promoscheduling/USP_Sch_PromoScheduling_GetDetails/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=").concat(o);return a.Z.fetchData({url:n,method:"get"})}async function E(e,t,o){const n="ntcscheduling/USP_Sch_NTCScheduling_GetDetails/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=").concat(o);return a.Z.fetchData({url:n,method:"get"})}async function M(e,t,o){const n="songscheduling/USP_Sch_SongScheduling_GetDetails/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=").concat(o);return a.Z.fetchData({url:n,method:"get"})}async function A(e,t,o){const n="transmissionlog/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=").concat(o);return a.Z.fetchData({url:n,method:"get"})}async function O(e,t){const o="transmissionlog/Scheduling_FinalLog_ProgramChange?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t);return a.Z.fetchData({url:o,method:"get"})}async function w(e,t){const o="/transmissionlog/USP_Sch_Finalog_ExportCsv/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=S");return a.Z.fetchData({url:o,method:"get"})}async function L(e){const t="restore/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(e.TelecastDate,"&FormName=").concat(e.FormName);return a.Z.fetchData({url:t,method:"get"})}async function k(e,t,o){const n="songscheduling/GetSongschedulDetails/?SongCode=".concat(e,"&TelecastDate=").concat(t,"&InHour=").concat(o);return a.Z.fetchData({url:n,method:"get"})}async function R(e){const t="restore/audit_data/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(e.TelecastDate,"&FormName=").concat(e.FormName,"&D_date=").concat(e.D_date);return a.Z.fetchData({url:t,method:"post"})}async function F(e){const t="commercialscheduling/restoreauditcommercialscheduling/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&ScheduleDate=").concat(e.ScheduleDate,"&D_date=").concat(e.D_date);return a.Z.fetchData({url:t,method:"post"})}async function P(e,t){const o="commercialscheduling/getauditpromoscheduling/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&ScheduleDate=").concat(t);return a.Z.fetchData({url:o,method:"get"})}async function _(e,t){const o="globle/GetDailyFPCStatus?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&Screen=").concat(e.Screen,"&TelecastDate=").concat(t);return a.Z.fetchData({url:o,method:"get"})}async function Z(e,t,o,n){const s="promoscheduling/USP_Sch_Get_All_Promo/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&PromoTypeCode=").concat(o,"&PromoName=").concat(n);return a.Z.fetchData({url:s,method:"get"})}async function V(e,t,o,n){const s="ntcmaster/USP_Sch_Get_All_NTC/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&NTCTypeCode=").concat(o,"&NTCName=").concat(n);return a.Z.fetchData({url:s,method:"get"})}async function z(e,t,o,n){const s="songscheduling/USP_Sch_Get_All_Song/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&SongType=").concat(o,"&OrderBy=2&SearchText=").concat(n);return a.Z.fetchData({url:s,method:"get"})}async function B(e){return a.Z.fetchData({url:"/musicagencymst/drop/",method:"get",data:e})}async function H(e){return a.Z.fetchData({url:"/moviealbummaster/drop/",method:"get",data:e})}async function G(e){return a.Z.fetchData({url:"/transmissionlog/addaudit/",method:"post",data:e})}async function U(e){return a.Z.fetchData({url:"/transmissionlog/insertdata/",method:"post",data:e})}async function q(e){return a.Z.fetchData({url:"/transmissionlog/updatedata/",method:"put",data:e})}async function W(e,t){return a.Z.fetchData({url:"/transmissionlog/deletedata/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t),method:"delete"})}const J=(e,t)=>new Promise(((o,a)=>{let i={method:"post",maxBodyLength:1/0,url:n.Z.apiPrefix+"/promoscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};s.request(i).then((e=>{o(e)})).catch((e=>{a(e)}))})),X=(e,t)=>new Promise(((o,a)=>{let i={method:"post",maxBodyLength:1/0,url:n.Z.apiPrefix+"/songscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};s.request(i).then((e=>{o(e)})).catch((e=>{a(e)}))})),K=(e,t)=>new Promise(((o,a)=>{let i={method:"post",maxBodyLength:1/0,url:n.Z.apiPrefix+"/ntcscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};s.request(i).then((e=>{o(e)})).catch((e=>{a(e)}))})),Y=(e,t)=>new Promise(((o,a)=>{let i={method:"post",maxBodyLength:1/0,url:n.Z.apiPrefix+"/transmissionlog/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};s.request(i).then((e=>{o(e)})).catch((e=>{a(e)}))})),Q=(e,t)=>(console.log("url"),new Promise(((o,a)=>{let i={method:"put",maxBodyLength:1/0,url:n.Z.apiPrefix+"/commercialscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};s.request(i).then((e=>{o(e)})).catch((e=>{a(e)}))}))),$=(e,t)=>new Promise(((o,a)=>{let i={method:"post",maxBodyLength:1/0,url:n.Z.apiPrefix+"/songmaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};s.request(i).then((e=>{o(e)})).catch((e=>{a(e)}))})),ee=(e,t,o)=>new Promise(((a,i)=>{let r={method:"put",maxBodyLength:1/0,url:n.Z.apiPrefix+"/songmaster/".concat(o),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};s.request(r).then((e=>{a(e)})).catch((e=>{i(e)}))})),te=(e,t)=>new Promise(((o,a)=>{let i={method:"post",maxBodyLength:1/0,url:n.Z.apiPrefix+"/columnsetting/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};s.request(i).then((e=>{o(e)})).catch((e=>{a(e)}))})),oe=(e,t,o)=>new Promise(((a,i)=>{let r={method:"put",maxBodyLength:1/0,url:n.Z.apiPrefix+"/bookingdetails/bookingstatuschange/?BookingStatus=".concat(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:e};s.request(r).then((e=>{a(e)})).catch((e=>{i(e)}))}));async function ne(e){return a.Z.fetchData({url:"teammapping/",method:"post",data:e})}async function ae(e){return a.Z.fetchData({url:"geneventcontent/Contentadd/",method:"post",data:e})}},68585:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(1413),a=(o(72791),o(81694)),s=o.n(a),i=o(80184);const r=e=>t=>{const{className:o,hoverable:a=!0}=t;return(0,i.jsx)(e,(0,n.Z)((0,n.Z)({},t),{},{className:s()("header-action-item",a&&"header-action-item-hoverable",o)}))}},44630:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(72791);const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;const[t,o]=(0,n.useState)("");return(0,n.useEffect)((()=>{if(t){let t=setTimeout((()=>o("")),e);return()=>{clearTimeout(t)}}}),[t]),[t,o]}},23357:(e,t,o)=>{o.d(t,{m:()=>i});var n=o(2803),a=o(58617),s=o(80184);const i=(e,t,o,i)=>(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"mr-1 mt-4  font-semibold",children:(0,s.jsx)(t,{value:null!==o&&void 0!==o?o:"",className:" solid",placeholder:"Search all columns...",size:"sm",onChange:e=>{i(e)}})}),(0,s.jsx)("span",{className:"mr-1 font-semibold",children:(0,s.jsx)(n.zx,{block:!0,variant:"solid",size:"sm",icon:(0,s.jsx)(a.yEd,{}),onClick:()=>e(),children:"Add Entity"})})]})},96361:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(79139),a=o(60364),s=o(11087),i=o(80184);const r=e=>{let{ModuleText:t="Admin",Component:o,links:r}=e;(0,a.useSelector)((e=>e.auth.session.currentRouteKey));const l=(0,a.useSelector)((e=>e.base.common.currentRouteTitle));console.log(l);const{title:c,Moduletitle:d}=(0,a.useSelector)((e=>e.auth.user));return(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-xl font-medium",children:l}),(0,i.jsxs)(n.Breadcrumbs,{style:{marginLeft:"-15px",width:"auto"},children:[(0,i.jsx)(s.rU,{to:"/home",className:"opacity-60 text-xs",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})}),(0,i.jsx)(s.rU,{to:"/".concat("SALES ADMIN"===d?"SalesAdmin":d),className:"opacity-60 text-xs",children:(0,i.jsx)("span",{children:d})}),(0,i.jsx)(s.rU,{to:"#",className:"text-xs",children:(0,i.jsx)("span",{children:l})})]})]})}},45682:(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});var n=o(2803),a=(o(72791),o(80184));const s=function(e){let{showLoader:t}=e;return(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)("div",{className:"dialog-overlay flex justify-center items-center z-50",children:(0,a.jsx)(n.$j,{size:"3.25rem"})}):(0,a.jsx)(a.Fragment,{})})}},1680:(e,t,o)=>{o.r(t),o.d(t,{CLIENT:()=>n,CLIENTWiseUploadPath:()=>a});const n={LOCAL:"LOCAL",INDIA_SPORTS:"INDIA SPORTS TV",USA_Forbes:"Forbes",FOOD_INDIA:"India Food Food",FOOD_USA:"USA Food Food INT",SWAMI:"INDIA SWAMI FILMS",GEC:"GEC CHANNEL",USA_GEC:"USA GEC CHANNEL",INDIA_GEC:"INDIA GEC CHANNEL",NEWS:"NEWS CHANNEL",USA_NEWS:"NEWS CHANNEL USA",BeIN_Sports:"BeIN Sports",MASST_INDIA:"INDIA MASST",ASIANET:"INDIA ASIANET CINEMA",INDIAMYMOVIES:"INDIA MY MOVIES",ANI_PLUS:"SINGAPORE ANI PLUS",SATHIYAM_TV:"INDIA SATHIYAM TV"},a={USA_Forbes:"/playlist",ASIANET:"/video/volume1/playlist"}},90303:(e,t,o)=>{o.r(t),o.d(t,{default:()=>J});var n=o(2803),a=o(92506),s=o(81724),i=o(67388),r=o(60364),l=o(72791),c=o(57689),d=o(23357),u=o(4500),m=o(41026),p=o(58617),h=o(81320),C=o(46657),g=o(80184);const S=[{value:"",label:"Data Not Found"}],{Tr:x,Th:f,Td:v,THead:N,TBody:j}=m.Z;const y=function(e){var t,o;const{errors:a,touched:s,values:c,data:d,setData:u,op:y,EOM:b,setEOM:T,dataiwanttoshow:D,setdataiwanttoshow:I,setSOM:E,SOM:M,setSegmentDuration:A,SegmentDuration:O,setoptions3:w,options3:L,setChecked:k,checked:R,selectedItem:F}=e,{Content:P}=(0,r.useSelector)((e=>e.base.common)),_=(0,r.useSelector)((e=>e.auth.session.ChannelSetting)),{MAXSegment:Z,Segcaption:V,Segcaption1:z,Segcaption2:B}=(0,r.useSelector)((e=>e.auth.user)),[H,G]=(0,l.useState)(""),[U,q]=(0,l.useState)(""),[W,J]=(0,l.useState)(""),[X,K]=(0,l.useState)(""),[Y,Q]=(0,l.useState)(""),[$,ee]=(0,l.useState)("000"),[te,oe]=(0,l.useState)((null===(t=P.Channel)||void 0===t?void 0:t.ChannelCode)>0?P.locations.LocationCode:"".concat(Z,"is\n        ").concat(V,",\n       ").concat(z,",\n        ").concat(B)),[ne,ae]=(0,l.useState)(""),[se,ie]=(0,l.useState)(!0),[re,le]=(0,l.useState)(!1),[ce,de]=(0,l.useState)(!1),[ue,me]=(0,l.useState)([""]),[pe,he]=(0,l.useState)(!1),Ce=(0,l.useRef)(null),ge=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const[o,n,a,s]=e.split(":").map(Number);return(3600*o+60*n+a)*t+s};function Se(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const o=Math.floor(e/(3600*t));e%=3600*t;const n=Math.floor(e/(60*t));e%=60*t;const a=Math.floor(e/t),s=e%t;return"".concat(String(o).padStart(2,"0"),":").concat(String(n).padStart(2,"0"),":").concat(String(a).padStart(2,"0"),":").concat(String(s).padStart(2,"0"))}(0,l.useEffect)((()=>{c.MaximumSegments&&c.EpisodeDuration.length}),[c.EpisodeDuration]);const[xe,fe]=(0,l.useState)([]);(0,l.useEffect)((()=>{(async e=>{const t=(await(0,i.apiGetscenetypemasterDrop)()).data.map((e=>({value:e.SceneTypeCode,label:e.SceneTypeName})));fe(t)})()}),[]),(0,l.useEffect)((()=>{P&&ve()}),[P]);const ve=async()=>{const e=(await(0,i.apiGetcontentscenedetailsid)(P.SegmentCode)).data.map((e=>({SegmentNo:e.SegmentNo,SceneTypeCode:{value:e.SceneTypeCode,label:e.SceneTypeCode},SceneOffsetStart:e.SceneOffsetStart,SceneOffsetEnd:e.SceneOffsetEnd})));I(e)};(0,l.useEffect)((()=>{P&&(async()=>{const e=(await(0,i.apiGetcontentsegdetailsid)(P.SegmentCode)).data.map((e=>({SegmentNo:e.SegmentNo,SOM:e.TCIN,EOM:e.TCOUT,SegmentCaption:e.SegmentCaption,SegmentDuration:e.SegmentDuration,ClipID:e.VideoID,Remark:e.SegmentRemark,checked:e.IsActive})));u(e)})()}),[P]);const Ne=e=>{var t;const{name:o,value:n}=e.target,a=(0,h.formatOnHHMMSSFFBlur)(n,Number((null===(t=_[0])||void 0===t?void 0:t.FramePerSec)||24));"OffSetStartTime"!=o?"OffSetEndTime"!=o||K(a):J(a)};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(C.F,{ref:Ce}),(0,g.jsxs)(n.Vq,{isOpen:ce,width:500,onClose:()=>{de(!ce),me([""]),E(""),T(""),Q(""),A(""),ee(""),oe(""),ae(""),k(!1)},children:[(0,g.jsxs)("div",{className:"grid grid-cols-5 gap-4",children:[(0,g.jsx)("div",{className:"col-span-1",children:(0,g.jsx)(n.lm,{asterisk:!0,label:"Seg No",invalid:a.SegmentNo&&s.SegmentNo,errorMessage:a.SegmentNo,children:ue.SegmentNo?(0,g.jsx)(n.II,{size:"sm",type:"text",autoComplete:"off",name:"SegmentNo",placeholder:"SegmentNo",value:ue.SegmentNo,disabled:!0}):(0,g.jsx)(n.Ph,{options:L,value:L.find((e=>e.value==Y)),onChange:e=>Q(e.value),isDisabled:!!ue.SegmentNo})})}),(0,g.jsx)("div",{className:"col-span-2",children:(0,g.jsxs)(n.lm,{asterisk:!0,label:"Commercial Allowed",invalid:a.BreakAllowed&&s.BreakAllowed,errorMessage:a.BreakAllowed,children:[(0,g.jsx)("div",{children:(0,g.jsx)(n.T5,{checked:R,onChange:()=>k(!R)})}),(0,g.jsx)("br",{})]})}),(0,g.jsx)("div",{className:"col-span-2",children:(0,g.jsxs)(n.lm,{asterisk:!0,label:"NTC Allowed",invalid:a.NTCAllowed&&s.NTCAllowed,errorMessage:a.NTCAllowed,children:[(0,g.jsx)("div",{children:(0,g.jsx)(n.T5,{checked:se,onChange:()=>ie(!se)})}),(0,g.jsx)("br",{})]})})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,g.jsx)("div",{className:"col-span-1",children:(0,g.jsx)(n.lm,{asterisk:!0,label:"SOM",invalid:a.SOM&&s.SOM,errorMessage:a.SOM,children:(0,g.jsx)(n.II,{size:"sm",type:"text",value:M,placeholder:"HH:MM:SS:FF",onChange:e=>{const{name:t,value:o}=e.target,n=o.replace(/\D/g,"");let a="";for(let r=0;r<Math.min(n.length,8);r+=2){r>0&&(a+=":"),a+=n.substr(r,2);const e=a.length;if(2===e&&parseInt(a)>23)return;if(5===e){if(parseInt(a.substring(3,5))>59)return}if(8===e){if(parseInt(a.substring(6,8))>59)return}if(11===e){var s,i;let e=parseInt(a.substring(9,11));if(e>Number((null===(s=_[0])||void 0===s?void 0:s.FramePerSec)||24))return;e===Number((null===(i=_[0])||void 0===i?void 0:i.FramePerSec)||24)&&(a=a.substring(0,9)+"00")}}b<a?le(!0):(le(!1),E(a))}})})}),(0,g.jsx)("div",{className:"col-span-1",children:(0,g.jsx)(n.lm,{asterisk:!0,label:"EOM",invalid:a.EOM&&s.EOM,errorMessage:a.EOM,children:(0,g.jsx)(n.II,{size:"sm",value:b,onChange:e=>{const{name:t,value:o}=e.target,n=o.replace(/\D/g,"");let a="";for(let l=0;l<Math.min(n.length,8);l+=2){if(l>0&&(a+=":"),a+=n.substr(l,2),2==a.split("").length&&parseInt(a)>23)return;if(5==a.split("").length&&parseInt(a.substring(3,5))>59)return;if(8==a.split("").length&&parseInt(a.substring(6,8))>59)return;if(11==a.split("").length&&parseInt(a.substring(9,11))>24)return}if(M>a)le(!0);else{var s,i,r;le(!1);const e=(0,h.parseDurationE)(Number((null===(s=_[0])||void 0===s?void 0:s.FramePerSec)||24),a)-(0,h.parseDurationE)(Number((null===(i=_[0])||void 0===i?void 0:i.FramePerSec)||24),M),t=(0,h.formatDurationHHMMSSFF)(Number((null===(r=_[0])||void 0===r?void 0:r.FramePerSec)||24),e);A(t)}T(a)}})})})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,g.jsx)("div",{className:"col-span-1",children:(0,g.jsx)(n.lm,{asterisk:!0,label:"Segment Duration",invalid:a.SegmentDuration&&s.SegmentDuration,errorMessage:a.SegmentDuration,children:(0,g.jsx)(n.II,{size:"sm",type:"text",autoComplete:"off",name:"SegmentDuration",placeholder:"Segment Duration",value:O,disabled:!0})})}),(0,g.jsx)("div",{className:"col-span-1",children:(0,g.jsx)(n.lm,{asterisk:!0,label:"ClipID",invalid:a.ClipID&&s.ClipID,errorMessage:a.ClipID,children:(0,g.jsx)(n.II,{size:"sm",type:"text",autoComplete:"off",name:"ClipID",disabled:1==(null===(o=_[0])||void 0===o?void 0:o.IsTapeCounterFlag),placeholder:"ClipID",step:"2",value:$,onChange:e=>{ee(e.target.value)}})})})]}),(0,g.jsx)("div",{className:"col-span-1",children:(0,g.jsx)(n.lm,{asterisk:!0,label:"Segment Caption",invalid:a.SegmentCaption&&s.SegmentCaption,errorMessage:a.SegmentCaption,style:{width:"250px"},children:(0,g.jsx)(n.II,{size:"sm",type:"text",autoComplete:"off",name:"SegmentCaption",placeholder:"SegmentCaption",step:"2",value:te,onChange:e=>{oe(e.target.value)}})})}),(0,g.jsx)("div",{className:"col-span-1",children:(0,g.jsx)(n.lm,{asterisk:!0,label:"Remark",invalid:a.Remark&&s.Remark,errorMessage:a.Remark,style:{width:"250px"},children:(0,g.jsx)(n.II,{size:"sm",type:"text",autoComplete:"off",name:"Remark",placeholder:"Remark",step:"2",value:ne,onChange:e=>{ae(e.target.value)}})})}),(0,g.jsx)("br",{}),(0,g.jsx)(n.lm,{children:(0,g.jsx)(n.zx,{variant:"solid",type:"submit",onClick:()=>(e=>{const t=d.findIndex((t=>t.SegmentNo==e));if(-1!==t){var o;const e=[...d],n=M,a=b,s=Number((null===(o=_[0])||void 0===o?void 0:o.FramePerSec)||24);if(!n||!a)return void(0,h.openNotification)("warning","SOM and EOM cannot be blank");const i=parseInt(n.split(":")[3],10),r=parseInt(a.split(":")[3],10);if(i>=s||r>=s)return void(0,h.openNotification)("warning","Frame (FF) should be less than ".concat(s));const l=ge(n,s),m=ge(a,s);if(m<l)return void(0,h.openNotification)("warning","EOM must be greater than or equal to SOM");if(t>0){const e=d[t-1].EOM;if(l<ge(e,s))return void(0,h.openNotification)("warning","SOM must be equal or greater than previous segment EOM")}const p=Se(m-l,s);e[t]={SOM:n,EOM:a,SegmentNo:Y,SegmentDuration:p,ClipID:$,SegmentCaption:te,Remark:ne,checked:R};const C=e.reduce(((e,t)=>e+ge(t.SegmentDuration,s)),0);if(!(C<=60*((null===F||void 0===F?void 0:F.SlotDuration)||0)*s))return void(0,h.openNotification)("warning","Episode Duration should not exceed Content Slot Duration");u(e),c.EpisodeDuration=Se(C,s)}me({}),E(""),T(""),Q(""),A(""),ee(""),oe(""),ae(""),k(!1),de(!1)})(ue.SegmentNo),children:"Edit"})})]}),(0,g.jsx)(n.Vq,{isOpen:pe,onClose:()=>he(!pe),width:750,children:(0,g.jsxs)(n.Zb,{header:"Seconday Details",children:[(0,g.jsx)("p",{className:"text-lg text-white",children:"Program Duration"}),(0,g.jsxs)("div",{className:"flex",children:[(0,g.jsxs)("p",{children:["From \xa0",U.SOM]}),"\xa0To\xa0",(0,g.jsx)("p",{children:U.EOM})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,g.jsx)(n.lm,{label:"Scene Type Name",children:(0,g.jsx)(n.Ph,{options:xe,value:void 0!=xe?xe.filter((e=>e.value===H.value)):S.filter((e=>e.value)),onChange:e=>G(e)})}),(0,g.jsx)(n.lm,{label:"Segment No",children:(0,g.jsx)(n.II,{value:U.SegmentNo,size:"sm",disabled:!0})}),(0,g.jsx)(n.lm,{label:"OffSet Start Time",children:(0,g.jsx)(n.II,{placeholder:"OffSet Start Time",name:"OffSetStartTime",size:"sm",value:W,onChange:e=>(0,h.handleChangeWithFrameSingleValue)(e,J),onBlur:Ne})}),(0,g.jsx)(n.lm,{label:"OffSet End Time",children:(0,g.jsx)(n.II,{placeholder:"OffSet End Time",value:X,size:"sm",name:"OffSetEndTime",onChange:e=>(0,h.handleChangeWithFrameSingleValue)(e,K),onBlur:Ne})})]}),(0,g.jsx)("div",{className:" col-span-4 flex justify-end",children:(0,g.jsx)(n.zx,{className:"mb-2 mt-2",size:"sm",onClick:()=>{const e=D.some((e=>e.SegmentNo==U.value));if(console.log(e),e);else{if(!((0,h.parseDuration)(W)>=(0,h.parseDuration)(U.SOM)&&(0,h.parseDuration)(W)<=(0,h.parseDuration)(U.EOM)))return void(0,h.openNotification)("warning","OffSet Duration should be between Segment Duration!!");if(!((0,h.parseDuration)(X)>=(0,h.parseDuration)(U.SOM)&&(0,h.parseDuration)(X)<=(0,h.parseDuration)(U.EOM)))return void(0,h.openNotification)("warning","OffSet Duration should be between Segment Duration!!!");I([...D,{SegmentNo:U.SegmentNo,SceneTypeCode:H,SceneOffsetStart:W,SceneOffsetEnd:X}])}},children:"Add"})}),(0,g.jsxs)(m.Z,{compact:!0,children:[(0,g.jsx)(N,{children:(0,g.jsxs)(x,{children:[(0,g.jsx)(f,{children:"SG.No"}),(0,g.jsx)(f,{children:"Scene Name"}),(0,g.jsx)(f,{children:"Off set Start"}),(0,g.jsx)(f,{children:"Off set End"}),(0,g.jsx)(f,{children:"Action"})]})}),(0,g.jsx)(j,{children:D.map(((e,t)=>(0,g.jsxs)(x,{className:"cursor-pointer",children:[(0,g.jsx)(v,{children:e.SegmentNo}),(0,g.jsx)(v,{children:e.SceneTypeCode.label}),(0,g.jsx)(v,{children:e.SceneOffsetStart}),(0,g.jsx)(v,{children:e.SceneOffsetEnd}),(0,g.jsx)(v,{children:(0,g.jsx)(n.zx,{size:"xs",onClick:()=>{const t=D.filter(((t,o)=>t.SegmentNo!==e.SegmentNo));I(t)},icon:(0,g.jsx)(p._YF,{})})})]})))})]})]})}),(0,g.jsx)("div",{children:(0,g.jsxs)(m.Z,{compact:!0,children:[(0,g.jsx)(N,{children:(0,g.jsxs)(x,{children:[(0,g.jsx)(f,{style:{textTransform:"capitalize"},children:"SG.No"}),(0,g.jsx)(f,{style:{textTransform:"capitalize"},children:"SOM"}),(0,g.jsx)(f,{style:{textTransform:"capitalize"},children:"EOM"}),(0,g.jsx)(f,{style:{textTransform:"capitalize"},children:"Caption"}),(0,g.jsx)(f,{style:{textTransform:"capitalize"},children:"Duration"}),(0,g.jsx)(f,{style:{textTransform:"capitalize"},children:"ClipID"}),(0,g.jsx)(f,{style:{textTransform:"capitalize"},children:"Action"})]})}),(0,g.jsx)(j,{children:d.map(((e,t)=>(0,g.jsxs)(x,{style:{border:"1px solid white"},className:"cursor-pointer",children:[(0,g.jsx)(v,{children:e.SegmentNo}),(0,g.jsx)(v,{children:e.SOM}),(0,g.jsx)(v,{children:e.EOM}),(0,g.jsx)(v,{children:e.SegmentCaption}),(0,g.jsx)(v,{children:e.SegmentDuration}),(0,g.jsx)(v,{children:e.ClipID}),(0,g.jsx)(v,{children:(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)("div",{className:"mr-2",children:(0,g.jsx)(n.u,{title:"Edit",children:(0,g.jsx)(n.zx,{size:"xs",shape:"circle",type:"button",onClick:()=>{de(!ce),me(e),E(e.SOM),T(e.EOM),Q(e.SegmentNo),A(e.SegmentDuration),ee(e.ClipID),oe(e.SegmentCaption),ae(e.Remark),k(e.checked)},icon:(0,g.jsx)(p.z2D,{})})})}),(0,g.jsx)("div",{children:(0,g.jsx)(n.u,{title:"Attach Secondary",children:(0,g.jsx)(n.zx,{size:"xs",shape:"circle",type:"button",icon:(0,g.jsx)(p.PjV,{}),onClick:()=>{he(!pe),q(e)}})})})]})})]})))})]})})]})};var b=o(81721),T=o(11308),D=o(44630),I=o(87350),E=o(81694),M=o.n(E),A=o(68585),O=o(23532),w=o(37634),L=o(48573),k=o.n(L),R=o(96263),F=o.n(R),P=o(9494);const _=e=>{const{icon:t,label:o,isLast:n,keyWord:a,onNavigate:s}=e,{textTheme:i}=(0,O.Z)();return(0,g.jsx)("div",{onClick:s,children:(0,g.jsxs)("div",{className:M()("flex items-center justify-between rounded-lg p-3.5 cursor-pointer user-select","bg-gray-50 dark:bg-gray-700/60 hover:bg-gray-100 dark:hover:bg-gray-700/90",!n&&"mb-3"),children:[(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)("div",{className:M()("mr-4 rounded-md ring-1 ring-slate-900/5 shadow-sm text-xl group-hover:shadow h-6 w-6 flex items-center justify-center bg-white dark:bg-gray-700",i,"dark:text-gray-100"),children:t&&w.Z[t]}),(0,g.jsx)("div",{className:"text-gray-900 dark:text-gray-300",children:(0,g.jsx)(F(),{autoEscape:!0,highlightClassName:M()(i,"underline bg-transparent font-semibold dark:text-white"),searchWords:[a],textToHighlight:o})})]}),(0,g.jsx)(p.MOd,{className:"text-lg"})]})})},Z=e=>{var t,o,a;const{label:s,ResetData:i,data:r,Content:l,setFieldValue:c}=e;return(0,g.jsx)("div",{children:(0,g.jsx)("div",{className:"p-2 border rounded-md border-[#484545] ",children:(0,g.jsx)("div",{className:"bgp",children:(0,g.jsxs)("div",{className:"flex justify-between",children:[(0,g.jsxs)("div",{className:"flex ",children:[(0,g.jsx)("div",{children:(0,g.jsx)("img",{src:null===r||void 0===r?void 0:r.Content_Image,alt:"No Image Found",className:"rounded-lg hover:rounded-t-lg",style:{height:100,width:70}})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:" text-green-500 font-bold px-4 capitalize text-xl",children:s}),(0,g.jsxs)("div",{className:"flex items-center mt-2",children:[(0,g.jsx)("p",{className:"px-4 capitalize",children:null===(t=new Date(null===r||void 0===r?void 0:r.FPCReleaseDate))||void 0===t?void 0:t.getFullYear()}),(0,g.jsx)("div",{className:"flex items-center text-xs text-white mr-2",style:{border:"1px solid #f6e6e61a",padding:"2px 10px",background:"#00000029"},children:null===r||void 0===r||null===(o=r.View)||void 0===o?void 0:o.ViewName}),(0,g.jsx)("p",{className:"text-sm text-blue-400",children:null===r||void 0===r||null===(a=r.ContentType)||void 0===a?void 0:a.ContentTypeName})]}),(0,g.jsxs)("p",{className:"text-sm  text-orange-400 px-4 mt-2",children:[null===r||void 0===r?void 0:r.SlotDuration," Min"]})]})]}),!l&&(0,g.jsx)(n.zx,{size:"xs",shape:"circle",icon:(0,g.jsx)(p.z2D,{}),onClick:()=>{i(),c("MaximumSegments",""),c("EpisodeDuration",""),c("VideoType",""),c("OriginalRepeatCode",""),c("Remarks",""),c("House","")}})]})})})})},V=(0,A.Z)((e=>{let{data:t,placeholder:o,SelectedItem:n,setSelectedItem:a,setInputValue:s,InputValue:c,ResetData:d,setFieldValue:m,houseid:h,setContentTypeValue:C,setEpisodeNo:S,values:x}=e;const[f,v]=(0,l.useState)(!1),[N,j]=(0,l.useState)([]),[y,b]=(0,l.useState)(!1),[T,D]=(0,l.useState)(!1),I=(0,r.useDispatch)(),E=(0,l.useRef)(),A=(0,l.useRef)(),{Content:O}=(0,r.useSelector)((e=>e.base.common)),{ContentSeg:w}=(0,r.useSelector)((e=>e.base.common));(0,l.useEffect)((()=>{if("webkitSpeechRecognition"in window){const e=new window.webkitSpeechRecognition;e.continuous=!1,e.interimResults=!0,e.lang="en-US",e.onresult=e=>{const t=e.results[0][0].transcript;s(t),R({target:{value:t}})},e.onend=()=>D(!1),A.current=e}}),[]);const L=k()((async function(e){a({}),y&&b(!1);const o=e;if(o.length>=1){const e=t.filter((e=>e.label.toLowerCase().includes(o.toLowerCase()))).slice(0,50);j(e),v(!0)}else j([])}),200);const R=e=>{s(e.target.value),L(e.target.value)};return(0,l.useEffect)((()=>{w&&(async e=>{if(0==e.EpisodeNo){let t={};t.par_ContentCode=e.ContentCode,t.par_SeasonNo=e.SeasonNo,(0,P.apiCallstoreprocedure)("usp_PG_GetEpisodewithoutSegmentation",t).then((e=>{if(200==e.status){const t=e.data.map((e=>({value:e.EpisodeNo,label:"".concat(e.EpisodeNo)})));S(t),1==t.length&&m("EpisodeNo",t[0].value)}204==e.status&&S([])})).catch((e=>{e.response.status&&S([])}))}I((0,u.Pf)(e.ContentName)),console.log("ClassificationCode",e),console.log("ContentTypeCode",e.ContentTypeCode),m("ClassificationCode",e.ClassificationCode),m("ContentTypeCode",e.ContentTypeCode),m("ContentCode",e.ContentCode),m("TapeTypeCode",1),8==e.ContentTypeCode&&m("ClassificationCode",2),h(e.ContentTypeCode,m),0==e.EpisodeNo?(C(!1),I((0,u.bd)(e.SeasonNo)),m("SeasonNo",e.SeasonNo),m("EpisodeCaption","".concat(e.ContentName))):(C(!0),I((0,u.bd)(e.SeasonNo)),m("SeasonNo",e.SeasonNo),m("EpisodeNo",e.EpisodeNo),m("EpisodeCaption","".concat(e.ContentName,"_S").concat(e.SeasonNo,"_E").concat(e.EpisodeNo)));try{const t=await(0,i.apiGetcontenttxversion)(e.ContentCode);200==t.status&&m("TxMasterCode",t.data[0].TXVersion.TXVersionCode),204==t.status&&m("TxMasterCode","")}catch(t){}s(e.ContentName),m("Resolution",1)})(w)}),[w]),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{children:[0==Object.keys(n).length?(0,g.jsxs)("div",{className:"px-4 flex items-center justify-between border-b border-gray-200 dark:border-gray-600",children:[(0,g.jsx)(p.O6C,{className:"text-xl"}),(0,g.jsx)("input",{ref:E,value:c,className:"ring-0 outline-none block w-full p-2 text-base bg-transparent text-gray-900 dark:text-gray-100",placeholder:o,onChange:R}),(0,g.jsx)(p.Vel,{className:M()("text-xl ml-2 cursor-pointer",{"text-blue-500":T}),onClick:()=>{A.current&&(D(!0),A.current.start())}})]}):(0,g.jsx)(Z,{icon:null===n||void 0===n?void 0:n.label,label:null===n||void 0===n?void 0:n.label,data:n,setSelectedItem:a,ResetData:d,setFieldValue:m,Content:O},null===n||void 0===n?void 0:n.value),f&&(0,g.jsx)("div",{className:"py-6 px-5 max-h-[550px] overflow-y-auto",children:N.map(((e,t)=>{var o;return(0,g.jsx)(_,{icon:e.label,label:e.label,keyWord:(null===(o=E.current)||void 0===o?void 0:o.value)||"",onNavigate:t=>(async(e,t,o)=>{var n,r,l,c,d,p;I((0,u.Pf)(t)),m("EpisodeDuration",""),2==(null===(n=e.ContentClassification)||void 0===n?void 0:n.ClassificationCode)?(m("EpisodeCaption",t),m("ClassificationCode",null===(d=e.ContentClassification)||void 0===d?void 0:d.ClassificationCode)):(m("EpisodeCaption",""),m("ClassificationCode",null===(p=e.ContentClassification)||void 0===p?void 0:p.ClassificationCode)),m("Resolution",null===e||void 0===e?void 0:e.AspectRatio),m("ContentTypeCode",null===(r=e.ContentType)||void 0===r?void 0:r.ContentTypeCode),m("ContentCode",e.value),m("TapeTypeCode",1),h(null===(l=e.ContentType)||void 0===l?void 0:l.ContentTypeCode,m),2==(null===(c=e.ContentClassification)||void 0===c?void 0:c.ClassificationCode)?(C(!0),m("SeasonNo",1),m("EpisodeNo",1)):(C(!1),m("SeasonNo",""),m("EpisodeNo",""));try{const t=await(0,i.apiGetcontenttxversion)(e.value);200==t.status&&m("TxMasterCode",t.data[0].TXVersion.TXVersionCode),204==t.status&&m("TxMasterCode","")}catch(g){}s(t),a(e),v(!1),""!=w&&0!=w.SeasonNo&&(alert(JSON.stringify(w)),m("SeasonNo",w.SeasonNo))})(e,e.label,e.value)},e.value)}))})]})})}));var z=o(45682),B=o(54748),H=o(96361),G=o(1680);const U=s.Ry().shape({ContentCode:s.Z_().required("ContentName Required"),TapeTypeCode:s.Z_().required("Tape Type Required"),HouseID:s.Z_().max(20,"Too Long!"),SeasonNo:s.Z_().required("Season No Required"),EpisodeNo:s.Z_().required("Episode No Required"),OriginalRepeatCode:s.Z_().required("OriginalRepeatCode Required"),MaximumSegments:s.Z_().max(4,"Too Long!").required("MaximumSegments Required"),Resolution:s.Z_().required("Resolution Required"),VideoType:s.Z_().required("VideoType Required"),EpisodeDuration:s.Z_().required("EpisodeDuration Required"),EpisodeCaption:s.Z_().max(200,"Too Long!")}),q=[{value:"1",label:"Data Not Found"}],W=e=>{var t,o;return{alphabets:(null===(t=e.match(/[a-zA-Z]+/g))||void 0===t?void 0:t.join(""))||"",numbers:(null===(o=e.match(/\d+/g))||void 0===o?void 0:o.join(""))||""}},J=e=>{var t,o,s,m,p,C,S,x,f,v;let{setIsOpen:N}=e;const[j,E]=(0,l.useState)(!1),[M,A]=(0,l.useState)(!1),O=window.location.href.split("#")[1],w=(0,r.useDispatch)(),[L,k]=(0,l.useState)([]),R=(0,r.useSelector)((e=>e.auth.session.token)),F=(0,r.useSelector)((e=>e.auth.session.Username)),{MAXSegment:_}=(0,r.useSelector)((e=>e.auth.user)),{Content:Z}=(0,r.useSelector)((e=>e.base.common)),{ContentSeg:J}=(0,r.useSelector)((e=>e.base.common)),X=(0,c.s0)(),[K,Y]=(0,l.useState)([]),[Q,$]=(0,l.useState)([]),[ee,te]=(0,l.useState)(),[oe,ne]=(0,l.useState)([]),[ae,se]=(0,l.useState)(!1),[ie,re]=(0,l.useState)([]),[le,ce]=(0,l.useState)([]),[de,ue]=(0,l.useState)([]),[me,pe]=(0,l.useState)(""),[he,Ce]=(0,l.useState)([]),[ge,Se]=(0,l.useState)(""),[xe,fe]=(0,l.useState)("00:00:00:00"),[ve,Ne]=(0,l.useState)("00:00:00:00"),[je,ye]=(0,l.useState)(!0),[be,Te]=(0,D.Z)(),[De,Ie]=(0,l.useState)(""),[Ee,Me]=(0,l.useState)([]),[Ae,Oe]=(0,l.useState)([]),[we,Le]=(0,l.useState)([]),[ke,Re]=(0,l.useState)([]),[Fe,Pe]=(0,l.useState)([]);(0,l.useEffect)((()=>{(async e=>{se(!0);const t=(await(0,i.apiGetAspectratiomaster)(void 0)).data.map((e=>({value:e.AspectRatioCode,label:e.AspectRatio})));Le(t),se(!1)})()}),[]);const _e=(0,r.useSelector)((e=>e.auth.session.ChannelSetting)),Ze=(0,r.useSelector)((e=>e.locale.selectedChannel)),Ve=async(e,t)=>{var o;Object.keys(Ze).length>0?1===(null===(o=_e[0])||void 0===o?void 0:o.IsTapeCounterFlag)&&(async o=>{try{se(!0);const o=await(0,T.Ij)(Ze.LocationCode,Ze.ChannelCode,"Content Segment",e,0);Ze.label===G.CLIENT.FOOD_INDIA||Ze.label===G.CLIENT.FOOD_USA?t("House",""):t("House",o.data[0].CommVideoID),Pe(o.data[0].CommVideoID),se(!1)}catch(n){500==n.response.status&&(t("House",""),Pe(),Te("HouseId Is Not Configured With This Content Type")),se(!1)}})():Te("Kindly Select Global Channel")};(0,l.useEffect)((()=>{Me([])}),[]);const ze=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const[o,n,a,s]=e.split(":").map(Number);return(3600*o+60*n+a)*t+s};function Be(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const o=Math.floor(e/(3600*t));e%=3600*t;const n=Math.floor(e/(60*t));e%=60*t;const a=Math.floor(e/t),s=e%t;return"".concat(String(o).padStart(2,"0"),":").concat(String(n).padStart(2,"0"),":").concat(String(a).padStart(2,"0"),":").concat(String(s).padStart(2,"0"))}const He=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;setTimeout((()=>N(!1)),500),t&&X(t)},{Segcaption:Ge,Segcaption1:Ue,Segcaption2:qe}=(0,r.useSelector)((e=>e.auth.user));(0,l.useEffect)((()=>{We(0)}),[]);const We=(e,t)=>{(async()=>{let o={LocationCode:Ze.LocationCode,ChannelCode:Ze.ChannelCode,IsGroup:e,EventContentCode:t};try{se(!0);const e=await(0,i.apiGetContentmaster)(o);if(204==e.status)return ne([]),void se(!1);Qe();const t=e.data.map((e=>({value:e.ContentCode,label:e.ContentName,AspectRatio:e.AspectRatio,ContentType:e.ContentType,Content_Image:e.Content_Image,ContentClassification:e.ContentClassification,SlotDuration:e.SlotDuration,FPCReleaseDate:e.FPCReleaseDate,View:e.View})));0!==Z.length&&Xe(t.find((e=>{var t;return(null===(t=Z.ContentMaster)||void 0===t?void 0:t.ContentCode)===e.value||Z.ContentCode===e.value}))),console.log("ContentSeg",J.ContentCode),0!==J.length&&Xe(t.find((e=>J.ContentCode===e.value))),se(!1),ne(t)}catch(n){if(500==n.response.status)return void ne([]);se(!1)}})()};(0,l.useEffect)((()=>{se(!0),(async e=>{const t=(await(0,i.apiGetvideoformattypdrop)(void 0)).data.map((e=>({value:e.VideoFormatTypeCode,label:e.VideoFormatTypeName})));re(t)})(),(async e=>{const t=(await(0,i.apiGetfpcorgrepmaster)(void 0)).data.map((e=>({value:e.OriginalRepeatCode,label:e.OriginalRepeatName})));ce(t)})(),(async e=>{const t=(await(0,I.FZ)(void 0)).data.map((e=>({value:e.TapeTypeCode,label:e.TapeTypeName})));ue(t)})(),(async e=>{const t=(await(0,i.apiGetTXVersionmasterDrop)(void 0)).data.map((e=>({value:e.TXVersionCode,label:e.TXVersionName})));Ce(t)})(),se(!1)}),[Ge,Ue,qe]),console.log(Z);const[Je,Xe]=(0,l.useState)({});(0,l.useEffect)((()=>{null!==Je&&void 0!==Je&&Je.value&&(async e=>{Y([]),w((0,u.wL)(""));try{se(!0);const t=await(0,T.H9)(e,R);if(200===t.status){let e=[];if(Ze.label!==G.CLIENT.FOOD_INDIA&&Ze.label!==G.CLIENT.FOOD_USA){const e=t.data.reduce(((e,t)=>t.SeasonNo>e.SeasonNo?t:e),t.data[0]).SeasonNo;let o=[];for(let t=1;t<=e;t++)o.push({label:t.toString(),value:t});return console.log(o),void Y(o)}for(let o=1;o<=(null===t||void 0===t?void 0:t.data[0].SeasonNo);o++)e=[...e,{label:o.toString(),value:o}];Y(e)}else if("Server Error."===t.status)return;se(!1)}catch(t){return se(!1),{}}finally{se(!1)}})(null===Je||void 0===Je?void 0:Je.value)}),[null===Je||void 0===Je?void 0:Je.value]);const[Ke,Ye]=(0,l.useState)(""),Qe=()=>{try{Ye(""),Xe({})}catch(e){console.error(e)}};return(0,g.jsx)(n.Zb,{header:O.startsWith("/addfpc")||O.startsWith("/DailyFPCApp")?null:(0,g.jsx)(H.Z,{}),children:(0,g.jsxs)("div",{children:[be&&(0,g.jsx)(n.bZ,{className:"mb-4",type:De,showIcon:!0,children:be}),(0,g.jsx)(a.J9,{initialValues:{ContentTypeCode:(null===(t=Z.ContentType)||void 0===t?void 0:t.ContentTypeCode)||"",ClassificationCode:"",ContentName:(null===(o=Z.ContentMaster)||void 0===o?void 0:o.ContentName)||Z.ContentName||"",ContentCode:(null===(s=Z.ContentMaster)||void 0===s?void 0:s.ContentCode)||Z.ContentCode||"",OriginalRepeatCode:(null===(m=Z.FPCOrgRep)||void 0===m?void 0:m.OriginalRepeatCode)||1,OriginalRepeatName:(null===(p=Z.FPCOrgRep)||void 0===p?void 0:p.OriginalRepeatName)||0,SeasonNo:Z.SeasonNo||"",EpisodeNo:""+Z.EpisodeNo||"",TapeTypeCode:(null===(C=Z.TapeTypeMaster)||void 0===C?void 0:C.TapeTypeCode)||"",SubContentCode:(null===(S=Z.SubContentMaster)||void 0===S?void 0:S.SubContentCode)||"",TapeID:Z.TapeID||"",MaximumSegments:Z.MaximumSegments||"",EpisodeCaption:Z.EpisodeCaption||"",EpisodeDuration:Z.EpisodeDuration||"",EpisodeDurationinMin:Z.EpisodeDurationinMin||"",Remarks:Z.Remarks||"",VideoType:(null===(x=Z.VideoFormatType)||void 0===x?void 0:x.VideoFormatTypeCode)||1,Resolution:(null===(f=Z.AspectRatioMaster)||void 0===f?void 0:f.AspectRatioCode)||"",VideoSizeCode:Z.VideoSizeCode||"",TxMasterCode:(null===(v=Z.TXVersionMaster)||void 0===v?void 0:v.TXVersionCode)||"",LongSynopsis:Z.LongSynopsis,IsActive:(Z.IsActive,!0),House:Z.HouseID||"",isSpecialEpisode:1===Z.isSpecialEpisode},validationSchema:U,onSubmit:(e,t)=>{let{resetForm:o,setSubmitting:n}=t;setTimeout((()=>{Z.SegmentCode?new Promise(((t,a)=>{n(!1),console.log(e),(async(e,t,o)=>{const{ContentCode:n,OriginalRepeatCode:a,SeasonNo:s,EpisodeNo:r,TapeID:l,MaximumSegments:c,EpisodeCaption:d,EpisodeDuration:u,isSpecialEpisode:m,Remarks:p,ContentTypeCode:C,Resolution:g,TapeTypeCode:S,VideoType:x,TxMasterCode:f,House:v,IsActive:j,IsSpecialEp:y,LongSynopsis:b}=e;console.log("values",e);const T={request:{ContentCode:Number(n),OriginalRepeatCode:Number(a),SeasonNo:Number(s),EpisodeNo:Number(r),PartNumber:1,SubContentCode:1,TapeID:"".concat(l),MaximumSegments:c,EpisodeCaption:d,EpisodeDuration:u,isSpecialEpisode:m,Remarks:p,ContentTypeCode:C,VideoTypeCode:1,AspectRatioCode:Number(g),TapeTypeCode:Number(S),VideoSizeCode:1,VideoFormatTypeCode:Number(x),TXVersionCode:Number(f),ShortSynopsis:"string",LongSynopsis:b,HouseID:v,IsReadyToBroadCast:j?1:0,IsActive:j?1:0,IsSpecialEp:y},details:Ee.map((e=>({ContentCode:n,OriginalRepeatCode:a,SeasonNo:Number(s),EpisodeNo:Number(r),PartNumber:1,SegmentNo:Number(e.SegmentNo),SubContentCode:1,SegmentCaption:e.SegmentCaption,TCIN:e.SOM,TCOUT:e.EOM,SegmentDuration:e.SegmentDuration,SegmentRemark:e.Remark,IsQCChecked:0,IsInjested:0,IsDubbed:0,IsSubTitled:0,TXVersionCode:Number(f),VideoID:e.ClipID,IsBackToBack:e.checked?1:0,IsActive:e.IsActive?1:0}))),scenedetails:L.map((e=>({ContentCode:n,SeasonNo:Number(s),EpisodeNo:Number(r),SegmentNo:Number(e.SegmentNo),SceneTypeCode:Number(e.SceneTypeCode.value),SceneOffsetStart:e.SceneOffsetStart,SceneOffsetEnd:e.SceneOffsetEnd,IsActive:e.IsActive?1:0})))};try{se(!0);const e=await(0,i.PutContentSeg)(T,t,Z.SegmentCode);if(204===e.status)return void(0,h.openNotification)("danger","Data Already Exist !!!");if(200===e.status)return(0,h.openNotification)("success","Data Updated Successfully."),console.log(Je.label),await(0,i.apisendnotification)({NotificationId:(Math.random()+1).toString(36).substring(7),user_ids:[10],message:Je.label+" Content Segment Modified.",image:"",type:"1",location:"Content Segment Modified.",locationLabel:F,Status:"1",isGroup:1,Ispriority:1,readed:0}),o(),X("/ContentSegment"),void setTimeout((()=>{N&&"function"===typeof N&&N(!1)}),500)}catch(I){var D;console.log(I),500===(null===I||void 0===I||null===(D=I.response)||void 0===D?void 0:D.status)?(0,h.openNotification)("danger","Something went wrong."):(0,h.openNotification)("danger","An unexpected error occurred.")}finally{se(!1)}})(e,R,o).then((e=>{t(e)})).catch((e=>{a(e)}))})):new Promise(((t,n)=>{(async(e,t,o)=>{const{ContentCode:n,OriginalRepeatCode:a,SeasonNo:s,EpisodeNo:r,TapeID:l,EpisodeCaption:c,EpisodeDuration:d,isSpecialEpisode:u,Remarks:m,ContentTypeCode:p,Resolution:C,TapeTypeCode:g,VideoType:S,TxMasterCode:x,House:f,IsActive:v,IsSpecialEp:N,LongSynopsis:j}=e,{LocationCode:y,ChannelCode:b}=Ze,T=O.startsWith("/addfpc")||O.startsWith("/DailyFPCApp"),D={request:{ContentCode:Number(n),OriginalRepeatCode:Number(a),SeasonNo:Number(s),EpisodeNo:Number(r),PartNumber:1,SubContentCode:1,TapeID:"".concat(l),MaximumSegments:Number(_),EpisodeCaption:c,EpisodeDuration:d,isSpecialEpisode:u,Remarks:m,ContentTypeCode:p,VideoTypeCode:1,AspectRatioCode:Number(C),TapeTypeCode:Number(g),VideoSizeCode:1,VideoFormatTypeCode:Number(S),TXVersionCode:Number(x),ShortSynopsis:"string",LongSynopsis:j,HouseID:f,IsReadyToBroadCast:v?1:0,IsActive:v?1:0,IsSpecialEp:N},details:Ee.map((e=>({ContentCode:n,OriginalRepeatCode:a,SeasonNo:Number(s),EpisodeNo:Number(r),PartNumber:1,SegmentNo:Number(e.SegmentNo),SubContentCode:1,SegmentCaption:e.SegmentCaption,TCIN:e.SOM,TCOUT:e.EOM,SegmentDuration:e.SegmentDuration,SegmentRemark:e.Remark,IsQCChecked:0,IsInjested:0,IsDubbed:0,IsSubTitled:0,TXVersionCode:Number(x),VideoID:e.ClipID,IsBackToBack:e.checked?1:0,IsActive:e.IsActive?1:0}))),scenedetails:L.map((e=>({ContentCode:n,SeasonNo:Number(s),EpisodeNo:Number(r),SegmentNo:Number(e.SegmentNo),SceneTypeCode:Number(e.SceneTypeCode.value),SceneOffsetStart:e.SceneOffsetStart,SceneOffsetEnd:e.SceneOffsetEnd,IsActive:e.IsActive?1:0}))),genvideoId:{LocationCode:y,ChannelCode:b,FormName:"Content Segment",EventTypeCode:Number(p),Mode:1}};try{se(!0);const e=await(0,i.PostContentSeg)(D,t);if(204===e.status)return(0,h.openNotification)("danger","Data Already Exists. !!!"),void He(T);if(200===e.status)return(0,h.openNotification)("success","Data Added Successfully"),He(T,"/ContentSegment"),o(),void await(0,i.apisendnotification)({NotificationId:(Math.random()+1).toString(36).substring(7),user_ids:[10],message:Je.label+" Content Segment Added.",image:"",type:"1",location:"Content Segment Added.",locationLabel:F,Status:"1",isGroup:1,Ispriority:1,readed:0})}catch(E){var I;500===(null===(I=E.response)||void 0===I?void 0:I.status)?(0,h.openNotification)("danger","Something went wrong."):(0,h.openNotification)("danger","An unexpected error occurred.")}finally{se(!1)}})(e,R,o).then((e=>{t(e)})).catch((e=>{n(e)}))}))}),400)},children:e=>{var t,o,s;let{values:i,touched:r,errors:l,setFieldValue:m}=e;return(0,g.jsx)(a.l0,{children:(0,g.jsxs)(n.Yb,{children:[(0,g.jsx)(z.default,{showLoader:ae}),(0,g.jsx)(n.Zb,{headerExtra:(0,d.m)(me,pe,c.Fg),children:(0,g.jsxs)("div",{className:0!==Object.keys(Je).length?"grid grid-cols-3 md:grid-cols-3 gap-4":"grid-cols-1 md:grid-cols-1",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(V,{className:"block",SelectedItem:Je,setSelectedItem:Xe,data:oe,placeholder:"Search Content...",setInputValue:Ye,InputValue:Ke,ResetData:Qe,setFieldValue:m,houseid:Ve,setContentTypeValue:te,setEpisodeNo:$}),0!==Object.keys(Je).length&&(0,g.jsx)("div",{className:"col-span-4",children:(0,g.jsx)(n.xJ,{label:G.CLIENT.ANI_PLUS===Ze.label?"Advisory":"Remark",invalid:l.Remarks&&r.Remarks,errorMessage:l.Remarks,children:(0,g.jsx)(a.gN,{size:"sm",autoComplete:"off",name:"Remarks",placeholder:"Remarks",component:n.II})})})]}),0!==Object.keys(Je).length&&(0,g.jsx)(n.Zb,{className:"col-span-2",children:(0,g.jsxs)("div",{className:"grid grid-cols-12 gap-2",children:[(0,g.jsx)("div",{className:"col-span-3",children:(0,g.jsx)(n.xJ,{asterisk:!0,label:"Original/Repeat",invalid:l.OriginalRepeatCode&&r.OriginalRepeatCode,errorMessage:l.OriginalRepeatCode,children:(0,g.jsx)(a.gN,{size:"sm",name:"OriginalRepeatCode",style:{width:"250px"},children:e=>{var t;let{field:o,form:a}=e;return(0,g.jsx)(n.Ph,{style:{width:"250px"},field:o,form:a,options:le,isDisabled:null===(t=Z.FPCOrgRep)||void 0===t?void 0:t.OriginalRepeatName,value:le.length>0?le.filter((e=>e.value===i.OriginalRepeatCode)):q.filter((e=>e.value===i.ReportingTo)),onChange:e=>{a.setFieldValue(o.name,null===e||void 0===e?void 0:e.value)}})}})})}),(2!=i.ClassificationCode||8!=i.ContentTypeCode)&&(0,g.jsx)("div",{className:"col-span-2",children:(0,g.jsx)(n.xJ,{asterisk:!0,label:"Season",invalid:l.SeasonNo&&r.SeasonNo,errorMessage:l.SeasonNo,children:ee||Z.SeasonNo?(0,g.jsx)(a.gN,{type:"text",autoComplete:"off",name:"SeasonNo",placeholder:"SeasonNo",disabled:!0,component:n.II,size:"sm"}):(0,g.jsx)(a.gN,{name:"SeasonNo",children:e=>{let{field:t,form:o}=e;return(0,g.jsx)(n.Ph,{field:t,form:o,placeholder:"SE",options:K,value:K.filter((e=>e.value===i.SeasonNo)),onChange:e=>{$([]),Me([]),i.EpisodeDuration="",fe("00:00:00:00"),Se(""),Ne("00:00:00:00"),w((0,u.wL)("")),i.EpisodeDuration="",w((0,u.bd)(e.label)),i.EpisodeCaption="".concat(Ge.replace(/ /,""),"_S").concat(e.label,"_E").concat(qe),m(t.name,null===e||void 0===e?void 0:e.value);const o={par_ContentCode:Je.value,par_SeasonNo:e.value};(0,P.apiCallstoreprocedure)("usp_PG_GetEpisodewithoutSegmentation",o).then((e=>{if(200===e.status){const t=e.data.map((e=>({value:e.EpisodeNo,label:"".concat(e.EpisodeNo)})));$(t)}else 204===e.status&&$([])})).catch((e=>{e.response.status&&$([])}))}})}})})}),(2!=i.ClassificationCode||8!=i.ContentTypeCode)&&(0,g.jsx)("div",{className:"col-span-2",children:(0,g.jsx)(n.xJ,{asterisk:!0,label:"Episode",invalid:l.EpisodeNo&&r.EpisodeNo,errorMessage:l.EpisodeNo,children:ee||Z.EpisodeNo?(0,g.jsx)(a.gN,{type:"text",autoComplete:"off",name:"EpisodeNo",placeholder:"EpisodeNo",disabled:!0,component:n.II,size:"sm"}):(0,g.jsx)(a.gN,{name:"EpisodeNo",children:e=>{let{field:t,form:o}=e;return(0,g.jsx)(n.Ph,{field:t,form:o,placeholder:"EP",options:Q,value:null===Q||void 0===Q?void 0:Q.filter((e=>e.value===i.EpisodeNo)),onChange:e=>{i.EpisodeDuration="",w((0,u.xK)(e.label)),i.EpisodeCaption="".concat(Ge.replace(/ /,""),"_S").concat(Ue,"_E").concat(e.label),Me([]),i.EpisodeDuration="",fe("00:00:00:00"),Se(""),Ne("00:00:00:00"),m(t.name,null===e||void 0===e?void 0:e.value)}})}})})}),0==(null===(t=_e[0])||void 0===t?void 0:t.IsTapeCounterFlag)&&(0,g.jsxs)("div",{className:"col-span-2",children:[(0,g.jsx)(n.xJ,{asterisk:!0,label:"House ID",invalid:l.House&&r.House,errorMessage:l.House,children:(0,g.jsx)(a.gN,{type:"text",disabled:1==(null===(o=_e[0])||void 0===o?void 0:o.IsTapeCounterFlag),autoComplete:"off",name:"House",placeholder:"House ID",component:n.II,size:"sm"})})," "]}),(0,g.jsx)("div",{className:"col-span-3",children:(0,g.jsx)(n.xJ,{asterisk:!0,label:"Video Format",invalid:l.VideoType&&r.VideoType,errorMessage:l.VideoType,children:(0,g.jsx)(a.gN,{size:"sm",name:"VideoType",style:{width:"250px"},children:e=>{let{field:t,form:o}=e;return(0,g.jsx)(n.Ph,{style:{width:"250px"},field:t,form:o,options:ie,value:ie.filter((e=>e.value===i.VideoType)),onChange:e=>o.setFieldValue(t.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,g.jsx)("div",{className:"col-span-4",children:(0,g.jsx)(n.xJ,{label:"Episode Caption",invalid:l.EpisodeCaption&&r.EpisodeCaption,errorMessage:l.EpisodeCaption,children:(0,g.jsx)(a.gN,{size:"sm",autoComplete:"off",name:"EpisodeCaption",placeholder:"Episode Caption",component:n.II,disabled:!0})})}),(0,g.jsx)("div",{className:"col-span-1",children:(0,g.jsx)(n.xJ,{asterisk:!0,label:"Segment",invalid:l.MaximumSegments&&r.MaximumSegments,errorMessage:l.MaximumSegments,children:(0,g.jsx)(a.gN,{name:"MaximumSegments",placeholder:"MaximumSegments",children:e=>{let{field:t,form:o}=e;return(0,g.jsx)(n.II,{size:"sm",style:{width:65},maxLength:"2",field:t,form:o,onChange:e=>{(0,B.n1)(e.target.value)&&(o.setFieldValue(t.name,e.target.value),Z.MaximumSegments?M||E(!0):(Me([]),i.EpisodeDuration="",fe("00:00:00:00"),Se(""),Ne("00:00:00:00")))}})}})})}),(0,g.jsx)("div",{className:"col-span-3 ml-4",children:(0,g.jsx)(n.xJ,{asterisk:!0,label:"Episode Duration",invalid:l.EpisodeDuration&&r.EpisodeDuration,errorMessage:l.EpisodeDuration,children:(0,g.jsx)(a.gN,{size:"lg",name:"EpisodeDuration",placeholder:"Episode Duration",children:e=>{let{field:t,form:o}=e;return(0,g.jsx)(n.II,{field:t,form:o,size:"sm",value:i.EpisodeDuration,placeholder:"HH:MM:SS:FF",onChange:e=>{Me([]),fe("00:00:00:00"),Se(""),Ne("00:00:00:00"),(0,h.handleChangeWithFrame)(e,o,t,"formic")},onBlur:e=>{var n;const{name:a,value:s}=e.target,r=(0,h.formatOnHHMMSSFFBlur)(s,Number((null===(n=_e[0])||void 0===n?void 0:n.FramePerSec)||24));(0,h.parseDuration)(r)<=60*(null===Je||void 0===Je?void 0:Je.SlotDuration)?(i.ContentCode&&i.SeasonNo&&i.EpisodeNo&&((e,t,o,n,a,s)=>{if(11===t.length&&xe){var i;w((0,u.wL)(e));const r=Number((null===(i=_e[0])||void 0===i?void 0:i.FramePerSec)||24),l=ze(t,r),c=ze(xe,r),d=Math.floor(l/e),m=l%e;let p=[],C=[],g=c;for(let t=1;t<=e;t++){const i=g+(d+(t===e?m:0)),l=Be(g,r),c=Be(i,r),u=Be(i-g,r),h=null===a||void 0===a?void 0:a.toString().padStart(3,"0"),S=t.toString().padStart(2,"0"),x=Ze.label===G.CLIENT.FOOD_INDIA||Ze.label===G.CLIENT.FOOD_USA?W(Fe).alphabets+s+h+S:n;p.push({SegmentNo:t.toString(),SOM:l,EOM:c,SegmentCaption:"".concat(o,"_").concat(t,"_Of_").concat(e),SegmentDuration:u,ClipID:x,Remark:"",checked:je}),C.push({label:t.toString(),value:t.toString()}),g=i}const S=p.reduce(((e,t)=>e+ze(t.SegmentDuration,r)),0);if(S>60*((null===Je||void 0===Je?void 0:Je.SlotDuration)||0)*r)return void(0,h.openNotification)("warning","Episode Duration should not exceed Content Slot Duration");Me(p),Oe(C),t=Be(S,r)}else(0,h.openNotification)("warning","Invalid duration or missing SOM")})(i.MaximumSegments,r,i.EpisodeCaption,i.House,i.EpisodeNo,i.SeasonNo),o.setFieldValue(t.name,r)):(0,h.openNotification)("warning","Episode Duration should not exceed Content Slot Duration alert")}})}})})}),G.CLIENT.ANI_PLUS==Ze.label&&(0,g.jsx)("div",{className:"col-span-3 ml-4",children:(0,g.jsx)(n.xJ,{asterisk:!0,label:"Is Special Episode",invalid:l.isSpecialEpisode&&r.isSpecialEpisode,errorMessage:l.isSpecialEpisode,children:(0,g.jsx)(a.gN,{name:"isSpecialEpisode",component:n.T5})})}),(Ze.label===G.CLIENT.FOOD_INDIA||Ze.label===G.CLIENT.FOOD_USA)&&(0,g.jsxs)("div",{className:"col-span-2",children:[(0,g.jsx)(n.xJ,{asterisk:!0,label:"House ID",invalid:l.House&&r.House,errorMessage:l.House,children:(0,g.jsx)(a.gN,{type:"text",autoComplete:"off",name:"House",placeholder:"House ID",component:n.II,size:"sm"})})," "]}),Ze.label==G.CLIENT.FOOD_INDIA||Ze.label==G.CLIENT.FOOD_USA?null:(0,g.jsx)(g.Fragment,{children:1==(null===(s=_e[0])||void 0===s?void 0:s.IsTapeCounterFlag)&&(0,g.jsxs)("div",{className:"col-span-4",children:[(0,g.jsx)("p",{className:"text-white",children:"House ID"}),(0,g.jsx)("h2",{className:"mt-1",children:i.House})]})}),(0,g.jsx)("div",{className:"col-span-12",children:(0,g.jsx)(n.xJ,{label:"Synopsis",invalid:l.LongSynopsis&&r.LongSynopsis,errorMessage:l.LongSynopsis,children:(0,g.jsx)(a.gN,{type:"text",autoComplete:"off",name:"LongSynopsis",placeholder:"Synopsis",component:n.II,size:"sm"})})})]})})]})}),0!==Object.keys(Je).length&&(0,g.jsx)(n.Zb,{children:(0,g.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-1 gap-2",children:(0,g.jsx)("div",{className:"col-span-3",children:(0,g.jsx)(y,{touched:r,errors:l,values:i,data:Ee,setData:Me,op:Z.open,EOM:ge,setEOM:Se,dataiwanttoshow:L,setdataiwanttoshow:k,setSOM:fe,SOM:xe,setSegmentDuration:Ne,SegmentDuration:ve,setoptions3:Oe,options3:Ae,setChecked:ye,checked:je,selectedItem:Je})})})}),0!==Object.keys(Je).length&&(0,g.jsx)(b.gi,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:(0,g.jsxs)("div",{className:"md:flex items-center",children:[(0,g.jsx)(n.zx,{variant:"solid",type:"submit",disabled:0==Object.keys(Je).length,children:"Save"}),"\xa0",(0,g.jsx)(n.zx,{type:"button",onClick:()=>{O.startsWith("/addfpc")||O.startsWith("/DailyFPCApp"),X("/ContentSegment"),setTimeout((()=>N(!1)),500)},children:"Discard"})]})}),(0,g.jsxs)(n.Vq,{isOpen:j,style:{content:{marginTop:250}},contentClassName:"pb-0 px-0",onClose:()=>{E(!1),i.MaximumSegments=Z.MaximumSegments},children:[(0,g.jsx)("div",{className:"px-6 pb-6",children:(0,g.jsx)("p",{children:"You will lose previous entered data. Do you wish to continue\xa0?"})}),(0,g.jsxs)("div",{className:"text-right px-6 py-3 bg-gray-100 dark:bg-gray-700 rounded-bl-lg rounded-br-lg",children:[(0,g.jsx)(n.zx,{className:"ltr:mr-2 rtl:ml-2",onClick:()=>{E(!1),i.MaximumSegments=Z.MaximumSegments},children:"No"}),(0,g.jsx)(n.zx,{variant:"solid",onClick:()=>{Me([]),i.EpisodeDuration="",fe("00:00:00:00"),Se(""),Ne("00:00:00:00"),E(!1),A(!0)},children:"Yes"})]})]})]})})}})]})})}}}]);
//# sourceMappingURL=303.34eee028.chunk.js.map