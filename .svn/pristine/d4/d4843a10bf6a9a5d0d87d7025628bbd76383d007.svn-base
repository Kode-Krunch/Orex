{"version":3,"file":"static/js/2109.8fabdceb.chunk.js","mappings":"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yB,CACxBhb,MAAO,CACLoJ,OACArN,OACA2V,eACAjO,iBACAoO,kBACAE,mBACAE,8BACAE,sBACApD,sBACAyD,sBACAG,wBACAE,iCACAI,+BACAE,0BACAE,2BACAyB,cACAE,mBACAzB,sBACAE,sBACAI,sBACAE,uBACAE,wBACAE,gCACAK,8BACAE,0BACAE,2BACAY,aACAN,aACAE,aACAuB,sBACAE,qBACAC,0BACAzC,wBACAiB,iCACAI,cACAE,mBACAE,2BACAE,0BACAhH,2BACAmH,wBACAE,oBACAE,mBACAE,kBACAlF,UACAE,UACAE,kBACAC,oBACAE,qBACAE,sBACAE,iCACAE,yBACAE,oBACAC,yBACAE,yBACAG,2BACAE,oCACAI,kCACAE,6BACAE,8BACAE,yBACAE,yBACAE,qBACAE,yBACAE,0BACAE,2BACAE,mCACAK,iCACAE,6BACAE,8BACAY,gBACAV,iBACAE,sBACAE,gBACAE,gBACAf,2BACAiB,oCACAI,iBACAE,sBACAE,8BACAE,6BACAK,uBACAE,sBACAE,qBACAuE,iBA55DNrnB,eAAgC,GA2C5B,IA3C4B,UAC9BsnB,EAAS,SACT5X,EAAQ,eACR+K,EAAc,KACdC,EAAI,eACJC,EAAc,gBACdC,EAAe,gBACfC,EAAe,eACf0M,EAAc,kBACdC,EAAiB,eACjBC,EAAc,oBACdC,EAAmB,qBACnBC,EAAoB,mBACpBC,EAAkB,eAClBC,EAAc,uBACdC,EAAsB,mBACtBC,EAAkB,eAClBC,GAAc,UACd/X,GAAS,gBACTgY,GAAe,uBACfC,GAAsB,iBACtBC,GAAgB,sBAChBC,GAAqB,UACrBC,GAAS,YACTC,IAAc,EAAK,kBACnBC,IAAoB,EAAK,cACzBC,IAAgB,EAAK,qBACrBC,GAAoB,KACpBriB,GAAO,MAAK,gBACZ0U,GAAe,eACfC,GAAc,aACdC,GAAY,mBACZC,GAAkB,qBAClBC,GAAoB,WACpBwN,GAAU,qBACVpF,GAAoB,iBACpBkB,GAAgB,iBAChBmE,GAAgB,2BAChBC,GAA0B,QAC1BrC,GAAO,gBACPnV,GAAe,iBACfiK,GAAgB,YAChBwN,I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","sources":["services/ControlsService.js","services/LibraryService.js","services/SchedulingService.js","views/Controls/ExportxlswithColor.js","views/Controls/clientListEnum.js","views/Scheduling/Scheduler/context/utils/ntcOperations/ntcDrag.js","views/Scheduling/Scheduler/context/utils/commOperations/utils.js","views/Scheduling/Scheduler/context/utils/commOperations/commDrag.js","views/Scheduling/Scheduler/context/utils/promoOperations/utils.js","views/Scheduling/Scheduler/context/utils/promoOperations/promoDrag.js","views/Scheduling/Scheduler/context/utils/songOperations/utils.js","views/Scheduling/Scheduler/context/utils/songOperations/songDrag.js","views/Scheduling/Scheduler/context/utils/schTableOperations/ntcDragUtils.js","views/Scheduling/Scheduler/context/utils/schTableOperations/utils.js","views/Scheduling/Scheduler/context/utils/schTableOperations/schTableDrag.js","views/Scheduling/Scheduler/context/utils/commOperations/commInsert.js","views/Scheduling/Scheduler/context/utils/songOperations/songBulkInsert.js","views/Scheduling/Scheduler/context/utils/ntcOperations/ntcBulkInsert.js","views/Scheduling/Scheduler/context/utils/promoOperations/promoBulkInsert.js","views/Scheduling/Scheduler/context/utils/promoOperations/promoReplace.js","views/Scheduling/Scheduler/context/utils/ntcOperations/ntcReplace.js","views/Scheduling/Scheduler/context/utils/programOperations/programDrag.js","views/Scheduling/Scheduler/context/utils/ntcOperations/ntcRepeatInsert.js","views/Scheduling/Scheduler/context/SchedulerContextProvider.js","views/Scheduling/Scheduler/context/utils/promoOperations/promoInsert.js","views/Scheduling/Scheduler/context/utils/songOperations/songInsert.js","views/Scheduling/Scheduler/context/utils/ntcOperations/ntcInsert.js","views/Scheduling/Scheduler/context/utils/songOperations/songReplace.js","views/Scheduling/Scheduler/context/utils/promoOperations/promoReplaceAll.js","views/Scheduling/Scheduler/context/utils/songOperations/songReplaceAll.js","views/Scheduling/Scheduler/context/utils/ntcOperations/ntcReplaceAll.js","views/Scheduling/Scheduler/Scheduler.js","views/Scheduling/Scheduler/utils.js","views/Scheduling/Scheduler/components/SchedulingArea/components/BottomSummary/utils.js","views/Scheduling/Scheduler/components/SchedulingArea/components/Toolbar/components/AutoShuffleDialog/utils.js","views/Scheduling/Scheduler/context/SchedulerContext.js","views/Scheduling/Scheduler/context/utils/ntcOperations/utils.js"],"sourcesContent":["\r\nimport ApiService from './ApiService';\r\n\r\nexport async function apiPOSTColumnSetting(data) {\r\n  return ApiService.fetchData({\r\n    url: `/columnsetting`,\r\n    method: 'post',\r\n    data,\r\n  });\r\n}\r\nexport async function apiGETColumnSetting(screenName) {\r\n  return ApiService.fetchData({\r\n    url: `/columnsetting/${screenName}`,\r\n    method: 'get',\r\n\r\n  });\r\n}","import appConfig from 'configs/app.config';\r\nimport ApiService from './ApiService';\r\nconst axios = require('axios');\r\nconst APIURL = process.env.APIURL;\r\n\r\nexport async function apiGetmusicagencymst(data) {\r\n  return ApiService.fetchData({\r\n    url: '/musicagencymst/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nconst Postmusicagencymst = (param, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let data = JSON.stringify({\r\n      MusicAgencyName: param.MusicAgencyName,\r\n      MusicAgency_Addr1: param.MusicAgency_Addr1,\r\n      MusicAgency_Addr2: param.MusicAgency_Addr1,\r\n      PlaceCode: param.PlaceCode,\r\n      CountryCode: param.CountryCode,\r\n      StateCode: param.StateCode,\r\n      MusicAgency_Contact1: param.MusicAgency_Contact1,\r\n      MusicAgency_Contact2: param.MusicAgency_Contact1,\r\n      MusicAgency_Faxno: param.MusicAgency_Faxno,\r\n      MusicAgency_Email: param.MusicAgency_Email,\r\n      ContactPerson: param.ContactPerson,\r\n      IsMusicAgency: 1,\r\n      IsMusicCompany: 1,\r\n      IsActive: 1,\r\n    });\r\n\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/musicagencymst/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst Putmusicagencymst = (param, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let data = JSON.stringify({\r\n      MusicAgencyName: param.MusicAgencyName,\r\n      MusicAgency_Addr1: param.MusicAgency_Addr1,\r\n      MusicAgency_Addr2: param.MusicAgency_Addr1,\r\n      PlaceCode: param.PlaceCode,\r\n      CountryCode: param.CountryCode,\r\n      StateCode: param.StateCode,\r\n      MusicAgency_Contact1: param.MusicAgency_Contact1,\r\n      MusicAgency_Contact2: param.MusicAgency_Contact1,\r\n      MusicAgency_Faxno: param.MusicAgency_Faxno,\r\n      MusicAgency_Email: param.MusicAgency_Email,\r\n      ContactPerson: param.ContactPerson,\r\n      IsMusicAgency: 1,\r\n      IsMusicCompany: 1,\r\n      IsActive: 1,\r\n    });\r\n\r\n    let config = {\r\n      method: 'put',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + `/musicagencymst/${param.MusicAgencyCode}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\nconst Postautoshufflepromo = (param, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + `/autoshufflepromo/`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: param,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nexport async function apiautoshufflepromo(data) {\r\n  return ApiService.fetchData({\r\n    url: `/autoshufflepromo/drop/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}`,\r\n    method: 'get',\r\n  });\r\n}\r\nexport async function apiautoshufflepromoId(id) {\r\n  return ApiService.fetchData({\r\n    url: `/autoshufflepromo/${id}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apipromomasterdropasperdate(formState, fromdate, todate) {\r\n  return ApiService.fetchData({\r\n    url: `/promomaster/asperdate/?LocationCode=${formState.LocationCode}&ChannelCode=${formState.ChannelCode}&fromdate=${fromdate}&todate=${todate}`,\r\n    method: 'get',\r\n  });\r\n}\r\nexport async function apipromomasterdrop() {\r\n  return ApiService.fetchData({\r\n    url: '/promomaster/drop/',\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport { Postmusicagencymst, Putmusicagencymst, Postautoshufflepromo };\r\n","import appConfig from 'configs/app.config';\r\nimport ApiService from './ApiService';\r\n\r\nconst axios = require('axios');\r\n\r\nconst APIURL = process.env.APIURL;\r\n\r\nexport async function apiGetPromomaster(data, search) {\r\n  const searchParam = search ? `&search=${search}` : '';\r\n  const url = `/promomaster/?&LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}${searchParam}`;\r\n  return ApiService.fetchData({\r\n    url,\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetPromomasterFilter(channel, data) {\r\n  let url = `/promomaster/filter/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}`;\r\n\r\n  if (data.PromoTypeCode) {\r\n    url += `&PromoTypeCode=${data.PromoTypeCode}`;\r\n  }\r\n  if (data.Caption) {\r\n    url += `&Caption=${data.Caption}`;\r\n  }\r\n  if (data.Duration[0]) {\r\n    url += `&Duration1=${data.Duration[0]}`;\r\n  }\r\n  if (data.Duration[1]) {\r\n    url += `&Duration2=${data.Duration[1]}`;\r\n  }\r\n  if (data.VideoID) {\r\n    url += `&VideoID=${data.VideoID}`;\r\n  }\r\n\r\n  return ApiService.fetchData({\r\n    url,\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetsmartshufflesetting(data) {\r\n  return ApiService.fetchData({\r\n    url: `/smartshufflesetting/?&LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}`,\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nexport async function apiPutsmartshufflesetting(data, SmartshufflesettingCode) {\r\n  return ApiService.fetchData({\r\n    url: `/smartshufflesetting/${SmartshufflesettingCode}`,\r\n    method: 'put',\r\n    data,\r\n  });\r\n}\r\nexport async function apiPostsmartshufflesetting(data) {\r\n  return ApiService.fetchData({\r\n    url: `/smartshufflesetting/`,\r\n    method: 'post',\r\n    data,\r\n  });\r\n}\r\nconst UploadXslspromo = async (row, token) => {\r\n  let headersList = {\r\n    Accept: '*/*',\r\n    Authorization: `Bearer ${token}`,\r\n  };\r\n\r\n  let bodyContent = new FormData();\r\n  bodyContent.append(\r\n    'file',\r\n    `c:\\Users\\akash\\Downloads\\Promo_Import_Template.xlsx`,\r\n  );\r\n\r\n  let response = await fetch(appConfig.apiPrefix + '/promomaster/upload/', {\r\n    method: 'POST',\r\n    body: bodyContent,\r\n    headers: headersList,\r\n  });\r\n\r\n  let data = await response.json();\r\n  return data;\r\n};\r\nexport async function apiGetSongGenreMaster(data) {\r\n  return ApiService.fetchData({\r\n    url: '/songgenre/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nexport async function apiGetSongcategoryMaster(data) {\r\n  return ApiService.fetchData({\r\n    url: '/songcategory/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nexport async function apiGetSongmaster(data) {\r\n  return ApiService.fetchData({\r\n    url: `/songmaster/?&LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}`,\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetSongmasterbyId(id) {\r\n  return ApiService.fetchData({\r\n    url: `/songmaster/${id}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nconst UpdateSongGenre = (row, token) => {\r\n  return fetch(appConfig.apiPrefix + `/songgenre/${row.SongGenreCode}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      SongGenreName: row.SongGenreName,\r\n      IsActive: row.IsActive,\r\n    }),\r\n  });\r\n};\r\nconst AddMovieAlbum = (row, token) => {\r\n  return fetch(appConfig.apiPrefix + `/moviealbummaster`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      MovieAlbumName: row.MovieAlbumName,\r\n      IsActive: row.IsActive,\r\n    }),\r\n  });\r\n};\r\nconst UpdateMovieAlbum = (row, token) => {\r\n  return fetch(\r\n    appConfig.apiPrefix + `/moviealbummaster/${row.MovieAlbumCode}`,\r\n    {\r\n      method: 'PUT',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        MovieAlbumName: row.MovieAlbumName,\r\n        IsActive: row.IsActive,\r\n      }),\r\n    },\r\n  );\r\n};\r\n\r\nconst UpdateSongcategory = (row, token) => {\r\n  console.log(row);\r\n  return fetch(appConfig.apiPrefix + `/songcategory/${row.SongCategoryCode}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      SongCategoryName: row.SongCategoryName,\r\n      IsActive: row.IsActive,\r\n    }),\r\n  });\r\n};\r\nconst AddSongGenre = (row, token) => {\r\n  return fetch(appConfig.apiPrefix + `/songgenre`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      SongGenreName: row.SongGenreName,\r\n      IsActive: row.IsActive,\r\n    }),\r\n  });\r\n};\r\n\r\nconst AddSongcategory = (row, token) => {\r\n  return fetch(appConfig.apiPrefix + `/songcategory`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      SongCategoryName: row.SongCategoryName,\r\n      IsActive: row.IsActive,\r\n    }),\r\n  });\r\n};\r\nconst Postpromo = (data, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/promomaster/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst Putpromo = (data, token, id) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'put',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + `/promomaster/${id}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\nexport async function apiGetPromotypedropdown(data) {\r\n  return ApiService.fetchData({\r\n    url: '/promotypemaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nexport async function apiGetSongGenredropdown(data) {\r\n  return ApiService.fetchData({\r\n    url: '/songgenre/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nexport async function apiGetTapetypedropdown(data) {\r\n  return ApiService.fetchData({\r\n    url: '/tapetypemaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nexport async function apiGetSongtempodropdown(data) {\r\n  return ApiService.fetchData({\r\n    url: '/songtempo/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetPromoScheduling(data, telecastDate, mode) {\r\n\r\n  const url = `promoscheduling/USP_Sch_PromoScheduling_GetDetails/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${telecastDate}&Mode=${mode}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetNTCScheduling(data, telecastDate, mode) {\r\n  const url = `ntcscheduling/USP_Sch_NTCScheduling_GetDetails/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${telecastDate}&Mode=${mode}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetSongSchedulingData(data, telecastDate, mode) {\r\n\r\n  const url = `songscheduling/USP_Sch_SongScheduling_GetDetails/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${telecastDate}&Mode=${mode}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGettransmissionlog(data, telecastDate, PR) {\r\n\r\n  const url = `transmissionlog/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${telecastDate}&Mode=${PR}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\nexport async function apiGettransmissionloggg(data, telecastDate, PR) {\r\n\r\n  const url = `transmissionlog/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${telecastDate}&Mode=${PR}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\nexport async function apiGettransmissionlog2(data, telecastDate) {\r\n\r\n  const url = `transmissionlog/Scheduling_FinalLog_ProgramChange?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${telecastDate}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetExportPlayOut(data, telecastDate) {\r\n\r\n  const url = `/transmissionlog/USP_Sch_Finalog_ExportCsv/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${telecastDate}&Mode=S`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetgetauditpromoscheduling(data, telecastDate) {\r\n\r\n  const url = `restore/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${telecastDate}&FormName=${data.FormName}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetRestoreDropDown(data) {\r\n\r\n  const url = `restore/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${data.TelecastDate}&FormName=${data.FormName}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetSongschedulDetails(SongCode, TelecastDate, InHour) {\r\n  const url = `songscheduling/GetSongschedulDetails/?SongCode=${SongCode}&TelecastDate=${TelecastDate}&InHour=${InHour}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetRestoreScheduling(data) {\r\n\r\n  const url = `restore/audit_data/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${data.TelecastDate}&FormName=${data.FormName}&D_date=${data.D_date}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'post',\r\n  });\r\n}\r\n\r\nexport async function apiGetRestoreCommercialScheduling(data) {\r\n\r\n  const url = `commercialscheduling/restoreauditcommercialscheduling/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&ScheduleDate=${data.ScheduleDate}&D_date=${data.D_date}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'post',\r\n  });\r\n}\r\n\r\nexport async function apiGetgetauditfinallogscheduling(\r\n  data,\r\n  telecastDate,\r\n  FormName,\r\n) {\r\n\r\n  const url = `restore/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${telecastDate}&FormName=${FormName}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetgetauditfinallogschedulingCom(data, telecastDate) {\r\n\r\n  const url = `commercialscheduling/getauditpromoscheduling/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&ScheduleDate=${telecastDate}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\nexport async function apiGetrestorepromoscheduling(data, telecastDate, D_date) {\r\n\r\n  const url = `restore/audit_data/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${telecastDate}&FormName=PromoScheduling&D_date=${D_date}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'post',\r\n  });\r\n}\r\n\r\nexport async function apiGetrestorefinallogscheduling(\r\n  data,\r\n  telecastDate,\r\n  FormName,\r\n  D_date,\r\n) {\r\n\r\n  const url = `restore/audit_data/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${telecastDate}&FormName=${FormName}&D_date=${D_date}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'post',\r\n  });\r\n}\r\n\r\nexport async function apiGetDailyFPCStatus(data, telecastDate) {\r\n\r\n  const url = `globle/GetDailyFPCStatus?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&Screen=${data.Screen}&TelecastDate=${telecastDate}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetPromoScheduling2(data, telecastDate, type, name) {\r\n  const url = `promoscheduling/USP_Sch_Get_All_Promo/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${telecastDate}&PromoTypeCode=${type}&PromoName=${name}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\nexport async function apiGetNTCScheduling2(data, telecastDate, type, name) {\r\n  const url = `ntcmaster/USP_Sch_Get_All_NTC/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&NTCTypeCode=${type}&NTCName=${name}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetSongScheduling2(data, telecastDate, type, name) {\r\n  const url = `songscheduling/USP_Sch_Get_All_Song/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${telecastDate}&SongType=${type}&OrderBy=2&SearchText=${name}`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\n// export { Postpromo, Putpromo, UpdateSongGenre, AddSongGenre }\r\nexport async function apiGetSongScheduling(data, telecastDate) {\r\n  const url = `/usp_pg_fpc_serachwithhouseID/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&TelecastDate=${telecastDate}&GenrateFPC=1`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'get',\r\n  });\r\n}\r\n// export { Postpromo, Putpromo, UpdateSongGenre, AddSongGenre }\r\nexport async function apiGetMusicagencydropdown(data) {\r\n  return ApiService.fetchData({\r\n    url: '/musicagencymst/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetMoviealbumdropdown(data) {\r\n  return ApiService.fetchData({\r\n    url: '/moviealbummaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiPosttransmissionlogaddaudit(data) {\r\n  return ApiService.fetchData({\r\n    url: '/transmissionlog/addaudit/',\r\n    method: 'post',\r\n    data,\r\n  });\r\n}\r\nexport async function apiPosttransmissionloginsertdata(data) {\r\n  return ApiService.fetchData({\r\n    url: '/transmissionlog/insertdata/',\r\n    method: 'post',\r\n    data,\r\n  });\r\n}\r\nexport async function apiPUTtransmissionlogupdatedata(data) {\r\n  return ApiService.fetchData({\r\n    url: '/transmissionlog/updatedata/',\r\n    method: 'put',\r\n    data,\r\n  });\r\n}\r\n\r\n\r\nexport async function apideletedataPosttransmissionlogaddaudit(channel, date) {\r\n  return ApiService.fetchData({\r\n    url: `/transmissionlog/deletedata/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}&TelecastDate=${date}`,\r\n    method: 'delete',\r\n  });\r\n}\r\nconst Postpromoscheduling = (data, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/promoscheduling/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst PostSongscheduling = (data, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/songscheduling/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst PostNTCScheduling = (data, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/ntcscheduling/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst Posttransmissionlog = (data, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/transmissionlog/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst PutCommercialSave = (data, token) => {\r\n  console.log('url');\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'put',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/commercialscheduling/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst Postsong = (data, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/songmaster/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\nconst PostPromoSchdulingSave = (data, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/fpromoscheduling/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst Putsong = (data, token, id) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'put',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + `/songmaster/${id}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst Postcolumnsetting = (data, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/columnsetting/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst apiUpdateSpotStatus = (BookingIds, BookingStatus, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'put',\r\n      maxBodyLength: Infinity,\r\n      url:\r\n        appConfig.apiPrefix +\r\n        `/bookingdetails/bookingstatuschange/?BookingStatus=${BookingStatus}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: BookingIds,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nexport async function apiTeamMappingCreate(data) {\r\n  const url = `teammapping/`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'post',\r\n    data: data,\r\n  });\r\n}\r\n\r\nexport async function apigeneventcontent(data) {\r\n  const url = `geneventcontent/Contentadd/`;\r\n  return ApiService.fetchData({\r\n    url: url,\r\n    method: 'post',\r\n    data: data,\r\n  });\r\n}\r\nexport {\r\n  Postpromo,\r\n  Putpromo,\r\n  UpdateSongGenre,\r\n  AddSongGenre,\r\n  Postsong,\r\n  Putsong,\r\n  AddSongcategory,\r\n  UpdateSongcategory,\r\n  UploadXslspromo,\r\n  AddMovieAlbum,\r\n  UpdateMovieAlbum,\r\n  PostPromoSchdulingSave,\r\n  Postpromoscheduling,\r\n  Posttransmissionlog,\r\n  Postcolumnsetting,\r\n  PostNTCScheduling,\r\n  PostSongscheduling,\r\n  apiUpdateSpotStatus,\r\n  PutCommercialSave,\r\n};\r\n","import React from 'react';\r\nimport * as ExcelJS from 'exceljs';\r\nimport { saveAs } from 'file-saver';\r\nimport { openNotification } from './GLOBALFUNACTION';\r\n\r\nexport const ExportxlswithColor = (\r\n  boldHeaders,\r\n  borders,\r\n  emptyColumnsAtStart,\r\n  emptyRowsAtStart,\r\n  defaultFormatting,\r\n  data,\r\n  exportName,\r\n  visibleColumns,\r\n  WithColor,\r\n) => {\r\n  if (data.length === 0) {\r\n    openNotification('info', 'No data to export');\r\n    return; // Exit if there's no data to export\r\n  }\r\n\r\n  const updatedData = data.map((item) => ({ ...item })); // Clone data to avoid mutations\r\n\r\n  const mapping = {};\r\n  visibleColumns.forEach((item) => {\r\n    if (item.accessorKey) {\r\n      console.log(item.accessorKey);\r\n      console.log(mapping[item.accessorKey]);\r\n      mapping[item.accessorKey] = item.header;\r\n    }\r\n  });\r\n\r\n  // Update keys in the data array based on the mapping\r\n  const updatedArray = updatedData.map((item) => {\r\n    const updatedItem = {};\r\n    Object.keys(item).forEach((key) => {\r\n      if (mapping[key]) {\r\n        updatedItem[mapping[key]] = item[key];\r\n      } else {\r\n        updatedItem[key] = item[key];\r\n      }\r\n    });\r\n    return updatedItem;\r\n  });\r\n\r\n  const columnKeys =\r\n    Object.keys(mapping).length > 0\r\n      ? Object.keys(mapping).map((key) => mapping[key])\r\n      : [];\r\n\r\n  // Generating dynamic columns based on keys\r\n  const dynamicColumns = columnKeys.map((key) => ({\r\n    header: key,\r\n    key: key,\r\n  }));\r\n\r\n  const workbook = new ExcelJS.Workbook();\r\n  const worksheet = workbook.addWorksheet(exportName);\r\n\r\n  // Add empty rows at the start\r\n  for (let i = 0; i < emptyRowsAtStart; i++) {\r\n    worksheet.addRow([]); // Add an empty row\r\n  }\r\n\r\n  // Generate headers with empty columns\r\n  const headers = [];\r\n  for (let i = 0; i < emptyColumnsAtStart; i++) {\r\n    headers.push(''); // Add empty columns at the start\r\n  }\r\n  headers.push(...columnKeys); // Add actual column headers\r\n  worksheet.addRow(headers);\r\n\r\n  // Apply bold headers\r\n  if (boldHeaders) {\r\n    const headerRow = worksheet.getRow(emptyRowsAtStart + 1); // Adjust for empty rows\r\n    headerRow.font = { bold: true, size: 10 };\r\n  }\r\n  // Apply default formatting to headers\r\n  if (defaultFormatting) {\r\n    const headerRow = worksheet.getRow(emptyRowsAtStart + 1); // Adjust for empty rows\r\n    headerRow.font = { bold: true, size: 12 };\r\n    headerRow.eachCell((cell) => {\r\n      cell.border = {\r\n        top: { style: 'medium' },\r\n        left: { style: 'medium' },\r\n        bottom: { style: 'medium' },\r\n        right: { style: 'medium' },\r\n      };\r\n      if (!WithColor) {\r\n        cell.fill = {\r\n          type: 'pattern',\r\n          pattern: 'solid',\r\n          fgColor: { argb: '009dff' },\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  // Add data rows with empty columns at the start\r\n  updatedArray.forEach((row) => {\r\n    const rowData = [];\r\n    for (let i = 0; i < emptyColumnsAtStart; i++) {\r\n      rowData.push(''); // Add empty columns at the start of each row\r\n    }\r\n    columnKeys.forEach((key) => {\r\n      rowData.push(row[key] || ''); // Add actual data\r\n    });\r\n\r\n    const dataRow = worksheet.addRow(rowData);\r\n    dataRow.font = { size: 10 };\r\n\r\n    // Set cell formatting for rows\r\n    dataRow.eachCell((cell, colNumber) => {\r\n      if (cell.value instanceof Date) {\r\n        cell.value = new Date(\r\n          Date.UTC(\r\n            cell.value.getFullYear(),\r\n            cell.value.getMonth(),\r\n            cell.value.getDate(),\r\n          ),\r\n        );\r\n      }\r\n      if (WithColor && row.EventDefaultBackColor) {\r\n        cell.fill = {\r\n          type: 'pattern',\r\n          pattern: 'solid',\r\n          fgColor: {\r\n            argb: row.EventDefaultBackColor.substring(1),\r\n          },\r\n        };\r\n      }\r\n      if (WithColor && row.EventDefaultFrontColor) {\r\n        cell.font = {\r\n          color: {\r\n            argb: row.EventDefaultFrontColor.substring(1),\r\n          },\r\n        };\r\n      }\r\n      if (defaultFormatting) {\r\n        cell.border = {\r\n          top: { style: 'thin' },\r\n          left: { style: 'thin' },\r\n          bottom: { style: 'thin' },\r\n          right: { style: 'thin' },\r\n        };\r\n      }\r\n    });\r\n  });\r\n\r\n  // Adjust column widths\r\n  worksheet.columns.forEach((column) => {\r\n    let maxLength = 10; // Minimum column width\r\n    column.eachCell((cell) => {\r\n      const cellLength = (cell.value || '').toString().length;\r\n      maxLength = Math.max(maxLength, cellLength);\r\n    });\r\n    column.width = Math.min(30, maxLength + 2); // Set a reasonable max width\r\n  });\r\n\r\n  // Freeze header row and empty rows\r\n  worksheet.views = [\r\n    {\r\n      state: 'frozen',\r\n      xSplit: emptyColumnsAtStart,\r\n      ySplit: emptyRowsAtStart + 1, // Account for headers\r\n      topLeftCell: `A${emptyRowsAtStart + 2}`,\r\n    },\r\n  ];\r\n\r\n  if (borders) {\r\n    /* ADD BLACK BORDERS TO EVERY CELL */\r\n    const totalRows = data.length + emptyRowsAtStart + 100;\r\n    const totalColumns =\r\n      visibleColumns.length > 0 ? visibleColumns.length + 100 : 100;\r\n    for (let rowIndex = 1; rowIndex <= totalRows; rowIndex++) {\r\n      const row = worksheet.getRow(rowIndex);\r\n      for (let colIndex = 1; colIndex <= totalColumns; colIndex++) {\r\n        const cell = row.getCell(colIndex);\r\n        cell.value = cell.value || '';\r\n        cell.border = {\r\n          top: { style: 'thin', color: { argb: '000000' } },\r\n          left: { style: 'thin', color: { argb: '000000' } },\r\n          bottom: { style: 'thin', color: { argb: '000000' } },\r\n          right: { style: 'thin', color: { argb: '000000' } },\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  // Generate a blob from the workbook\r\n  workbook.xlsx.writeBuffer().then((buffer) => {\r\n    saveAs(new Blob([buffer]), `${exportName}.xlsx`);\r\n  });\r\n};\r\n","export const CLIENT = {\r\n  LOCAL: 'LOCAL',\r\n  INDIA_SPORTS: 'INDIA SPORTS TV',\r\n  USA_Forbes: 'Forbes',\r\n  FOOD_INDIA: 'India Food Food',\r\n  FOOD_USA: 'USA Food Food INT',\r\n  SWAMI: 'INDIA SWAMI FILMS',\r\n  GEC: 'GEC CHANNEL',\r\n  USA_GEC: 'USA GEC CHANNEL',\r\n  INDIA_GEC: 'INDIA GEC CHANNEL',\r\n  NEWS: 'NEWS CHANNEL',\r\n  USA_NEWS: 'NEWS CHANNEL USA',\r\n  BeIN_Sports: 'BeIN Sports',\r\n  MASST_INDIA: 'INDIA MASST',\r\n  ASIANET: 'INDIA ASIANET CINEMA',\r\n  INDIAMYMOVIES: 'INDIA MY MOVIES',\r\n  ANI_PLUS: 'SINGAPORE ANI PLUS',\r\n  SATHIYAM_TV: 'INDIA SATHIYAM TV',\r\n};\r\n\r\nexport const CLIENTWiseUploadPath = {\r\n  USA_Forbes: '/playlist',\r\n  ASIANET: '/video/volume1/playlist',\r\n};\r\n","import {\r\n  additionalRowInfoEnum,\r\n  droppableIdsEnum,\r\n  tableTypesEnum,\r\n} from '../../../enum';\r\nimport {\r\n  getNTCParentRow,\r\n  getRowWithNTC,\r\n  getTableDataWithAdditionalInfo,\r\n  removeRowsFromTableData,\r\n} from '../../utils';\r\nimport {\r\n  getCorrectedDestIndexForSecTableDrag,\r\n  getCorrectedDestIndex,\r\n  isNTCDragValid,\r\n  updatePropOfNTCs,\r\n  validateNTCs,\r\n} from './utils';\r\nimport {\r\n  getFlatArrForGroupedArr,\r\n  getGroupedRows,\r\n  openNotification,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport { addTimes } from 'views/Scheduling/Scheduler/components/SchedulingArea/components/Summary/utils';\r\n\r\nconst executeSecNTCDrag = (\r\n  dragInfo,\r\n  schTableData,\r\n  secTableData,\r\n  secTableSelectedRows,\r\n  activeFeatures,\r\n  channel,\r\n  isAutoCalculateOffsetTime,\r\n) => {\r\n  try {\r\n    const sourceDroppableId = dragInfo.source.droppableId;\r\n    const destinationDroppableId = dragInfo.destination.droppableId;\r\n    const selectedRows =\r\n      secTableSelectedRows.length > 0\r\n        ? secTableSelectedRows\r\n        : [secTableData[dragInfo.source.index]];\r\n    let newSchTableData = [...schTableData],\r\n      newSecTableData;\r\n    if (\r\n      sourceDroppableId === droppableIdsEnum.SECONDARY &&\r\n      destinationDroppableId === droppableIdsEnum.SECONDARY\r\n    ) {\r\n      newSecTableData = executeSecTableDrag(\r\n        dragInfo,\r\n        secTableData,\r\n        selectedRows,\r\n        activeFeatures,\r\n      );\r\n    } else if (\r\n      sourceDroppableId === droppableIdsEnum.SECONDARY &&\r\n      destinationDroppableId === droppableIdsEnum.SCHEDULING\r\n    ) {\r\n      const result = executeSecToSchTableDrag(\r\n        dragInfo,\r\n        schTableData,\r\n        secTableData,\r\n        selectedRows,\r\n        activeFeatures,\r\n        channel,\r\n        isAutoCalculateOffsetTime,\r\n      );\r\n      if (!result) return false;\r\n      newSchTableData = result.newSchTableData;\r\n      newSecTableData = result.newSecTableData;\r\n    }\r\n    return { newSchTableData, newSecTableData };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst executeSecTableDrag = (\r\n  dragInfo,\r\n  tableData,\r\n  selectedRows,\r\n  activeFeatures,\r\n) => {\r\n  try {\r\n    let newTableData = [...tableData];\r\n    let selectedRowsWithNewRowId = getTableDataWithAdditionalInfo({\r\n      tableData: selectedRows,\r\n      tableType: tableTypesEnum.SECONDARY,\r\n      additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n    });\r\n    let destinationIndex = getCorrectedDestIndexForSecTableDrag(\r\n      dragInfo,\r\n      tableData,\r\n      activeFeatures,\r\n    );\r\n    newTableData.splice(destinationIndex, 0, ...selectedRowsWithNewRowId);\r\n    newTableData = removeRowsFromTableData(selectedRows, newTableData);\r\n    return newTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst executeSecToSchTableDrag = (\r\n  dragInfo,\r\n  schTableData,\r\n  secTableData,\r\n  selectedRows,\r\n  activeFeatures,\r\n  channel,\r\n  isAutoCalculateOffsetTime,\r\n) => {\r\n  try {\r\n    let destinationIndex = getCorrectedDestIndex(\r\n      dragInfo.destination.index,\r\n      schTableData,\r\n      activeFeatures,\r\n    );\r\n    /* DRAG VALIDATION */\r\n    if (!isNTCDragValid(dragInfo, schTableData, destinationIndex)) return false;\r\n    return executeSecToSchTableNtcInsert(\r\n      schTableData,\r\n      secTableData,\r\n      destinationIndex,\r\n      selectedRows,\r\n      channel,\r\n      isAutoCalculateOffsetTime,\r\n    );\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst executeSecToSchTableNtcInsert = (\r\n  schTableData,\r\n  secTableData,\r\n  destIndex,\r\n  selectedRows,\r\n  channel,\r\n  isAutoCalculateOffsetTime,\r\n) => {\r\n  let newSchTableData = [...schTableData];\r\n  let newSecTableData = [...secTableData];\r\n  let secTableRowsToRemove = [];\r\n  if (isAutoCalculateOffsetTime) {\r\n    // Get ntc parent row\r\n    let ntcParentRow = getNTCParentRow(destIndex, schTableData);\r\n    const { newTableData, insertedNTCs } =\r\n      insertNTCsBasedOnOffsetTimeAutoCalculation(\r\n        ntcParentRow,\r\n        selectedRows,\r\n        schTableData,\r\n        destIndex,\r\n      );\r\n    newSchTableData = newTableData;\r\n    // If few NTCs are not inserted, give notification to user\r\n    if (insertedNTCs.length < selectedRows.length)\r\n      openNotification(\r\n        'danger',\r\n        'Some NTCs are not inserted due to insufficient duration.',\r\n      );\r\n    // If inserted NTCs are paid NTCs, remove them from secondary table\r\n    if (insertedNTCs[0].BookingDetailsID) {\r\n      secTableRowsToRemove = insertedNTCs;\r\n    }\r\n  } else {\r\n    const validNTCs = validateNTCs({\r\n      destIndex: destIndex,\r\n      tableData: newSchTableData,\r\n      selectedRows,\r\n      channel,\r\n      isAutoCalculateOffsetTime,\r\n    });\r\n    if (!validNTCs) return false;\r\n    newSchTableData.splice(destIndex, 0, ...validNTCs);\r\n    // If few NTCs are not inserted, give notification to user\r\n    if (validNTCs.length < selectedRows.length)\r\n      openNotification(\r\n        'danger',\r\n        'Some NTCs are not inserted due to insufficient duration.',\r\n      );\r\n    if (validNTCs[0].BookingDetailID) secTableRowsToRemove = validNTCs;\r\n  }\r\n  // Remove inserted rows from secondary table\r\n  newSecTableData = removeRowsFromTableData(\r\n    secTableRowsToRemove,\r\n    newSecTableData,\r\n  );\r\n  return { newSchTableData, newSecTableData };\r\n};\r\n\r\nconst insertNTCsBasedOnOffsetTimeAutoCalculation = (\r\n  parentRow,\r\n  selectedRows,\r\n  tableData,\r\n  destIndex,\r\n) => {\r\n  // Get grouped selected NTCs\r\n  const groupedSelectedNTCs = getGroupedRows(selectedRows, 'NTCGroupCode');\r\n  // Get all ntcs for parent row\r\n  const existingNTCs = getRowWithNTC([parentRow], tableData, false);\r\n  // Get grouped existing NTCs\r\n  const groupedExistingNTCs = getGroupedRows(existingNTCs, 'NTCGroupCode');\r\n  // Iterate over each group and insert valid NTCs\r\n  const { newGroupedNTCs, insertedNTCs } = insertValidSelNTCsInRespectiveGroups(\r\n    groupedExistingNTCs,\r\n    groupedSelectedNTCs,\r\n    destIndex,\r\n    parentRow,\r\n  );\r\n  // Flat the grouped NTCs\r\n  const flattenedNewGroupedNTCs = getFlatArrForGroupedArr(newGroupedNTCs);\r\n  // Add new row id to NTCs\r\n  let ntcsWithNewRowId = getTableDataWithAdditionalInfo({\r\n    tableData: flattenedNewGroupedNTCs,\r\n    tableType: tableTypesEnum.SCHEDULING,\r\n    additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n  });\r\n  // Insert NTCs\r\n  let newTableData = [...tableData];\r\n  // Remove old NTCs from its parent row\r\n  newTableData = removeRowsFromTableData(existingNTCs, newTableData);\r\n  // Insert new NTCs below its parent row\r\n  newTableData.splice(\r\n    newTableData.findIndex((row) => row.rowId === parentRow.rowId) + 1,\r\n    0,\r\n    ...ntcsWithNewRowId,\r\n  );\r\n  return { newTableData, insertedNTCs };\r\n};\r\n\r\nconst insertValidSelNTCsInRespectiveGroups = (\r\n  groupedExistingNTCs,\r\n  groupedSelectedNTCs,\r\n  destIndex,\r\n  parentRow,\r\n) => {\r\n  let newGroupedNTCs = {};\r\n  let insertedNTCs = [];\r\n  let tempGroupedExistingNTCs = { ...groupedExistingNTCs };\r\n  let existingNTCGroups = Object.keys(tempGroupedExistingNTCs);\r\n  if (existingNTCGroups.length === 0) {\r\n    // If no NTCs is present in parent row, create temporary NTC groups from selected NTCs\r\n    Object.keys(groupedSelectedNTCs).forEach((groupCode) => {\r\n      tempGroupedExistingNTCs[groupCode] = [];\r\n      existingNTCGroups.push(groupCode);\r\n    });\r\n  }\r\n  // Insert selected NTCs in respective groups\r\n  existingNTCGroups.forEach((groupCode) => {\r\n    // Get existing NTCs of current group\r\n    const existingNTCs = tempGroupedExistingNTCs[groupCode];\r\n    // Get selected NTCs of current group\r\n    const selectedNTCs = groupedSelectedNTCs[groupCode];\r\n    if (!selectedNTCs) {\r\n      newGroupedNTCs[groupCode] = tempGroupedExistingNTCs[groupCode];\r\n    } else {\r\n      // Get destination index to insert selected NTCs\r\n      const destIndexForGroup = existingNTCs.findIndex(\r\n        (row) => row.rowIndex === destIndex,\r\n      );\r\n      if (destIndexForGroup === -1) {\r\n        // If NTCs is placed in other group, insert NTCs at the end of current group\r\n        const result = insertValidNTCsAtTheEnd(\r\n          existingNTCs,\r\n          selectedNTCs,\r\n          parentRow,\r\n        );\r\n        newGroupedNTCs[groupCode] = result.newNTCs;\r\n        insertedNTCs = [...insertedNTCs, ...result.insertedNTCs];\r\n        delete groupedSelectedNTCs[groupCode];\r\n      } else {\r\n        // Else, insert NTCs at the destination index\r\n        const result = insertValidNTCsAtDestIndexForGroupedNTCs(\r\n          existingNTCs,\r\n          selectedNTCs,\r\n          parentRow,\r\n          destIndexForGroup,\r\n        );\r\n        newGroupedNTCs[groupCode] = result.newNTCs;\r\n        insertedNTCs = [...insertedNTCs, ...result.insertedNTCs];\r\n        delete groupedSelectedNTCs[groupCode];\r\n      }\r\n    }\r\n  });\r\n  // If any unprocessed selected NTCs remain, update their properties and add them to new grouped NTCs\r\n  if (Object.keys(groupedSelectedNTCs).length > 0) {\r\n    newGroupedNTCs = {\r\n      ...newGroupedNTCs,\r\n      ...updatePropOfGroupedNTCs(groupedSelectedNTCs, [\r\n        'offsetTime',\r\n        'defaultGap',\r\n      ]),\r\n    };\r\n    insertedNTCs = [\r\n      ...insertedNTCs,\r\n      ...getFlatArrForGroupedArr(groupedSelectedNTCs),\r\n    ];\r\n  }\r\n  return {\r\n    newGroupedNTCs,\r\n    insertedNTCs,\r\n  };\r\n};\r\n\r\nconst insertValidNTCsAtTheEnd = (existingNTCs, selectedNTCs, parentRow) => {\r\n  let newNTCs = [...existingNTCs];\r\n  let insertedNTCs = [];\r\n  selectedNTCs.forEach((ntc) => {\r\n    let tempNTCs = [...newNTCs, ntc];\r\n    tempNTCs = updatePropOfNTCs(tempNTCs, ['offsetTime', 'defaultGap']);\r\n    const lastTempNtc = tempNTCs.at(-1);\r\n    const isTempNTCsValid =\r\n      addTimes(lastTempNtc.OffsetStartTime, lastTempNtc.Duration) <=\r\n      parentRow.Duration;\r\n    if (isTempNTCsValid) {\r\n      newNTCs = [...tempNTCs];\r\n      insertedNTCs.push(ntc);\r\n    }\r\n    return newNTCs;\r\n  });\r\n  return { newNTCs, insertedNTCs };\r\n};\r\n\r\nconst insertValidNTCsAtDestIndexForGroupedNTCs = (\r\n  existingNTCs,\r\n  selectedNTCs,\r\n  parentRow,\r\n  destIndex,\r\n) => {\r\n  let newNTCs = [...existingNTCs];\r\n  let newDestIndex = destIndex;\r\n  let insertedNTCs = [];\r\n  selectedNTCs.forEach((ntc) => {\r\n    let tempNTCs = [...newNTCs];\r\n    tempNTCs.splice(newDestIndex, 0, ntc);\r\n    tempNTCs = updatePropOfNTCs(tempNTCs, ['offsetTime', 'defaultGap']);\r\n    const lastTempNtc = tempNTCs.at(-1);\r\n    const isTempNTCsValid =\r\n      addTimes(lastTempNtc.OffsetStartTime, lastTempNtc.Duration) <=\r\n      parentRow.Duration;\r\n    if (isTempNTCsValid) {\r\n      newNTCs = [...tempNTCs];\r\n      insertedNTCs.push(ntc);\r\n      newDestIndex++;\r\n    }\r\n    return newNTCs;\r\n  });\r\n  return { newNTCs, insertedNTCs };\r\n};\r\n\r\nconst updatePropOfGroupedNTCs = (groupedNTC, properties) => {\r\n  const newGroupedNTCs = {};\r\n  Object.keys(groupedNTC).forEach((groupCode) => {\r\n    const ntcRows = groupedNTC[groupCode];\r\n    const newNTCs = updatePropOfNTCs(ntcRows, properties);\r\n    newGroupedNTCs[groupCode] = newNTCs;\r\n  });\r\n  return newGroupedNTCs;\r\n};\r\n\r\nexport {\r\n  executeSecNTCDrag,\r\n  insertValidSelNTCsInRespectiveGroups,\r\n  executeSecToSchTableNtcInsert,\r\n  insertNTCsBasedOnOffsetTimeAutoCalculation,\r\n};\r\n","import { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\n\r\nconst {\r\n  featuresEnum,\r\n  rowDataTypesEnum,\r\n} = require('views/Scheduling/Scheduler/enum');\r\nconst {\r\n  getCorrectedDestIndexForFilteredTable,\r\n  isBasicDragValid,\r\n  isTelTimeBetweenStartAndEndTime,\r\n  getCorrectedDestIndexIfDestIndexIsNtc,\r\n} = require('../../utils');\r\n\r\nconst getCorrectedDestIndexForSecTableDrag = (\r\n  dragInfo,\r\n  secTableData,\r\n  activeFeatures,\r\n) => {\r\n  const sourceIndex = dragInfo.source.index;\r\n  const destIndex = dragInfo.destination.index;\r\n  let destinationIndex = destIndex;\r\n  /* DESTINATION INDEX CORRECTION IF FILTER IS ACTIVE */\r\n  if (activeFeatures[featuresEnum.FILTER]) {\r\n    destinationIndex = getCorrectedDestIndexForFilteredTable(\r\n      destIndex,\r\n      secTableData,\r\n    );\r\n  }\r\n  if (sourceIndex < destinationIndex) {\r\n    /* DESTINATION INDEX CORRECTION IF DRAG IS TOP TO BOTTOM */\r\n    destinationIndex = destinationIndex + 1;\r\n  }\r\n  return destinationIndex;\r\n};\r\n\r\nconst getCorrectedDestIndex = (destIndex, schTableData, activeFeatures) => {\r\n  let destinationIndex = destIndex;\r\n  /* DESTINATION INDEX CORRECTION IF FILTER IS ACTIVE */\r\n  if (activeFeatures[featuresEnum.FILTER]) {\r\n    destinationIndex = getCorrectedDestIndexForFilteredTable(\r\n      destIndex,\r\n      schTableData,\r\n    );\r\n  }\r\n  /* DESTINATION INDEX CORRECTION IF DESTINATION ROW IS NTC */\r\n  destinationIndex = getCorrectedDestIndexIfDestIndexIsNtc(\r\n    destinationIndex,\r\n    schTableData,\r\n  );\r\n  return destinationIndex > 1 ? destinationIndex : 2;\r\n};\r\n\r\nconst validateComm = ({ dragInfo, destIndex, tableData, selectedRows }) => {\r\n  /* --------------------- GAURD CLAUSES ----------------------------- */\r\n  // CLAUSE 1 - If operation is drag and drop, check if basic drag is valid\r\n  if (dragInfo && !isBasicDragValid(dragInfo, destIndex)) return false;\r\n  // CLAUSE 2 - If Commercials are placed below NTC\r\n  if (isCommPlacedBeforeNTC(tableData, destIndex)) {\r\n    openNotification('danger', 'Commercials cannot be placed before NTC');\r\n    return false;\r\n  }\r\n  // Get valid Commercials as per different validations\r\n  let destRow = tableData[destIndex - 1];\r\n  let validComm = getCommWithinTimeband(selectedRows, destRow);\r\n  if (!validComm) {\r\n    openNotification('danger', 'Commercials are out of time band');\r\n    return false;\r\n  } else if (validComm.length < selectedRows.length) {\r\n    openNotification('danger', 'One or more Commercials are out of time band');\r\n  }\r\n  return validComm;\r\n};\r\n\r\nconst isCommPlacedBeforeNTC = (tableData, destIndex) => {\r\n  return tableData[destIndex].F_C_S_P === rowDataTypesEnum.NTC;\r\n};\r\n\r\nconst getCommWithinTimeband = (selectedRows, destRow) => {\r\n  const result = [];\r\n  selectedRows.forEach((row) => {\r\n    if (isTelTimeBetweenStartAndEndTime(destRow, row)) result.push(row);\r\n  });\r\n  return result.length > 0 ? result : false;\r\n};\r\n\r\nexport {\r\n  getCorrectedDestIndexForSecTableDrag,\r\n  getCorrectedDestIndex,\r\n  validateComm,\r\n};\r\n","import {\r\n  additionalRowInfoEnum,\r\n  droppableIdsEnum,\r\n  tableTypesEnum,\r\n} from '../../../enum';\r\nimport {\r\n  getTableDataWithAdditionalInfo,\r\n  removeRowsFromTableData,\r\n} from '../../utils';\r\nimport {\r\n  getCorrectedDestIndexForSecTableDrag,\r\n  getCorrectedDestIndex,\r\n  validateComm,\r\n} from './utils';\r\n\r\nconst executeSecCommDrag = (\r\n  dragInfo,\r\n  schTableData,\r\n  secTableData,\r\n  secTableSelectedRows,\r\n  activeFeatures,\r\n) => {\r\n  try {\r\n    const sourceDroppableId = dragInfo.source.droppableId;\r\n    const destinationDroppableId = dragInfo.destination.droppableId;\r\n    const selectedRows =\r\n      secTableSelectedRows.length > 0\r\n        ? secTableSelectedRows\r\n        : [secTableData[dragInfo.source.index]];\r\n    let newSchTableData = [...schTableData],\r\n      newSecTableData;\r\n    if (\r\n      sourceDroppableId === droppableIdsEnum.SECONDARY &&\r\n      destinationDroppableId === droppableIdsEnum.SECONDARY\r\n    ) {\r\n      newSecTableData = executeSecTableDrag(\r\n        dragInfo,\r\n        secTableData,\r\n        selectedRows,\r\n        activeFeatures,\r\n      );\r\n    } else if (\r\n      sourceDroppableId === droppableIdsEnum.SECONDARY &&\r\n      destinationDroppableId === droppableIdsEnum.SCHEDULING\r\n    ) {\r\n      const result = executeSecToSchTableDrag(\r\n        dragInfo,\r\n        schTableData,\r\n        secTableData,\r\n        selectedRows,\r\n        activeFeatures,\r\n      );\r\n      if (!result) return false;\r\n      newSchTableData = result.newSchTableData;\r\n      newSecTableData = result.newSecTableData;\r\n    }\r\n    return { newSchTableData, newSecTableData };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst executeSecTableDrag = (\r\n  dragInfo,\r\n  tableData,\r\n  selectedRows,\r\n  activeFeatures,\r\n) => {\r\n  try {\r\n    let newTableData = [...tableData];\r\n    let selectedRowsWithNewRowId = getTableDataWithAdditionalInfo({\r\n      tableData: selectedRows,\r\n      tableType: tableTypesEnum.SECONDARY,\r\n      additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n    });\r\n    let destinationIndex = getCorrectedDestIndexForSecTableDrag(\r\n      dragInfo,\r\n      tableData,\r\n      activeFeatures,\r\n    );\r\n    newTableData.splice(destinationIndex, 0, ...selectedRowsWithNewRowId);\r\n    newTableData = removeRowsFromTableData(selectedRows, newTableData);\r\n    return newTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst executeSecToSchTableDrag = (\r\n  dragInfo,\r\n  schTableData,\r\n  secTableData,\r\n  selectedRows,\r\n  activeFeatures,\r\n) => {\r\n  try {\r\n    let newSchTableData = [...schTableData];\r\n    let newSecTableData = [...secTableData];\r\n    let destinationIndex = getCorrectedDestIndex(\r\n      dragInfo.destination.index,\r\n      schTableData,\r\n      activeFeatures,\r\n    );\r\n    /* DRAG VALIDATION */\r\n    const validComm = validateComm({\r\n      dragInfo,\r\n      destIndex: destinationIndex,\r\n      tableData: schTableData,\r\n      selectedRows,\r\n    });\r\n    if (!validComm) return false;\r\n    newSchTableData.splice(destinationIndex, 0, ...validComm);\r\n    newSecTableData = removeRowsFromTableData(validComm, newSecTableData);\r\n    return { newSchTableData, newSecTableData };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { executeSecCommDrag };\r\n","const {\r\n  featuresEnum,\r\n  rowDataTypesEnum,\r\n  pagesEnum,\r\n} = require('views/Scheduling/Scheduler/enum');\r\nconst {\r\n  getCorrectedDestIndexForFilteredTable,\r\n  getCorrectedDestIndexIfDestIndexIsNtc,\r\n} = require('../../utils');\r\n\r\nconst getCorrectedDestIndex = (\r\n  destIndex,\r\n  schTableData,\r\n  activeFeatures,\r\n  page,\r\n) => {\r\n  let newDestIndex = destIndex;\r\n  /* DESTINATION INDEX CORRECTION IF FILTER IS ACTIVE */\r\n  if (activeFeatures[featuresEnum.FILTER]) {\r\n    newDestIndex = getCorrectedDestIndexForFilteredTable(\r\n      destIndex,\r\n      schTableData,\r\n    );\r\n  }\r\n  /* DESTINATION INDEX CORRECTION IF DESTINATION ROW IS NTC */\r\n  newDestIndex = getCorrectedDestIndexIfDestIndexIsNtc(\r\n    newDestIndex,\r\n    schTableData,\r\n  );\r\n  /* DESTINATION INDEX CORRECTION IF PAGE IS PROMO SCHEDULING AND INDEX IS BELOW COMMERCIAL */\r\n  if (\r\n    page === pagesEnum.PROMO &&\r\n    schTableData[newDestIndex - 1].F_C_S_P === rowDataTypesEnum.COMMERCIAL\r\n  ) {\r\n    newDestIndex = newDestIndex - 1;\r\n  }\r\n  return newDestIndex > 1 ? newDestIndex : 2;\r\n};\r\n\r\nexport { getCorrectedDestIndex };\r\n","import {\r\n  additionalRowInfoEnum,\r\n  droppableIdsEnum,\r\n  tableTypesEnum,\r\n} from '../../../enum';\r\nimport {\r\n  getCorrectedDestIndexForIntraTableDrag,\r\n  getTableDataWithAdditionalInfo,\r\n  removeRowsFromTableData,\r\n} from '../../utils';\r\nimport { getCorrectedDestIndex } from './utils';\r\n\r\nconst executeSecPromoDrag = (\r\n  dragInfo,\r\n  schTableData,\r\n  secTableData,\r\n  secTableSelectedRows,\r\n  activeFeatures,\r\n  page,\r\n) => {\r\n  try {\r\n    const sourceDroppableId = dragInfo.source.droppableId;\r\n    const destinationDroppableId = dragInfo.destination.droppableId;\r\n    const selectedRows =\r\n      secTableSelectedRows.length > 0\r\n        ? secTableSelectedRows\r\n        : [secTableData[dragInfo.source.index]];\r\n    let newSchTableData = [...schTableData],\r\n      newSecTableData;\r\n    if (\r\n      sourceDroppableId === droppableIdsEnum.SECONDARY &&\r\n      destinationDroppableId === droppableIdsEnum.SECONDARY\r\n    ) {\r\n      newSecTableData = executeSecTableDrag(\r\n        dragInfo,\r\n        secTableData,\r\n        selectedRows,\r\n        activeFeatures,\r\n      );\r\n    } else if (\r\n      sourceDroppableId === droppableIdsEnum.SECONDARY &&\r\n      destinationDroppableId === droppableIdsEnum.SCHEDULING\r\n    ) {\r\n      newSchTableData = executeSecToSchTableDrag(\r\n        dragInfo,\r\n        schTableData,\r\n        selectedRows,\r\n        activeFeatures,\r\n        page,\r\n      );\r\n    }\r\n    return { newSchTableData, newSecTableData };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst executeSecTableDrag = (\r\n  dragInfo,\r\n  tableData,\r\n  selectedRows,\r\n  activeFeatures,\r\n) => {\r\n  try {\r\n    let newTableData = [...tableData];\r\n    let selectedRowsWithNewRowId = getTableDataWithAdditionalInfo({\r\n      tableData: selectedRows,\r\n      tableType: tableTypesEnum.SECONDARY,\r\n      additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n    });\r\n    let destinationIndex = getCorrectedDestIndexForIntraTableDrag(\r\n      dragInfo,\r\n      tableData,\r\n      activeFeatures,\r\n    );\r\n    newTableData.splice(destinationIndex, 0, ...selectedRowsWithNewRowId);\r\n    newTableData = removeRowsFromTableData(selectedRows, newTableData);\r\n    return newTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst executeSecToSchTableDrag = (\r\n  dragInfo,\r\n  schTableData,\r\n  selectedRows,\r\n  activeFeatures,\r\n  page,\r\n) => {\r\n  try {\r\n    let newSchTableData = [...schTableData];\r\n    let selectedRowsWithNewRowId = getTableDataWithAdditionalInfo({\r\n      tableData: selectedRows,\r\n      tableType: tableTypesEnum.SCHEDULING,\r\n      additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n    });\r\n    let destinationIndex = getCorrectedDestIndex(\r\n      dragInfo.destination.index,\r\n      schTableData,\r\n      activeFeatures,\r\n      page,\r\n    );\r\n    newSchTableData.splice(destinationIndex, 0, ...selectedRowsWithNewRowId);\r\n    return newSchTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { executeSecPromoDrag };\r\n","const {\r\n  featuresEnum,\r\n  rowDataTypesEnum,\r\n  pagesEnum,\r\n} = require('views/Scheduling/Scheduler/enum');\r\nconst {\r\n  getCorrectedDestIndexForFilteredTable,\r\n  getCorrectedDestIndexIfDestIndexIsNtc,\r\n} = require('../../utils');\r\n\r\nconst getCorrectedDestIndex = (\r\n  destIndex,\r\n  schTableData,\r\n  activeFeatures,\r\n  page,\r\n) => {\r\n  let newDestIndex = destIndex;\r\n  /* DESTINATION INDEX CORRECTION IF FILTER IS ACTIVE */\r\n  if (activeFeatures[featuresEnum.FILTER]) {\r\n    newDestIndex = getCorrectedDestIndexForFilteredTable(\r\n      destIndex,\r\n      schTableData,\r\n    );\r\n  }\r\n  /* DESTINATION INDEX CORRECTION IF DESTINATION ROW IS NTC */\r\n  newDestIndex = getCorrectedDestIndexIfDestIndexIsNtc(\r\n    newDestIndex,\r\n    schTableData,\r\n  );\r\n  /* DESTINATION INDEX CORRECTION IF PAGE IS SONG SCHEDULING AND INDEX IS BELOW COMMERCIAL */\r\n  if (\r\n    page === pagesEnum.SONG &&\r\n    schTableData[newDestIndex - 1].F_C_S_P === rowDataTypesEnum.COMMERCIAL\r\n  ) {\r\n    newDestIndex = newDestIndex - 1;\r\n  }\r\n  return newDestIndex > 1 ? newDestIndex : 2;\r\n};\r\n\r\nexport { getCorrectedDestIndex };\r\n","import {\r\n  additionalRowInfoEnum,\r\n  droppableIdsEnum,\r\n  tableTypesEnum,\r\n} from '../../../enum';\r\nimport {\r\n  getCorrectedDestIndexForIntraTableDrag,\r\n  getTableDataWithAdditionalInfo,\r\n  removeRowsFromTableData,\r\n} from '../../utils';\r\nimport { getCorrectedDestIndex } from './utils';\r\n\r\nconst executeSecSongDrag = (\r\n  dragInfo,\r\n  schTableData,\r\n  secTableData,\r\n  secTableSelectedRows,\r\n  activeFeatures,\r\n  page,\r\n) => {\r\n  try {\r\n    const sourceDroppableId = dragInfo.source.droppableId;\r\n    const destinationDroppableId = dragInfo.destination.droppableId;\r\n    const selectedRows =\r\n      secTableSelectedRows.length > 0\r\n        ? secTableSelectedRows\r\n        : [secTableData[dragInfo.source.index]];\r\n    let newSchTableData = [...schTableData],\r\n      newSecTableData;\r\n    if (\r\n      sourceDroppableId === droppableIdsEnum.SECONDARY &&\r\n      destinationDroppableId === droppableIdsEnum.SECONDARY\r\n    ) {\r\n      newSecTableData = executeSecTableDrag(\r\n        dragInfo,\r\n        secTableData,\r\n        selectedRows,\r\n        activeFeatures,\r\n      );\r\n    } else if (\r\n      sourceDroppableId === droppableIdsEnum.SECONDARY &&\r\n      destinationDroppableId === droppableIdsEnum.SCHEDULING\r\n    ) {\r\n      newSchTableData = executeSecToSchTableDrag(\r\n        dragInfo,\r\n        schTableData,\r\n        selectedRows,\r\n        activeFeatures,\r\n        page,\r\n      );\r\n    }\r\n    return { newSchTableData, newSecTableData };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst executeSecTableDrag = (\r\n  dragInfo,\r\n  tableData,\r\n  selectedRows,\r\n  activeFeatures,\r\n) => {\r\n  try {\r\n    let newTableData = [...tableData];\r\n    let selectedRowsWithNewRowId = getTableDataWithAdditionalInfo({\r\n      tableData: selectedRows,\r\n      tableType: tableTypesEnum.SECONDARY,\r\n      additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n    });\r\n    let destinationIndex = getCorrectedDestIndexForIntraTableDrag(\r\n      dragInfo,\r\n      tableData,\r\n      activeFeatures,\r\n    );\r\n    newTableData.splice(destinationIndex, 0, ...selectedRowsWithNewRowId);\r\n    newTableData = removeRowsFromTableData(selectedRows, newTableData);\r\n    return newTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst executeSecToSchTableDrag = (\r\n  dragInfo,\r\n  schTableData,\r\n  selectedRows,\r\n  activeFeatures,\r\n  page,\r\n) => {\r\n  try {\r\n    let newSchTableData = [...schTableData];\r\n    let selectedRowsWithNewRowId = getTableDataWithAdditionalInfo({\r\n      tableData: selectedRows,\r\n      tableType: tableTypesEnum.SCHEDULING,\r\n      additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n    });\r\n    let destinationIndex = getCorrectedDestIndex(\r\n      dragInfo.destination.index,\r\n      schTableData,\r\n      activeFeatures,\r\n      page,\r\n    );\r\n    newSchTableData.splice(destinationIndex, 0, ...selectedRowsWithNewRowId);\r\n    return newSchTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { executeSecSongDrag };\r\n","import {\r\n  getFlatArrForGroupedArr,\r\n  getGroupedRows,\r\n  getUniqueObjects,\r\n  openNotification,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport {\r\n  getNTCParentRow,\r\n  getRowWithNTC,\r\n  getTableDataWithAdditionalInfo,\r\n  removeRowsFromTableData,\r\n} from '../../utils';\r\nimport { insertValidSelNTCsInRespectiveGroups } from '../ntcOperations/ntcDrag';\r\nimport {\r\n  additionalRowInfoEnum,\r\n  featuresEnum,\r\n  tableTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport { updatePropOfNTCs } from '../ntcOperations/utils';\r\n\r\nconst moveNTCsBasedOnOffsetTimeAutoCalculation = (\r\n  selectedRows,\r\n  tableData,\r\n  destIndex,\r\n  activeFeatures,\r\n) => {\r\n  // Get source parent rows for selected NTCs\r\n  const srcParentRows = getNTCParentRowForSelectedNTCs(selectedRows, tableData);\r\n  // Get grouped NTCs for each source parent row\r\n  const srcParentRowsWithGroupedNTCs = getGroupedNTCsForParentRows(\r\n    srcParentRows,\r\n    tableData,\r\n  );\r\n  // Get destination NTC parent row\r\n  const destParentRow = getNTCParentRow(destIndex, tableData);\r\n  // Get all NTCs for destination parent row\r\n  const destParentNTCs = getRowWithNTC([destParentRow], tableData, false);\r\n  // Get grouped NTCs for destination parent row\r\n  const destParentGroupedNTCs = getGroupedRows(destParentNTCs, 'NTCGroupCode');\r\n  // Get grouped NTCs for selected NTCs\r\n  const selectedGroupedNTCs = getGroupedRows(selectedRows, 'NTCGroupCode');\r\n  // Move NTCs\r\n  let result;\r\n  if (Object.keys(srcParentRowsWithGroupedNTCs).includes(destParentRow.rowId)) {\r\n    // If destination parent is same as one of source parent\r\n    result = moveNTCsWithinSrcParent({\r\n      srcParentRowsWithGroupedNTCs,\r\n      destParentRow,\r\n      destParentNTCs,\r\n      destParentGroupedNTCs,\r\n      selectedGroupedNTCs,\r\n      selNTCs: selectedRows,\r\n      destIndex,\r\n      tableData,\r\n      activeFeatures,\r\n    });\r\n  } else {\r\n    // Else destination parent is different from source parent\r\n    result = moveNTCsToDestParent({\r\n      destParentNTCs,\r\n      destParentGroupedNTCs,\r\n      selectedGroupedNTCs,\r\n      destIndex,\r\n      destParentRow,\r\n      tableData,\r\n      srcParentRowsWithGroupedNTCs,\r\n      activeFeatures,\r\n    });\r\n  }\r\n  // If few NTCs are not inserted, give notification to user\r\n  if (result.insertedNTCs.length < selectedRows.length)\r\n    openNotification(\r\n      'danger',\r\n      `Some NTCs are not ${\r\n        activeFeatures[featuresEnum.COPY] ? 'copied' : 'moved'\r\n      } due to insufficient duration`,\r\n    );\r\n  return result;\r\n};\r\n\r\nconst getNTCParentRowForSelectedNTCs = (selectedNTCs, tableData) => {\r\n  let parentRows = [];\r\n  selectedNTCs.forEach((ntc) => {\r\n    parentRows.push(getNTCParentRow(ntc.rowIndex, tableData));\r\n  });\r\n  parentRows = getUniqueObjects(parentRows, 'rowId');\r\n  return parentRows;\r\n};\r\n\r\nconst getGroupedNTCsForParentRows = (parentRows, tableData) => {\r\n  let parentRowsWithGroupedNTCs = {};\r\n  parentRows.forEach((curParentRow) => {\r\n    const curParentNTCs = getRowWithNTC([curParentRow], tableData, false);\r\n    const curParentGroupedNTCs = getGroupedRows(curParentNTCs, 'NTCGroupCode');\r\n    parentRowsWithGroupedNTCs[curParentRow.rowId] = curParentGroupedNTCs;\r\n  });\r\n  return parentRowsWithGroupedNTCs;\r\n};\r\n\r\nconst moveNTCsWithinSrcParent = ({\r\n  srcParentRowsWithGroupedNTCs,\r\n  destParentRow,\r\n  destParentNTCs,\r\n  destParentGroupedNTCs,\r\n  selectedGroupedNTCs,\r\n  selNTCs,\r\n  destIndex,\r\n  tableData,\r\n  activeFeatures,\r\n}) => {\r\n  // Remove selected NTCs from destination parent grouped NTCs if copy feature is not active\r\n  let newDestParentGroupedNTCs = !activeFeatures[featuresEnum.COPY]\r\n    ? removeNTCsFromParentGroupedNTCs(selNTCs, destParentGroupedNTCs)\r\n    : destParentGroupedNTCs;\r\n  // Insert selected NTCs in respective groups of destination parent grouped NTCs\r\n  const { newGroupedNTCs, insertedNTCs } = insertValidSelNTCsInRespectiveGroups(\r\n    newDestParentGroupedNTCs,\r\n    selectedGroupedNTCs,\r\n    destIndex,\r\n    destParentRow,\r\n  );\r\n  newDestParentGroupedNTCs = newGroupedNTCs;\r\n  // Flat the new destination parent grouped NTCs\r\n  const newDestParentNTCs = getFlatArrForGroupedArr(newDestParentGroupedNTCs);\r\n  let ntcsToRemove = activeFeatures[featuresEnum.COPY]\r\n    ? insertedNTCs.filter((row) => row.BookingDetailID)\r\n    : insertedNTCs;\r\n  // Add new row id to NTCs\r\n  let ntcsWithNewRowId = getTableDataWithAdditionalInfo({\r\n    tableData: newDestParentNTCs,\r\n    tableType: tableTypesEnum.SCHEDULING,\r\n    additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n  });\r\n  // Move NTCs\r\n  let newTableData = [...tableData];\r\n  // Remove old NTCs from destination parent row\r\n  newTableData = removeRowsFromTableData(destParentNTCs, newTableData);\r\n  // Insert moved NTCs below destination parent row\r\n  newTableData.splice(\r\n    newTableData.findIndex((row) => row.rowId === destParentRow.rowId) + 1,\r\n    0,\r\n    ...ntcsWithNewRowId,\r\n  );\r\n  // Update row index of Table Data\r\n  newTableData = getTableDataWithAdditionalInfo({\r\n    tableData: newTableData,\r\n    tableType: tableTypesEnum.SCHEDULING,\r\n    additionalInfo: [additionalRowInfoEnum.ROW_INDEX],\r\n  });\r\n  /* Remove moved NTCs from source parent rows if source is multiple */\r\n  if (Object.keys(srcParentRowsWithGroupedNTCs).length > 1) {\r\n    // Remove destination parent row from source parent rows\r\n    delete srcParentRowsWithGroupedNTCs[destParentRow.rowId];\r\n    // Remove moved NTCs from source parent rows\r\n    const newSrcParentRowsWithGroupedNTCs =\r\n      removeSelNTCsFromSrcParentsGroupedNTCs(\r\n        srcParentRowsWithGroupedNTCs,\r\n        ntcsToRemove,\r\n      );\r\n    // Assign new grouped NTCs to source parent rows\r\n    newTableData = assignGroupedNTCsToParentRows(\r\n      newSrcParentRowsWithGroupedNTCs,\r\n      newTableData,\r\n    );\r\n  }\r\n  return { newTableData, insertedNTCs };\r\n};\r\n\r\nconst removeNTCsFromParentGroupedNTCs = (selNTCs, groupedNTCs) => {\r\n  const newGroupedNTCs = {};\r\n  const selNTCsRowIds = selNTCs.map((row) => row.rowId);\r\n  Object.keys(groupedNTCs).forEach((groupCode) => {\r\n    let newCurGrpNTCs = [];\r\n    let newOffsetStartTime = '00:00:00:00';\r\n    // Remove selected NTCs from current grouped NTCs\r\n    groupedNTCs[groupCode].forEach((row, index) => {\r\n      if (selNTCsRowIds.includes(row.rowId)) {\r\n        if (index === 0) {\r\n          newOffsetStartTime = row.OffsetStartTime;\r\n        }\r\n      } else newCurGrpNTCs.push(row);\r\n    });\r\n    // Update offset start time of NTCs\r\n    newCurGrpNTCs = updatePropOfNTCs(\r\n      newCurGrpNTCs.map((row) => ({\r\n        ...row,\r\n        OffsetStartTime: newOffsetStartTime,\r\n      })),\r\n      ['offsetTime', 'defaultGap'],\r\n    );\r\n    newGroupedNTCs[groupCode] = newCurGrpNTCs;\r\n  });\r\n  return newGroupedNTCs;\r\n};\r\n\r\nconst moveNTCsToDestParent = ({\r\n  destParentNTCs,\r\n  destParentGroupedNTCs,\r\n  selectedGroupedNTCs,\r\n  destIndex,\r\n  destParentRow,\r\n  tableData,\r\n  srcParentRowsWithGroupedNTCs,\r\n  activeFeatures,\r\n}) => {\r\n  // Insert selected NTCs in respective groups of destination parent grouped NTCs\r\n  const { newGroupedNTCs, insertedNTCs } = insertValidSelNTCsInRespectiveGroups(\r\n    destParentGroupedNTCs,\r\n    selectedGroupedNTCs,\r\n    destIndex,\r\n    destParentRow,\r\n  );\r\n  // Flat the grouped NTCs\r\n  const flattenedNewGroupedNTCs = getFlatArrForGroupedArr(newGroupedNTCs);\r\n  let ntcsToRemove = activeFeatures[featuresEnum.COPY]\r\n    ? insertedNTCs.filter((row) => row.BookingDetailID)\r\n    : insertedNTCs;\r\n  // Add new row id to NTCs\r\n  let ntcsWithNewRowId = getTableDataWithAdditionalInfo({\r\n    tableData: flattenedNewGroupedNTCs,\r\n    tableType: tableTypesEnum.SCHEDULING,\r\n    additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n  });\r\n  // Move NTCs\r\n  let newTableData = [...tableData];\r\n  // Remove old NTCs from destination parent row\r\n  newTableData = removeRowsFromTableData(destParentNTCs, newTableData);\r\n  // Insert moved NTCs below destination parent row\r\n  newTableData.splice(\r\n    newTableData.findIndex((row) => row.rowId === destParentRow.rowId) + 1,\r\n    0,\r\n    ...ntcsWithNewRowId,\r\n  );\r\n  // Update row index of Table Data\r\n  newTableData = getTableDataWithAdditionalInfo({\r\n    tableData: newTableData,\r\n    tableType: tableTypesEnum.SCHEDULING,\r\n    additionalInfo: [additionalRowInfoEnum.ROW_INDEX],\r\n  });\r\n  // Remove moved NTCs from source parent rows\r\n  const newSrcParentRowsWithGroupedNTCs =\r\n    removeSelNTCsFromSrcParentsGroupedNTCs(\r\n      srcParentRowsWithGroupedNTCs,\r\n      ntcsToRemove,\r\n    );\r\n  // Assign new grouped NTCs to source parent rows\r\n  newTableData = assignGroupedNTCsToParentRows(\r\n    newSrcParentRowsWithGroupedNTCs,\r\n    newTableData,\r\n  );\r\n  return { newTableData, insertedNTCs };\r\n};\r\n\r\nconst removeSelNTCsFromSrcParentsGroupedNTCs = (\r\n  srcParentRowsWithGroupedNTCs,\r\n  selectedRows,\r\n) => {\r\n  const newSrcParentRowsWithGroupedNTCs = {};\r\n  const selectedRowIds = selectedRows.map((row) => row.rowId);\r\n  // Iterate through each parent row in the source data\r\n  Object.keys(srcParentRowsWithGroupedNTCs).forEach((parentRowId) => {\r\n    const parentRowGroupedNTCs = srcParentRowsWithGroupedNTCs[parentRowId];\r\n    let newParentRowGroupedNTCs = {};\r\n    // Iterate through each NTC group within the parent row\r\n    Object.keys(parentRowGroupedNTCs).forEach((groupCode) => {\r\n      const curGrpNTCs = parentRowGroupedNTCs[groupCode];\r\n      const startOffsetTime = curGrpNTCs[0].OffsetStartTime;\r\n      // Remove selected NTCs from the group\r\n      let newGrpNTCs = curGrpNTCs.filter(\r\n        (row) => !selectedRowIds.includes(row.rowId),\r\n      );\r\n      // Maintain the original start offset time for the remaining NTCs\r\n      newGrpNTCs = newGrpNTCs.map((row) => ({\r\n        ...row,\r\n        OffsetStartTime: startOffsetTime,\r\n      }));\r\n      // Update necessary properties (like offsetTime and defaultGap) for consistency\r\n      newGrpNTCs = updatePropOfNTCs(newGrpNTCs, ['offsetTime', 'defaultGap']);\r\n      // Store the updated NTC group back into the parent row\r\n      newParentRowGroupedNTCs[groupCode] = newGrpNTCs;\r\n    });\r\n    // Store the updated parent row with its modified grouped NTCs\r\n    newSrcParentRowsWithGroupedNTCs[parentRowId] = newParentRowGroupedNTCs;\r\n  });\r\n  return newSrcParentRowsWithGroupedNTCs;\r\n};\r\n\r\nconst assignGroupedNTCsToParentRows = (\r\n  srcParentRowsWithGroupedNTCs,\r\n  tableData,\r\n) => {\r\n  let newTableData = [...tableData];\r\n  // Remove old NTCs from its parent row and insert new NTCs below its parent row\r\n  Object.keys(srcParentRowsWithGroupedNTCs).forEach((parentRowId) => {\r\n    const parentRow = newTableData.find((row) => row.rowId === parentRowId);\r\n    // Remove old NTCs from parent row\r\n    const parentOldNTCs = getRowWithNTC([parentRow], newTableData, false);\r\n    newTableData = removeRowsFromTableData(parentOldNTCs, newTableData);\r\n    // Insert new NTCs below parent row\r\n    const parentNewGroupedNTCs = srcParentRowsWithGroupedNTCs[parentRowId];\r\n    const flattenedParentNewGroupedNTCs =\r\n      getFlatArrForGroupedArr(parentNewGroupedNTCs);\r\n    newTableData.splice(\r\n      newTableData.findIndex((row) => row.rowId === parentRow.rowId) + 1,\r\n      0,\r\n      ...flattenedParentNewGroupedNTCs,\r\n    );\r\n    // Update row index of Table Data\r\n    newTableData = getTableDataWithAdditionalInfo({\r\n      tableData: newTableData,\r\n      tableType: tableTypesEnum.SCHEDULING,\r\n      additionalInfo: [additionalRowInfoEnum.ROW_INDEX],\r\n    });\r\n  });\r\n  return newTableData;\r\n};\r\n\r\nexport { moveNTCsBasedOnOffsetTimeAutoCalculation };\r\n","import { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport { validateComm } from '../commOperations/utils';\r\nimport { isNTCDragValid, validateNTCs } from '../ntcOperations/utils';\r\nimport { moveNTCsBasedOnOffsetTimeAutoCalculation } from './ntcDragUtils';\r\n\r\nconst {\r\n  rowDataTypesEnum,\r\n  tableTypesEnum,\r\n  additionalRowInfoEnum,\r\n  featuresEnum,\r\n} = require('views/Scheduling/Scheduler/enum');\r\nconst {\r\n  getCorrectedDestIndexForIntraTableDrag,\r\n  getTableDataWithAdditionalInfo,\r\n  removeRowsFromTableData,\r\n  getCorrectedDestIndexIfDestIndexIsNtc,\r\n} = require('../../utils');\r\n\r\nconst getCorrectedDestIndexForPromoPage = (\r\n  dragInfo,\r\n  tableData,\r\n  activeFeatures,\r\n) => {\r\n  let newDestIndex = dragInfo.destination.index;\r\n  newDestIndex = getCorrectedDestIndexForIntraTableDrag(\r\n    dragInfo,\r\n    tableData,\r\n    activeFeatures,\r\n  );\r\n  if (tableData[newDestIndex - 1].F_C_S_P === rowDataTypesEnum.COMMERCIAL) {\r\n    newDestIndex = newDestIndex - 1;\r\n  }\r\n  return newDestIndex > 1 ? newDestIndex : 2;\r\n};\r\n\r\nconst getCorrectedDestIndexForSongPage = (\r\n  dragInfo,\r\n  tableData,\r\n  activeFeatures,\r\n) => {\r\n  let newDestIndex = dragInfo.destination.index;\r\n  newDestIndex = getCorrectedDestIndexForIntraTableDrag(\r\n    dragInfo,\r\n    tableData,\r\n    activeFeatures,\r\n  );\r\n  if (tableData[newDestIndex - 1].F_C_S_P === rowDataTypesEnum.COMMERCIAL) {\r\n    newDestIndex = newDestIndex - 1;\r\n  }\r\n  return newDestIndex > 1 ? newDestIndex : 2;\r\n};\r\n\r\nconst getCorrectedDestIndexForCommPage = (\r\n  dragInfo,\r\n  tableData,\r\n  activeFeatures,\r\n) => {\r\n  let newDestIndex = dragInfo.destination.index;\r\n  newDestIndex = getCorrectedDestIndexForIntraTableDrag(\r\n    dragInfo,\r\n    tableData,\r\n    activeFeatures,\r\n  );\r\n  return newDestIndex > 1 ? newDestIndex : 2;\r\n};\r\n\r\nconst getCorrectedDestIndexForNTCPage = (\r\n  dragInfo,\r\n  tableData,\r\n  activeFeatures,\r\n) => {\r\n  let newDestIndex = dragInfo.destination.index;\r\n  newDestIndex = getCorrectedDestIndexForIntraTableDrag(\r\n    dragInfo,\r\n    tableData,\r\n    activeFeatures,\r\n  );\r\n  return newDestIndex > 1 ? newDestIndex : 2;\r\n};\r\n\r\nconst getCorrectedDestIndexForFinalLogPage = (\r\n  dragInfo,\r\n  tableData,\r\n  activeFeatures,\r\n) => {\r\n  let newDestIndex = dragInfo.destination.index;\r\n  newDestIndex = getCorrectedDestIndexForIntraTableDrag(\r\n    dragInfo,\r\n    tableData,\r\n    activeFeatures,\r\n  );\r\n  /* DESTINATION INDEX CORRECTION IF DESTINATION ROW IS NTC */\r\n  newDestIndex = getCorrectedDestIndexIfDestIndexIsNtc(newDestIndex, tableData);\r\n  return newDestIndex > 1 ? newDestIndex : 2;\r\n};\r\n\r\nconst moveSimpleRows = (tableData, selectedRows, destIndex, activeFeatures) => {\r\n  // Move rows like Promo, Song, Segment and CT\r\n  let newTableData = [...tableData];\r\n  const selectedRowsWithNewRowId = getTableDataWithAdditionalInfo({\r\n    tableData: selectedRows,\r\n    tableType: tableTypesEnum.SCHEDULING,\r\n    additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n  });\r\n  newTableData.splice(destIndex, 0, ...selectedRowsWithNewRowId);\r\n  if (!activeFeatures[featuresEnum.COPY]) {\r\n    newTableData = removeRowsFromTableData(selectedRows, newTableData);\r\n  }\r\n  return newTableData;\r\n};\r\n\r\nconst moveCommercials = (tableData, destIndex, selectedRows) => {\r\n  let newTableData = [...tableData];\r\n  const validComm = validateComm({\r\n    destIndex,\r\n    tableData,\r\n    selectedRows,\r\n  });\r\n  if (!validComm) return false;\r\n  const validCommWithNewRowId = getTableDataWithAdditionalInfo({\r\n    tableData: validComm,\r\n    tableType: tableTypesEnum.SCHEDULING,\r\n    additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n  });\r\n  newTableData.splice(destIndex, 0, ...validCommWithNewRowId);\r\n  newTableData = removeRowsFromTableData(validComm, newTableData);\r\n  return { newTableData, validComm };\r\n};\r\n\r\nconst moveNTCs = (\r\n  dragInfo,\r\n  selectedRows,\r\n  tableData,\r\n  destIndex,\r\n  isAutoCalculateOffsetTime,\r\n  activeFeatures,\r\n  channel,\r\n  isResetOffsetStartTime = true,\r\n) => {\r\n  let result;\r\n  /* DRAG VALIDATION */\r\n  if (!isNTCDragValid(dragInfo, tableData, destIndex)) return false;\r\n  if (isAutoCalculateOffsetTime) {\r\n    result = moveNTCsBasedOnOffsetTimeAutoCalculation(\r\n      selectedRows.map((row) => ({\r\n        ...row,\r\n        OffsetStartTime: isResetOffsetStartTime\r\n          ? '00:00:00:00'\r\n          : row.OffsetStartTime,\r\n      })),\r\n      tableData,\r\n      destIndex,\r\n      activeFeatures,\r\n    );\r\n  } else {\r\n    result = moveNTCsWithoutOffsetTimeAutoCalc(\r\n      tableData,\r\n      destIndex,\r\n      selectedRows,\r\n      activeFeatures,\r\n      channel,\r\n      isAutoCalculateOffsetTime,\r\n    );\r\n  }\r\n  return result;\r\n};\r\n\r\nconst moveNTCsWithoutOffsetTimeAutoCalc = (\r\n  tableData,\r\n  destIndex,\r\n  selectedRows,\r\n  activeFeatures,\r\n  channel,\r\n  isAutoCalculateOffsetTime,\r\n) => {\r\n  let newTableData = [...tableData];\r\n  const validNTCs = validateNTCs({\r\n    destIndex,\r\n    tableData: newTableData,\r\n    selectedRows,\r\n    channel,\r\n    isAutoCalculateOffsetTime,\r\n  });\r\n  if (!validNTCs) {\r\n    openNotification('danger', `NTCs are out of parent's duration`);\r\n  } else {\r\n    // Move NTCs\r\n    let validNTCsWithNewRowId = getTableDataWithAdditionalInfo({\r\n      tableData: validNTCs,\r\n      tableType: tableTypesEnum.SCHEDULING,\r\n      additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n    });\r\n    newTableData.splice(destIndex, 0, ...validNTCsWithNewRowId);\r\n    // If few NTCs are not inserted, give notification to user\r\n    if (validNTCs.length < selectedRows.length)\r\n      openNotification(\r\n        'danger',\r\n        'Some NTCs are not moved due to insufficient duration',\r\n      );\r\n    // Remove moved NTCs\r\n    let ntcsToRemove = activeFeatures[featuresEnum.COPY]\r\n      ? validNTCs.filter((row) => row.BookingDetailID)\r\n      : validNTCs;\r\n    newTableData = removeRowsFromTableData(ntcsToRemove, newTableData);\r\n  }\r\n  return { newTableData };\r\n};\r\n\r\nexport {\r\n  getCorrectedDestIndexForPromoPage,\r\n  getCorrectedDestIndexForSongPage,\r\n  getCorrectedDestIndexForCommPage,\r\n  getCorrectedDestIndexForNTCPage,\r\n  getCorrectedDestIndexForFinalLogPage,\r\n  moveSimpleRows,\r\n  moveCommercials,\r\n  moveNTCs,\r\n};\r\n","import {\r\n  additionalRowInfoEnum,\r\n  featuresEnum,\r\n  pagesEnum,\r\n  rowDataTypesEnum,\r\n  tableTypesEnum,\r\n} from '../../../enum';\r\nimport {\r\n  getRowWithNTC,\r\n  getTableDataWithAdditionalInfo,\r\n  removeRowsFromTableData,\r\n} from '../../utils';\r\nimport { validateComm } from '../commOperations/utils';\r\nimport {\r\n  getCorrectedDestIndexForCommPage,\r\n  getCorrectedDestIndexForFinalLogPage,\r\n  getCorrectedDestIndexForNTCPage,\r\n  getCorrectedDestIndexForPromoPage,\r\n  getCorrectedDestIndexForSongPage,\r\n  moveCommercials,\r\n  moveNTCs,\r\n  moveSimpleRows,\r\n} from './utils';\r\n\r\nconst executeSchTableDrag = (\r\n  dragInfo,\r\n  tableData,\r\n  schTableSelRows,\r\n  activeFeatures,\r\n  page,\r\n  isAutoCalculateOffsetTime,\r\n  channel,\r\n) => {\r\n  let selectedRows =\r\n    schTableSelRows.length > 0\r\n      ? schTableSelRows\r\n      : [tableData[dragInfo.source.index]];\r\n  if (page === pagesEnum.PROMO) {\r\n    return executePromoDrag(dragInfo, tableData, selectedRows, activeFeatures);\r\n  } else if (page === pagesEnum.SONG) {\r\n    return executeSongDrag(dragInfo, tableData, selectedRows, activeFeatures);\r\n  } else if (page === pagesEnum.COMMERCIAL) {\r\n    return executeCommDrag(dragInfo, tableData, selectedRows, activeFeatures)\r\n      .newTableData;\r\n  } else if (page === pagesEnum.NTC) {\r\n    return executeNTCDrag(\r\n      dragInfo,\r\n      tableData,\r\n      selectedRows,\r\n      isAutoCalculateOffsetTime,\r\n      activeFeatures,\r\n      channel,\r\n    ).newTableData;\r\n  } else if (page === pagesEnum.FINAL_LOG) {\r\n    return executeFinalLogDrag(\r\n      dragInfo,\r\n      tableData,\r\n      selectedRows,\r\n      isAutoCalculateOffsetTime,\r\n      activeFeatures,\r\n      channel,\r\n    );\r\n  }\r\n};\r\n\r\nconst executePromoDrag = (\r\n  dragInfo,\r\n  tableData,\r\n  selectedRows,\r\n  activeFeatures,\r\n) => {\r\n  const destIndex = getCorrectedDestIndexForPromoPage(\r\n    dragInfo,\r\n    tableData,\r\n    activeFeatures,\r\n  );\r\n  return moveSimpleRows(tableData, selectedRows, destIndex, activeFeatures);\r\n};\r\n\r\nconst executeSongDrag = (dragInfo, tableData, selectedRows, activeFeatures) => {\r\n  const destIndex = getCorrectedDestIndexForSongPage(\r\n    dragInfo,\r\n    tableData,\r\n    activeFeatures,\r\n  );\r\n  return moveSimpleRows(tableData, selectedRows, destIndex, activeFeatures);\r\n};\r\n\r\nconst executeCommDrag = (dragInfo, tableData, selectedRows, activeFeatures) => {\r\n  const destIndex = getCorrectedDestIndexForCommPage(\r\n    dragInfo,\r\n    tableData,\r\n    activeFeatures,\r\n  );\r\n  return moveCommercials(tableData, destIndex, selectedRows);\r\n};\r\n\r\nconst executeNTCDrag = (\r\n  dragInfo,\r\n  tableData,\r\n  selectedRows,\r\n  isAutoCalculateOffsetTime,\r\n  activeFeatures,\r\n  channel,\r\n) => {\r\n  const destIndex = getCorrectedDestIndexForNTCPage(\r\n    dragInfo,\r\n    tableData,\r\n    activeFeatures,\r\n  );\r\n  return moveNTCs(\r\n    dragInfo,\r\n    selectedRows,\r\n    tableData,\r\n    destIndex,\r\n    isAutoCalculateOffsetTime,\r\n    activeFeatures,\r\n    channel,\r\n  );\r\n};\r\n\r\nconst executeFinalLogDrag = (\r\n  dragInfo,\r\n  tableData,\r\n  selectedRows,\r\n  isAutoCalculateOffsetTime,\r\n  activeFeatures,\r\n  channel,\r\n) => {\r\n  let newTableData = [...tableData];\r\n  if (selectedRows.every((row) => row.F_C_S_P === rowDataTypesEnum.NTC)) {\r\n    // If all selected rows are NTCs, execute NTC drag\r\n    newTableData = executeNTCDrag(\r\n      dragInfo,\r\n      tableData,\r\n      selectedRows,\r\n      isAutoCalculateOffsetTime,\r\n      activeFeatures,\r\n      channel,\r\n    ).newTableData;\r\n  } else {\r\n    let newSelRows = [...selectedRows];\r\n    if (\r\n      newSelRows.length === 1 &&\r\n      (newSelRows[0].F_C_S_P === rowDataTypesEnum.SEGMENT ||\r\n        newSelRows[0].F_C_S_P === rowDataTypesEnum.PROMO ||\r\n        newSelRows[0].F_C_S_P === rowDataTypesEnum.SONG ||\r\n        newSelRows[0].F_C_S_P === rowDataTypesEnum.LIVE)\r\n    ) {\r\n      newSelRows = getRowWithNTC(newSelRows, tableData);\r\n    }\r\n    const destIndex = getCorrectedDestIndexForFinalLogPage(\r\n      dragInfo,\r\n      tableData,\r\n      activeFeatures,\r\n    );\r\n    const commercials = newSelRows.filter(\r\n      (row) => row.F_C_S_P === rowDataTypesEnum.COMMERCIAL,\r\n    );\r\n    let validComm = [];\r\n    if (commercials.length > 0) {\r\n      validComm = validateComm({\r\n        destIndex,\r\n        tableData,\r\n        selectedRows: commercials,\r\n      });\r\n      if (!validComm) validComm = [];\r\n    }\r\n    const validCommRowIds = validComm.map((row) => row.rowId);\r\n    const validSelRows = newSelRows.filter(\r\n      (row) =>\r\n        validCommRowIds.includes(row.rowId) ||\r\n        row.F_C_S_P !== rowDataTypesEnum.COMMERCIAL,\r\n    );\r\n    // Get valid selected rows\r\n    const validSelRowsWithNewRowId = getTableDataWithAdditionalInfo({\r\n      tableData: validSelRows,\r\n      tableType: tableTypesEnum.SCHEDULING,\r\n      additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n    });\r\n    // Move rows\r\n    newTableData.splice(destIndex, 0, ...validSelRowsWithNewRowId);\r\n    let rowsToRemove = [...validSelRows];\r\n    if (activeFeatures[featuresEnum.COPY])\r\n      rowsToRemove = rowsToRemove.filter(\r\n        (row) =>\r\n          row.F_C_S_P === rowDataTypesEnum.COMMERCIAL ||\r\n          (row.F_C_S_P === rowDataTypesEnum.NTC && row.BookingDetailID),\r\n      );\r\n    newTableData = removeRowsFromTableData(rowsToRemove, newTableData);\r\n  }\r\n  return newTableData;\r\n};\r\n\r\nexport { executeSchTableDrag };\r\n","import { removeRowsFromTableData } from '../../utils';\r\nimport { getCorrectedDestIndex, validateComm } from './utils';\r\n\r\nconst executeCommInsert = (\r\n  destIndex,\r\n  schTableData,\r\n  secTableData,\r\n  selectedRows,\r\n  activeFeatures,\r\n) => {\r\n  try {\r\n    let newSchTableData = [...schTableData];\r\n    let newSecTableData = [...secTableData];\r\n    let destinationIndex = getCorrectedDestIndex(\r\n      destIndex,\r\n      schTableData,\r\n      activeFeatures,\r\n    );\r\n    /* DRAG VALIDATION */\r\n    const validComm = validateComm({\r\n      destIndex: destinationIndex,\r\n      tableData: schTableData,\r\n      selectedRows,\r\n    });\r\n    if (!validComm) return false;\r\n    newSchTableData.splice(destinationIndex, 0, ...validComm);\r\n    newSecTableData = removeRowsFromTableData(validComm, newSecTableData);\r\n    return { newSchTableData, newSecTableData };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { executeCommInsert };\r\n","import {\r\n  bulkInsertPositionEnum,\r\n  pagesEnum,\r\n  rowDataTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport { isRowLastSegment, isSegmentValid } from '../../utils';\r\nimport { CLIENT } from 'views/Controls/clientListEnum';\r\nconst lodash = require('lodash');\r\n\r\nfunction executeSongBulkInsert(\r\n  insertPosition,\r\n  time,\r\n  selectedBreaks,\r\n  isSkipLastBreak,\r\n  isOnlyLastBreak,\r\n  isRandomizeIns,\r\n  isRepeatRandomIns,\r\n  insCountPerSeg,\r\n  isSkipInsInSameProg,\r\n  selectedRows,\r\n  selProgramsFpcId,\r\n  schedulingTableData,\r\n  channel,\r\n  page,\r\n) {\r\n  let isChannelForbes = channel === CLIENT.USA_Forbes;\r\n  let newSchedulingTableData = [];\r\n  let isCurBlockValid = false;\r\n  for (let index = 0; index < schedulingTableData.length; index++) {\r\n    const row = schedulingTableData[index];\r\n    const nextRow = schedulingTableData[index + 1];\r\n    const isRowSegment = row.F_C_S_P === rowDataTypesEnum.SEGMENT;\r\n    const isRowLive = row.F_C_S_P === rowDataTypesEnum.LIVE;\r\n    // Update the validity of the current segment\r\n    if (row.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION) {\r\n      // Mark the segment as invalid if the row is content termination\r\n      isCurBlockValid = false;\r\n    } else if (isRowSegment) {\r\n      // Validate the segment using the given time and selected breaks\r\n      isCurBlockValid = isSegmentValid(\r\n        row,\r\n        time,\r\n        selectedBreaks,\r\n        selProgramsFpcId,\r\n      );\r\n    } else if (isRowLive) {\r\n      // Validate the live row using the given time and selected breaks\r\n      isCurBlockValid =\r\n        isSegmentValid(row, time, selectedBreaks, selProgramsFpcId) &&\r\n        !isChannelForbes;\r\n    }\r\n    // Mark the segment as invalid if isSkipLastBreak === true and row is last segment\r\n    if (isCurBlockValid && isSkipLastBreak)\r\n      isCurBlockValid = !isRowLastSegment(row, schedulingTableData);\r\n    // Mark the segment as valid if isOnlyLastBreak === true and row is last segment\r\n    if (isOnlyLastBreak)\r\n      isCurBlockValid =\r\n        isRowLastSegment(row, schedulingTableData) &&\r\n        isSegmentValid(row, time, null, selProgramsFpcId);\r\n    // Perform insertion logic if the current segment is valid\r\n    if (isCurBlockValid) {\r\n      let newSelectedRows = isSkipInsInSameProg\r\n        ? [...selectedRows].filter(\r\n            (curRow) => curRow.ContentCode !== row.ContentCode,\r\n          )\r\n        : [...selectedRows];\r\n      // Case 1: Insert rows at the start of the segment\r\n      if (insertPosition === bulkInsertPositionEnum.START && isRowSegment) {\r\n        // Add the current row and the secondary table's selected rows\r\n        if (isRandomizeIns) {\r\n          if (isRepeatRandomIns)\r\n            newSchedulingTableData.push(\r\n              row,\r\n              ...lodash.shuffle(newSelectedRows),\r\n            );\r\n          else {\r\n            const shuffledRows = lodash.shuffle(newSelectedRows);\r\n            const rowsToInsert = shuffledRows.slice(0, insCountPerSeg);\r\n            newSelectedRows = shuffledRows.slice(\r\n              insCountPerSeg,\r\n              shuffledRows.length,\r\n            );\r\n            newSchedulingTableData.push(row, ...rowsToInsert);\r\n          }\r\n        } else newSchedulingTableData.push(row, ...newSelectedRows);\r\n        continue; // Move to the next iteration\r\n      }\r\n      // Case 2: Insert rows at the end of the segment\r\n      if (\r\n        insertPosition === bulkInsertPositionEnum.END && // Check if insertion is at the end\r\n        (!nextRow ||\r\n          (nextRow && // Ensure there is a next row\r\n            (nextRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION || // Check if the next row is content termination\r\n              nextRow.F_C_S_P === rowDataTypesEnum.SEGMENT))) // Or if it's another segment\r\n      ) {\r\n        // If the current row is a commercial, find the insertion point\r\n        if (\r\n          page === pagesEnum.SONG &&\r\n          (row.F_C_S_P === rowDataTypesEnum.COMMERCIAL ||\r\n            row.F_C_S_P === rowDataTypesEnum.BREAK)\r\n        ) {\r\n          // Traverse backward to locate the last non-commercial row\r\n          for (let j = newSchedulingTableData.length - 1; j >= 0; j--) {\r\n            if (\r\n              newSchedulingTableData[j].F_C_S_P !==\r\n                rowDataTypesEnum.COMMERCIAL &&\r\n              newSchedulingTableData[j].F_C_S_P !== rowDataTypesEnum.BREAK\r\n            ) {\r\n              // Insert the secondary table's selected rows after the identified row\r\n              let rowsToInsert = newSelectedRows;\r\n              if (isRandomizeIns) {\r\n                if (isRepeatRandomIns)\r\n                  rowsToInsert = lodash.shuffle(newSelectedRows);\r\n                else {\r\n                  const shuffledRows = lodash.shuffle(newSelectedRows);\r\n                  rowsToInsert = shuffledRows.slice(0, insCountPerSeg);\r\n                  newSelectedRows = shuffledRows.slice(\r\n                    insCountPerSeg,\r\n                    shuffledRows.length,\r\n                  );\r\n                }\r\n              }\r\n              newSchedulingTableData.splice(\r\n                j + 1, // Position to insert\r\n                0,\r\n                ...rowsToInsert, // Rows to insert\r\n              );\r\n              break; // Stop searching once the insertion point is found\r\n            }\r\n          }\r\n        } else {\r\n          // Otherwise, add the current row and the selected rows\r\n          if (isRandomizeIns) {\r\n            if (isRepeatRandomIns)\r\n              newSchedulingTableData.push(\r\n                row,\r\n                ...lodash.shuffle(newSelectedRows),\r\n              );\r\n            else {\r\n              const shuffledRows = lodash.shuffle(newSelectedRows);\r\n              const rowsToInsert = shuffledRows.slice(0, insCountPerSeg);\r\n              newSelectedRows = shuffledRows.slice(\r\n                insCountPerSeg,\r\n                shuffledRows.length,\r\n              );\r\n              newSchedulingTableData.push(row, ...rowsToInsert);\r\n            }\r\n          } else newSchedulingTableData.push(row, ...newSelectedRows);\r\n          continue; // Move to the next iteration\r\n        }\r\n      }\r\n    }\r\n    // Default case: Add the current row to the updated table\r\n    newSchedulingTableData.push(row);\r\n  }\r\n  return newSchedulingTableData;\r\n}\r\n\r\nexport { executeSongBulkInsert };\r\n","import { addPropertiesToSelectedNTCs, insertNTCsBelowParent } from './utils';\r\nimport { insertNTCsBasedOnOffsetTimeAutoCalculation } from './ntcDrag';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nconst { CLIENT } = require('views/Controls/clientListEnum');\r\nconst {\r\n  rowDataTypesEnum,\r\n  bulkInsertPositionEnum,\r\n  tableTypesEnum,\r\n  additionalRowInfoEnum,\r\n} = require('views/Scheduling/Scheduler/enum');\r\nconst {\r\n  isSegmentValid,\r\n  isRowBetweenValidTime,\r\n  getNTCParentRow,\r\n  getTableDataWithAdditionalInfo,\r\n  isRowLastSegment,\r\n} = require('../../utils');\r\n\r\nfunction executeBulkNTCInsert({\r\n  insertPosition,\r\n  time,\r\n  selectedBreaks,\r\n  isSkipLastBreak,\r\n  isOnlyLastBreak,\r\n  selectedRows,\r\n  descriptionType,\r\n  bulkNTCInsDesc,\r\n  durationType,\r\n  bulkNTCInsDuration,\r\n  bulkNTCInsOffsetTime,\r\n  schedulingTableData,\r\n  channel,\r\n  isAutoCalcNtcOffsetTime,\r\n  selProgramsFpcId,\r\n}) {\r\n  try {\r\n    let newSchedulingTableData = [];\r\n    const isChannelForbes = channel.label === CLIENT.USA_Forbes;\r\n    if (isChannelForbes)\r\n      newSchedulingTableData = executeBulkNTCInsertForForbes({\r\n        selectedRows,\r\n        time,\r\n        descriptionType,\r\n        bulkNTCInsDesc,\r\n        durationType,\r\n        bulkNTCInsDuration,\r\n        bulkNTCInsOffsetTime,\r\n        schedulingTableData,\r\n        selProgramsFpcId,\r\n      });\r\n    else\r\n      newSchedulingTableData = executeBulkNTCInsertForOthers({\r\n        insertPosition,\r\n        time,\r\n        selectedBreaks,\r\n        isSkipLastBreak,\r\n        isOnlyLastBreak,\r\n        selectedRows,\r\n        descriptionType,\r\n        bulkNTCInsDesc,\r\n        durationType,\r\n        bulkNTCInsDuration,\r\n        bulkNTCInsOffsetTime,\r\n        schedulingTableData,\r\n        isAutoCalcNtcOffsetTime,\r\n        selProgramsFpcId,\r\n      });\r\n    return newSchedulingTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction executeBulkNTCInsertForForbes({\r\n  selectedRows,\r\n  time,\r\n  descriptionType,\r\n  bulkNTCInsDesc,\r\n  durationType,\r\n  bulkNTCInsDuration,\r\n  bulkNTCInsOffsetTime,\r\n  schedulingTableData,\r\n  selProgramsFpcId,\r\n}) {\r\n  try {\r\n    let newSchedulingTableData = [];\r\n    for (let index = 0; index < schedulingTableData.length; index++) {\r\n      const row = schedulingTableData[index];\r\n      if (\r\n        (row.F_C_S_P === rowDataTypesEnum.PROMO ||\r\n          row.F_C_S_P === rowDataTypesEnum.SONG ||\r\n          row.F_C_S_P === rowDataTypesEnum.LIVE) &&\r\n        isRowBetweenValidTime(row, time) &&\r\n        selProgramsFpcId.includes(row.FPC_ID)\r\n      ) {\r\n        let updatedSelectedRows = addPropertiesToSelectedNTCs(\r\n          selectedRows,\r\n          row,\r\n          descriptionType,\r\n          bulkNTCInsDesc,\r\n          durationType,\r\n          bulkNTCInsDuration,\r\n          bulkNTCInsOffsetTime,\r\n        );\r\n        newSchedulingTableData.push(row);\r\n        newSchedulingTableData = insertNTCsBelowParent(\r\n          newSchedulingTableData.length - 1,\r\n          newSchedulingTableData,\r\n          updatedSelectedRows,\r\n        );\r\n      } else {\r\n        newSchedulingTableData.push(row);\r\n      }\r\n    }\r\n    return newSchedulingTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction executeBulkNTCInsertForOthers({\r\n  insertPosition,\r\n  time,\r\n  selectedBreaks,\r\n  isSkipLastBreak,\r\n  isOnlyLastBreak,\r\n  selectedRows,\r\n  descriptionType,\r\n  bulkNTCInsDesc,\r\n  durationType,\r\n  bulkNTCInsDuration,\r\n  bulkNTCInsOffsetTime,\r\n  schedulingTableData,\r\n  isAutoCalcNtcOffsetTime,\r\n  selProgramsFpcId,\r\n}) {\r\n  try {\r\n    let newSchedulingTableData = [];\r\n    let isCurBlockValid = false;\r\n    for (let index = 0; index < schedulingTableData.length; index++) {\r\n      const row = schedulingTableData[index];\r\n      const nextRow = schedulingTableData[index + 1];\r\n      const isRowSegmentOrLive =\r\n        row.F_C_S_P === rowDataTypesEnum.SEGMENT ||\r\n        row.F_C_S_P === rowDataTypesEnum.LIVE;\r\n      // Update the validity of the current segment\r\n      if (row.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION) {\r\n        // Content termination marks the end of a valid segment\r\n        isCurBlockValid = false;\r\n      } else if (isRowSegmentOrLive) {\r\n        // Check if the current segment is valid based on provided criteria\r\n        isCurBlockValid = isSegmentValid(\r\n          row,\r\n          time,\r\n          selectedBreaks,\r\n          selProgramsFpcId,\r\n        );\r\n      }\r\n      // Mark the segment as invalid if isSkipLastBreak === true and row is last segment\r\n      if (isCurBlockValid && isSkipLastBreak)\r\n        isCurBlockValid = !isRowLastSegment(row, schedulingTableData);\r\n      // Mark the segment as valid if isOnlyLastBreak === true and row is last segment\r\n      if (isOnlyLastBreak)\r\n        isCurBlockValid =\r\n          isRowLastSegment(row, schedulingTableData) &&\r\n          isSegmentValid(row, time, null, selProgramsFpcId);\r\n      // If the current segment is valid, proceed with insertion logic\r\n      if (isCurBlockValid) {\r\n        /* Add appropriate properties to selectedRows before insert*/\r\n        let updatedSelectedRows = addPropertiesToSelectedNTCs(\r\n          selectedRows,\r\n          row,\r\n          descriptionType,\r\n          bulkNTCInsDesc,\r\n          durationType,\r\n          bulkNTCInsDuration,\r\n          bulkNTCInsOffsetTime,\r\n        );\r\n        // Case 1: Insert NTCs at the start of the segment\r\n        if (\r\n          insertPosition === bulkInsertPositionEnum.START &&\r\n          isRowSegmentOrLive\r\n        ) {\r\n          newSchedulingTableData.push(row); // Add the current row (segment)\r\n          newSchedulingTableData = getTableDataWithAdditionalInfo({\r\n            tableData: newSchedulingTableData,\r\n            tableType: tableTypesEnum.SCHEDULING,\r\n            additionalInfo: [additionalRowInfoEnum.ROW_INDEX],\r\n          });\r\n          if (isAutoCalcNtcOffsetTime) {\r\n            const { newTableData } = insertNTCsBasedOnOffsetTimeAutoCalculation(\r\n              newSchedulingTableData[newSchedulingTableData.length - 1],\r\n              updatedSelectedRows,\r\n              newSchedulingTableData,\r\n              newSchedulingTableData.length,\r\n            );\r\n            newSchedulingTableData = getTableDataWithAdditionalInfo({\r\n              tableData: newTableData,\r\n              tableType: tableTypesEnum.SCHEDULING,\r\n              additionalInfo: [additionalRowInfoEnum.ROW_INDEX],\r\n            });\r\n          } else {\r\n            newSchedulingTableData = insertNTCsBelowParent(\r\n              newSchedulingTableData.length - 1,\r\n              newSchedulingTableData,\r\n              updatedSelectedRows,\r\n            );\r\n          }\r\n          continue; // Skip to the next iteration\r\n        }\r\n        // Case 2: Insert NTCs at the end of the segment\r\n        if (\r\n          insertPosition === bulkInsertPositionEnum.END && // Check if insertion is at the end\r\n          (!nextRow ||\r\n            (nextRow && // Ensure there is a next row\r\n              (nextRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION || // Check if the next row is content termination\r\n                nextRow.F_C_S_P === rowDataTypesEnum.SEGMENT))) // Or if it's another segment\r\n        ) {\r\n          // If the current row is a commercial or NTC, find the insertion point\r\n          if (\r\n            row.F_C_S_P === rowDataTypesEnum.COMMERCIAL ||\r\n            row.F_C_S_P === rowDataTypesEnum.NTC ||\r\n            row.F_C_S_P === rowDataTypesEnum.BREAK\r\n          ) {\r\n            // Traverse backward to find the last non-commercial row\r\n            for (let j = newSchedulingTableData.length - 1; j >= 0; j--) {\r\n              if (\r\n                newSchedulingTableData[j].F_C_S_P !==\r\n                  rowDataTypesEnum.COMMERCIAL &&\r\n                newSchedulingTableData[j].F_C_S_P !== rowDataTypesEnum.NTC &&\r\n                newSchedulingTableData[j].F_C_S_P !== rowDataTypesEnum.BREAK\r\n              ) {\r\n                // Insert NTCs below the identified row\r\n                if (isAutoCalcNtcOffsetTime) {\r\n                  const { newTableData } =\r\n                    insertNTCsBasedOnOffsetTimeAutoCalculation(\r\n                      newSchedulingTableData[j],\r\n                      updatedSelectedRows,\r\n                      newSchedulingTableData,\r\n                      j + 1,\r\n                    );\r\n                  newSchedulingTableData = getTableDataWithAdditionalInfo({\r\n                    tableData: newTableData,\r\n                    tableType: tableTypesEnum.SCHEDULING,\r\n                    additionalInfo: [additionalRowInfoEnum.ROW_INDEX],\r\n                  });\r\n                } else {\r\n                  newSchedulingTableData = insertNTCsBelowParent(\r\n                    j,\r\n                    newSchedulingTableData,\r\n                    updatedSelectedRows,\r\n                  );\r\n                }\r\n                break; // Stop searching once the parent row is found\r\n              }\r\n            }\r\n          } else {\r\n            // Otherwise, add the current row and insert NTCs below it\r\n            newSchedulingTableData.push(row); // Add the current row\r\n            newSchedulingTableData = getTableDataWithAdditionalInfo({\r\n              tableData: newSchedulingTableData,\r\n              tableType: tableTypesEnum.SCHEDULING,\r\n              additionalInfo: [additionalRowInfoEnum.ROW_INDEX],\r\n            });\r\n            if (isAutoCalcNtcOffsetTime) {\r\n              const { newTableData } =\r\n                insertNTCsBasedOnOffsetTimeAutoCalculation(\r\n                  newSchedulingTableData[newSchedulingTableData.length - 1],\r\n                  updatedSelectedRows,\r\n                  newSchedulingTableData,\r\n                  newSchedulingTableData.length,\r\n                );\r\n              newSchedulingTableData = getTableDataWithAdditionalInfo({\r\n                tableData: newTableData,\r\n                tableType: tableTypesEnum.SCHEDULING,\r\n                additionalInfo: [additionalRowInfoEnum.ROW_INDEX],\r\n              });\r\n            } else {\r\n              newSchedulingTableData = insertNTCsBelowParent(\r\n                newSchedulingTableData.length - 1,\r\n                newSchedulingTableData,\r\n                updatedSelectedRows,\r\n              );\r\n            }\r\n            continue; // Skip to the next iteration\r\n          }\r\n        }\r\n      }\r\n      // Default case: Add the current row to the new scheduling table\r\n      newSchedulingTableData.push(row);\r\n      newSchedulingTableData = getTableDataWithAdditionalInfo({\r\n        tableData: newSchedulingTableData,\r\n        tableType: tableTypesEnum.SCHEDULING,\r\n        additionalInfo: [additionalRowInfoEnum.ROW_INDEX],\r\n      });\r\n    }\r\n    return newSchedulingTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nfunction executeBulkNTCInsertBelowExactMatch(\r\n  time,\r\n  bulkInsertExactMatchString,\r\n  schTableData,\r\n  selectedRows,\r\n  isAutoCalcNtcOffsetTime,\r\n  selProgramsFpcId,\r\n) {\r\n  return new Promise((resolve, reject) => {\r\n    try {\r\n      let newSchTableData = [];\r\n      let isAnyNTCsInserted = null;\r\n      for (let index = 0; index < schTableData.length; index++) {\r\n        const row = schTableData[index];\r\n        newSchTableData.push(row);\r\n        newSchTableData = newSchTableData.map((row, index) => ({\r\n          ...row,\r\n          rowIndex: index,\r\n        }));\r\n        if (\r\n          selProgramsFpcId.includes(row.FPC_ID) &&\r\n          (row.F_C_S_P === rowDataTypesEnum.SEGMENT ||\r\n            row.F_C_S_P === rowDataTypesEnum.PROMO ||\r\n            row.F_C_S_P === rowDataTypesEnum.SONG) &&\r\n          row.Event_Name.toLowerCase().includes(\r\n            bulkInsertExactMatchString.toLowerCase(),\r\n          ) &&\r\n          isRowBetweenValidTime(row, time)\r\n        ) {\r\n          const destIndex = newSchTableData.length;\r\n          let ntcParentRow = getNTCParentRow(destIndex, newSchTableData);\r\n          if (isAutoCalcNtcOffsetTime) {\r\n            const { newTableData, insertedNTCs } =\r\n              insertNTCsBasedOnOffsetTimeAutoCalculation(\r\n                ntcParentRow,\r\n                selectedRows,\r\n                newSchTableData,\r\n                destIndex,\r\n              );\r\n            if (insertedNTCs.length > 0 && isAnyNTCsInserted === null)\r\n              isAnyNTCsInserted = true;\r\n            if (insertedNTCs.length > 0)\r\n              newSchTableData = newTableData.map((row, index) => ({\r\n                ...row,\r\n                rowIndex: index,\r\n              }));\r\n          }\r\n        }\r\n      }\r\n      if (isAnyNTCsInserted === null) {\r\n        openNotification('danger', 'No NTC parent with exact match found');\r\n        newSchTableData = false;\r\n      }\r\n      resolve(newSchTableData);\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n}\r\n\r\nexport { executeBulkNTCInsert, executeBulkNTCInsertBelowExactMatch };\r\n","import {\r\n  bulkInsertPositionEnum,\r\n  pagesEnum,\r\n  rowDataTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport { isRowLastSegment, isSegmentValid } from '../../utils';\r\nimport { CLIENT } from 'views/Controls/clientListEnum';\r\nconst lodash = require('lodash');\r\n\r\nfunction executePromoBulkInsert(\r\n  insertPosition,\r\n  time,\r\n  selectedBreaks,\r\n  isSkipLastBreak,\r\n  isOnlyLastBreak,\r\n  isRandomizeIns,\r\n  isRepeatRandomIns,\r\n  insCountPerSeg,\r\n  isSkipInsInSameProg,\r\n  selectedRows,\r\n  selProgramsFpcId,\r\n  schedulingTableData,\r\n  channel,\r\n  page,\r\n) {\r\n  let isChannelForbes = channel === CLIENT.USA_Forbes;\r\n  let newSchedulingTableData = [];\r\n  let isCurBlockValid = false;\r\n  for (let index = 0; index < schedulingTableData.length; index++) {\r\n    const row = schedulingTableData[index];\r\n    const nextRow = schedulingTableData[index + 1];\r\n    const isRowSegment = row.F_C_S_P === rowDataTypesEnum.SEGMENT;\r\n    const isRowLive = row.F_C_S_P === rowDataTypesEnum.LIVE;\r\n    // Update the validity of the current segment\r\n    if (row.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION) {\r\n      // Mark the segment as invalid if the row is content termination\r\n      isCurBlockValid = false;\r\n    } else if (isRowSegment) {\r\n      // Validate the segment using the given time and selected breaks\r\n      isCurBlockValid = isSegmentValid(\r\n        row,\r\n        time,\r\n        selectedBreaks,\r\n        selProgramsFpcId,\r\n      );\r\n    } else if (isRowLive) {\r\n      // Validate the live row using the given time and selected breaks\r\n      isCurBlockValid =\r\n        isSegmentValid(row, time, selectedBreaks, selProgramsFpcId) &&\r\n        !isChannelForbes;\r\n    }\r\n    // Mark the segment as invalid if isSkipLastBreak === true and row is last segment\r\n    if (isCurBlockValid && isSkipLastBreak)\r\n      isCurBlockValid = !isRowLastSegment(row, schedulingTableData);\r\n    // Mark the segment as valid if isOnlyLastBreak === true and row is last segment\r\n    if (isOnlyLastBreak)\r\n      isCurBlockValid =\r\n        isRowLastSegment(row, schedulingTableData) &&\r\n        isSegmentValid(row, time, null, selProgramsFpcId);\r\n    // Perform insertion logic if the current segment is valid\r\n    if (isCurBlockValid) {\r\n      let newSelectedRows = isSkipInsInSameProg\r\n        ? [...selectedRows].filter(\r\n            (curRow) => curRow.ContentCode !== row.ContentCode,\r\n          )\r\n        : [...selectedRows];\r\n      // Case 1: Insert rows at the start of the segment\r\n      if (insertPosition === bulkInsertPositionEnum.START && isRowSegment) {\r\n        // Add the current row and the secondary table's selected rows\r\n        if (isRandomizeIns) {\r\n          if (isRepeatRandomIns)\r\n            newSchedulingTableData.push(\r\n              row,\r\n              ...lodash.shuffle(newSelectedRows),\r\n            );\r\n          else {\r\n            const shuffledRows = lodash.shuffle(newSelectedRows);\r\n            const rowsToInsert = shuffledRows.slice(0, insCountPerSeg);\r\n            newSelectedRows = shuffledRows.slice(\r\n              insCountPerSeg,\r\n              shuffledRows.length,\r\n            );\r\n            newSchedulingTableData.push(row, ...rowsToInsert);\r\n          }\r\n        } else newSchedulingTableData.push(row, ...newSelectedRows);\r\n        continue; // Move to the next iteration\r\n      }\r\n      // Case 2: Insert rows at the end of the segment\r\n      if (\r\n        insertPosition === bulkInsertPositionEnum.END && // Check if insertion is at the end\r\n        (!nextRow ||\r\n          (nextRow && // Ensure there is a next row\r\n            (nextRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION || // Check if the next row is content termination\r\n              nextRow.F_C_S_P === rowDataTypesEnum.SEGMENT))) // Or if it's another segment\r\n      ) {\r\n        // If the current row is a commercial, find the insertion point\r\n        if (\r\n          page === pagesEnum.PROMO &&\r\n          (row.F_C_S_P === rowDataTypesEnum.COMMERCIAL ||\r\n            row.F_C_S_P === rowDataTypesEnum.BREAK)\r\n        ) {\r\n          // Traverse backward to locate the last non-commercial row\r\n          for (let j = newSchedulingTableData.length - 1; j >= 0; j--) {\r\n            if (\r\n              newSchedulingTableData[j].F_C_S_P !==\r\n                rowDataTypesEnum.COMMERCIAL &&\r\n              newSchedulingTableData[j].F_C_S_P !== rowDataTypesEnum.BREAK\r\n            ) {\r\n              // Insert the secondary table's selected rows after the identified row\r\n              let rowsToInsert = newSelectedRows;\r\n              if (isRandomizeIns) {\r\n                if (isRepeatRandomIns)\r\n                  rowsToInsert = lodash.shuffle(newSelectedRows);\r\n                else {\r\n                  const shuffledRows = lodash.shuffle(newSelectedRows);\r\n                  rowsToInsert = shuffledRows.slice(0, insCountPerSeg);\r\n                  newSelectedRows = shuffledRows.slice(\r\n                    insCountPerSeg,\r\n                    shuffledRows.length,\r\n                  );\r\n                }\r\n              }\r\n              newSchedulingTableData.splice(\r\n                j + 1, // Position to insert\r\n                0,\r\n                ...rowsToInsert, // Rows to insert\r\n              );\r\n              break; // Stop searching once the insertion point is found\r\n            }\r\n          }\r\n        } else {\r\n          // Otherwise, add the current row and the selected rows\r\n          if (isRandomizeIns) {\r\n            if (isRepeatRandomIns)\r\n              newSchedulingTableData.push(\r\n                row,\r\n                ...lodash.shuffle(newSelectedRows),\r\n              );\r\n            else {\r\n              const shuffledRows = lodash.shuffle(newSelectedRows);\r\n              const rowsToInsert = shuffledRows.slice(0, insCountPerSeg);\r\n              newSelectedRows = shuffledRows.slice(\r\n                insCountPerSeg,\r\n                shuffledRows.length,\r\n              );\r\n              newSchedulingTableData.push(row, ...rowsToInsert);\r\n            }\r\n          } else newSchedulingTableData.push(row, ...newSelectedRows);\r\n          continue; // Move to the next iteration\r\n        }\r\n      }\r\n    }\r\n    // Default case: Add the current row to the updated table\r\n    newSchedulingTableData.push(row);\r\n  }\r\n  return newSchedulingTableData;\r\n}\r\n\r\nexport { executePromoBulkInsert };\r\n","const executePromoReplace = (\r\n  schTableData,\r\n  schTableSelectedRows,\r\n  secTableSelectedRow,\r\n) => {\r\n  let newSchTableData = [...schTableData];\r\n  /* PLACE SELECTED ROWS IN SCHEDULING TABLE */\r\n  schTableSelectedRows.forEach((selRow) => {\r\n    newSchTableData[selRow.rowIndex] = {\r\n      ...selRow,\r\n      Event_Name: secTableSelectedRow.Event_Name,\r\n      Duration: secTableSelectedRow.Duration,\r\n      VideoID: secTableSelectedRow.HouseID,\r\n      Tape_ID: secTableSelectedRow.Tape_ID,\r\n      PromoCode: secTableSelectedRow.PromoCode,\r\n      PromoTypeCode: secTableSelectedRow.PromoType,\r\n    };\r\n  });\r\n  return newSchTableData;\r\n};\r\n\r\nexport { executePromoReplace };\r\n","import { updateOffsetStartTimeOfNTCs } from './utils';\r\n\r\nconst executeNtcReplace = (\r\n  schTableData,\r\n  schTableSelectedRows,\r\n  secTableSelectedRow,\r\n  isAutoCalcNtcOffsetTime,\r\n) => {\r\n  let newSchTableData;\r\n  if (isAutoCalcNtcOffsetTime) {\r\n    newSchTableData = getTableDataWithAutoNTCOffsetTimeAutoCalc(\r\n      schTableData,\r\n      schTableSelectedRows,\r\n      secTableSelectedRow,\r\n    );\r\n  } else {\r\n    newSchTableData = replaceNtcRows(\r\n      schTableData,\r\n      schTableSelectedRows,\r\n      secTableSelectedRow,\r\n    );\r\n  }\r\n  return newSchTableData;\r\n};\r\n\r\nconst getTableDataWithAutoNTCOffsetTimeAutoCalc = (\r\n  schTableData,\r\n  schTableSelRows,\r\n  secTableSelRow,\r\n) => {\r\n  let newSchTableData = replaceNtcRows(\r\n    schTableData,\r\n    schTableSelRows,\r\n    secTableSelRow,\r\n  );\r\n  newSchTableData = updateOffsetStartTimeOfNTCs(newSchTableData);\r\n  return newSchTableData;\r\n};\r\n\r\nconst replaceNtcRows = (schTableData, schTableSelRows, secTableSelRow) => {\r\n  let newSchTableData = [...schTableData];\r\n  schTableSelRows.forEach((selRow) => {\r\n    newSchTableData[selRow.rowIndex] = {\r\n      ...selRow,\r\n      Event_Name: secTableSelRow.Event_Name,\r\n      Duration: secTableSelRow.Duration,\r\n      VideoID: secTableSelRow.HouseID,\r\n      Tape_ID: secTableSelRow.Tape_ID,\r\n      NtcTypeName: secTableSelRow.NtcTypeName,\r\n    };\r\n  });\r\n  return newSchTableData;\r\n};\r\n\r\nexport { executeNtcReplace };\r\n","import { getProgramSchedule } from 'views/Scheduling/Scheduler/components/SchedulingArea/utils/utils';\r\nimport { droppableIdsEnum } from '../../../enum';\r\nimport { getCorrectedDestIndexIfDestIndexIsNtc } from '../../utils';\r\n\r\nconst executeSecProgramDrag = (\r\n  dragInfo,\r\n  schTableData,\r\n  secTableData,\r\n  secTableSelectedRows,\r\n) => {\r\n  try {\r\n    const sourceDroppableId = dragInfo.source.droppableId;\r\n    const destinationDroppableId = dragInfo.destination.droppableId;\r\n    const selectedRows =\r\n      secTableSelectedRows.length > 0\r\n        ? secTableSelectedRows\r\n        : [secTableData[dragInfo.source.index]];\r\n    if (\r\n      sourceDroppableId === droppableIdsEnum.SECONDARY &&\r\n      destinationDroppableId === droppableIdsEnum.SECONDARY\r\n    )\r\n      return false;\r\n    else if (\r\n      sourceDroppableId === droppableIdsEnum.SECONDARY &&\r\n      destinationDroppableId === droppableIdsEnum.SCHEDULING\r\n    ) {\r\n      let newSchTableData = [...schTableData],\r\n        newSecTableData;\r\n      const programsWithSegment = [];\r\n      selectedRows.forEach((row) => {\r\n        programsWithSegment.push(...getProgramSchedule(secTableData, row));\r\n      });\r\n      newSchTableData = executeSecToSchTableDrag(\r\n        dragInfo,\r\n        schTableData,\r\n        programsWithSegment,\r\n      );\r\n      return { newSchTableData, newSecTableData };\r\n    }\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst executeSecToSchTableDrag = (dragInfo, schTableData, selectedRows) => {\r\n  try {\r\n    let newSchTableData = [...schTableData];\r\n    /* DESTINATION INDEX CORRECTION IF DESTINATION ROW IS NTC */\r\n    let destinationIndex = getCorrectedDestIndexIfDestIndexIsNtc(\r\n      dragInfo.destination.index,\r\n      schTableData,\r\n    );\r\n    newSchTableData.splice(destinationIndex, 0, ...selectedRows);\r\n    return newSchTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { executeSecProgramDrag };\r\n","import { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport { getNTCParentRow } from '../../utils';\r\nimport { insertNTCsBasedOnOffsetTimeAutoCalculation } from './ntcDrag';\r\nimport { getCorrectedDestIndex, isNTCDragValid } from './utils';\r\nconst lodash = require('lodash');\r\n\r\nconst executeNtcRepeatInsert = (\r\n  destIndex,\r\n  schTableData,\r\n  selectedRows,\r\n  activeFeatures,\r\n  channel,\r\n  isAutoCalculateOffsetTime,\r\n  repeatInsertType,\r\n) => {\r\n  try {\r\n    let newSchTableData = [...schTableData];\r\n    let destinationIndex = destIndex;\r\n    let validNTCs = [...selectedRows];\r\n    let iterations = 0;\r\n    while (validNTCs.length > 0) {\r\n      if (repeatInsertType === 'randomizeInsert')\r\n        validNTCs = lodash.shuffle(validNTCs);\r\n      destinationIndex = getCorrectedDestIndex(\r\n        destinationIndex,\r\n        newSchTableData,\r\n        activeFeatures,\r\n      );\r\n      /* DRAG VALIDATION */\r\n      if (\r\n        !isNTCDragValid(undefined, newSchTableData, destinationIndex, channel)\r\n      )\r\n        return false;\r\n      // Get ntc parent row\r\n      let ntcParentRow = getNTCParentRow(destinationIndex, newSchTableData);\r\n      if (isAutoCalculateOffsetTime) {\r\n        const { newTableData, insertedNTCs } =\r\n          insertNTCsBasedOnOffsetTimeAutoCalculation(\r\n            ntcParentRow,\r\n            validNTCs,\r\n            newSchTableData,\r\n            destinationIndex,\r\n          );\r\n        if (iterations === 0 && insertedNTCs.length === 0) {\r\n          openNotification('danger', 'NTCs are out of parent duration');\r\n          return false;\r\n        }\r\n        iterations++;\r\n        newSchTableData = newTableData;\r\n        validNTCs = insertedNTCs;\r\n        destinationIndex = destinationIndex + insertedNTCs.length;\r\n      }\r\n    }\r\n    return { newSchTableData };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { executeNtcRepeatInsert };\r\n","import React, { useRef, useState } from 'react';\r\nimport SchedulerContext from './SchedulerContext';\r\nimport {\r\n  DEFAULT_COL_SORTING_INFO,\r\n  DEFAULT_SEC_TABLE_TOOLBAR_STATE,\r\n  DTMF_ROWS,\r\n  SCTE_ON_ROW,\r\n  SCTE_ROWS,\r\n} from '../constants';\r\nimport {\r\n  finalizeData,\r\n  getCustomCellColorFromTable,\r\n  getDefaultActiveFeatures,\r\n  getDroppedSpots,\r\n  getFeaturesList,\r\n  getFilteredTableData,\r\n  getLastMinuteSpots,\r\n  getNowNTCsForSegment,\r\n  getNTCParentRow,\r\n  getNTCRowsForSegment,\r\n  getProgramWithSegmentContent,\r\n  getPromoRowsForSegment,\r\n  getSchedulingTableData,\r\n  getSegmentWiseContent,\r\n  getTableDataWithAdditionalInfo,\r\n  getTableScrolledOffset,\r\n  isDtmfRowsPresent,\r\n  isScteOnRowsPresent,\r\n  removeAdditionalInfoFromRows,\r\n  updateOffsetStartTime,\r\n  updateProgramInSchedulingTableData,\r\n} from './utils';\r\nimport {\r\n  getUniqueObjects,\r\n  isJSONArrayEqual,\r\n  openNotification,\r\n  sortArray,\r\n  subtractTimes,\r\n  timeToSeconds,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport {\r\n  additionalRowInfoEnum,\r\n  droppableIdsEnum,\r\n  featuresEnum,\r\n  ntcDescriptionTypesEnum,\r\n  ntcDurationTypesEnum,\r\n  operationTypesEnum,\r\n  pagesEnum,\r\n  rowDataTypesEnum,\r\n  secondaryTableTypesEnum,\r\n  tableFilterOptionsEnum,\r\n  tableTypesEnum,\r\n} from '../enum';\r\nimport { addTimes } from '../components/SchedulingArea/components/Summary/utils';\r\nimport { updateStartTimes } from 'views/Scheduling/general';\r\nimport {\r\n  getDummyRow,\r\n  getColumnsState,\r\n  getContentSegmentsForContent,\r\n} from '../components/SchedulingArea/utils/utils';\r\nimport { useSelector } from 'react-redux';\r\nimport { convertDateToYMD } from 'components/validators';\r\nimport { CLIENT } from 'views/Controls/clientListEnum';\r\nimport {\r\n  executeSecNTCDrag,\r\n  executeSecToSchTableNtcInsert,\r\n  insertNTCsBasedOnOffsetTimeAutoCalculation,\r\n} from './utils/ntcOperations/ntcDrag';\r\nimport { executeSecCommDrag } from './utils/commOperations/commDrag';\r\nimport { executeSecPromoDrag } from './utils/promoOperations/promoDrag';\r\nimport { executeSecSongDrag } from './utils/songOperations/songDrag';\r\nimport { executeSchTableDrag } from './utils/schTableOperations/schTableDrag';\r\nimport { executePromoInsert } from './utils/promoOperations/promoInsert';\r\nimport { executeSongInsert } from './utils/songOperations/songInsert';\r\nimport { executeNtcInsert } from './utils/ntcOperations/ntcInsert';\r\nimport { executeCommInsert } from './utils/commOperations/commInsert';\r\nimport { executeSongBulkInsert } from './utils/songOperations/songBulkInsert';\r\nimport {\r\n  executeBulkNTCInsert,\r\n  executeBulkNTCInsertBelowExactMatch,\r\n} from './utils/ntcOperations/ntcBulkInsert';\r\nimport { executePromoBulkInsert } from './utils/promoOperations/promoBulkInsert';\r\nimport {\r\n  addPropertiesToSelectedNTCs,\r\n  updateOffsetStartTimeOfNTCs,\r\n} from './utils/ntcOperations/utils';\r\nimport { executePromoReplace } from './utils/promoOperations/promoReplace';\r\nimport { executeSongReplace } from './utils/songOperations/songReplace';\r\nimport { executeNtcReplace } from './utils/ntcOperations/ntcReplace';\r\nimport { executePromoReplaceAll } from './utils/promoOperations/promoReplaceAll';\r\nimport { executeSongReplaceAll } from './utils/songOperations/songReplaceAll';\r\nimport { executeNtcReplaceAll } from './utils/ntcOperations/ntcReplaceAll';\r\nimport { executeSecProgramDrag } from './utils/programOperations/programDrag';\r\nimport {\r\n  getPromosFromTemplateId,\r\n  insertPromos,\r\n} from '../components/SchedulingArea/components/Toolbar/components/AutoShuffleDialog/utils';\r\nimport { getContentIndexes } from '../components/SchedulingArea/components/BottomSummary/utils';\r\nimport { executeNtcRepeatInsert } from './utils/ntcOperations/ntcRepeatInsert';\r\n\r\nconst SchedulerContextProvider = ({ children }) => {\r\n  /* REDUX */\r\n  const channel = useSelector((state) => state.locale.selectedChannel);\r\n  const channelSettings = useSelector(\r\n    (state) => state.auth.session.ChannelSetting,\r\n  )[0];\r\n  const token = useSelector((state) => state.auth.session.token);\r\n\r\n  /* STATES */\r\n  const [page, setPage] = useState(null);\r\n  const [date, setDate] = useState(null);\r\n  const [featuresList, setFeaturesList] = useState(null);\r\n  const [activeFeatures, setActiveFeatures] = useState(null);\r\n  /* UNSAVED WORK STATES */\r\n  const [loadUnsavedWork, setLoadUnsavedWork] = useState(false);\r\n  const [unsavedWorkState, setUnsavedWorkState] = useState(null);\r\n  const [updateSchedulerStateInRedux, setUpdateSchedulerStateInRedux] =\r\n    useState(false);\r\n  /* SCHEDULING TABLE STATES */\r\n  const [schedulingTableName, setSchedulingTableName] = useState(null);\r\n  const [ogSchTableData, setOgSchTableData] = useState([]);\r\n  const [schedulingTableData, setSchedulingTableData] = useState([]);\r\n  const [schTableSortingInfo, setSchTableSortingInfo] = useState(\r\n    DEFAULT_COL_SORTING_INFO,\r\n  );\r\n  const [schedulingTableOffset, setSchedulingTableOffset] = useState(0);\r\n  const [schedulingTableManagedColumns, setSchedulingTableManagedColumns] =\r\n    useState({\r\n      originalColumns: [],\r\n      visibleColumns: [],\r\n      removedColumns: [],\r\n    });\r\n  const [schedulingTableSelectedRows, setSchedulingTableSelectedRows] =\r\n    useState([]);\r\n  const [leftClickedSchTableRow, setLeftClickedSchTableRow] = useState(null);\r\n  const [schTableSelectedFilters, setSchTableSelectedFilters] = useState([]);\r\n  /* SECONDARY TABLE STATES */\r\n  const [secondaryTableName, setSecondaryTableName] = useState(null);\r\n  const [secondaryTableType, setSecondaryTableType] = useState(null);\r\n  const [ogSecTableData, setOgSecTableData] = useState([]);\r\n  const [secondaryTableData, setSecondaryTableData] = useState([]);\r\n  const [secTableSortingInfo, setSecTableSortingInfo] = useState(\r\n    DEFAULT_COL_SORTING_INFO,\r\n  );\r\n  const [secondaryTableOffset, setSecondaryTableOffset] = useState(0);\r\n  const [secondaryTableManagedColumns, setSecondaryTableManagedColumns] =\r\n    useState({\r\n      originalColumns: [],\r\n      visibleColumns: [],\r\n      removedColumns: [],\r\n    });\r\n  const [secTableToolbarState, setSecTableToolbarState] = useState(\r\n    DEFAULT_SEC_TABLE_TOOLBAR_STATE,\r\n  );\r\n  const [secondaryTableSelectedRows, setSecondaryTableSelectedRows] = useState(\r\n    [],\r\n  );\r\n  const [leftClickedSecTableRow, setLeftClickedSecTableRow] = useState(null);\r\n  const [secTableSelectedFilters, setSecTableSelectedFilters] = useState([]);\r\n  /* DROP BUCKET STATE */\r\n  const [dropBucket, setDropBucket] = useState([]);\r\n  /* LAST MINUTE SPOTS STATE */\r\n  const [lastMinuteSpots, setLastMinuteSpots] = useState([]);\r\n  /* UNDO/REDO */\r\n  const [undoStack, setUndoStack] = useState([]);\r\n  const [redoStack, setRedoStack] = useState([]);\r\n  /* ROTATION INFO */\r\n  const [rotationInfoTableSelectedRows, setRotationInfoTableSelectedRows] =\r\n    useState([]);\r\n\r\n  /* UI STATES */\r\n  const [startTime, setStartTime] = useState('');\r\n  const [showLoader, setShowLoader] = useState(false);\r\n  const [customCellColor, setCustomCellColor] = useState(null);\r\n  const [isScheduleAllowedToEdit, setIsScheduleAllowedToEdit] = useState(null);\r\n  const [isInsertLiveDialogOpen, setIsInsertLiveDialogOpen] = useState(false);\r\n  const [isAutoCalcNtcOffsetTime, setIsAutoCalcNtcOffsetTime] = useState(false);\r\n  const [isNtcGroupingEnabled, setIsNtcGroupingEnabled] = useState(false);\r\n\r\n  /* SELECTOR OPTIONS */\r\n  const [promoTypeOptions, setPromoTypeOptions] = useState([]);\r\n  const [songTypeOptions, setSongTypeOptions] = useState([]);\r\n  const [ntcTypeOptions, setNtcTypeOptions] = useState([]);\r\n\r\n  /* REFS */\r\n  const schedulingTableRef = useRef(null);\r\n  const secondaryTableRef = useRef(null);\r\n  const secondaryAreaZindexRef = useRef({\r\n    [featuresEnum.ROTATION_INFO]: 10,\r\n    [featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS]: 10,\r\n    [featuresEnum.HOURWISE_INVENTORY]: 10,\r\n    [featuresEnum.SUMMARY]: 10,\r\n    [featuresEnum.RULE_CHECK]: 10,\r\n    [featuresEnum.DURATION]: 10,\r\n  });\r\n\r\n  /* CONSTANTS */\r\n  const isChannelForbes = channel.label === CLIENT.USA_Forbes;\r\n  const isChannelAniPlus = channel.label === CLIENT.ANI_PLUS;\r\n\r\n  /* MOST IMPORTANT FUNCTIONS */\r\n  async function executeOperation({\r\n    operation,\r\n    dragInfo,\r\n    insertPosition,\r\n    time,\r\n    selectedBreaks,\r\n    isSkipLastBreak,\r\n    isOnlyLastBreak,\r\n    isRandomizeIns,\r\n    isRepeatRandomIns,\r\n    insCountPerSeg,\r\n    isSkipInsInSameProg,\r\n    selectedRowsToDelete,\r\n    selectedRowsToDrop,\r\n    clickedProgram,\r\n    clickedProgramSchedule,\r\n    newProgramSchedule,\r\n    startTimeValue,\r\n    tableType,\r\n    selectedFilters,\r\n    externalActiveFeatures,\r\n    isHideCommercial,\r\n    isShowProgramBaseTime,\r\n    isShowNTC,\r\n    isFirstLoad = false,\r\n    isLoadUnsavedWork = false,\r\n    isGenerateLog = false,\r\n    customCellColorParam,\r\n    mode = 'Add',\r\n    descriptionType,\r\n    bulkNTCInsDesc,\r\n    durationType,\r\n    bulkNTCInsDuration,\r\n    bulkNTCInsOffsetTime,\r\n    isShowSCTE,\r\n    promoShuffleTemplate,\r\n    deleteEventTypes,\r\n    repeatInsertType,\r\n    bulkInsertExactMatchString,\r\n    liveRow,\r\n    newSchTableData,\r\n    selProgramsFpcId,\r\n    sortingInfo,\r\n  }) {\r\n    try {\r\n      let operationResult = true;\r\n      let newStartTime = startTime;\r\n      let newCustomCellColor =\r\n        operation === operationTypesEnum.RESET_CELL_COLOR\r\n          ? null\r\n          : customCellColorParam\r\n          ? customCellColorParam\r\n          : customCellColor;\r\n      /* ADD NEW OPERATIONS HERE, AND GET UPDATED SCHEDULING, SECONDARY AND DROP BUCKET TABLE DATA */\r\n      if (operation === operationTypesEnum.INITIALIZE_SCHEDULER) {\r\n        operationResult = await executeInitializeScheduler(\r\n          isFirstLoad,\r\n          isLoadUnsavedWork,\r\n          isGenerateLog,\r\n          mode,\r\n          operation,\r\n        );\r\n        newStartTime = operationResult.newStartTime;\r\n      } else if (operation === operationTypesEnum.DRAG_ROW) {\r\n        operationResult = executeDragRow(dragInfo);\r\n      } else if (operation === operationTypesEnum.INSERT_ROW) {\r\n        operationResult = executeInsertRow();\r\n      } else if (operation === operationTypesEnum.REPEAT_INSERT_ROW) {\r\n        operationResult = executeRepeatInsertRow(repeatInsertType);\r\n      } else if (operation === operationTypesEnum.BULK_INSERT_ROW) {\r\n        operationResult = executeBulkInsert({\r\n          insertPosition,\r\n          time,\r\n          selectedBreaks,\r\n          isSkipLastBreak,\r\n          isOnlyLastBreak,\r\n          isRandomizeIns,\r\n          isRepeatRandomIns,\r\n          insCountPerSeg,\r\n          isSkipInsInSameProg,\r\n          selectedRows: secondaryTableSelectedRows.map((row) => ({\r\n            ...row,\r\n            VideoID: row.HouseID,\r\n          })),\r\n          descriptionType,\r\n          bulkNTCInsDesc,\r\n          durationType,\r\n          bulkNTCInsDuration,\r\n          bulkNTCInsOffsetTime,\r\n          selProgramsFpcId,\r\n        });\r\n      } else if (\r\n        operation === operationTypesEnum.BULK_INSERT_BELOW_EXACT_MATCH\r\n      ) {\r\n        operationResult = await executeBulkInsertBelowExactMatch({\r\n          time,\r\n          bulkInsertExactMatchString,\r\n          selectedRows: secondaryTableSelectedRows.map((row) => ({\r\n            ...row,\r\n            VideoID: row.HouseID,\r\n          })),\r\n          selProgramsFpcId,\r\n        });\r\n      } else if (operation === operationTypesEnum.SHOW_SCTE) {\r\n        operationResult = executeSCTEInsert(isShowSCTE);\r\n      } else if (operation === operationTypesEnum.REPLACE_ROW) {\r\n        operationResult = executeReplaceRow();\r\n      } else if (operation === operationTypesEnum.REPLACE_ALL_ROW) {\r\n        operationResult = executeReplaceAllRow();\r\n      } else if (operation === operationTypesEnum.DELETE_ROW) {\r\n        operationResult = executeDeleteRow(selectedRowsToDelete);\r\n      } else if (operation === operationTypesEnum.DROP_ROW) {\r\n        operationResult = executeDropRow(selectedRowsToDrop);\r\n      } else if (operation === operationTypesEnum.REPLACE_PROGRAM) {\r\n        operationResult = executeReplaceProgram(\r\n          clickedProgram,\r\n          clickedProgramSchedule,\r\n          newProgramSchedule,\r\n        );\r\n      } else if (operation === operationTypesEnum.MANAGE_START_TIME) {\r\n        newStartTime = startTimeValue;\r\n      } else if (operation === operationTypesEnum.FILTER_ROW) {\r\n        operationResult = executeFilterRow(tableType, selectedFilters);\r\n        if (tableType.includes(tableTypesEnum.SCHEDULING))\r\n          setOgSchTableData(operationResult.newSchedulingTableData);\r\n        if (tableType.includes(tableTypesEnum.SECONDARY))\r\n          setOgSecTableData(operationResult.newSecondaryTableData);\r\n      } else if (operation === operationTypesEnum.SORT) {\r\n        operationResult = executeSort(sortingInfo);\r\n      } else if (operation === operationTypesEnum.HIDE_COMMERCIAL) {\r\n        operationResult = executeHideCommercial(isHideCommercial, newStartTime);\r\n      } else if (operation === operationTypesEnum.SHOW_PROGRAM_BASE_TIME) {\r\n        operationResult = executeShowProgramBaseTime(\r\n          isShowProgramBaseTime,\r\n          newStartTime,\r\n        );\r\n      } else if (operation === operationTypesEnum.SHOW_NTC) {\r\n        operationResult = executeShowNTC(isShowNTC);\r\n      } else if (operation === operationTypesEnum.INSERT_NTC_BY_START_TIME) {\r\n        operationResult = executeInsertNTCByStartTime();\r\n      } else if (operation === operationTypesEnum.PROMO_AUTO_SHUFFLE) {\r\n        operationResult = await executePromoAutoShuffle(\r\n          promoShuffleTemplate,\r\n          time,\r\n        );\r\n      } else if (operation === operationTypesEnum.DELETE_EVENTS) {\r\n        operationResult = executeDeleteEvents(deleteEventTypes);\r\n      } else if (operation === operationTypesEnum.IMPORT_NTCS_FOR_SEL_CONTENT) {\r\n        operationResult = await executeImportNTCsForSelectedContent();\r\n      } else if (operation === operationTypesEnum.IMPORT_NTCS_FOR_ALL_CONTENTS)\r\n        operationResult = await executeImportNTCsForAllContents();\r\n      else if (operation === operationTypesEnum.TOGGLE_DTMF_PATTERN)\r\n        operationResult = executeToggleDtmfPattern();\r\n      else if (operation === operationTypesEnum.TOGGLE_SCTE_ON_PATTERN)\r\n        operationResult = executeToggleScteOnPattern();\r\n      else if (operation === operationTypesEnum.INSERT_NOW_NTCS) {\r\n        operationResult = await executeInsertNowNTCs();\r\n      } else if (operation === operationTypesEnum.INSERT_NEXT_NTCS)\r\n        operationResult = await executeInsertNextNTCs();\r\n      else if (operation === operationTypesEnum.INSERT_LIVE_EVENT)\r\n        operationResult = executeInsertLiveEvent(liveRow);\r\n      else if (operation === operationTypesEnum.IMPORT_PROMOS_FOR_SEL_CONTENT)\r\n        operationResult = await executeImportPromosForSelectedContent();\r\n      else if (operation === operationTypesEnum.IMPORT_PROMOS_FOR_ALL_CONTENTS)\r\n        operationResult = await executeImportPromosForAllContents();\r\n      else if (operation === operationTypesEnum.UPDATE_TABLE)\r\n        operationResult = { newSchedulingTableData: newSchTableData };\r\n      if (!operationResult)\r\n        /* EXTRACT NEW DATAs FROM RESULT */\r\n        return false;\r\n      let newSchedulingTableData = operationResult?.newSchedulingTableData\r\n        ? operationResult.newSchedulingTableData\r\n        : [...schedulingTableData];\r\n      let newSecondaryTableData = operationResult?.newSecondaryTableData\r\n        ? operationResult.newSecondaryTableData\r\n        : [...secondaryTableData];\r\n      let newDropBucket = operationResult?.newDropBucket\r\n        ? operationResult.newDropBucket\r\n        : [...dropBucket];\r\n      let newLastMinuteSpots = operationResult?.newLastMinuteSpots\r\n        ? operationResult.newLastMinuteSpots\r\n        : [...lastMinuteSpots];\r\n      let newActiveFeatures = operationResult?.newActiveFeatures\r\n        ? operationResult.newActiveFeatures\r\n        : externalActiveFeatures\r\n        ? externalActiveFeatures\r\n        : activeFeatures\r\n        ? activeFeatures\r\n        : getDefaultActiveFeatures(page);\r\n      /* AVOID FINALIZE DATA FOR CERTAIN CONDITIONS */\r\n      if (\r\n        operation !== operationTypesEnum.FILTER_ROW &&\r\n        operation !== operationTypesEnum.HIDE_COMMERCIAL &&\r\n        operation !== operationTypesEnum.SHOW_PROGRAM_BASE_TIME &&\r\n        operation !== operationTypesEnum.SHOW_NTC &&\r\n        !isLoadUnsavedWork\r\n      ) {\r\n        const finalizedData = finalizeData({\r\n          schedulingTableData: newSchedulingTableData,\r\n          secondaryTableData: newSecondaryTableData,\r\n          dropBucket: newDropBucket,\r\n          lastMinuteSpots: newLastMinuteSpots,\r\n          startTime: newStartTime,\r\n          newActiveFeatures,\r\n          customCellColor: newCustomCellColor,\r\n          page,\r\n          channel,\r\n          isNtcGroupingEnabled,\r\n          isFirstLoad,\r\n          frames: Number(channelSettings.FramePerSec),\r\n        });\r\n        newSchedulingTableData = finalizedData.newSchedulingTableData;\r\n        newSecondaryTableData = finalizedData.newSecondaryTableData;\r\n        newDropBucket = finalizedData.newDropBucket;\r\n        newLastMinuteSpots = finalizedData.newLastMinuteSpots;\r\n      }\r\n      /* UPDATE SCHEDULING TABLE */\r\n      newSchedulingTableData = isChannelForbes\r\n        ? newSchedulingTableData.map((row) => ({\r\n            ...row,\r\n            isHidden: row.F_C_S_P === rowDataTypesEnum.SEGMENT && true,\r\n          }))\r\n        : newSchedulingTableData;\r\n      setSchedulingTableData(newSchedulingTableData);\r\n      if (operation !== operationTypesEnum.SORT)\r\n        setOgSchTableData(newSchedulingTableData);\r\n      /* UPDATE SECONDARY TABLE */\r\n      setSecondaryTableData(newSecondaryTableData);\r\n      /* UPDATE DROP BUCKET */\r\n      setDropBucket(newDropBucket);\r\n      /* UPDATE LAST MINUTE SPOTS */\r\n      setLastMinuteSpots(newLastMinuteSpots);\r\n      /* UPDATE SCHEDULER STATE IN REDUX */\r\n      setUpdateSchedulerStateInRedux(true);\r\n      /* UPDATE ACTIVE FEATURES */\r\n      setActiveFeatures(newActiveFeatures);\r\n      /* UPDATE CUSTOM CELL COLOR */\r\n      newCustomCellColor = newCustomCellColor\r\n        ? newCustomCellColor\r\n        : getCustomCellColorFromTable(newSchedulingTableData);\r\n      setCustomCellColor(newCustomCellColor);\r\n      if (operation !== operationTypesEnum.INITIALIZE_SCHEDULER) {\r\n        /* UPDATE UNDO REDO STACK */\r\n        updateUndoRedoStacksForNewOperation();\r\n        /* UNSELECT ALL ROWS FROM BOTH TABLE*/\r\n        resetAllSelectedRows();\r\n        /* MAINTAIN SCROLLED OFFSET OF BOTH TABLES */\r\n        maintainScrolledOffsetOfTables();\r\n      }\r\n      return { newSchedulingTableData, newSecondaryTableData, newDropBucket };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /* =============================================================================== */\r\n  /* WRITE OPERATION FUNCTIONS HERE */\r\n  async function executeInitializeScheduler(\r\n    isFirstLoad,\r\n    isLoadUnsavedWork,\r\n    isGenerateLog,\r\n    mode,\r\n    operation,\r\n  ) {\r\n    try {\r\n      /* SET CHANNEL SETTINGS */\r\n      setIsAutoCalcNtcOffsetTime(\r\n        channelSettings.IsNTCAutoCalc === 1 ? true : false,\r\n      );\r\n      setIsNtcGroupingEnabled(channelSettings.IsNTCGroup === 1 ? true : false);\r\n      /* EXECUTE SCHEDULER INITIALIZATION */\r\n      let newSchedulingTableData = [],\r\n        newDropBucket,\r\n        newLastMinuteSpots;\r\n      let newActiveFeatures = getDefaultActiveFeatures(\r\n        page,\r\n        isScheduleAllowedToEdit,\r\n      );\r\n      const featureList = getFeaturesList(page, isScheduleAllowedToEdit);\r\n      if (isFirstLoad && isLoadUnsavedWork) {\r\n        /* GET SCHEDULING TABLE DATA FROM UNSAVED WORK STATE\r\n             AND ADD ROW ACTIONS TO SCHEDULING TABLE DATA */\r\n        newSchedulingTableData = getTableDataWithAdditionalInfo({\r\n          tableData: unsavedWorkState.schedulingTableData,\r\n          tableType: tableTypesEnum.SCHEDULING,\r\n          additionalInfo: [additionalRowInfoEnum.ACTIONS],\r\n          channel,\r\n        });\r\n        /* GET ACTIVE FEATURES FROM UNSAVED STATE */\r\n        newActiveFeatures = unsavedWorkState.activeFeatures;\r\n      } else {\r\n        /* GET SCHEDULING TABLE DATA FROM API */\r\n        newSchedulingTableData = await getSchedulingTableData(\r\n          isGenerateLog,\r\n          mode,\r\n          date,\r\n          page,\r\n          channel,\r\n        );\r\n      }\r\n      /* SET COLUMNS STATE */\r\n      const columnsState = await getColumnsState(\r\n        page,\r\n        newSchedulingTableData,\r\n        token,\r\n        channel,\r\n      );\r\n      setSchedulingTableManagedColumns(columnsState);\r\n      /* ADD MANAGE COLUMNS IN ACTIVE FEATURES */\r\n      if ([featuresEnum.MANAGE_COLUMNS] in featureList) {\r\n        newActiveFeatures = {\r\n          ...newActiveFeatures,\r\n          [featuresEnum.MANAGE_COLUMNS]: {\r\n            isDropdownVisible: false,\r\n            isActive:\r\n              columnsState.removedColumns.length > 0 ||\r\n              isJSONArrayEqual(\r\n                columnsState.originalColumns,\r\n                columnsState.visibleColumns,\r\n              ),\r\n          },\r\n        };\r\n      }\r\n      /* SET NECESSARY STATES */\r\n      setFeaturesList(featureList);\r\n      resetTableStatesForInitialization();\r\n      let newStartTime =\r\n        newSchedulingTableData.length > 0\r\n          ? newSchedulingTableData[1].Tel_Time\r\n          : '';\r\n      /* INITIALIZE DROP BUCKET */\r\n      if (page === pagesEnum.COMMERCIAL || page === pagesEnum.FINAL_LOG) {\r\n        newDropBucket = await getDroppedSpots(\r\n          channel,\r\n          convertDateToYMD(date),\r\n          newSchedulingTableData,\r\n          operation,\r\n        );\r\n        /* INITIALIZE LAST MINUTE SPOTS */\r\n        newLastMinuteSpots = await getLastMinuteSpots(\r\n          channel,\r\n          convertDateToYMD(date),\r\n          newSchedulingTableData,\r\n          [...newDropBucket],\r\n          page,\r\n          operation,\r\n        );\r\n      }\r\n      return {\r\n        newSchedulingTableData: newSchedulingTableData.map((row) => ({\r\n          ...row,\r\n          DefaultGAP: '00:00:00:00',\r\n        })),\r\n        newSecondaryTableData: [],\r\n        newDropBucket,\r\n        newLastMinuteSpots,\r\n        newActiveFeatures,\r\n        newStartTime,\r\n      };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function executeDragRow(dragInfo) {\r\n    try {\r\n      /* GUARD CLAUSE */\r\n      if (!dragInfo.destination) return false;\r\n      /* GET REQUIRED DATA TO UPDATE SCHEDULING TABLE FOR APPROPRIATE DRAG */\r\n      let newSchedulingTableData = [...schedulingTableData];\r\n      let newSecondaryTableData = [...secondaryTableData];\r\n      let newDropBucket = [...dropBucket];\r\n      let newLastMinuteSpots = [...lastMinuteSpots];\r\n      let sourceDroppableId = dragInfo.source.droppableId;\r\n      if (sourceDroppableId === droppableIdsEnum.SECONDARY) {\r\n        if (\r\n          activeFeatures[featuresEnum.INSERT].eventType ===\r\n          secondaryTableTypesEnum.PROMO\r\n        ) {\r\n          const result = executeSecPromoDrag(\r\n            dragInfo,\r\n            schedulingTableData,\r\n            secondaryTableData,\r\n            secondaryTableSelectedRows,\r\n            activeFeatures,\r\n            page,\r\n          );\r\n          newSchedulingTableData = result.newSchTableData;\r\n          newSecondaryTableData = result.newSecTableData;\r\n        } else if (\r\n          activeFeatures[featuresEnum.INSERT].eventType ===\r\n          secondaryTableTypesEnum.SONG\r\n        ) {\r\n          const result = executeSecSongDrag(\r\n            dragInfo,\r\n            schedulingTableData,\r\n            secondaryTableData,\r\n            secondaryTableSelectedRows,\r\n            activeFeatures,\r\n            page,\r\n          );\r\n          newSchedulingTableData = result.newSchTableData;\r\n          newSecondaryTableData = result.newSecTableData;\r\n        } else if (\r\n          activeFeatures[featuresEnum.INSERT].eventType ===\r\n          secondaryTableTypesEnum.NTC\r\n        ) {\r\n          const result = executeSecNTCDrag(\r\n            dragInfo,\r\n            schedulingTableData,\r\n            secondaryTableData,\r\n            secondaryTableSelectedRows,\r\n            activeFeatures,\r\n            channel,\r\n            isAutoCalcNtcOffsetTime,\r\n          );\r\n          if (!result) return false;\r\n          newSchedulingTableData = result.newSchTableData;\r\n          newSecondaryTableData = result.newSecTableData;\r\n        } else if (\r\n          activeFeatures[featuresEnum.INSERT].eventType ===\r\n          secondaryTableTypesEnum.DROPPED_SPOTS\r\n        ) {\r\n          const result = executeSecCommDrag(\r\n            dragInfo,\r\n            schedulingTableData,\r\n            secondaryTableData,\r\n            secondaryTableSelectedRows,\r\n            activeFeatures,\r\n          );\r\n          if (!result) return false;\r\n          newSchedulingTableData = result.newSchTableData;\r\n          newSecondaryTableData = result.newSecTableData;\r\n          newDropBucket = result.newSecTableData;\r\n        } else if (\r\n          activeFeatures[featuresEnum.INSERT].eventType ===\r\n          secondaryTableTypesEnum.LAST_MINUTE_SPOTS\r\n        ) {\r\n          const result = executeSecCommDrag(\r\n            dragInfo,\r\n            schedulingTableData,\r\n            secondaryTableData,\r\n            secondaryTableSelectedRows,\r\n            activeFeatures,\r\n          );\r\n          newSchedulingTableData = result.newSchTableData;\r\n          newSecondaryTableData = result.newSecTableData;\r\n          newLastMinuteSpots = result.newSecTableData;\r\n        } else if (activeFeatures[featuresEnum.MANAGE_SEGMENT]) {\r\n          const result = executeSecProgramDrag(\r\n            dragInfo,\r\n            schedulingTableData,\r\n            secondaryTableData,\r\n            secondaryTableSelectedRows,\r\n          );\r\n          if (!result) return false;\r\n          newSchedulingTableData = result.newSchTableData;\r\n          newSecondaryTableData = result.newSecTableData;\r\n        }\r\n      } else if (sourceDroppableId === droppableIdsEnum.SCHEDULING) {\r\n        const result = executeSchTableDrag(\r\n          dragInfo,\r\n          schedulingTableData,\r\n          schedulingTableSelectedRows,\r\n          activeFeatures,\r\n          page,\r\n          isAutoCalcNtcOffsetTime,\r\n          channel,\r\n        );\r\n        if (!result) return false;\r\n        newSchedulingTableData = result;\r\n      } else return false;\r\n      return {\r\n        newSchedulingTableData,\r\n        newSecondaryTableData,\r\n        newDropBucket,\r\n        newLastMinuteSpots,\r\n      };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function executeInsertRow() {\r\n    try {\r\n      let newSchedulingTableData = [...schedulingTableData];\r\n      let newSecondaryTableData = [...secondaryTableData];\r\n      let newDropBucket = [...dropBucket];\r\n      let newLastMinuteSpots = [...lastMinuteSpots];\r\n      let destinationIndex = schedulingTableSelectedRows[0].rowIndex + 1;\r\n      if (\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n        secondaryTableTypesEnum.PROMO\r\n      ) {\r\n        newSchedulingTableData = executePromoInsert(\r\n          destinationIndex,\r\n          schedulingTableData,\r\n          secondaryTableSelectedRows,\r\n          activeFeatures,\r\n          page,\r\n        );\r\n      } else if (\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n        secondaryTableTypesEnum.SONG\r\n      ) {\r\n        newSchedulingTableData = executeSongInsert(\r\n          destinationIndex,\r\n          schedulingTableData,\r\n          secondaryTableSelectedRows,\r\n          activeFeatures,\r\n          page,\r\n        );\r\n      } else if (\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n        secondaryTableTypesEnum.NTC\r\n      ) {\r\n        const result = executeNtcInsert(\r\n          destinationIndex,\r\n          schedulingTableData,\r\n          secondaryTableData,\r\n          secondaryTableSelectedRows,\r\n          activeFeatures,\r\n          channel,\r\n          isAutoCalcNtcOffsetTime,\r\n        );\r\n        if (!result) return false;\r\n        newSchedulingTableData = result.newSchTableData;\r\n        newSecondaryTableData = result.newSecTableData;\r\n      } else if (\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n        secondaryTableTypesEnum.DROPPED_SPOTS\r\n      ) {\r\n        const result = executeCommInsert(\r\n          destinationIndex,\r\n          schedulingTableData,\r\n          secondaryTableData,\r\n          secondaryTableSelectedRows,\r\n          activeFeatures,\r\n        );\r\n        if (!result) return false;\r\n        newSchedulingTableData = result.newSchTableData;\r\n        newSecondaryTableData = result.newSecTableData;\r\n        newDropBucket = result.newSecTableData;\r\n      } else if (\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n        secondaryTableTypesEnum.LAST_MINUTE_SPOTS\r\n      ) {\r\n        const result = executeCommInsert(\r\n          destinationIndex,\r\n          schedulingTableData,\r\n          secondaryTableData,\r\n          secondaryTableSelectedRows,\r\n          activeFeatures,\r\n        );\r\n        if (!result) return false;\r\n        newSchedulingTableData = result.newSchTableData;\r\n        newSecondaryTableData = result.newSecTableData;\r\n        newLastMinuteSpots = result.newSecTableData;\r\n      } else return false;\r\n      return {\r\n        newSchedulingTableData,\r\n        newSecondaryTableData,\r\n        newDropBucket,\r\n        newLastMinuteSpots,\r\n      };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function executeRepeatInsertRow(repeatInsertType) {\r\n    try {\r\n      let newSchedulingTableData = [...schedulingTableData];\r\n      let destinationIndex = schedulingTableSelectedRows[0].rowIndex + 1;\r\n      if (\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n        secondaryTableTypesEnum.NTC\r\n      ) {\r\n        const result = executeNtcRepeatInsert(\r\n          destinationIndex,\r\n          schedulingTableData,\r\n          secondaryTableSelectedRows,\r\n          activeFeatures,\r\n          channel,\r\n          isAutoCalcNtcOffsetTime,\r\n          repeatInsertType,\r\n        );\r\n        if (!result) return false;\r\n        newSchedulingTableData = result.newSchTableData;\r\n      }\r\n      return {\r\n        newSchedulingTableData,\r\n      };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function executeBulkInsert({\r\n    insertPosition,\r\n    time,\r\n    selectedBreaks,\r\n    isSkipLastBreak,\r\n    isOnlyLastBreak,\r\n    isRandomizeIns,\r\n    isRepeatRandomIns,\r\n    insCountPerSeg,\r\n    isSkipInsInSameProg,\r\n    selectedRows,\r\n    descriptionType,\r\n    bulkNTCInsDesc,\r\n    durationType,\r\n    bulkNTCInsDuration,\r\n    bulkNTCInsOffsetTime,\r\n    selProgramsFpcId,\r\n  }) {\r\n    let newSchedulingTableData = [];\r\n    if (\r\n      activeFeatures[featuresEnum.INSERT].eventType ===\r\n      secondaryTableTypesEnum.PROMO\r\n    ) {\r\n      newSchedulingTableData = executePromoBulkInsert(\r\n        insertPosition,\r\n        time,\r\n        selectedBreaks,\r\n        isSkipLastBreak,\r\n        isOnlyLastBreak,\r\n        isRandomizeIns,\r\n        isRepeatRandomIns,\r\n        insCountPerSeg,\r\n        isSkipInsInSameProg,\r\n        selectedRows,\r\n        selProgramsFpcId,\r\n        schedulingTableData,\r\n        channel,\r\n        page,\r\n      );\r\n    } else if (\r\n      activeFeatures[featuresEnum.INSERT].eventType ===\r\n      secondaryTableTypesEnum.SONG\r\n    ) {\r\n      newSchedulingTableData = executeSongBulkInsert(\r\n        insertPosition,\r\n        time,\r\n        selectedBreaks,\r\n        isSkipLastBreak,\r\n        isOnlyLastBreak,\r\n        isRandomizeIns,\r\n        isRepeatRandomIns,\r\n        insCountPerSeg,\r\n        isSkipInsInSameProg,\r\n        selectedRows,\r\n        selProgramsFpcId,\r\n        schedulingTableData,\r\n        channel,\r\n      );\r\n    } else if (\r\n      activeFeatures[featuresEnum.INSERT].eventType ===\r\n      secondaryTableTypesEnum.NTC\r\n    ) {\r\n      newSchedulingTableData = executeBulkNTCInsert({\r\n        insertPosition,\r\n        time,\r\n        selectedBreaks,\r\n        isSkipLastBreak,\r\n        isOnlyLastBreak,\r\n        selectedRows,\r\n        descriptionType,\r\n        bulkNTCInsDesc,\r\n        durationType,\r\n        bulkNTCInsDuration,\r\n        bulkNTCInsOffsetTime,\r\n        schedulingTableData,\r\n        channel,\r\n        isAutoCalcNtcOffsetTime,\r\n        selProgramsFpcId,\r\n      });\r\n    } else return false;\r\n    return { newSchedulingTableData };\r\n  }\r\n\r\n  async function executeBulkInsertBelowExactMatch({\r\n    time,\r\n    bulkInsertExactMatchString,\r\n    selectedRows,\r\n    selProgramsFpcId,\r\n  }) {\r\n    let newSchedulingTableData = [];\r\n    if (\r\n      activeFeatures[featuresEnum.INSERT].eventType ===\r\n      secondaryTableTypesEnum.NTC\r\n    ) {\r\n      newSchedulingTableData = await executeBulkNTCInsertBelowExactMatch(\r\n        time,\r\n        bulkInsertExactMatchString,\r\n        schedulingTableData,\r\n        selectedRows,\r\n        isAutoCalcNtcOffsetTime,\r\n        selProgramsFpcId,\r\n      );\r\n    }\r\n    if (!newSchedulingTableData) return false;\r\n    return { newSchedulingTableData };\r\n  }\r\n\r\n  function executeSCTEInsert(isShowSCTE) {\r\n    try {\r\n      let newSchedulingTableData = [];\r\n      if (isShowSCTE) {\r\n        let selectedRows = SCTE_ROWS.map((row) => ({\r\n          ...row,\r\n          VideoID: row.HouseID,\r\n        }));\r\n        selectedRows = addPropertiesToSelectedNTCs(\r\n          selectedRows,\r\n          undefined,\r\n          ntcDescriptionTypesEnum.CUSTOM,\r\n          '',\r\n          ntcDurationTypesEnum.CUSTOM,\r\n          '00:00:00:00',\r\n          '00:00:00:00',\r\n        );\r\n        for (let index = 0; index < schedulingTableData.length; index++) {\r\n          const row = schedulingTableData[index];\r\n          if (row.F_C_S_P === rowDataTypesEnum.BREAK) {\r\n            newSchedulingTableData.push(selectedRows[0]);\r\n            newSchedulingTableData.push(row);\r\n            newSchedulingTableData.push(selectedRows[1]);\r\n          } else {\r\n            newSchedulingTableData.push(row);\r\n          }\r\n        }\r\n      } else {\r\n        newSchedulingTableData = schedulingTableData.filter(\r\n          (row) =>\r\n            row.Event_Name !== 'SCTE ON' && row.Event_Name !== 'SCTE OFF',\r\n        );\r\n      }\r\n      return { newSchedulingTableData };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function executeReplaceRow() {\r\n    try {\r\n      const secTableSelRow = secondaryTableSelectedRows[0];\r\n      let newSchedulingTableData = [...schedulingTableData];\r\n      if (\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n        secondaryTableTypesEnum.PROMO\r\n      )\r\n        newSchedulingTableData = executePromoReplace(\r\n          schedulingTableData,\r\n          schedulingTableSelectedRows,\r\n          secTableSelRow,\r\n        );\r\n      else if (\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n        secondaryTableTypesEnum.SONG\r\n      )\r\n        newSchedulingTableData = executeSongReplace(\r\n          schedulingTableData,\r\n          schedulingTableSelectedRows,\r\n          secTableSelRow,\r\n        );\r\n      else if (\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n        secondaryTableTypesEnum.NTC\r\n      )\r\n        newSchedulingTableData = executeNtcReplace(\r\n          schedulingTableData,\r\n          schedulingTableSelectedRows,\r\n          secTableSelRow,\r\n          isAutoCalcNtcOffsetTime,\r\n        );\r\n      return {\r\n        newSchedulingTableData,\r\n      };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function executeReplaceAllRow() {\r\n    try {\r\n      let newSchedulingTableData = [...schedulingTableData];\r\n      const schTableSelectedRows = getUniqueObjects(\r\n        schedulingTableSelectedRows,\r\n        'Event_Name',\r\n      ).map((row) => row.Event_Name);\r\n      const secTableSelRow = secondaryTableSelectedRows[0];\r\n      if (\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n        secondaryTableTypesEnum.PROMO\r\n      )\r\n        newSchedulingTableData = executePromoReplaceAll(\r\n          newSchedulingTableData,\r\n          schTableSelectedRows,\r\n          secTableSelRow,\r\n        );\r\n      else if (\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n        secondaryTableTypesEnum.SONG\r\n      )\r\n        newSchedulingTableData = executeSongReplaceAll(\r\n          newSchedulingTableData,\r\n          schTableSelectedRows,\r\n          secTableSelRow,\r\n        );\r\n      else if (\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n        secondaryTableTypesEnum.NTC\r\n      )\r\n        newSchedulingTableData = executeNtcReplaceAll(\r\n          newSchedulingTableData,\r\n          schTableSelectedRows,\r\n          secTableSelRow,\r\n        );\r\n      return {\r\n        newSchedulingTableData,\r\n      };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function executeDeleteRow(selectedRowsToDelete) {\r\n    try {\r\n      let selectedRowsId = selectedRowsToDelete.map((row) => row.rowId);\r\n      let newSchedulingTableData = [];\r\n      if (isAutoCalcNtcOffsetTime) {\r\n        let newOffsetTime = null;\r\n        schedulingTableData.forEach((row, index) => {\r\n          let curRow = { ...row };\r\n          if (selectedRowsId.includes(row.rowId)) {\r\n            const prevRow = schedulingTableData[index - 1];\r\n            const nextRow = schedulingTableData[index + 1];\r\n            const isCurRowNTC = row.F_C_S_P === rowDataTypesEnum.NTC;\r\n            const isPrevRowNTC = prevRow.F_C_S_P === rowDataTypesEnum.NTC;\r\n            const isPrevNtcGrpSameAsCurGrp =\r\n              prevRow.NTCGroupCode === row.NTCGroupCode;\r\n            const isNextNtcGrpSameAsCurGrp =\r\n              row.NTCGroupCode === nextRow?.NTCGroupCode;\r\n            if (\r\n              isCurRowNTC &&\r\n              ((!isPrevRowNTC && nextRow && isNextNtcGrpSameAsCurGrp) ||\r\n                (isPrevRowNTC &&\r\n                  !isPrevNtcGrpSameAsCurGrp &&\r\n                  nextRow &&\r\n                  isNextNtcGrpSameAsCurGrp))\r\n            ) {\r\n              newOffsetTime = row.OffsetStartTime;\r\n            }\r\n            return;\r\n          } else if (row.F_C_S_P === rowDataTypesEnum.NTC && newOffsetTime) {\r\n            curRow.OffsetStartTime = newOffsetTime;\r\n            curRow.StartTime = newOffsetTime;\r\n            curRow.Tel_Time = newOffsetTime;\r\n            newOffsetTime = null;\r\n          }\r\n          newSchedulingTableData.push(curRow);\r\n        });\r\n        newSchedulingTableData = updateOffsetStartTimeOfNTCs(\r\n          newSchedulingTableData,\r\n        );\r\n      } else {\r\n        newSchedulingTableData = [...schedulingTableData].filter(\r\n          (row) => !selectedRowsId.includes(row.rowId),\r\n        );\r\n      }\r\n      return {\r\n        newSchedulingTableData,\r\n        newSecondaryTableData: secondaryTableData,\r\n      };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function executeDropRow(selectedRowsToDrop) {\r\n    try {\r\n      let selectedRowsId = selectedRowsToDrop.map((row) => row.rowId);\r\n      /* REMOVE DROPPED ROW FROM SCHEDULING TABLE */\r\n      let newSchedulingTableData = [...schedulingTableData].filter(\r\n        (row) => !selectedRowsId.includes(row.rowId),\r\n      );\r\n      let newDropBucket, newSecondaryTableData;\r\n      let droppedRows = removeAdditionalInfoFromRows(selectedRowsToDrop);\r\n      /* APPEND DROPPED ROWS TO DROP BUCKET */\r\n      if (Array.isArray(dropBucket) && dropBucket.length > 0) {\r\n        newDropBucket = [...dropBucket, ...droppedRows];\r\n      } else newDropBucket = [getDummyRow(droppedRows[0]), ...droppedRows];\r\n      /* UPDATE SECONDARY TABLE DATA IF INSERT DROPPED SPOTS IS ACTIVE*/\r\n      if (\r\n        activeFeatures[featuresEnum.INSERT]?.isActive &&\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n          secondaryTableTypesEnum.DROPPED_SPOTS\r\n      )\r\n        newSecondaryTableData = [...newDropBucket];\r\n      else newSecondaryTableData = [...secondaryTableData];\r\n      return {\r\n        newSchedulingTableData,\r\n        newSecondaryTableData,\r\n        newDropBucket,\r\n      };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function executeReplaceProgram(\r\n    clickedProgram,\r\n    clickedProgramSchedule,\r\n    newProgramSchedule,\r\n  ) {\r\n    try {\r\n      const clickedProgramSegmentWiseContent = getSegmentWiseContent(\r\n        clickedProgramSchedule,\r\n      );\r\n      const newProgramWithSegmentContent = getProgramWithSegmentContent(\r\n        newProgramSchedule,\r\n        clickedProgramSegmentWiseContent,\r\n        clickedProgram,\r\n      );\r\n      let newSchedulingTableData = updateProgramInSchedulingTableData(\r\n        clickedProgram,\r\n        newProgramWithSegmentContent,\r\n        schedulingTableData,\r\n      );\r\n      return {\r\n        newSchedulingTableData,\r\n        newSecondaryTableData: secondaryTableData,\r\n      };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function executeFilterRow(tableType, selectedFilters) {\r\n    try {\r\n      let newSchedulingTableData = [...schedulingTableData];\r\n      let newSecondaryTableData = [...secondaryTableData];\r\n      let newDropBucket = [...dropBucket];\r\n      let newLastMinuteSpots = [...lastMinuteSpots];\r\n      tableType.forEach((curTableType) => {\r\n        if (curTableType === tableTypesEnum.SCHEDULING) {\r\n          newSchedulingTableData = getFilteredTableData(\r\n            newSchedulingTableData,\r\n            selectedFilters,\r\n          );\r\n          if (selectedFilters.length === 0) setSchTableSelectedFilters([]);\r\n        } else {\r\n          newSecondaryTableData = getFilteredTableData(\r\n            newSecondaryTableData,\r\n            selectedFilters,\r\n          );\r\n          if (\r\n            activeFeatures[featuresEnum.INSERT]?.eventType ===\r\n            secondaryTableTypesEnum.DROPPED_SPOTS\r\n          )\r\n            newDropBucket = [...newSecondaryTableData];\r\n          else if (\r\n            activeFeatures[featuresEnum.INSERT]?.eventType ===\r\n            secondaryTableTypesEnum.LAST_MINUTE_SPOTS\r\n          )\r\n            newLastMinuteSpots = [...newSecondaryTableData];\r\n          if (selectedFilters.length === 0) setSecTableSelectedFilters([]);\r\n        }\r\n      });\r\n      return {\r\n        newSchedulingTableData,\r\n        newSecondaryTableData,\r\n        newDropBucket,\r\n        newLastMinuteSpots,\r\n      };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function executeSort(sortingInfo) {\r\n    if (sortingInfo.tableType === tableTypesEnum.SCHEDULING) {\r\n      let newSchedulingTableData = [];\r\n      if (sortingInfo.sort === 'none')\r\n        newSchedulingTableData = [...ogSchTableData];\r\n      else\r\n        newSchedulingTableData = [\r\n          ogSchTableData[0],\r\n          ...sortArray(\r\n            ogSchTableData.slice(1),\r\n            sortingInfo.column,\r\n            sortingInfo.sort,\r\n          ),\r\n        ];\r\n      return { newSchedulingTableData };\r\n    } else {\r\n      let newSecondaryTableData = [];\r\n      if (sortingInfo.sort === 'none')\r\n        newSecondaryTableData = [...ogSecTableData];\r\n      else\r\n        newSecondaryTableData = [\r\n          ogSecTableData[0],\r\n          ...sortArray(\r\n            ogSecTableData.slice(1),\r\n            sortingInfo.column,\r\n            sortingInfo.sort,\r\n          ),\r\n        ];\r\n      if (\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n        secondaryTableTypesEnum.DROPPED_SPOTS\r\n      )\r\n        return { newSecondaryTableData, newDropBucket: newSecondaryTableData };\r\n      else if (\r\n        activeFeatures[featuresEnum.INSERT].eventType ===\r\n        secondaryTableTypesEnum.LAST_MINUTE_SPOTS\r\n      )\r\n        return {\r\n          newSecondaryTableData,\r\n          newLastMinuteSpots: newSecondaryTableData,\r\n        };\r\n      else return { newSecondaryTableData };\r\n    }\r\n  }\r\n\r\n  function executeHideCommercial(isHideCommercial, startTime) {\r\n    try {\r\n      let newSchedulingTableData = getFilteredTableData(\r\n        [...schedulingTableData],\r\n        [\r\n          ...schTableSelectedFilters,\r\n          {\r\n            columnKey: 'F_C_S_P',\r\n            filter: tableFilterOptionsEnum.HIDE_COMMERCIAL,\r\n            searchValue: isHideCommercial.toString(),\r\n          },\r\n        ],\r\n      );\r\n      const dummyRow = newSchedulingTableData.shift();\r\n      newSchedulingTableData = updateStartTimes(\r\n        newSchedulingTableData,\r\n        activeFeatures[featuresEnum.SHOW_PROGRAM_BASE_TIME],\r\n        isHideCommercial,\r\n        undefined,\r\n        startTime,\r\n        Number(channelSettings.FramePerSec),\r\n      );\r\n      return {\r\n        newSchedulingTableData: [dummyRow, ...newSchedulingTableData],\r\n        newSecondaryTableData: [...secondaryTableData],\r\n      };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function executeShowProgramBaseTime(isShowProgramBaseTime, startTime) {\r\n    try {\r\n      let newSchedulingTableData = [...schedulingTableData];\r\n      const dummyRow = newSchedulingTableData.shift();\r\n      newSchedulingTableData = updateStartTimes(\r\n        newSchedulingTableData,\r\n        isShowProgramBaseTime,\r\n        activeFeatures[featuresEnum.HIDE_COMMERCIALS],\r\n        undefined,\r\n        startTime,\r\n        Number(channelSettings.FramePerSec),\r\n      );\r\n      return {\r\n        newSchedulingTableData: [dummyRow, ...newSchedulingTableData],\r\n        newSecondaryTableData: [...secondaryTableData],\r\n      };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function executeShowNTC(isShowNTC) {\r\n    try {\r\n      let newSchedulingTableData = getFilteredTableData(\r\n        [...schedulingTableData],\r\n        [\r\n          ...schTableSelectedFilters,\r\n          {\r\n            columnKey: 'F_C_S_P',\r\n            filter: tableFilterOptionsEnum.SHOW_NTC,\r\n            searchValue: isShowNTC.toString(),\r\n          },\r\n        ],\r\n      );\r\n      return {\r\n        newSchedulingTableData,\r\n        newSecondaryTableData: [...secondaryTableData],\r\n      };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function executeInsertNTCByStartTime() {\r\n    try {\r\n      let newSchedulingTableData = [...schedulingTableData];\r\n      let newSecondaryTableData = [...secondaryTableData];\r\n      const insertTime = secondaryTableSelectedRows[0].Start_Time;\r\n      const endTime = addTimes(\r\n        insertTime,\r\n        secondaryTableSelectedRows[0].Duration,\r\n      );\r\n      let destIndex = newSchedulingTableData.findIndex((row, index) => {\r\n        if (index === 0) return false;\r\n        return (\r\n          row.F_C_S_P !== rowDataTypesEnum.CONTENT_TERMINATION &&\r\n          row.F_C_S_P !== rowDataTypesEnum.COMMERCIAL &&\r\n          row.F_C_S_P !== rowDataTypesEnum.NTC &&\r\n          insertTime >= row.Start_Time &&\r\n          endTime <= addTimes(row.Start_Time, row.Duration)\r\n        );\r\n      });\r\n      if (destIndex === -1) {\r\n        openNotification('danger', 'No valid insertion point found');\r\n        return {\r\n          newSchedulingTableData,\r\n          newSecondaryTableData,\r\n        };\r\n      } else {\r\n        destIndex = destIndex + 1;\r\n        let ntcParentRow = getNTCParentRow(destIndex, schedulingTableData);\r\n        let updatedSecTableSelectedRows = [...secondaryTableSelectedRows].map(\r\n          (row) => {\r\n            return updateOffsetStartTime(row, ntcParentRow);\r\n          },\r\n        );\r\n        const result = executeSecToSchTableNtcInsert(\r\n          newSchedulingTableData,\r\n          newSecondaryTableData,\r\n          destIndex,\r\n          updatedSecTableSelectedRows,\r\n          channel,\r\n          isAutoCalcNtcOffsetTime,\r\n        );\r\n        if (!result) return false;\r\n        newSchedulingTableData = result.newSchTableData;\r\n        newSecondaryTableData = result.newSecTableData;\r\n        return { newSchedulingTableData, newSecondaryTableData };\r\n        // const validNTCs = validateNTCs({\r\n        //   destIndex: insertIndex,\r\n        //   tableData: newSchedulingTableData,\r\n        //   selectedRows: updatedSecTableSelectedRows,\r\n        //   channel,\r\n        //   isAutoCalculateOffsetTime: isAutoCalcNtcOffsetTime,\r\n        // });\r\n        // if (!validNTCs) {\r\n        //   openNotification('danger', `NTCs are out of parent's duration`);\r\n        //   return false;\r\n        // }\r\n        // newSchedulingTableData.splice(insertIndex, 0, ...validNTCs);\r\n        // if (validNTCs.length < updatedSecTableSelectedRows.length) {\r\n        //   openNotification(\r\n        //     'danger',\r\n        //     `Few NTCs are not inserted due to out of parent's Duration`,\r\n        //   );\r\n        // }\r\n        // if (isPaidNTC) {\r\n        //   secondaryTableSelectedRows.forEach((selectedRow) => {\r\n        //     newSecondaryTableData = newSecondaryTableData.filter(\r\n        //       (row) => row.rowId !== selectedRow.rowId,\r\n        //     );\r\n        //   });\r\n        //   if (newSecondaryTableData.length === 1) newSecondaryTableData = [];\r\n        // }\r\n        // let secTableRowsToRemove = [];\r\n        // if (isAutoCalcNtcOffsetTime) {\r\n        //   // Get ntc parent row\r\n        //   let ntcParentRow = getNTCParentRow(destIndex, newSchedulingTableData);\r\n        //   const { newTableData, insertedNTCs } =\r\n        //     insertNTCsBasedOnOffsetTimeAutoCalculation(\r\n        //       ntcParentRow,\r\n        //       updatedSecTableSelectedRows,\r\n        //       newSchedulingTableData,\r\n        //       destIndex,\r\n        //     );\r\n        //   newSchedulingTableData = newTableData;\r\n        //   // If few NTCs are not inserted, give notification to user\r\n        //   if (insertedNTCs.length < updatedSecTableSelectedRows.length)\r\n        //     openNotification(\r\n        //       'danger',\r\n        //       'Some NTCs are not inserted due to insufficient duration.',\r\n        //     );\r\n        //   // If inserted NTCs are paid NTCs, remove them from secondary table\r\n        //   if (insertedNTCs[0].BookingDetailsID) {\r\n        //     secTableRowsToRemove = insertedNTCs;\r\n        //   }\r\n        // } else {\r\n        //   const validNTCs = validateNTCs({\r\n        //     destIndex,\r\n        //     tableData: newSchedulingTableData,\r\n        //     selectedRows: updatedSecTableSelectedRows,\r\n        //     channel,\r\n        //     isAutoCalculateOffsetTime: isAutoCalcNtcOffsetTime,\r\n        //   });\r\n        //   if (!validNTCs) return false;\r\n        //   newSchedulingTableData.splice(destIndex, 0, ...validNTCs);\r\n        //   // If few NTCs are not inserted, give notification to user\r\n        //   if (validNTCs.length < updatedSecTableSelectedRows.length)\r\n        //     openNotification(\r\n        //       'danger',\r\n        //       'Some NTCs are not inserted due to insufficient duration.',\r\n        //     );\r\n        //   if (validNTCs[0].BookingDetailID) secTableRowsToRemove = validNTCs;\r\n        // }\r\n        // // Remove inserted rows from secondary table\r\n        // newSecondaryTableData = removeRowsFromTableData(\r\n        //   secTableRowsToRemove,\r\n        //   newSecondaryTableData,\r\n        // );\r\n      }\r\n      // return {\r\n      //   newSchedulingTableData,\r\n      //   newSecondaryTableData,\r\n      // };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  const executePromoAutoShuffle = async (promoShuffleTemplate, time) => {\r\n    let newSchedulingTableData = schedulingTableData.map((item) => ({\r\n      ...item,\r\n    }));\r\n    let CT_Entries = [];\r\n    let S_Counts = [];\r\n    let S_Duration_Sums = [];\r\n    let S_Index_Map = new Map();\r\n    newSchedulingTableData.forEach((item, index) => {\r\n      if (item['F_C_S_P'] === rowDataTypesEnum.CONTENT_TERMINATION) {\r\n        CT_Entries.push(index);\r\n        S_Counts.push(0);\r\n        S_Duration_Sums.push(0);\r\n      }\r\n    });\r\n    newSchedulingTableData.forEach((item, index) => {\r\n      if (\r\n        item['F_C_S_P'] === rowDataTypesEnum.SEGMENT &&\r\n        CT_Entries.length > 0\r\n      ) {\r\n        for (let i = CT_Entries.length - 1; i >= 0; i--) {\r\n          if (index > CT_Entries[i]) {\r\n            S_Counts[i] += 1;\r\n            S_Duration_Sums[i] += timeToSeconds(item['Duration']);\r\n            S_Index_Map.set(index, i);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    });\r\n    CT_Entries.forEach((ctIndex, i) => {\r\n      let item = newSchedulingTableData[ctIndex];\r\n      item['DurationInSeconds'] =\r\n        timeToSeconds(item['FPC_TimeTo'] + ':00:00') -\r\n        timeToSeconds(item['FPC_Time'] + ':00:00');\r\n      item['S_Count'] = S_Counts[i];\r\n      item['Sum_of_S_Duration'] = S_Duration_Sums[i];\r\n    });\r\n    newSchedulingTableData.forEach((item, index) => {\r\n      if (\r\n        item['F_C_S_P'] === rowDataTypesEnum.SEGMENT &&\r\n        S_Index_Map.has(index)\r\n      ) {\r\n        let ctIndex = S_Index_Map.get(index);\r\n        let CT_Item = newSchedulingTableData[CT_Entries[ctIndex]];\r\n        if (CT_Item['S_Count'] > 0) {\r\n          item['Calculated_Value'] =\r\n            (CT_Item['DurationInSeconds'] - CT_Item['Sum_of_S_Duration']) /\r\n            CT_Item['S_Count'];\r\n        } else {\r\n          item['Calculated_Value'] = 0;\r\n        }\r\n      }\r\n    });\r\n    let lastSIndex = -1;\r\n    newSchedulingTableData.forEach((item, index) => {\r\n      if (item['F_C_S_P'] === rowDataTypesEnum.SEGMENT) {\r\n        lastSIndex = index;\r\n      } else if (\r\n        lastSIndex !== -1 &&\r\n        item['F_C_S_P'] !== rowDataTypesEnum.CONTENT_TERMINATION &&\r\n        item['F_C_S_P'] !== rowDataTypesEnum.NTC &&\r\n        item['F_C_S_P'] !== rowDataTypesEnum.SEGMENT\r\n      ) {\r\n        let durationInSeconds = timeToSeconds(item['Duration']);\r\n        newSchedulingTableData[lastSIndex]['Calculated_Value'] -=\r\n          durationInSeconds;\r\n      }\r\n    });\r\n    const promoList = await getPromosFromTemplateId(promoShuffleTemplate.value);\r\n    newSchedulingTableData = insertPromos(\r\n      newSchedulingTableData,\r\n      promoList,\r\n      time,\r\n    );\r\n    return { newSchedulingTableData };\r\n  };\r\n\r\n  const executeDeleteEvents = (deleteEventTypes) => {\r\n    let newSchedulingTableData = [];\r\n    let newDropBucket = [];\r\n    schedulingTableData.forEach((row) => {\r\n      if (deleteEventTypes.includes(row.F_C_S_P)) {\r\n        if (row.F_C_S_P === rowDataTypesEnum.COMMERCIAL)\r\n          newDropBucket.push(row);\r\n      } else newSchedulingTableData.push(row);\r\n    });\r\n    return { newSchedulingTableData, newDropBucket };\r\n  };\r\n\r\n  const executeImportNTCsForSelectedContent = async () => {\r\n    try {\r\n      const contentIndexes = getContentIndexes(\r\n        schedulingTableData,\r\n        leftClickedSchTableRow,\r\n      );\r\n      const contentSegments = getContentSegmentsForContent(\r\n        schedulingTableData,\r\n        contentIndexes.startIndex,\r\n      );\r\n      const contentSegmentRowIds = contentSegments.map(\r\n        (segment) => segment.rowId,\r\n      );\r\n      let newSchedulingTableData = [];\r\n      for (let index = 0; index < schedulingTableData.length; index++) {\r\n        const curRow = schedulingTableData[index];\r\n        newSchedulingTableData.push(curRow);\r\n        if (contentSegmentRowIds.includes(curRow.rowId)) {\r\n          let curNTCRow = schedulingTableData[index + 1];\r\n          while (curNTCRow && curNTCRow.F_C_S_P === rowDataTypesEnum.NTC) {\r\n            newSchedulingTableData.push(curNTCRow);\r\n            index++;\r\n            curNTCRow = schedulingTableData[index + 1];\r\n          }\r\n          const fetchedNTCs = await getNTCRowsForSegment(curRow, channel, date);\r\n          if (isAutoCalcNtcOffsetTime) {\r\n            newSchedulingTableData = newSchedulingTableData.map(\r\n              (row, index) => ({\r\n                ...row,\r\n                rowIndex: index,\r\n              }),\r\n            );\r\n            const { newTableData, insertedNTCs } =\r\n              insertNTCsBasedOnOffsetTimeAutoCalculation(\r\n                newSchedulingTableData.find(\r\n                  (row) => row.rowId === curRow.rowId,\r\n                ),\r\n                fetchedNTCs,\r\n                newSchedulingTableData,\r\n                newSchedulingTableData.length,\r\n              );\r\n            newSchedulingTableData = newTableData;\r\n          } else newSchedulingTableData.push(...fetchedNTCs);\r\n        }\r\n      }\r\n      return { newSchedulingTableData };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const executeImportNTCsForAllContents = async () => {\r\n    try {\r\n      let newSchedulingTableData = [];\r\n      for (let index = 0; index < schedulingTableData.length; index++) {\r\n        const curRow = schedulingTableData[index];\r\n        newSchedulingTableData.push(curRow);\r\n        if (curRow.F_C_S_P === rowDataTypesEnum.SEGMENT) {\r\n          let curNTCRow = schedulingTableData[index + 1];\r\n          while (curNTCRow && curNTCRow.F_C_S_P === rowDataTypesEnum.NTC) {\r\n            newSchedulingTableData.push(curNTCRow);\r\n            index++;\r\n            curNTCRow = schedulingTableData[index + 1];\r\n          }\r\n          const fetchedNTCs = await getNTCRowsForSegment(curRow, channel, date);\r\n          if (isAutoCalcNtcOffsetTime) {\r\n            newSchedulingTableData = newSchedulingTableData.map(\r\n              (row, index) => ({\r\n                ...row,\r\n                rowIndex: index,\r\n              }),\r\n            );\r\n            const { newTableData, insertedNTCs } =\r\n              insertNTCsBasedOnOffsetTimeAutoCalculation(\r\n                newSchedulingTableData.find(\r\n                  (row) => row.rowId === curRow.rowId,\r\n                ),\r\n                fetchedNTCs,\r\n                newSchedulingTableData,\r\n                newSchedulingTableData.length,\r\n              );\r\n            newSchedulingTableData = newTableData;\r\n          } else newSchedulingTableData.push(...fetchedNTCs);\r\n        }\r\n      }\r\n      return { newSchedulingTableData };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // New DTMF Logic\r\n  const executeToggleDtmfPattern = () => {\r\n    let newSchedulingTableData = [];\r\n    if (isDtmfRowsPresent(schedulingTableData))\r\n      newSchedulingTableData = schedulingTableData.filter(\r\n        (row) =>\r\n          !(row.F_C_S_P === rowDataTypesEnum.NTC && row.NtcTypeName === 'DTM'),\r\n      );\r\n    else\r\n      for (let index = 0; index < schedulingTableData.length; index++) {\r\n        const curRow = schedulingTableData[index];\r\n        const nextRow = schedulingTableData[index + 1];\r\n        const isNextRowCT_S_Empty =\r\n          (nextRow &&\r\n            (nextRow.F_C_S_P === rowDataTypesEnum.SEGMENT ||\r\n              nextRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION)) ||\r\n          !nextRow;\r\n        if (index === 0) newSchedulingTableData.push(curRow);\r\n        else {\r\n          if (\r\n            isNextRowCT_S_Empty &&\r\n            ((curRow.PromoTypeName &&\r\n              !curRow.PromoTypeName.toLowerCase().includes(\r\n                'parental rating disclaimer',\r\n              )) ||\r\n              curRow.PromoTypeCode !== '19')\r\n          ) {\r\n            newSchedulingTableData.push(curRow);\r\n            for (\r\n              let index = newSchedulingTableData.length - 1;\r\n              index > 0;\r\n              index--\r\n            ) {\r\n              const curRow = newSchedulingTableData[index];\r\n              if (\r\n                curRow.F_C_S_P === rowDataTypesEnum.PROMO ||\r\n                curRow.F_C_S_P === rowDataTypesEnum.SONG\r\n              ) {\r\n                newSchedulingTableData.splice(\r\n                  index + 1,\r\n                  0,\r\n                  {\r\n                    ...DTMF_ROWS.DTMF_IN,\r\n                    OffsetStartTime: curRow.Tel_Time,\r\n                    Duration: curRow.Duration,\r\n                  },\r\n                  {\r\n                    ...DTMF_ROWS.DTMF_OUT,\r\n                    OffsetStartTime: subtractTimes(\r\n                      addTimes(curRow.Tel_Time, curRow.Duration),\r\n                      '00:00:03:00',\r\n                    ),\r\n                  },\r\n                );\r\n                break;\r\n              } else if (\r\n                curRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION ||\r\n                curRow.F_C_S_P === rowDataTypesEnum.SEGMENT\r\n              ) {\r\n                break;\r\n              }\r\n            }\r\n          } else newSchedulingTableData.push(curRow);\r\n        }\r\n      }\r\n    return { newSchedulingTableData };\r\n  };\r\n\r\n  // Old DTMF Logic\r\n  // const executeToggleDtmfPattern = () => {\r\n  //   let newSchedulingTableData = []\r\n  //   let curPriEvent;\r\n  //   if (isDtmfRowsPresent(schedulingTableData))\r\n  //     newSchedulingTableData = schedulingTableData.filter((row) => !(row.F_C_S_P === rowDataTypesEnum.NTC && row.NtcTypeName === 'DTM'))\r\n  //   else\r\n  //     for (let index = 0; index < schedulingTableData.length; index++) {\r\n  //       const curRow = schedulingTableData[index]\r\n  //       const nextRow = schedulingTableData[index + 1]\r\n  //       const isNextRowCT_S_Empty = (nextRow && (nextRow.F_C_S_P === rowDataTypesEnum.SEGMENT || nextRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION)) || !nextRow;\r\n  //       if (index === 0) newSchedulingTableData.push(curRow);\r\n  //       else {\r\n  //         if (curRow.F_C_S_P === rowDataTypesEnum.SEGMENT || curRow.F_C_S_P === rowDataTypesEnum.PROMO || curRow.F_C_S_P === rowDataTypesEnum.SONG || curRow.F_C_S_P === rowDataTypesEnum.COMMERCIAL) {\r\n  //           curPriEvent = curRow\r\n  //         }\r\n  //         const dtmfInOffsetTime = curPriEvent ? subtractTimes(curPriEvent.Duration, '00:00:03:00') : '00:00:00:00'\r\n  //         const dtmfInDuration = curPriEvent ? getTotalDurOfPriEventsForSeg(schedulingTableData, index) : '00:00:00:00'\r\n  //         const dtmfOutOffsetTime = curPriEvent ? subtractTimes(curPriEvent.Duration, '00:00:00:09') : '00:00:00:00'\r\n  //         if (curRow.F_C_S_P === rowDataTypesEnum.SEGMENT && isNextRowCT_S_Empty) {\r\n  //           newSchedulingTableData.push(curRow,\r\n  //             { ...DTMF_ROWS.DTMF_IN, OffsetStartTime: dtmfInOffsetTime, TC_IN: curRow.TC_IN, Duration: dtmfInDuration },\r\n  //             { ...DTMF_ROWS.DTMF_OUT, OffsetStartTime: dtmfOutOffsetTime })\r\n  //           continue;\r\n  //         }\r\n  //         if (curRow.F_C_S_P === rowDataTypesEnum.SEGMENT && !isNextRowCT_S_Empty) {\r\n  //           newSchedulingTableData.push(curRow, { ...DTMF_ROWS.DTMF_IN, OffsetStartTime: dtmfInOffsetTime, TC_IN: curRow.TC_IN, Duration: dtmfInDuration })\r\n  //           continue;\r\n  //         }\r\n  //         if ((curRow.F_C_S_P !== rowDataTypesEnum.SEGMENT && curRow.F_C_S_P !== rowDataTypesEnum.CONTENT_TERMINATION) && isNextRowCT_S_Empty) {\r\n  //           newSchedulingTableData.push(curRow, { ...DTMF_ROWS.DTMF_OUT, OffsetStartTime: dtmfOutOffsetTime });\r\n  //           continue;\r\n  //         }\r\n  //         newSchedulingTableData.push(curRow);\r\n  //       }\r\n  //     }\r\n  //   return { newSchedulingTableData };\r\n  // }\r\n\r\n  const executeToggleScteOnPattern = () => {\r\n    let newSchedulingTableData = [];\r\n    if (isScteOnRowsPresent(schedulingTableData))\r\n      newSchedulingTableData = schedulingTableData.filter(\r\n        (row) =>\r\n          !(row.F_C_S_P === rowDataTypesEnum.NTC && row.NtcTypeName === 'SCT'),\r\n      );\r\n    else\r\n      for (let index = 0; index < schedulingTableData.length; index++) {\r\n        const curRow = schedulingTableData[index];\r\n        if (index === 0) newSchedulingTableData.push(curRow);\r\n        else {\r\n          const scteOnInOffsetTime = subtractTimes(\r\n            addTimes(curRow.Tel_Time, curRow.Duration),\r\n            '00:00:04:00',\r\n          );\r\n          if (curRow.F_C_S_P === rowDataTypesEnum.SEGMENT) {\r\n            newSchedulingTableData.push(curRow, {\r\n              ...SCTE_ON_ROW,\r\n              OffsetStartTime: scteOnInOffsetTime,\r\n              Duration: curRow.Duration,\r\n            });\r\n          } else newSchedulingTableData.push(curRow);\r\n        }\r\n      }\r\n    return { newSchedulingTableData };\r\n  };\r\n\r\n  const executeInsertNowNTCs = async () => {\r\n    try {\r\n      const contentIndexes = getContentIndexes(\r\n        schedulingTableData,\r\n        leftClickedSchTableRow,\r\n      );\r\n      const contentSegments = getContentSegmentsForContent(\r\n        schedulingTableData,\r\n        contentIndexes.startIndex,\r\n      );\r\n      const contentSegmentRowIds = contentSegments.map(\r\n        (segment) => segment.rowId,\r\n      );\r\n      let newSchedulingTableData = [];\r\n      for (let index = 0; index < schedulingTableData.length; index++) {\r\n        const curRow = schedulingTableData[index];\r\n        newSchedulingTableData.push(curRow);\r\n        if (contentSegmentRowIds.includes(curRow.rowId)) {\r\n          let curNTCRow = schedulingTableData[index + 1];\r\n          while (curNTCRow && curNTCRow.F_C_S_P === rowDataTypesEnum.NTC) {\r\n            newSchedulingTableData.push(curNTCRow);\r\n            index++;\r\n            curNTCRow = schedulingTableData[index + 1];\r\n          }\r\n          const fetchedNTCs = await getNowNTCsForSegment(\r\n            curRow,\r\n            channel,\r\n            date,\r\n            'Now',\r\n            curRow.Start_Time,\r\n          );\r\n          if (isAutoCalcNtcOffsetTime) {\r\n            newSchedulingTableData = newSchedulingTableData.map(\r\n              (row, index) => ({\r\n                ...row,\r\n                rowIndex: index,\r\n              }),\r\n            );\r\n            const { newTableData, insertedNTCs } =\r\n              insertNTCsBasedOnOffsetTimeAutoCalculation(\r\n                newSchedulingTableData.find(\r\n                  (row) => row.rowId === curRow.rowId,\r\n                ),\r\n                fetchedNTCs,\r\n                newSchedulingTableData,\r\n                newSchedulingTableData.length,\r\n              );\r\n            newSchedulingTableData = newTableData;\r\n          } else newSchedulingTableData.push(...fetchedNTCs);\r\n        }\r\n      }\r\n      return { newSchedulingTableData };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const executeInsertNextNTCs = async () => {\r\n    try {\r\n      const contentIndexes = getContentIndexes(\r\n        schedulingTableData,\r\n        leftClickedSchTableRow,\r\n      );\r\n      const contentSegments = getContentSegmentsForContent(\r\n        schedulingTableData,\r\n        contentIndexes.startIndex,\r\n      );\r\n      const contentSegmentRowIds = contentSegments.map(\r\n        (segment) => segment.rowId,\r\n      );\r\n      let newSchedulingTableData = [];\r\n      for (let index = 0; index < schedulingTableData.length; index++) {\r\n        const curRow = schedulingTableData[index];\r\n        newSchedulingTableData.push(curRow);\r\n        if (contentSegmentRowIds.includes(curRow.rowId)) {\r\n          let curNTCRow = schedulingTableData[index + 1];\r\n          while (curNTCRow && curNTCRow.F_C_S_P === rowDataTypesEnum.NTC) {\r\n            newSchedulingTableData.push(curNTCRow);\r\n            index++;\r\n            curNTCRow = schedulingTableData[index + 1];\r\n          }\r\n          const fetchedNTCs = await getNowNTCsForSegment(\r\n            curRow,\r\n            channel,\r\n            date,\r\n            'Next',\r\n            curRow.Start_Time,\r\n          );\r\n          if (isAutoCalcNtcOffsetTime) {\r\n            newSchedulingTableData = newSchedulingTableData.map(\r\n              (row, index) => ({\r\n                ...row,\r\n                rowIndex: index,\r\n              }),\r\n            );\r\n            const { newTableData, insertedNTCs } =\r\n              insertNTCsBasedOnOffsetTimeAutoCalculation(\r\n                newSchedulingTableData.find(\r\n                  (row) => row.rowId === curRow.rowId,\r\n                ),\r\n                fetchedNTCs,\r\n                newSchedulingTableData,\r\n                newSchedulingTableData.length,\r\n              );\r\n            newSchedulingTableData = newTableData;\r\n          } else newSchedulingTableData.push(...fetchedNTCs);\r\n        }\r\n      }\r\n      return { newSchedulingTableData };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const executeInsertLiveEvent = (liveRow) => {\r\n    let newSchedulingTableData = [...schedulingTableData];\r\n    newSchedulingTableData.splice(\r\n      leftClickedSchTableRow.rowIndex + 1,\r\n      0,\r\n      liveRow,\r\n    );\r\n    return { newSchedulingTableData };\r\n  };\r\n\r\n  const executeImportPromosForSelectedContent = async () => {\r\n    try {\r\n      const contentIndexes = getContentIndexes(\r\n        schedulingTableData,\r\n        leftClickedSchTableRow,\r\n      );\r\n      const selContentCode =\r\n        schedulingTableData[contentIndexes.startIndex].ContentCode;\r\n      let newSchedulingTableData = [];\r\n      for (let index = 0; index < schedulingTableData.length; index++) {\r\n        const curRow = schedulingTableData[index];\r\n        newSchedulingTableData.push(curRow);\r\n        if (\r\n          curRow.ContentCode === selContentCode &&\r\n          ((!isChannelAniPlus && curRow.F_C_S_P === rowDataTypesEnum.SEGMENT) ||\r\n            curRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION)\r\n        ) {\r\n          let curNTCRow = schedulingTableData[index + 1];\r\n          while (curNTCRow && curNTCRow.F_C_S_P === rowDataTypesEnum.NTC) {\r\n            newSchedulingTableData.push(curNTCRow);\r\n            index++;\r\n            curNTCRow = schedulingTableData[index + 1];\r\n          }\r\n          const fetchedPromos = await getPromoRowsForSegment(\r\n            curRow,\r\n            channel,\r\n            date,\r\n          );\r\n          newSchedulingTableData.push(...fetchedPromos);\r\n        }\r\n      }\r\n      return { newSchedulingTableData };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const executeImportPromosForAllContents = async () => {\r\n    try {\r\n      let newSchedulingTableData = [];\r\n      for (let index = 0; index < schedulingTableData.length; index++) {\r\n        const curRow = schedulingTableData[index];\r\n        newSchedulingTableData.push(curRow);\r\n        if (\r\n          (!isChannelAniPlus && curRow.F_C_S_P === rowDataTypesEnum.SEGMENT) ||\r\n          curRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION\r\n        ) {\r\n          let curNTCRow = schedulingTableData[index + 1];\r\n          while (curNTCRow && curNTCRow.F_C_S_P === rowDataTypesEnum.NTC) {\r\n            newSchedulingTableData.push(curNTCRow);\r\n            index++;\r\n            curNTCRow = schedulingTableData[index + 1];\r\n          }\r\n          const fetchedPromos = await getPromoRowsForSegment(\r\n            curRow,\r\n            channel,\r\n            date,\r\n          );\r\n          newSchedulingTableData.push(...fetchedPromos);\r\n        }\r\n      }\r\n      return { newSchedulingTableData };\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  /* =================================================================================== */\r\n  /* HELPER FUNCTIONS USING STATES */\r\n  function resetTableStatesForInitialization() {\r\n    try {\r\n      setSchedulingTableOffset(0);\r\n      setCustomCellColor(null);\r\n      resetAllSelectedRows();\r\n      resetSecondaryTableStates();\r\n      resetUndoRedoStacks();\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function resetAllSelectedRows() {\r\n    setSchedulingTableSelectedRows([]);\r\n    setLeftClickedSchTableRow(null);\r\n    setSecondaryTableSelectedRows([]);\r\n    setLeftClickedSecTableRow(null);\r\n  }\r\n\r\n  function resetSecondaryTableStates() {\r\n    setSecondaryTableName(null);\r\n    setSecondaryTableType(null);\r\n    setOgSecTableData([]);\r\n    setSecondaryTableData([]);\r\n    setSecTableSortingInfo(DEFAULT_COL_SORTING_INFO);\r\n    setSecondaryTableOffset(0);\r\n    setSecondaryTableManagedColumns({\r\n      originalColumns: [],\r\n      visibleColumns: [],\r\n      removedColumns: [],\r\n    });\r\n    setSecTableToolbarState(DEFAULT_SEC_TABLE_TOOLBAR_STATE);\r\n    setSecondaryTableSelectedRows([]);\r\n    setLeftClickedSecTableRow(null);\r\n    setRotationInfoTableSelectedRows([]);\r\n    secondaryTableRef.current = null;\r\n  }\r\n\r\n  function resetUndoRedoStacks() {\r\n    setUndoStack([]);\r\n    setRedoStack([]);\r\n  }\r\n\r\n  function updateUndoRedoStacksForNewOperation() {\r\n    setUndoStack((prevState) => [\r\n      ...prevState,\r\n      {\r\n        schedulingTableData: [...schedulingTableData],\r\n        secondaryTableData: [...secondaryTableData],\r\n        dropBucket: Array.isArray(dropBucket)\r\n          ? [...dropBucket]\r\n          : prevState.length > 0 && [prevState.length - 1].dropBucket\r\n          ? [prevState.length - 1].dropBucket\r\n          : null,\r\n        schTableSelectedFilters: [...schTableSelectedFilters],\r\n        secTableSelectedFilters: [...secTableSelectedFilters],\r\n        customCellColor: { ...customCellColor },\r\n      },\r\n    ]);\r\n    setRedoStack([]);\r\n  }\r\n\r\n  function maintainScrolledOffsetOfTables() {\r\n    try {\r\n      setSchedulingTableOffset(getTableScrolledOffset(schedulingTableRef));\r\n      setSecondaryTableOffset(getTableScrolledOffset(secondaryTableRef));\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  function resetPage() {\r\n    setDate(null);\r\n    setFeaturesList(null);\r\n    setActiveFeatures(null);\r\n    /* UNSAVED WORK STATES */\r\n    setLoadUnsavedWork(false);\r\n    setUnsavedWorkState(null);\r\n    setUpdateSchedulerStateInRedux(false);\r\n    /* SCHEDULING TABLE STATES */\r\n    setSchedulingTableName(null);\r\n    setOgSchTableData([]);\r\n    setSchedulingTableData([]);\r\n    setSchTableSortingInfo(DEFAULT_COL_SORTING_INFO);\r\n    setSchedulingTableOffset(0);\r\n    setSchedulingTableManagedColumns({\r\n      originalColumns: [],\r\n      visibleColumns: [],\r\n      removedColumns: [],\r\n    });\r\n    setSchedulingTableSelectedRows([]);\r\n    setLeftClickedSchTableRow(null);\r\n    setSchTableSelectedFilters([]);\r\n    /* SECONDARY TABLE STATES */\r\n    setSecondaryTableName(null);\r\n    setSecondaryTableType(null);\r\n    setOgSecTableData([]);\r\n    setSecondaryTableData([]);\r\n    setSecTableSortingInfo(DEFAULT_COL_SORTING_INFO);\r\n    setSecondaryTableOffset(0);\r\n    setSecondaryTableManagedColumns({\r\n      originalColumns: [],\r\n      visibleColumns: [],\r\n      removedColumns: [],\r\n    });\r\n    setSecTableToolbarState(DEFAULT_SEC_TABLE_TOOLBAR_STATE);\r\n    setSecondaryTableSelectedRows([]);\r\n    setLeftClickedSecTableRow(null);\r\n    setSecTableSelectedFilters([]);\r\n    /* DROP BUCKET STATE */\r\n    setDropBucket([]);\r\n    /* LAST MINUTE SPOTS STATE */\r\n    setLastMinuteSpots([]);\r\n    /* UNDO/REDO */\r\n    setUndoStack([]);\r\n    setRedoStack([]);\r\n    /* ROTATION INFO */\r\n    setRotationInfoTableSelectedRows([]);\r\n    /* UI STATES */\r\n    setStartTime('');\r\n    setShowLoader(false);\r\n    setCustomCellColor(null);\r\n    schedulingTableRef.current = null;\r\n    secondaryTableRef.current = null;\r\n  }\r\n\r\n  /* CONTEXT EXPORT */\r\n  return (\r\n    <SchedulerContext.Provider\r\n      value={{\r\n        page,\r\n        date,\r\n        featuresList,\r\n        activeFeatures,\r\n        loadUnsavedWork,\r\n        unsavedWorkState,\r\n        updateSchedulerStateInRedux,\r\n        schedulingTableName,\r\n        schedulingTableData,\r\n        schTableSortingInfo,\r\n        schedulingTableOffset,\r\n        schedulingTableManagedColumns,\r\n        schedulingTableSelectedRows,\r\n        leftClickedSchTableRow,\r\n        schTableSelectedFilters,\r\n        dropBucket,\r\n        lastMinuteSpots,\r\n        secondaryTableName,\r\n        secondaryTableType,\r\n        secondaryTableData,\r\n        secTableSortingInfo,\r\n        secondaryTableOffset,\r\n        secondaryTableManagedColumns,\r\n        secondaryTableSelectedRows,\r\n        leftClickedSecTableRow,\r\n        secTableSelectedFilters,\r\n        startTime,\r\n        undoStack,\r\n        redoStack,\r\n        schedulingTableRef,\r\n        secondaryTableRef,\r\n        secondaryAreaZindexRef,\r\n        secTableToolbarState,\r\n        rotationInfoTableSelectedRows,\r\n        showLoader,\r\n        customCellColor,\r\n        isScheduleAllowedToEdit,\r\n        isInsertLiveDialogOpen,\r\n        isAutoCalcNtcOffsetTime,\r\n        isNtcGroupingEnabled,\r\n        promoTypeOptions,\r\n        songTypeOptions,\r\n        ntcTypeOptions,\r\n        setPage,\r\n        setDate,\r\n        setFeaturesList,\r\n        setActiveFeatures,\r\n        setLoadUnsavedWork,\r\n        setUnsavedWorkState,\r\n        setUpdateSchedulerStateInRedux,\r\n        setSchedulingTableName,\r\n        setOgSchTableData,\r\n        setSchedulingTableData,\r\n        setSchTableSortingInfo,\r\n        setSchedulingTableOffset,\r\n        setSchedulingTableManagedColumns,\r\n        setSchedulingTableSelectedRows,\r\n        setLeftClickedSchTableRow,\r\n        setSchTableSelectedFilters,\r\n        setSecondaryTableName,\r\n        setSecondaryTableType,\r\n        setOgSecTableData,\r\n        setSecondaryTableData,\r\n        setSecTableSortingInfo,\r\n        setSecondaryTableOffset,\r\n        setSecondaryTableManagedColumns,\r\n        setSecondaryTableSelectedRows,\r\n        setLeftClickedSecTableRow,\r\n        setSecTableSelectedFilters,\r\n        setStartTime,\r\n        setDropBucket,\r\n        setLastMinuteSpots,\r\n        setUndoStack,\r\n        setRedoStack,\r\n        setSecTableToolbarState,\r\n        setRotationInfoTableSelectedRows,\r\n        setShowLoader,\r\n        setCustomCellColor,\r\n        setIsScheduleAllowedToEdit,\r\n        setIsInsertLiveDialogOpen,\r\n        setPromoTypeOptions,\r\n        setSongTypeOptions,\r\n        setNtcTypeOptions,\r\n        executeOperation,\r\n        resetAllSelectedRows,\r\n        resetSecondaryTableStates,\r\n        resetUndoRedoStacks,\r\n        maintainScrolledOffsetOfTables,\r\n        resetPage,\r\n      }}\r\n    >\r\n      {children}\r\n    </SchedulerContext.Provider>\r\n  );\r\n};\r\n\r\nexport default SchedulerContextProvider;\r\n","import {\r\n  additionalRowInfoEnum,\r\n  tableTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport { getTableDataWithAdditionalInfo } from '../../utils';\r\nimport { getCorrectedDestIndex } from './utils';\r\n\r\nconst executePromoInsert = (\r\n  destIndex,\r\n  schTableData,\r\n  selectedRows,\r\n  activeFeatures,\r\n  page,\r\n) => {\r\n  try {\r\n    let newSchTableData = [...schTableData];\r\n    let selectedRowsWithNewRowId = getTableDataWithAdditionalInfo({\r\n      tableData: selectedRows,\r\n      tableType: tableTypesEnum.SCHEDULING,\r\n      additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n    });\r\n    let destinationIndex = getCorrectedDestIndex(\r\n      destIndex,\r\n      schTableData,\r\n      activeFeatures,\r\n      page,\r\n    );\r\n    newSchTableData.splice(destinationIndex, 0, ...selectedRowsWithNewRowId);\r\n    return newSchTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { executePromoInsert };\r\n","import {\r\n  additionalRowInfoEnum,\r\n  tableTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport { getTableDataWithAdditionalInfo } from '../../utils';\r\nimport { getCorrectedDestIndex } from './utils';\r\n\r\nconst executeSongInsert = (\r\n  destIndex,\r\n  schTableData,\r\n  selectedRows,\r\n  activeFeatures,\r\n  page,\r\n) => {\r\n  try {\r\n    let newSchTableData = [...schTableData];\r\n    let selectedRowsWithNewRowId = getTableDataWithAdditionalInfo({\r\n      tableData: selectedRows,\r\n      tableType: tableTypesEnum.SCHEDULING,\r\n      additionalInfo: [additionalRowInfoEnum.ROW_ID],\r\n    });\r\n    let destinationIndex = getCorrectedDestIndex(\r\n      destIndex,\r\n      schTableData,\r\n      activeFeatures,\r\n      page,\r\n    );\r\n    newSchTableData.splice(destinationIndex, 0, ...selectedRowsWithNewRowId);\r\n    return newSchTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { executeSongInsert };\r\n","import { removeRowsFromTableData } from '../../utils';\r\nimport { getCorrectedDestIndex, validateNTCs } from './utils';\r\n\r\nconst executeNtcInsert = (\r\n  destIndex,\r\n  schTableData,\r\n  secTableData,\r\n  selectedRows,\r\n  activeFeatures,\r\n  channel,\r\n  isAutoCalculateOffsetTime,\r\n) => {\r\n  try {\r\n    let newSchTableData = [...schTableData];\r\n    let newSecTableData = [...secTableData];\r\n    let destinationIndex = getCorrectedDestIndex(\r\n      destIndex,\r\n      schTableData,\r\n      activeFeatures,\r\n    );\r\n    const validNTCs = validateNTCs({\r\n      destIndex: destinationIndex,\r\n      tableData: schTableData,\r\n      selectedRows,\r\n      channel,\r\n      isAutoCalculateOffsetTime,\r\n    });\r\n    if (!validNTCs) return false;\r\n    newSchTableData.splice(destinationIndex, 0, ...validNTCs);\r\n    if (validNTCs[0].BookingDetailID)\r\n      newSecTableData = removeRowsFromTableData(selectedRows, newSecTableData);\r\n    return { newSchTableData, newSecTableData };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { executeNtcInsert };\r\n","const executeSongReplace = (\r\n  schTableData,\r\n  schTableSelectedRows,\r\n  secTableSelectedRow,\r\n) => {\r\n  let newSchTableData = [...schTableData];\r\n  /* PLACE SELECTED ROWS IN SCHEDULING TABLE */\r\n  schTableSelectedRows.forEach((selRow) => {\r\n    newSchTableData[selRow.rowIndex] = {\r\n      ...selRow,\r\n      Event_Name: secTableSelectedRow.Event_Name,\r\n      Duration: secTableSelectedRow.Duration,\r\n      VideoID: secTableSelectedRow.HouseID,\r\n      Tape_ID: secTableSelectedRow.Tape_ID,\r\n      SongCode: secTableSelectedRow.SongCode,\r\n      SongTypeCode: secTableSelectedRow.SongTypeCode,\r\n      SongCategoryCode: secTableSelectedRow.SongCategoryCode,\r\n    };\r\n  });\r\n  return newSchTableData;\r\n};\r\n\r\nexport { executeSongReplace };\r\n","const executePromoReplaceAll = (\r\n  schTableData,\r\n  schTableSelRows,\r\n  secTableSelRow,\r\n) => {\r\n  return schTableData.map((row) => {\r\n    const replacedRow = { ...row };\r\n    if (schTableSelRows.includes(row.Event_Name)) {\r\n      replacedRow.Event_Name = secTableSelRow.Event_Name;\r\n      replacedRow.Duration = secTableSelRow.Duration;\r\n      replacedRow.VideoID = secTableSelRow.HouseID;\r\n      replacedRow.Tape_ID = secTableSelRow.Tape_ID;\r\n      replacedRow.PromoCode = secTableSelRow.PromoCode;\r\n      replacedRow.PromoTypeCode = secTableSelRow.PromoTypeCode;\r\n    }\r\n    return replacedRow;\r\n  });\r\n};\r\n\r\nexport { executePromoReplaceAll };\r\n","const executeSongReplaceAll = (\r\n  schTableData,\r\n  schTableSelRows,\r\n  secTableSelRow,\r\n) => {\r\n  return schTableData.map((row) => {\r\n    const replacedRow = { ...row };\r\n    if (schTableSelRows.includes(row.Event_Name)) {\r\n      replacedRow.Event_Name = secTableSelRow.Event_Name;\r\n      replacedRow.Duration = secTableSelRow.Duration;\r\n      replacedRow.VideoID = secTableSelRow.HouseID;\r\n      replacedRow.Tape_ID = secTableSelRow.Tape_ID;\r\n      replacedRow.SongCode = secTableSelRow.SongCode;\r\n      replacedRow.SongTypeCode = secTableSelRow.SongTypeCode;\r\n      replacedRow.SongCategoryCode = secTableSelRow.SongCategoryCode;\r\n    }\r\n    return replacedRow;\r\n  });\r\n};\r\n\r\nexport { executeSongReplaceAll };\r\n","const executeNtcReplaceAll = (\r\n  schTableData,\r\n  schTableSelRows,\r\n  secTableSelRow,\r\n) => {\r\n  return schTableData.map((row) => {\r\n    const replacedRow = { ...row };\r\n    if (schTableSelRows.includes(row.Event_Name)) {\r\n      replacedRow.Event_Name = secTableSelRow.Event_Name;\r\n      replacedRow.Duration = secTableSelRow.Duration;\r\n      replacedRow.VideoID = secTableSelRow.HouseID;\r\n      replacedRow.Tape_ID = secTableSelRow.Tape_ID;\r\n      replacedRow.NtcTypeName = secTableSelRow.NtcTypeName;\r\n    }\r\n    return replacedRow;\r\n  });\r\n};\r\n\r\nexport { executeNtcReplaceAll };\r\n","import React, { useContext, useEffect, lazy, Suspense } from 'react';\r\nimport SchedulerContextProvider from './context/SchedulerContextProvider';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport SchedulerContext from './context/SchedulerContext';\r\nimport { setdateForm } from 'store/locale/localeSlice';\r\nimport { setPageHeading } from './utils';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\n/* CODE SPLITTING */\r\nconst SchedulingArea = lazy(() =>\r\n  import('./components/SchedulingArea/SchedulingArea'),\r\n);\r\nconst SchedulingCalendar = lazy(() =>\r\n  import('./components/SchedulingCalendar/SchedulingCalendar'),\r\n);\r\nconst Loader = lazy(() => import('views/Controls/Loader'));\r\n\r\nfunction Scheduler() {\r\n  return (\r\n    <SchedulerContextProvider>\r\n      <SchedulerWithContext></SchedulerWithContext>\r\n    </SchedulerContextProvider>\r\n  );\r\n}\r\n\r\nfunction SchedulerWithContext() {\r\n  /* REDUX */\r\n  const channel = useSelector((state) => state.locale.selectedChannel);\r\n  const path = useSelector((state) => state.base.common.Path);\r\n  const dispatch = useDispatch();\r\n\r\n  /* CONTEXT */\r\n  const { page, setPage, date, setDate, showLoader, resetPage } =\r\n    useContext(SchedulerContext);\r\n\r\n  /*HOOKS */\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    return removePageHeading;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    resetPage();\r\n  }, [channel]);\r\n\r\n  useEffect(() => {\r\n    if (location.state && location.state.date) {\r\n      setDate(location.state.date);\r\n    }\r\n  }, [location.state]);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      /* GET CURRENT PAGE NAME */\r\n      setPage(getCurPage());\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [path]);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      /* SET DATE AND PAGE NAME IN NAVBAR */\r\n      setPageHeading(page, dispatch, setdateForm, date, channel);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [page, date]);\r\n\r\n  /* HELPER FUNCTIONS */\r\n  const removePageHeading = () => {\r\n    try {\r\n      const gboxElement = document.getElementsByClassName('Gbox2')[0];\r\n      const gboxElementchild =\r\n        document.getElementsByClassName('Gbox2')[0].children[1];\r\n      if (gboxElement) {\r\n        gboxElement.style.display = 'none';\r\n        gboxElementchild.style.display = 'none';\r\n      }\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const getCurPage = () => {\r\n    try {\r\n      let page = null;\r\n      if (path.length > 0) {\r\n        page = path.split('/').slice(-1)[0].toLowerCase();\r\n      }\r\n      return page;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Suspense fallback={<Loader showLoader={true} />}>\r\n      {page && <>{date ? <SchedulingArea /> : <SchedulingCalendar />}</>}\r\n      <Loader showLoader={showLoader} />\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nexport default Scheduler;\r\n","/* COMMON FUNCTIONS USED THROUGHOUT WHOLE SCHEDULER COMPONENT */\r\nimport { convertDateToYMD } from 'components/validators';\r\nimport { pagesEnum } from './enum';\r\nimport { CLIENT } from 'views/Controls/clientListEnum';\r\n\r\nconst setPageHeading = (page, dispatch, setdateForm, date, channel) => {\r\n  try {\r\n    const gboxElement = document.getElementsByClassName('Gbox2')[0];\r\n    const gboxElementchild =\r\n      document.getElementsByClassName('Gbox2')[0].children[1];\r\n    if (page === pagesEnum.PROMO) {\r\n      dispatch(setdateForm([convertDateToYMD(date), 'Promo Scheduling']));\r\n    } else if (page === pagesEnum.SONG) {\r\n      dispatch(setdateForm([convertDateToYMD(date), 'Song Scheduling']));\r\n    } else if (page === pagesEnum.COMMERCIAL) {\r\n      dispatch(setdateForm([convertDateToYMD(date), 'Commercial Scheduling']));\r\n    } else if (page === pagesEnum.NTC) {\r\n      dispatch(setdateForm([convertDateToYMD(date), 'NTC Scheduling']));\r\n    } else if (page === pagesEnum.FINAL_LOG) {\r\n      dispatch(\r\n        setdateForm([\r\n          convertDateToYMD(date),\r\n          channel.label === CLIENT.USA_Forbes ? 'PlayList Final' : 'Final Log',\r\n        ]),\r\n      );\r\n    }\r\n    if (gboxElement) {\r\n      gboxElement.style.display = 'block';\r\n      gboxElementchild.style.display = 'block';\r\n    }\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { setPageHeading };\r\n","import {\r\n  openNotification,\r\n  subtractTimes,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport { rowDataTypesEnum } from 'views/Scheduling/Scheduler/enum';\r\nimport { addTimes } from '../Summary/utils';\r\n\r\nconst getSelectedRowSummary = (selectedRows) => {\r\n  try {\r\n    const count = selectedRows.length;\r\n    let duration = '00:00:00:00';\r\n    selectedRows.forEach(\r\n      (row) => (duration = addTimes(duration, row.Duration)),\r\n    );\r\n    return `${count}-[${duration.slice(0, 11)}]`;\r\n  } catch (error) {\r\n    openNotification('danger', 'Something went wrong while fetching summary');\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst getContentIndexes = (tableData, selectedRow) => {\r\n  try {\r\n    if (selectedRow) {\r\n      const rowIndex = tableData.findIndex(\r\n        (row) => row.rowId === selectedRow.rowId,\r\n      );\r\n      let startIndex, endIndex;\r\n      const slicedTableData = tableData.slice(0, rowIndex + 1);\r\n      for (let i = slicedTableData.length - 1; i >= 0; i--) {\r\n        if (\r\n          slicedTableData[i].F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION\r\n        ) {\r\n          startIndex = tableData.findIndex(\r\n            (row) => row.rowId === slicedTableData[i].rowId,\r\n          );\r\n          break;\r\n        }\r\n      }\r\n      for (let i = rowIndex + 1; i < tableData.length; i++) {\r\n        if (tableData[i].F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION) {\r\n          endIndex =\r\n            tableData.findIndex((row) => row.rowId === tableData[i].rowId) - 1;\r\n          break;\r\n        }\r\n      }\r\n      return {\r\n        startIndex: startIndex || 1,\r\n        endIndex: endIndex || tableData.length - 1,\r\n      };\r\n    } else\r\n      return {\r\n        startIndex: null,\r\n        endIndex: null,\r\n      };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getTotalDurationInContentForRowType = (\r\n  contentIndexes,\r\n  tableData,\r\n  selectedRow,\r\n  rowDataType,\r\n) => {\r\n  try {\r\n    let duration = '00:00:00:00';\r\n    if (\r\n      selectedRow &&\r\n      contentIndexes.startIndex !== null &&\r\n      contentIndexes.endIndex !== null\r\n    ) {\r\n      const segments = tableData\r\n        .slice(contentIndexes.startIndex, contentIndexes.endIndex + 1)\r\n        .filter((row) => row.F_C_S_P === rowDataType);\r\n      segments.forEach((segment) => {\r\n        duration = addTimes(duration, segment.Duration);\r\n      });\r\n    }\r\n    return duration;\r\n  } catch (error) {\r\n    openNotification('danger', 'Something went wrong while fetching summary');\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst getSlotDuration = (contentIndexes, tableData, leftClickedSchTableRow) => {\r\n  try {\r\n    let duration = '00:00:00:00';\r\n    if (\r\n      leftClickedSchTableRow &&\r\n      contentIndexes.startIndex !== null &&\r\n      contentIndexes.endIndex !== null\r\n    ) {\r\n      const ctRow = tableData[contentIndexes.startIndex];\r\n      if (ctRow.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION)\r\n        duration = subtractTimes(\r\n          `${ctRow.FPC_TimeTo}:00:00`,\r\n          `${ctRow.FPC_Time}:00:00`,\r\n        );\r\n    }\r\n    return duration;\r\n  } catch (error) {\r\n    openNotification('danger', 'Something went wrong while fetching summary');\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nconst getTotalContentDuration = (\r\n  contentIndexes,\r\n  schedulingTableData,\r\n  leftClickedSchTableRow,\r\n) => {\r\n  try {\r\n    let totalDuration = '00:00:00:00';\r\n    if (\r\n      leftClickedSchTableRow &&\r\n      contentIndexes.startIndex !== null &&\r\n      contentIndexes.endIndex !== null\r\n    ) {\r\n      for (\r\n        let index = contentIndexes.startIndex;\r\n        index <= contentIndexes.endIndex;\r\n        index++\r\n      ) {\r\n        if (\r\n          schedulingTableData[index] &&\r\n          schedulingTableData[index].F_C_S_P !== rowDataTypesEnum.NTC\r\n        )\r\n          totalDuration = addTimes(\r\n            totalDuration,\r\n            schedulingTableData[index].Duration,\r\n          );\r\n      }\r\n    }\r\n    return totalDuration;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport {\r\n  getSelectedRowSummary,\r\n  getContentIndexes,\r\n  getTotalDurationInContentForRowType,\r\n  getSlotDuration,\r\n  getTotalContentDuration,\r\n};\r\n","import {\r\n  apiautoshufflepromo,\r\n  apiautoshufflepromoId,\r\n} from 'services/LibraryService';\r\nimport {\r\n  convertDateToHHMMSSFF,\r\n  openNotification,\r\n  timeToSeconds,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport { rowDataTypesEnum } from 'views/Scheduling/Scheduler/enum';\r\n\r\nconst getTemplateOptions = async (channel) => {\r\n  let templateOptions = [];\r\n  try {\r\n    let param = {\r\n      LocationCode: channel.LocationCode,\r\n      ChannelCode: channel.ChannelCode,\r\n    };\r\n    const response = await apiautoshufflepromo(param);\r\n    if (response.status === 200) {\r\n      templateOptions = response.data.map((template) => ({\r\n        label: template.TemplateNo,\r\n        value: template.TemplateNo,\r\n      }));\r\n    } else if (response.status === 204) {\r\n      openNotification('info', 'No templates found');\r\n    } else {\r\n      openNotification(\r\n        'danger',\r\n        'Something went wrong while retrieving Auto Shuffle Template',\r\n      );\r\n    }\r\n  } catch (error) {\r\n    openNotification(\r\n      'danger',\r\n      'Something went wrong while retrieving Auto Shuffle Template',\r\n    );\r\n  }\r\n  return templateOptions;\r\n};\r\n\r\nconst getPromosFromTemplateId = async (templateId) => {\r\n  let promos = [];\r\n  try {\r\n    const response = await apiautoshufflepromoId(templateId);\r\n    if (response.status === 200) {\r\n      promos = response.data.map((promo) => ({\r\n        PromoCode: promo.PromoMaster.PromoCode,\r\n        VideoID: promo.PromoMaster.VideoID,\r\n        Event_Name: promo.PromoMaster.PromoCaption,\r\n        Duration: promo.PromoMaster.PromoDuration,\r\n        TapeId: promo.PromoMaster.VideoID,\r\n      }));\r\n    } else if (response.status === 204) {\r\n      openNotification('info', 'No Promos found for selected template');\r\n    } else {\r\n      openNotification(\r\n        'danger',\r\n        'Something went wrong while retrieving Promos for selected template',\r\n      );\r\n    }\r\n  } catch (error) {\r\n    openNotification(\r\n      'danger',\r\n      'Something went wrong while retrieving Promos for selected template',\r\n    );\r\n    console.error(error);\r\n  }\r\n  return promos;\r\n};\r\n\r\nfunction insertPromos(schedulingTableData, promoList, time) {\r\n  let newData = [];\r\n  let idCounter = 1;\r\n  let startTime = convertDateToHHMMSSFF(time.start);\r\n  let endTime = convertDateToHHMMSSFF(time.end);\r\n  for (let i = 0; i < schedulingTableData.length; i++) {\r\n    let item = schedulingTableData[i];\r\n    let itemTime =\r\n      item.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION\r\n        ? `${item.FPC_Time}:00:00`\r\n        : `${item.Tel_Time}:00:00`;\r\n    newData.push(item);\r\n    let isWithinRange = itemTime >= startTime && itemTime <= endTime && itemTime != null;\r\n    if (!isWithinRange) continue;\r\n    if (item[\"F_C_S_P\"] === rowDataTypesEnum.SEGMENT) {\r\n      let calculatedValue = item[\"Calculated_Value\"];\r\n      let lastInsertedPromo = null;\r\n      while (calculatedValue > 0) {\r\n        let eligiblePromos = promoList.filter(\r\n          promo => timeToSeconds(promo[\"Duration\"]) <= calculatedValue && promo[\"PromoCode\"] !== lastInsertedPromo\r\n        );\r\n        if (eligiblePromos.length === 0) break;\r\n        let randomIndex = Math.floor(Math.random() * eligiblePromos.length);\r\n        let promo = eligiblePromos[randomIndex];\r\n        let promoDuration = timeToSeconds(promo[\"Duration\"]);\r\n        newData.push({\r\n          PromoCode: promo[\"PromoCode\"],\r\n          VideoID: promo[\"VideoID\"],\r\n          Event_Name: promo[\"Event_Name\"],\r\n          Duration: promo[\"Duration\"],\r\n          Tape_ID: promo[\"TapeId\"],\r\n          Id: idCounter++,\r\n          FPC_ID: item.FPC_ID,\r\n          LocationCode: null,\r\n          ChannelCode: null,\r\n          FPC_Time: \"\",\r\n          FPC_TimeTo: \"00:00:00:00\",\r\n          Start_Time: \"00:00:00:00\",\r\n          ContentCode: item.ContentCode,\r\n          PromoTypeCode: \"2\",\r\n          SeasonNo: \"1\",\r\n          Ep_No: \"1\",\r\n          BreakNumber: item.BreakNumber,\r\n          F_C_S_P: rowDataTypesEnum.PROMO,\r\n          EventDefaultFrontColor: \"#333333\",\r\n          EventDefaultBackColor: \"#3d84c7\",\r\n          Position: 1,\r\n          isFiltered: true,\r\n          Tel_Time: \"00:00:00:00\",\r\n          SequenceNo: idCounter,\r\n        });\r\n        lastInsertedPromo = promo[\"PromoCode\"];\r\n        calculatedValue -= promoDuration;\r\n      }\r\n    }\r\n  }\r\n  return newData;\r\n}\r\n\r\nexport { getTemplateOptions, getPromosFromTemplateId, insertPromos };\r\n","import React from 'react';\r\n\r\nconst SchedulerContext = React.createContext();\r\n\r\nexport default SchedulerContext;\r\n","const {\r\n  featuresEnum,\r\n  rowDataTypesEnum,\r\n  ntcDescriptionTypesEnum,\r\n  ntcDurationTypesEnum,\r\n} = require('views/Scheduling/Scheduler/enum');\r\nconst {\r\n  getCorrectedDestIndexForFilteredTable,\r\n  getRowWithNTC,\r\n  getNTCParentRow,\r\n  isBasicDragValid,\r\n  isTelTimeBetweenStartAndEndTime,\r\n} = require('../../utils');\r\nconst {\r\n  addTimes,\r\n} = require('views/Scheduling/Scheduler/components/SchedulingArea/components/Summary/utils');\r\nconst { CLIENT } = require('views/Controls/clientListEnum');\r\nconst {\r\n  openNotification,\r\n  subtractTimes,\r\n  getFlatArrForGroupedArr,\r\n  getGroupedRows,\r\n} = require('views/Controls/GLOBALFUNACTION');\r\n\r\nconst getCorrectedDestIndexForSecTableDrag = (\r\n  dragInfo,\r\n  secTableData,\r\n  activeFeatures,\r\n) => {\r\n  const sourceIndex = dragInfo.source.index;\r\n  const destIndex = dragInfo.destination.index;\r\n  let destinationIndex = destIndex;\r\n  /* DESTINATION INDEX CORRECTION IF FILTER IS ACTIVE */\r\n  if (activeFeatures[featuresEnum.FILTER]) {\r\n    destinationIndex = getCorrectedDestIndexForFilteredTable(\r\n      destIndex,\r\n      secTableData,\r\n    );\r\n  }\r\n  if (sourceIndex < destinationIndex) {\r\n    /* DESTINATION INDEX CORRECTION IF DRAG IS TOP TO BOTTOM */\r\n    destinationIndex = destinationIndex + 1;\r\n  }\r\n  return destinationIndex;\r\n};\r\n\r\nconst getCorrectedDestIndex = (destIndex, schTableData, activeFeatures) => {\r\n  let destinationIndex = destIndex;\r\n  /* DESTINATION INDEX CORRECTION IF FILTER IS ACTIVE */\r\n  if (activeFeatures[featuresEnum.FILTER]) {\r\n    destinationIndex = getCorrectedDestIndexForFilteredTable(\r\n      destIndex,\r\n      schTableData,\r\n    );\r\n  }\r\n  return destinationIndex > 1 ? destinationIndex : 2;\r\n};\r\n\r\nconst validateNTCs = ({\r\n  dragInfo,\r\n  destIndex,\r\n  tableData,\r\n  selectedRows,\r\n  channel,\r\n  isAutoCalculateOffsetTime,\r\n  isSchTableDrag = false,\r\n}) => {\r\n  let validNTCs,\r\n    isChannelForbes = channel.label === CLIENT.USA_Forbes;\r\n  /* --------------------- GAURD CLAUSES ----------------------------- */\r\n  // CLAUSE 1 - If operation is drag and drop, check if basic drag is valid\r\n  if (dragInfo && !isBasicDragValid(dragInfo, destIndex)) return false;\r\n  // CLAUSE 2 - If NTCs are placed below Commercial or Content Termination\r\n  if (isNTCPlacedBelowComm(tableData, destIndex)) {\r\n    openNotification('danger', 'NTC cannot be placed after Commercial');\r\n    return false;\r\n  }\r\n  if (isNTCPlacedBelowCT(tableData, destIndex)) {\r\n    openNotification(\r\n      'danger',\r\n      'NTC cannot be placed after Content Termination',\r\n    );\r\n    return false;\r\n  }\r\n  // CLAUSE 3 - If channel is Forbes and NTCs are placed after Live Event\r\n  if (isChannelForbes && isNTCPlacedBelowLive(tableData, destIndex)) {\r\n    openNotification('danger', 'NTC cannot be placed after Live Event');\r\n    return false;\r\n  }\r\n  // Get valid NTCs as per different validations\r\n  let ntcParentRow = getNTCParentRow(destIndex, tableData);\r\n  if (isAutoCalculateOffsetTime) {\r\n    validNTCs = getValidNTCsAsPerOffsetTimeAutoCalculation(\r\n      ntcParentRow,\r\n      selectedRows,\r\n      tableData,\r\n      isSchTableDrag,\r\n    );\r\n  } else {\r\n    // Get NTCs ending within parent duration\r\n    validNTCs = getNTCsWithinParentDuration(selectedRows, ntcParentRow);\r\n    if (!validNTCs) {\r\n      openNotification('danger', 'NTCs are out of parent duration');\r\n      return false;\r\n    } else if (validNTCs.length < selectedRows.length) {\r\n      openNotification('danger', 'One or more NTCs are out of parent duration');\r\n    }\r\n    // Get NTCs that are paid and within time band\r\n    if (selectedRows[0].BookingDetailsID)\r\n      validNTCs = getValidPaidNTCs(validNTCs, tableData[destIndex]);\r\n    if (!validNTCs) {\r\n      openNotification('danger', 'NTCs are out of time band');\r\n      return false;\r\n    } else if (validNTCs.length < selectedRows.length) {\r\n      openNotification('danger', 'One or more NTCs are out of time band');\r\n    }\r\n  }\r\n  return validNTCs;\r\n};\r\n\r\nconst isNTCPlacedBelowComm = (tableData, destIndex) => {\r\n  return tableData[destIndex - 1].F_C_S_P === rowDataTypesEnum.COMMERCIAL;\r\n};\r\n\r\nconst isNTCPlacedBelowCT = (tableData, destIndex) => {\r\n  return (\r\n    tableData[destIndex - 1].F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION\r\n  );\r\n};\r\n\r\nconst isNTCPlacedBelowLive = (tableData, destIndex) => {\r\n  return tableData[destIndex - 1].F_C_S_P === rowDataTypesEnum.LIVE;\r\n};\r\n\r\nconst getValidNTCsAsPerOffsetTimeAutoCalculation = (\r\n  ntcParentRow,\r\n  selectedRows,\r\n  tableData,\r\n  isSchTableDrag,\r\n) => {\r\n  // Get all ntcs for parent row\r\n  const ntcs = getRowWithNTC([ntcParentRow], tableData, false);\r\n  // Group all ntcs as per type\r\n  let existingGroupedNTCs = getGroupedRows(ntcs, 'NtcTypeName');\r\n  // Get new inital offset time for each group\r\n  const newOffsetTimeForExistingNtcGroup =\r\n    getGroupwiseNewOffsetTime(existingGroupedNTCs);\r\n  // Group all selected ntcs as per type\r\n  const selectedGroupedNTCs = getGroupedRows(selectedRows, 'NtcTypeName');\r\n  // Append selected rows to each group\r\n  const newGroupedNTCs = appendSelectedRowsToEachNTCGroup(\r\n    selectedGroupedNTCs,\r\n    newOffsetTimeForExistingNtcGroup,\r\n    ntcParentRow,\r\n    isSchTableDrag,\r\n  );\r\n  const validNTCs = getFlatArrForGroupedArr(newGroupedNTCs);\r\n  if (validNTCs.length === 0) {\r\n    openNotification('danger', 'NTCs are out of parent duration');\r\n    return false;\r\n  } else if (validNTCs.length < selectedRows.length) {\r\n    openNotification('danger', 'One or more NTCs are out of parent duration');\r\n  }\r\n  return validNTCs;\r\n};\r\n\r\nconst getNTCsWithinParentDuration = (selectedRows, parentRow) => {\r\n  let validNTCs = [];\r\n  selectedRows.forEach((row) => {\r\n    const offsetStartTime = addTimes(parentRow.Start_Time, row.OffsetStartTime);\r\n    const ntcEndTime = addTimes(offsetStartTime, row.Duration);\r\n    if (ntcEndTime <= addTimes(parentRow.Start_Time, parentRow.Duration))\r\n      validNTCs.push(row);\r\n  });\r\n  return validNTCs.length > 0 ? validNTCs : false;\r\n};\r\n\r\nconst getValidPaidNTCs = (selectedRows, parentRow) => {\r\n  try {\r\n    let validNTCs = [];\r\n    selectedRows.forEach((row) => {\r\n      if (isTelTimeBetweenStartAndEndTime(parentRow, row)) validNTCs.push(row);\r\n    });\r\n    return validNTCs.length > 0 ? validNTCs : false;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getGroupwiseNewOffsetTime = (groupedRows) => {\r\n  const newOffsetTimeForNtcGroup = {};\r\n  Object.keys(groupedRows).forEach((group) => {\r\n    const lastRow = groupedRows[group].at(-1);\r\n    newOffsetTimeForNtcGroup[group] = addTimes(\r\n      lastRow.Tel_Time,\r\n      lastRow.Duration,\r\n    );\r\n  });\r\n  return newOffsetTimeForNtcGroup;\r\n};\r\n\r\nconst appendSelectedRowsToEachNTCGroup = (\r\n  selectedGroupedNTCs,\r\n  newOffsetTimeForExistingNtcGroup,\r\n  parentRow,\r\n  isSchTableDrag,\r\n) => {\r\n  const newGroupedNTCs = {};\r\n  Object.keys(selectedGroupedNTCs).forEach((selectedGroup) => {\r\n    // Set new initial offset time for each group\r\n    let newOffsetTime = newOffsetTimeForExistingNtcGroup[selectedGroup]\r\n      ? newOffsetTimeForExistingNtcGroup[selectedGroup]\r\n      : isSchTableDrag\r\n      ? '00:00:00:00'\r\n      : selectedGroupedNTCs[selectedGroup][0].OffsetStartTime;\r\n    // Set new valid NTCs for each group\r\n    selectedGroupedNTCs[selectedGroup].forEach((row) => {\r\n      // If NTC of cur type already present and gap is also present, add gap duration to offset time\r\n      if (\r\n        (newOffsetTimeForExistingNtcGroup[selectedGroup] ||\r\n          newGroupedNTCs[selectedGroup]) &&\r\n        row.Gap\r\n      )\r\n        newOffsetTime = addTimes(newOffsetTime, row.Gap);\r\n      let rowWithNewOffsetTime = { ...row, OffsetStartTime: newOffsetTime };\r\n      delete rowWithNewOffsetTime.Gap;\r\n      // Check if cur NTC is between parent duration\r\n      let validNTCs = getNTCsWithinParentDuration(\r\n        [rowWithNewOffsetTime],\r\n        parentRow,\r\n      );\r\n      if (newGroupedNTCs[selectedGroup]) {\r\n        let lastNtcOfCurGroup = newGroupedNTCs[selectedGroup].at(-1);\r\n        // Check if cur NTC is valid paid NTC\r\n        if (rowWithNewOffsetTime.BookingDetailsID)\r\n          validNTCs = getValidPaidNTCs(validNTCs, lastNtcOfCurGroup);\r\n        // If valid NTC, append to cur group\r\n        if (validNTCs) {\r\n          newGroupedNTCs[selectedGroup].push(rowWithNewOffsetTime);\r\n          lastNtcOfCurGroup = newGroupedNTCs[selectedGroup].at(-1);\r\n          newOffsetTime = addTimes(\r\n            lastNtcOfCurGroup.OffsetStartTime,\r\n            lastNtcOfCurGroup.Duration,\r\n          );\r\n        }\r\n      } else {\r\n        // Check if cur NTC is valid paid NTC\r\n        if (rowWithNewOffsetTime.BookingDetailsID)\r\n          validNTCs = getValidPaidNTCs(validNTCs, parentRow);\r\n        // If valid NTC, add NTC in new group\r\n        if (validNTCs) {\r\n          newGroupedNTCs[selectedGroup] = validNTCs;\r\n          const lastNtcOfCurGroup = newGroupedNTCs[selectedGroup].at(-1);\r\n          newOffsetTime = addTimes(\r\n            lastNtcOfCurGroup.OffsetStartTime,\r\n            lastNtcOfCurGroup.Duration,\r\n          );\r\n        }\r\n      }\r\n    });\r\n  });\r\n  return newGroupedNTCs;\r\n};\r\n\r\nconst addPropertiesToSelectedNTCs = (\r\n  selectedRows,\r\n  parentRow,\r\n  descriptionType,\r\n  bulkNTCInsDesc,\r\n  durationType,\r\n  bulkNTCInsDuration,\r\n  bulkNTCInsOffsetTime,\r\n) => {\r\n  try {\r\n    let updatedSelectedRows = selectedRows.map((curRow) => ({\r\n      ...curRow,\r\n      Description:\r\n        descriptionType === ntcDescriptionTypesEnum.PARENT\r\n          ? parentRow.Event_Name\r\n          : descriptionType === ntcDescriptionTypesEnum.CUSTOM\r\n          ? bulkNTCInsDesc\r\n          : curRow.Description,\r\n      Duration:\r\n        durationType === ntcDurationTypesEnum.PARENT\r\n          ? subtractTimes(parentRow.Duration, bulkNTCInsOffsetTime)\r\n          : durationType === ntcDurationTypesEnum.CUSTOM\r\n          ? bulkNTCInsDuration\r\n          : curRow.Duration,\r\n      OffsetStartTime: bulkNTCInsOffsetTime,\r\n    }));\r\n    return updatedSelectedRows;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst insertNTCsBelowParent = (parentIndex, tableData, selectedRows) => {\r\n  try {\r\n    const parentRow = tableData[parentIndex];\r\n    let newTableData = [...tableData];\r\n    let insertIndex = parentIndex + 1;\r\n    selectedRows.forEach((selectedRow) => {\r\n      // Insert NTCs that fits within the parent duration\r\n      const ntcStartTime = addTimes(\r\n        parentRow.Start_Time,\r\n        selectedRow.OffsetStartTime,\r\n      );\r\n      const ntcEndTime = addTimes(ntcStartTime, selectedRow.Duration);\r\n      if (ntcEndTime <= addTimes(parentRow.Start_Time, parentRow.Duration)) {\r\n        newTableData.splice(insertIndex, 0, {\r\n          ...selectedRow,\r\n          Start_Time: ntcStartTime,\r\n          Tel_Time: ntcStartTime,\r\n        });\r\n        insertIndex = insertIndex + 1;\r\n      }\r\n    });\r\n    return newTableData;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst isNTCDragValid = (dragInfo, tableData, destIndex) => {\r\n  let isDragValid = true;\r\n  /* --------------------- GAURD CLAUSES ----------------------------- */\r\n  // CLAUSE 1 - If operation is drag and drop, check if basic drag is valid\r\n  if (dragInfo && !isBasicDragValid(dragInfo, destIndex)) isDragValid = false;\r\n  // CLAUSE 2 - If NTCs are placed below Commercial or Content Termination\r\n  if (isNTCPlacedBelowComm(tableData, destIndex)) {\r\n    openNotification('danger', 'NTC cannot be placed after Commercial');\r\n    isDragValid = false;\r\n  }\r\n  if (isNTCPlacedBelowCT(tableData, destIndex)) {\r\n    openNotification(\r\n      'danger',\r\n      'NTC cannot be placed after Content Termination',\r\n    );\r\n    isDragValid = false;\r\n  }\r\n  return isDragValid;\r\n};\r\n\r\nconst updatePropOfNTCs = (ntcs, properties) => {\r\n  const newNTCs = [];\r\n  ntcs.forEach((ntc, index) => {\r\n    const prevNTC = newNTCs[index - 1];\r\n    let newOffsetTime, gap;\r\n    if (prevNTC && properties.includes('offsetTime'))\r\n      newOffsetTime = addTimes(\r\n        prevNTC.OffsetStartTime,\r\n        prevNTC.Duration,\r\n        prevNTC.DefaultGAP,\r\n      );\r\n    if (properties.includes('defaultGap'))\r\n      gap = ntc.Gap ? ntc.Gap : ntc.DefaultGAP;\r\n    if (index === 0) newNTCs.push({ ...ntc, DefaultGAP: gap });\r\n    else {\r\n      newNTCs.push({ ...ntc, OffsetStartTime: newOffsetTime, DefaultGAP: gap });\r\n    }\r\n  });\r\n  return newNTCs;\r\n};\r\n\r\nconst updateOffsetStartTimeOfNTCs = (tableData) => {\r\n  const newTableData = [];\r\n  tableData.forEach((row, index) => {\r\n    if (index === 0) newTableData.push(row);\r\n    else {\r\n      const prevRow = newTableData[index - 1];\r\n      if (prevRow.F_C_S_P !== rowDataTypesEnum.NTC) newTableData.push(row);\r\n      else {\r\n        if (prevRow.NTCGroupCode !== row.NTCGroupCode) newTableData.push(row);\r\n        else {\r\n          const newOffsetTime = addTimes(\r\n            prevRow.OffsetStartTime,\r\n            prevRow.Duration,\r\n            prevRow.DefaultGAP,\r\n          );\r\n          newTableData.push({\r\n            ...row,\r\n            OffsetStartTime: newOffsetTime,\r\n            Start_Time: newOffsetTime,\r\n            Tel_Time: newOffsetTime,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  });\r\n  return newTableData;\r\n};\r\n\r\nexport {\r\n  getCorrectedDestIndexForSecTableDrag,\r\n  getCorrectedDestIndex,\r\n  validateNTCs,\r\n  addPropertiesToSelectedNTCs,\r\n  insertNTCsBelowParent,\r\n  isNTCDragValid,\r\n  updatePropOfNTCs,\r\n  updateOffsetStartTimeOfNTCs,\r\n};\r\n"],"names":["async","apiPOSTColumnSetting","data","ApiService","url","method","apiGETColumnSetting","screenName","axios","require","apiGetmusicagencymst","Postmusicagencymst","param","token","Promise","resolve","reject","JSON","stringify","MusicAgencyName","MusicAgency_Addr1","MusicAgency_Addr2","PlaceCode","CountryCode","StateCode","MusicAgency_Contact1","MusicAgency_Contact2","MusicAgency_Faxno","MusicAgency_Email","ContactPerson","IsMusicAgency","IsMusicCompany","IsActive","config","maxBodyLength","Infinity","appConfig","headers","Authorization","request","then","response","catch","errors","Putmusicagencymst","MusicAgencyCode","Postautoshufflepromo","apiautoshufflepromo","LocationCode","ChannelCode","apiautoshufflepromoId","id","apipromomasterdropasperdate","formState","fromdate","todate","apipromomasterdrop","apiGetPromomaster","search","searchParam","apiGetPromomasterFilter","channel","PromoTypeCode","Caption","Duration","VideoID","apiGetsmartshufflesetting","apiPutsmartshufflesetting","SmartshufflesettingCode","apiPostsmartshufflesetting","apiGetSongGenreMaster","apiGetSongcategoryMaster","apiGetSongmaster","apiGetSongmasterbyId","UpdateSongGenre","row","fetch","SongGenreCode","Accept","body","SongGenreName","AddMovieAlbum","MovieAlbumName","UpdateMovieAlbum","MovieAlbumCode","UpdateSongcategory","console","log","SongCategoryCode","SongCategoryName","AddSongGenre","AddSongcategory","Postpromo","Putpromo","apiGetPromotypedropdown","apiGetSongGenredropdown","apiGetTapetypedropdown","apiGetSongtempodropdown","apiGetPromoScheduling","telecastDate","mode","apiGetNTCScheduling","apiGetSongSchedulingData","apiGettransmissionlog","PR","apiGettransmissionlog2","apiGetExportPlayOut","apiGetRestoreDropDown","TelecastDate","FormName","apiGetSongschedulDetails","SongCode","InHour","apiGetRestoreScheduling","D_date","apiGetRestoreCommercialScheduling","ScheduleDate","apiGetgetauditfinallogschedulingCom","apiGetDailyFPCStatus","Screen","apiGetPromoScheduling2","type","name","apiGetNTCScheduling2","apiGetSongScheduling2","apiGetMusicagencydropdown","apiGetMoviealbumdropdown","apiPosttransmissionlogaddaudit","apiPosttransmissionloginsertdata","apiPUTtransmissionlogupdatedata","apideletedataPosttransmissionlogaddaudit","date","Postpromoscheduling","PostSongscheduling","PostNTCScheduling","Posttransmissionlog","PutCommercialSave","Postsong","Putsong","Postcolumnsetting","apiUpdateSpotStatus","BookingIds","BookingStatus","apiTeamMappingCreate","apigeneventcontent","ExportxlswithColor","boldHeaders","borders","emptyColumnsAtStart","emptyRowsAtStart","defaultFormatting","exportName","visibleColumns","WithColor","length","openNotification","updatedData","map","item","mapping","forEach","accessorKey","header","updatedArray","updatedItem","Object","keys","key","columnKeys","workbook","ExcelJS","worksheet","addWorksheet","i","addRow","push","getRow","font","bold","size","headerRow","eachCell","cell","border","top","style","left","bottom","right","fill","pattern","fgColor","argb","rowData","dataRow","colNumber","value","Date","UTC","getFullYear","getMonth","getDate","EventDefaultBackColor","substring","EventDefaultFrontColor","color","columns","column","maxLength","cellLength","toString","Math","max","width","min","views","state","xSplit","ySplit","topLeftCell","totalRows","totalColumns","rowIndex","colIndex","getCell","xlsx","writeBuffer","buffer","saveAs","Blob","CLIENT","LOCAL","INDIA_SPORTS","USA_Forbes","FOOD_INDIA","FOOD_USA","SWAMI","GEC","USA_GEC","INDIA_GEC","NEWS","USA_NEWS","BeIN_Sports","MASST_INDIA","ASIANET","INDIAMYMOVIES","ANI_PLUS","SATHIYAM_TV","CLIENTWiseUploadPath","executeSecTableDrag","dragInfo","tableData","selectedRows","activeFeatures","newTableData","selectedRowsWithNewRowId","getTableDataWithAdditionalInfo","tableType","tableTypesEnum","additionalInfo","additionalRowInfoEnum","destinationIndex","getCorrectedDestIndexForSecTableDrag","splice","removeRowsFromTableData","error","executeSecToSchTableDrag","schTableData","secTableData","isAutoCalculateOffsetTime","getCorrectedDestIndex","destination","index","isNTCDragValid","executeSecToSchTableNtcInsert","destIndex","newSchTableData","newSecTableData","secTableRowsToRemove","ntcParentRow","getNTCParentRow","insertedNTCs","insertNTCsBasedOnOffsetTimeAutoCalculation","BookingDetailsID","validNTCs","validateNTCs","BookingDetailID","parentRow","groupedSelectedNTCs","getGroupedRows","existingNTCs","getRowWithNTC","groupedExistingNTCs","newGroupedNTCs","insertValidSelNTCsInRespectiveGroups","flattenedNewGroupedNTCs","getFlatArrForGroupedArr","ntcsWithNewRowId","findIndex","rowId","tempGroupedExistingNTCs","existingNTCGroups","groupCode","selectedNTCs","destIndexForGroup","result","insertValidNTCsAtTheEnd","newNTCs","insertValidNTCsAtDestIndexForGroupedNTCs","updatePropOfGroupedNTCs","ntc","tempNTCs","updatePropOfNTCs","lastTempNtc","at","addTimes","OffsetStartTime","newDestIndex","groupedNTC","properties","ntcRows","featuresEnum","rowDataTypesEnum","getCorrectedDestIndexForFilteredTable","isBasicDragValid","isTelTimeBetweenStartAndEndTime","getCorrectedDestIndexIfDestIndexIsNtc","FILTER","validateComm","isCommPlacedBeforeNTC","destRow","validComm","getCommWithinTimeband","F_C_S_P","NTC","executeSecCommDrag","secTableSelectedRows","sourceDroppableId","source","droppableId","destinationDroppableId","droppableIdsEnum","sourceIndex","pagesEnum","page","PROMO","COMMERCIAL","getCorrectedDestIndexForIntraTableDrag","SONG","moveNTCsBasedOnOffsetTimeAutoCalculation","srcParentRows","getNTCParentRowForSelectedNTCs","srcParentRowsWithGroupedNTCs","getGroupedNTCsForParentRows","destParentRow","destParentNTCs","destParentGroupedNTCs","selectedGroupedNTCs","includes","moveNTCsWithinSrcParent","selNTCs","moveNTCsToDestParent","parentRows","getUniqueObjects","parentRowsWithGroupedNTCs","curParentRow","curParentNTCs","curParentGroupedNTCs","newDestParentGroupedNTCs","removeNTCsFromParentGroupedNTCs","newDestParentNTCs","ntcsToRemove","filter","newSrcParentRowsWithGroupedNTCs","removeSelNTCsFromSrcParentsGroupedNTCs","assignGroupedNTCsToParentRows","groupedNTCs","selNTCsRowIds","newCurGrpNTCs","newOffsetStartTime","selectedRowIds","parentRowId","parentRowGroupedNTCs","newParentRowGroupedNTCs","curGrpNTCs","startOffsetTime","newGrpNTCs","find","parentOldNTCs","parentNewGroupedNTCs","flattenedParentNewGroupedNTCs","moveSimpleRows","SCHEDULING","ROW_ID","COPY","moveNTCsWithoutOffsetTimeAutoCalc","validNTCsWithNewRowId","executePromoDrag","getCorrectedDestIndexForPromoPage","executeSongDrag","getCorrectedDestIndexForSongPage","executeCommDrag","getCorrectedDestIndexForCommPage","validCommWithNewRowId","moveCommercials","executeNTCDrag","getCorrectedDestIndexForNTCPage","isResetOffsetStartTime","moveNTCs","executeFinalLogDrag","every","newSelRows","getCorrectedDestIndexForFinalLogPage","commercials","validCommRowIds","validSelRows","validSelRowsWithNewRowId","rowsToRemove","executeCommInsert","lodash","bulkInsertPositionEnum","isSegmentValid","isRowBetweenValidTime","isRowLastSegment","executeBulkNTCInsert","insertPosition","time","selectedBreaks","isSkipLastBreak","isOnlyLastBreak","descriptionType","bulkNTCInsDesc","durationType","bulkNTCInsDuration","bulkNTCInsOffsetTime","schedulingTableData","isAutoCalcNtcOffsetTime","selProgramsFpcId","newSchedulingTableData","label","LIVE","FPC_ID","updatedSelectedRows","addPropertiesToSelectedNTCs","insertNTCsBelowParent","executeBulkNTCInsertForForbes","isCurBlockValid","nextRow","isRowSegmentOrLive","SEGMENT","CONTENT_TERMINATION","START","ROW_INDEX","END","BREAK","j","executeBulkNTCInsertForOthers","getTableDataWithAutoNTCOffsetTimeAutoCalc","schTableSelRows","secTableSelRow","replaceNtcRows","updateOffsetStartTimeOfNTCs","selRow","Event_Name","HouseID","Tape_ID","NtcTypeName","children","useSelector","locale","selectedChannel","channelSettings","auth","session","ChannelSetting","setPage","useState","setDate","featuresList","setFeaturesList","setActiveFeatures","loadUnsavedWork","setLoadUnsavedWork","unsavedWorkState","setUnsavedWorkState","updateSchedulerStateInRedux","setUpdateSchedulerStateInRedux","schedulingTableName","setSchedulingTableName","ogSchTableData","setOgSchTableData","setSchedulingTableData","schTableSortingInfo","setSchTableSortingInfo","DEFAULT_COL_SORTING_INFO","schedulingTableOffset","setSchedulingTableOffset","schedulingTableManagedColumns","setSchedulingTableManagedColumns","originalColumns","removedColumns","schedulingTableSelectedRows","setSchedulingTableSelectedRows","leftClickedSchTableRow","setLeftClickedSchTableRow","schTableSelectedFilters","setSchTableSelectedFilters","secondaryTableName","setSecondaryTableName","secondaryTableType","setSecondaryTableType","ogSecTableData","setOgSecTableData","secondaryTableData","setSecondaryTableData","secTableSortingInfo","setSecTableSortingInfo","secondaryTableOffset","setSecondaryTableOffset","secondaryTableManagedColumns","setSecondaryTableManagedColumns","secTableToolbarState","setSecTableToolbarState","DEFAULT_SEC_TABLE_TOOLBAR_STATE","secondaryTableSelectedRows","setSecondaryTableSelectedRows","leftClickedSecTableRow","setLeftClickedSecTableRow","secTableSelectedFilters","setSecTableSelectedFilters","dropBucket","setDropBucket","lastMinuteSpots","setLastMinuteSpots","undoStack","setUndoStack","redoStack","setRedoStack","rotationInfoTableSelectedRows","setRotationInfoTableSelectedRows","startTime","setStartTime","showLoader","setShowLoader","customCellColor","setCustomCellColor","isScheduleAllowedToEdit","setIsScheduleAllowedToEdit","isInsertLiveDialogOpen","setIsInsertLiveDialogOpen","setIsAutoCalcNtcOffsetTime","isNtcGroupingEnabled","setIsNtcGroupingEnabled","promoTypeOptions","setPromoTypeOptions","songTypeOptions","setSongTypeOptions","ntcTypeOptions","setNtcTypeOptions","schedulingTableRef","useRef","secondaryTableRef","secondaryAreaZindexRef","isChannelForbes","isChannelAniPlus","executePromoAutoShuffle","promoShuffleTemplate","CT_Entries","S_Counts","S_Duration_Sums","S_Index_Map","Map","timeToSeconds","set","ctIndex","has","get","CT_Item","lastSIndex","durationInSeconds","promoList","getPromosFromTemplateId","insertPromos","executeDeleteEvents","deleteEventTypes","newDropBucket","executeImportNTCsForSelectedContent","contentIndexes","getContentIndexes","contentSegmentRowIds","getContentSegmentsForContent","startIndex","segment","curRow","curNTCRow","fetchedNTCs","getNTCRowsForSegment","executeImportNTCsForAllContents","executeToggleDtmfPattern","isDtmfRowsPresent","isNextRowCT_S_Empty","PromoTypeName","toLowerCase","DTMF_ROWS","Tel_Time","subtractTimes","executeToggleScteOnPattern","isScteOnRowsPresent","scteOnInOffsetTime","SCTE_ON_ROW","executeInsertNowNTCs","getNowNTCsForSegment","Start_Time","executeInsertNextNTCs","executeInsertLiveEvent","liveRow","executeImportPromosForSelectedContent","selContentCode","ContentCode","fetchedPromos","getPromoRowsForSegment","executeImportPromosForAllContents","resetAllSelectedRows","resetSecondaryTableStates","current","resetUndoRedoStacks","maintainScrolledOffsetOfTables","getTableScrolledOffset","SchedulerContext","executeOperation","operation","isRandomizeIns","isRepeatRandomIns","insCountPerSeg","isSkipInsInSameProg","selectedRowsToDelete","selectedRowsToDrop","clickedProgram","clickedProgramSchedule","newProgramSchedule","startTimeValue","selectedFilters","externalActiveFeatures","isHideCommercial","isShowProgramBaseTime","isShowNTC","isFirstLoad","isLoadUnsavedWork","isGenerateLog","customCellColorParam","isShowSCTE","repeatInsertType","bulkInsertExactMatchString","sortingInfo","operationResult","newStartTime","newCustomCellColor","operationTypesEnum","IsNTCAutoCalc","IsNTCGroup","newLastMinuteSpots","newActiveFeatures","getDefaultActiveFeatures","featureList","getFeaturesList","getSchedulingTableData","columnsState","getColumnsState","isDropdownVisible","isActive","isJSONArrayEqual","resetTableStatesForInitialization","getDroppedSpots","convertDateToYMD","getLastMinuteSpots","DefaultGAP","newSecondaryTableData","executeInitializeScheduler","eventType","secondaryTableTypesEnum","executeSecPromoDrag","executeSecSongDrag","executeSecNTCDrag","programsWithSegment","getProgramSchedule","executeSecProgramDrag","executeSchTableDrag","executeDragRow","executePromoInsert","executeSongInsert","executeNtcInsert","executeInsertRow","iterations","shuffle","undefined","executeNtcRepeatInsert","executeRepeatInsertRow","isRowSegment","isRowLive","newSelectedRows","shuffledRows","rowsToInsert","slice","executePromoBulkInsert","executeSongBulkInsert","executeBulkInsert","isAnyNTCsInserted","executeBulkNTCInsertBelowExactMatch","executeBulkInsertBelowExactMatch","SCTE_ROWS","ntcDescriptionTypesEnum","ntcDurationTypesEnum","executeSCTEInsert","schTableSelectedRows","secTableSelectedRow","PromoCode","PromoType","executePromoReplace","SongTypeCode","executeSongReplace","executeNtcReplace","executeReplaceRow","replacedRow","executePromoReplaceAll","executeSongReplaceAll","executeNtcReplaceAll","executeReplaceAllRow","selectedRowsId","newOffsetTime","prevRow","isCurRowNTC","isPrevRowNTC","isPrevNtcGrpSameAsCurGrp","NTCGroupCode","isNextNtcGrpSameAsCurGrp","StartTime","executeDeleteRow","droppedRows","removeAdditionalInfoFromRows","Array","isArray","getDummyRow","executeDropRow","clickedProgramSegmentWiseContent","getSegmentWiseContent","newProgramWithSegmentContent","getProgramWithSegmentContent","updateProgramInSchedulingTableData","executeReplaceProgram","curTableType","getFilteredTableData","executeFilterRow","sort","sortArray","executeSort","columnKey","tableFilterOptionsEnum","searchValue","dummyRow","shift","updateStartTimes","Number","FramePerSec","executeHideCommercial","executeShowProgramBaseTime","executeShowNTC","insertTime","endTime","updatedSecTableSelectedRows","updateOffsetStartTime","executeInsertNTCByStartTime","finalizedData","finalizeData","frames","isHidden","getCustomCellColorFromTable","prevState","resetPage","SchedulingArea","lazy","SchedulingCalendar","Loader","SchedulerWithContext","path","base","common","Path","dispatch","useDispatch","useContext","location","useLocation","useEffect","removePageHeading","getCurPage","setdateForm","gboxElement","document","getElementsByClassName","gboxElementchild","display","setPageHeading","split","Suspense","fallback","getSelectedRowSummary","count","duration","selectedRow","endIndex","slicedTableData","getTotalDurationInContentForRowType","rowDataType","getSlotDuration","ctRow","FPC_TimeTo","FPC_Time","getTotalContentDuration","totalDuration","getTemplateOptions","templateOptions","status","template","TemplateNo","promos","templateId","promo","PromoMaster","PromoCaption","PromoDuration","TapeId","newData","idCounter","convertDateToHHMMSSFF","start","end","itemTime","calculatedValue","lastInsertedPromo","eligiblePromos","floor","random","promoDuration","Id","SeasonNo","Ep_No","BreakNumber","Position","isFiltered","SequenceNo","React","isSchTableDrag","isNTCPlacedBelowComm","isNTCPlacedBelowCT","isNTCPlacedBelowLive","getValidNTCsAsPerOffsetTimeAutoCalculation","getNTCsWithinParentDuration","getValidPaidNTCs","ntcs","existingGroupedNTCs","newOffsetTimeForExistingNtcGroup","getGroupwiseNewOffsetTime","appendSelectedRowsToEachNTCGroup","offsetStartTime","groupedRows","newOffsetTimeForNtcGroup","group","lastRow","selectedGroup","Gap","rowWithNewOffsetTime","lastNtcOfCurGroup","Description","PARENT","CUSTOM","parentIndex","insertIndex","ntcStartTime","isDragValid","prevNTC","gap"],"sourceRoot":""}