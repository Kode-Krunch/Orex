{"version":3,"file":"static/js/88.6bb65d17.chunk.js","mappings":"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","sources":["views/Scheduling/Scheduler/components/SchedulingArea/components/Dropdowns/InsertEvents/InsertEvents.js"],"sourcesContent":["import { Card } from 'components/ui';\r\nimport React, { useContext, useEffect, useRef } from 'react';\r\nimport { IoIosMusicalNotes, IoMdClose } from 'react-icons/io';\r\nimport { IoPlay } from 'react-icons/io5';\r\nimport { LuFileClock } from 'react-icons/lu';\r\nimport { RiAdvertisementLine, RiLayoutBottom2Line } from 'react-icons/ri';\r\nimport { useSelector } from 'react-redux';\r\nimport { CLIENT } from 'views/Controls/clientListEnum';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport {\r\n  featuresEnum,\r\n  pagesEnum,\r\n  rowDataTypesEnum,\r\n  secondaryTableTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\n\r\nfunction InsertEvents() {\r\n  /* REDUX */\r\n  const channel = useSelector((state) => state.locale.selectedChannel);\r\n\r\n  /* CONDITION */\r\n  const isChannelForbes = channel.label === CLIENT.USA_Forbes;\r\n\r\n  /* CONTEXT */\r\n  const {\r\n    page,\r\n    setActiveFeatures,\r\n    dropBucket,\r\n    lastMinuteSpots,\r\n    schedulingTableData,\r\n    resetSecondaryTableStates,\r\n    setIsInsertLiveDialogOpen,\r\n    leftClickedSchTableRow,\r\n  } = useContext(SchedulerContext);\r\n\r\n  /* HOOKS */\r\n  const dropdownRef = useRef(null);\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', closeDropDowns);\r\n    return () => {\r\n      document.removeEventListener('mousedown', closeDropDowns);\r\n    };\r\n  }, [dropdownRef]);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleInsert = (eventType) => {\r\n    try {\r\n      setActiveFeatures((prevState) => ({\r\n        ...prevState,\r\n        [featuresEnum.SUMMARY]: false,\r\n        [featuresEnum.ROTATION_INFO]: false,\r\n        [featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS]: false,\r\n        [featuresEnum.RULE_CHECK]: false,\r\n        [featuresEnum.CHANGE_PROGRAM]: false,\r\n        [featuresEnum.MANAGE_SEGMENT]: false,\r\n        [featuresEnum.HOURWISE_INVENTORY]: false,\r\n        [featuresEnum.DURATION]: false,\r\n        [featuresEnum.INSERT]: {\r\n          ...prevState[featuresEnum.INSERT],\r\n          isDropdownVisible: false,\r\n          isActive: true,\r\n          eventType,\r\n        },\r\n      }));\r\n      resetSecondaryTableStates();\r\n    } catch (error) {\r\n      openNotification('danger', 'Something went wrong');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleLiveClick = () => {\r\n    setActiveFeatures((prevState) => ({\r\n      ...prevState,\r\n      [featuresEnum.INSERT]: {\r\n        ...prevState[featuresEnum.INSERT],\r\n        isDropdownVisible: false,\r\n      },\r\n    }));\r\n    if (!leftClickedSchTableRow) {\r\n      openNotification(\r\n        'danger',\r\n        'Please select any one event in log to insert Live Event',\r\n      );\r\n      return;\r\n    }\r\n    if (\r\n      schedulingTableData[leftClickedSchTableRow.rowIndex + 1]?.F_C_S_P ===\r\n      rowDataTypesEnum.NTC\r\n    ) {\r\n      openNotification('danger', 'Live Event cannot be inserted above NTC');\r\n      return;\r\n    }\r\n    setIsInsertLiveDialogOpen(true);\r\n  };\r\n\r\n  const closeDropDowns = (event) => {\r\n    try {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setActiveFeatures((prevState) => ({\r\n          ...prevState,\r\n          [featuresEnum.INSERT]: {\r\n            ...prevState[featuresEnum.INSERT],\r\n            isDropdownVisible: false,\r\n          },\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      className=\"!bg-gray-700 text-white mt-2 absolute right-1/2 top-full z-[100] w-56\"\r\n      bodyClass=\"px-0 pt-1.5\"\r\n      style={{ boxShadow: '#000000cc 0px 0px 10px' }}\r\n      ref={dropdownRef}\r\n    >\r\n      <p className=\"text-base mb-1.5 px-3\">Insert</p>\r\n      <div className=\"h-[30vh] overflow-scroll no-scrollbar flex flex-col\">\r\n        {page === pagesEnum.COMMERCIAL && !isChannelForbes && (\r\n          <>\r\n            <div\r\n              className=\"border-b border-b-gray-600 py-1.5 px-3 flex items-center justify-between gap-3 hover:bg-gray-600 hover:cursor-pointer transition-all\"\r\n              onClick={() =>\r\n                handleInsert(secondaryTableTypesEnum.DROPPED_SPOTS)\r\n              }\r\n            >\r\n              <div className=\"grow flex items-center gap-2\">\r\n                <span className=\"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center\">\r\n                  <IoMdClose className=\"text-base\" />\r\n                </span>\r\n                <span>Dropped Spots</span>\r\n              </div>\r\n              {dropBucket.length - 1 > 0 && (\r\n                <p className=\"text-white font-semibold py-1 px-2 bg-gray-600 border border-gray-700 rounded-md\">\r\n                  {dropBucket.length - 1}\r\n                </p>\r\n              )}\r\n            </div>\r\n            <div\r\n              className=\"border-b border-b-gray-600 py-1.5 px-3 flex items-center justify-between gap-3 hover:bg-gray-600 hover:cursor-pointer transition-all\"\r\n              onClick={() =>\r\n                handleInsert(secondaryTableTypesEnum.LAST_MINUTE_SPOTS)\r\n              }\r\n            >\r\n              <div className=\"grow flex items-center gap-2\">\r\n                <span className=\"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center\">\r\n                  <LuFileClock className=\"text-base\" />\r\n                </span>\r\n                <span>Last Minute Spots</span>\r\n              </div>\r\n              {lastMinuteSpots.length - 1 > 0 && (\r\n                <p className=\"text-white font-semibold py-1 px-2 bg-gray-600 border border-gray-700 rounded-md\">\r\n                  {lastMinuteSpots.length - 1}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n        {page === pagesEnum.NTC && (\r\n          <>\r\n            <div\r\n              className=\"border-b border-b-gray-600 py-1.5 px-3 flex items-center gap-2 hover:bg-gray-600 hover:cursor-pointer transition-all\"\r\n              onClick={() => handleInsert(secondaryTableTypesEnum.NTC)}\r\n            >\r\n              <span className=\"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center\">\r\n                <RiLayoutBottom2Line className=\"text-base\" />\r\n              </span>\r\n              <span>NTC</span>\r\n            </div>\r\n            {!isChannelForbes && (\r\n              <>\r\n                <div\r\n                  className=\"border-b border-b-gray-600 py-1.5 px-3 flex items-center gap-2 hover:bg-gray-600 hover:cursor-pointer transition-all\"\r\n                  onClick={() =>\r\n                    handleInsert(secondaryTableTypesEnum.DROPPED_NTC)\r\n                  }\r\n                >\r\n                  <span className=\"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center\">\r\n                    <IoMdClose className=\"text-base\" />\r\n                  </span>\r\n                  <span>Dropped NTC</span>\r\n                </div>\r\n                <div\r\n                  className=\"border-b border-b-gray-600 py-1.5 px-3 flex items-center gap-2 hover:bg-gray-600 hover:cursor-pointer transition-all\"\r\n                  onClick={() =>\r\n                    handleInsert(secondaryTableTypesEnum.LAST_MINUTE_NTC)\r\n                  }\r\n                >\r\n                  <span className=\"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center\">\r\n                    <LuFileClock className=\"text-base\" />\r\n                  </span>\r\n                  <span>Last Minute NTC</span>\r\n                </div>\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n        {page === pagesEnum.FINAL_LOG && (\r\n          <>\r\n            <div\r\n              className=\"border-b border-t border-gray-600 py-1.5 px-3 flex items-center gap-2 hover:bg-gray-600 hover:cursor-pointer transition-all\"\r\n              onClick={() => handleInsert(secondaryTableTypesEnum.PROMO)}\r\n            >\r\n              <span className=\"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center\">\r\n                <RiAdvertisementLine className=\"text-base\" />\r\n              </span>\r\n              <span>{isChannelForbes ? 'Content' : 'Promo'}</span>\r\n            </div>\r\n            {!isChannelForbes && (\r\n              <>\r\n                <div\r\n                  className=\"border-b border-b-gray-600 py-1.5 px-3 flex items-center gap-2 hover:bg-gray-600 hover:cursor-pointer transition-all\"\r\n                  onClick={() => handleInsert(secondaryTableTypesEnum.SONG)}\r\n                >\r\n                  <span className=\"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center\">\r\n                    <IoIosMusicalNotes className=\"text-base\" />\r\n                  </span>\r\n                  <span>Song</span>\r\n                </div>\r\n                <div\r\n                  className=\"border-b border-b-gray-600 py-1.5 px-3 flex items-center justify-between gap-3 hover:bg-gray-600 hover:cursor-pointer transition-all\"\r\n                  onClick={() =>\r\n                    handleInsert(secondaryTableTypesEnum.DROPPED_SPOTS)\r\n                  }\r\n                >\r\n                  <div className=\"grow flex items-center gap-2\">\r\n                    <span className=\"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center\">\r\n                      <IoMdClose className=\"text-base\" />\r\n                    </span>\r\n                    <span>Dropped Spots</span>\r\n                  </div>\r\n                  {dropBucket.length - 1 > 0 && (\r\n                    <p className=\"text-white font-semibold py-1 px-2 bg-gray-600 border border-gray-700 rounded-md\">\r\n                      {dropBucket.length - 1}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                <div\r\n                  className=\"border-b border-b-gray-600 py-1.5 px-3 flex items-center justify-between gap-3 hover:bg-gray-600 hover:cursor-pointer transition-all\"\r\n                  onClick={() =>\r\n                    handleInsert(secondaryTableTypesEnum.LAST_MINUTE_SPOTS)\r\n                  }\r\n                >\r\n                  <div className=\"grow flex items-center gap-2\">\r\n                    <span className=\"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center\">\r\n                      <LuFileClock className=\"text-base\" />\r\n                    </span>\r\n                    <span>Last Minute Spots</span>\r\n                  </div>\r\n                  {lastMinuteSpots.length - 1 > 0 && (\r\n                    <p className=\"text-white font-semibold py-1 px-2 bg-gray-600 border border-gray-700 rounded-md\">\r\n                      {lastMinuteSpots.length - 1}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              </>\r\n            )}\r\n            <div\r\n              className=\"border-b border-b-gray-600 py-1.5 px-3 flex items-center gap-2 hover:bg-gray-600 hover:cursor-pointer transition-all\"\r\n              onClick={() => handleInsert(secondaryTableTypesEnum.NTC)}\r\n            >\r\n              <span className=\"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center\">\r\n                <RiLayoutBottom2Line className=\"text-base\" />\r\n              </span>\r\n              <span>NTC</span>\r\n            </div>\r\n            {!isChannelForbes && (\r\n              <>\r\n                <div\r\n                  className=\"border-b border-b-gray-600 py-1.5 px-3 flex items-center gap-2 hover:bg-gray-600 hover:cursor-pointer transition-all\"\r\n                  onClick={() =>\r\n                    handleInsert(secondaryTableTypesEnum.DROPPED_NTC)\r\n                  }\r\n                >\r\n                  <span className=\"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center\">\r\n                    <IoMdClose className=\"text-base\" />\r\n                  </span>\r\n                  <span>Dropped NTC</span>\r\n                </div>\r\n                <div\r\n                  className=\"border-b border-b-gray-600 py-1.5 px-3 flex items-center gap-2 hover:bg-gray-600 hover:cursor-pointer transition-all\"\r\n                  onClick={() =>\r\n                    handleInsert(secondaryTableTypesEnum.LAST_MINUTE_NTC)\r\n                  }\r\n                >\r\n                  <span className=\"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center\">\r\n                    <LuFileClock className=\"text-base\" />\r\n                  </span>\r\n                  <span>Last Minute NTC</span>\r\n                </div>\r\n              </>\r\n            )}\r\n            {isChannelForbes && (\r\n              <div\r\n                className=\"border-b border-b-gray-600 py-1.5 px-3 flex items-center gap-2 hover:bg-gray-600 hover:cursor-pointer transition-all\"\r\n                onClick={handleLiveClick}\r\n              >\r\n                <span className=\"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center\">\r\n                  <IoPlay className=\"text-[0.925rem] ml-0.5\" />\r\n                </span>\r\n                <span>Live</span>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default InsertEvents;\r\n"],"names":["isChannelForbes","useSelector","state","locale","selectedChannel","label","CLIENT","page","setActiveFeatures","dropBucket","lastMinuteSpots","schedulingTableData","resetSecondaryTableStates","setIsInsertLiveDialogOpen","leftClickedSchTableRow","useContext","SchedulerContext","dropdownRef","useRef","useEffect","document","addEventListener","closeDropDowns","removeEventListener","handleInsert","eventType","prevState","featuresEnum","isDropdownVisible","isActive","error","openNotification","console","event","current","contains","target","className","bodyClass","style","boxShadow","ref","pagesEnum","onClick","secondaryTableTypesEnum","length","rowIndex","F_C_S_P","rowDataTypesEnum"],"sourceRoot":""}