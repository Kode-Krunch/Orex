{"version":3,"file":"static/js/2165.2599f2fb.chunk.js","mappings":"8OAUA,MA8GA,EA7GsB,IAA0C,IAAzC,cAAEA,EAAa,iBAAEC,GAAkB,EAGtD,MAAM,oBAAEC,EAAmB,KAAEC,IAASC,EAAAA,EAAAA,YAAWC,EAAAA,GAC3CC,GAAUC,EAAAA,EAAAA,cAAaC,GAAUA,EAAMC,OAAOC,mBAE7CC,EAAWC,IAAgBC,EAAAA,EAAAA,UAAS,IAAIC,OACxCC,EAASC,IAAcH,EAAAA,EAAAA,UAAS,IAAIC,OACpCG,EAAmBC,IAAwBL,EAAAA,EAAAA,WAAS,GAmC3D,OACI,iCACI,UAAC,KAAM,CACHM,MAAO,IACPC,OAAQpB,EACRqB,QAAS,IAAMpB,GAAiB,GAAO,WAEvC,eAAIqB,UAAU,OAAM,gCACpB,iBAAKA,UAAU,wCAAuC,WAClD,gBAAKA,UAAU,aAAY,UACvB,6CAEJ,gBAAKA,UAAU,aAAY,UACvB,SAAC,IAAe,CACZC,QAAS,IAAIT,KACbU,MAAO,CAACb,EAAWI,GACnBU,SAhDEC,IACtB,MAAOC,EAAcC,GAAcF,EACnCd,EAAae,GACbX,EAAWY,EAAW,EA8CFC,YA7DT,cA8DSC,KAAK,aAIjB,gBAAKR,UAAU,OAAM,UACjB,SAAC,KAAM,CACHS,QAAQ,QACRC,KAAK,SACLV,UAAU,UACVQ,KAAK,KACLG,MAAM,SAAC,MAAa,IACpBC,QAAS,KAAYvB,GAAaI,EAAWG,GAAqB,IAAeiB,EAAAA,EAAAA,kBAAiB,UAAW,qBAAsB,EAClI,wBAMb,UAAC,KAAM,CACHf,OAAQH,EACRI,QAAS,IAAMH,GAAqB,GACpCkB,eAAgB,IAAMlB,GAAqB,GAAO,WAElD,eAAII,UAAU,OAAM,uBACpB,gEACyC,KACpCe,EAAAA,EAAAA,uBAAsB1B,GAAU,MAAK,KACrC0B,EAAAA,EAAAA,uBAAsBtB,GAAQ,SAEnC,iBAAKO,UAAU,kBAAiB,WAC5B,SAAC,KAAM,CACHY,QAAS,IAAMhB,GAAqB,GACpCY,KAAK,KACLR,UAAU,OAAM,iBAKpB,SAAC,KAAM,CAACS,QAAQ,QAAQG,QAlFhBI,UACpB,IACI,MAAMC,QAAaC,EAAAA,EAAAA,uBACf,iCACA,CACIC,iBAAkBnC,EAAQoC,aAC1BC,gBAAiBrC,EAAQsC,YACzBC,cAAcC,EAAAA,EAAAA,IAAiB3C,GAC/B4C,UAAUD,EAAAA,EAAAA,IAAiBnC,GAC3BqC,QAAQF,EAAAA,EAAAA,IAAiB/B,KAIjCkC,QAAQC,IAAIX,GACO,KAAfA,EAAKY,QACLhB,EAAAA,EAAAA,kBAAiB,UAAW,qBAEN,KAAfI,EAAKY,UACZhB,EAAAA,EAAAA,kBAAiB,UAAW,qBAC5BlC,GAAiB,GACjBiB,GAAqB,GAI7B,CAFE,MAAOkC,IACLjB,EAAAA,EAAAA,kBAAiB,SAAU,eAC/B,GA0D8DL,KAAK,KAAI,yBAKpE,C","sources":["views/Scheduling/Scheduler/components/SchedulingArea/components/Toolbar/components/DayWiseSaveAs.js"],"sourcesContent":["import { Button, Dialog } from 'components/ui';\r\nimport DatePickerRange from 'components/ui/DatePicker/DatePickerRange';\r\nimport { convertDateToYMD } from 'components/validators';\r\nimport React, { useContext, useState } from 'react'\r\nimport { AiOutlineSave } from 'react-icons/ai';\r\nimport { useSelector } from 'react-redux';\r\nimport { apiCallstoreprocedure } from 'services/CommonService';\r\nimport { formatDateToDDMMMYYYY, openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\n\r\nconst dateFormat = 'DD MMM YYYY';\r\nconst DayWiseSaveAs = ({ saveAsvisible, setSaveAsvisible }) => {\r\n\r\n\r\n    const { schedulingTableData, date } = useContext(SchedulerContext);\r\n    const channel = useSelector((state) => state.locale.selectedChannel);\r\n\r\n    const [startDate, setStartDate] = useState(new Date());\r\n    const [endDate, setEndDate] = useState(new Date());\r\n    const [confirmationPopup, setconfirmationPopup] = useState(false);\r\n\r\n\r\n    const handleDateChange = (newDates) => {\r\n        const [newStartDate, newEndDate] = newDates;\r\n        setStartDate(newStartDate);\r\n        setEndDate(newEndDate);\r\n    };\r\n\r\n    const handleSaveASFPC = async () => {\r\n        try {\r\n            const resp = await apiCallstoreprocedure(\r\n                'USP_SCH_SAVEAS_PromoScheduling',\r\n                {\r\n                    par_LocationCode: channel.LocationCode,\r\n                    par_Channelcode: channel.ChannelCode,\r\n                    OriginalDate: convertDateToYMD(date),\r\n                    FromDate: convertDateToYMD(startDate),\r\n                    ToDate: convertDateToYMD(endDate)\r\n                },\r\n\r\n            );\r\n            console.log(resp);\r\n            if (resp.status == 204) {\r\n                openNotification('warning', 'Contact Bats team')\r\n\r\n            } else if (resp.status == 200) {\r\n                openNotification('success', 'Save Successfully');\r\n                setSaveAsvisible(false);\r\n                setconfirmationPopup(false)\r\n            }\r\n        } catch (error) {\r\n            openNotification('danger', 'Server Error')\r\n        }\r\n    }\r\n    return (\r\n        <>\r\n            <Dialog\r\n                width={600}\r\n                isOpen={saveAsvisible}\r\n                onClose={() => setSaveAsvisible(false)}\r\n            >\r\n                <h3 className=\"mb-5\"> SaveAs Date Wise</h3>\r\n                <div className=\"grid grid-cols-6 md:grid-cols-6 gap-1\">\r\n                    <div className=\"col-span-6\">\r\n                        <label>Date Range</label>\r\n                    </div>\r\n                    <div className=\"col-span-6\">\r\n                        <DatePickerRange\r\n                            minDate={new Date()}\r\n                            value={[startDate, endDate]}\r\n                            onChange={handleDateChange}\r\n                            inputFormat={dateFormat}\r\n                            size=\"sm\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"mt-5\">\r\n                    <Button\r\n                        variant=\"solid\"\r\n                        type=\"button\"\r\n                        className=\"btnEdit\"\r\n                        size=\"sm\"\r\n                        icon={<AiOutlineSave />}\r\n                        onClick={() => { if (startDate && endDate) { setconfirmationPopup(true) } else { openNotification('warning', 'Please Select Date') } }\r\n                        }\r\n                    >\r\n                        Save\r\n                    </Button>\r\n                </div>\r\n            </Dialog>\r\n            <Dialog\r\n                isOpen={confirmationPopup}\r\n                onClose={() => setconfirmationPopup(false)}\r\n                onRequestClose={() => setconfirmationPopup(false)}\r\n            >\r\n                <h5 className=\"mb-4\">Confirm?</h5>\r\n                <p>\r\n                    Are you sure want to Save As FPC for{' '}\r\n                    {formatDateToDDMMMYYYY(startDate)} to{' '}\r\n                    {formatDateToDDMMMYYYY(endDate)} ?\r\n                </p>\r\n                <div className=\"text-right mt-6\">\r\n                    <Button\r\n                        onClick={() => setconfirmationPopup(false)}\r\n                        size=\"sm\"\r\n                        className=\"mr-2\"\r\n                    >\r\n                        No\r\n                    </Button>\r\n\r\n                    <Button variant=\"solid\" onClick={handleSaveASFPC} size=\"sm\">\r\n                        Yes\r\n                    </Button>\r\n                </div>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default DayWiseSaveAs\r\n\r\n"],"names":["saveAsvisible","setSaveAsvisible","schedulingTableData","date","useContext","SchedulerContext","channel","useSelector","state","locale","selectedChannel","startDate","setStartDate","useState","Date","endDate","setEndDate","confirmationPopup","setconfirmationPopup","width","isOpen","onClose","className","minDate","value","onChange","newDates","newStartDate","newEndDate","inputFormat","size","variant","type","icon","onClick","openNotification","onRequestClose","formatDateToDDMMMYYYY","async","resp","apiCallstoreprocedure","par_LocationCode","LocationCode","par_Channelcode","ChannelCode","OriginalDate","convertDateToYMD","FromDate","ToDate","console","log","status","error"],"sourceRoot":""}