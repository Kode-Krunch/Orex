(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[3852],{28817:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(1413),a=s(2803),c=s(72791),n=s(34786),l=s(96361),o=s(46657),i=s(60364),u=s(4621),d=s(32640),f=s(80184);const p=()=>{const e=(0,i.useSelector)((e=>e.auth.session.token)),t=(0,c.useRef)(0);function s(e,t){a.Am.push((0,f.jsx)(a.P_,{closable:!0,type:t,duration:1e3,title:t.charAt(0).toUpperCase()+t.slice(1),children:e}))}const[p,m]=(0,c.useState)(""),[h,S]=(0,c.useState)(!1),[x,g]=(0,c.useState)(""),[N,v]=(0,c.useState)(!1),[y,b]=(0,c.useState)(),P=(0,c.useRef)(null),[A,j]=(0,c.useState)();(0,c.useEffect)((()=>{t.current=t.current+1,1==t.current&&(async e=>{const t=[...(await(0,n.bI)()).data].reverse().map(((e,t)=>(0,r.Z)((0,r.Z)({},e),{},{serialNumber:t+1})));j(t)})()}),[]);const w=t=>{console.log("SpotPreference",A);const r=[...A];let a=r[t];a.IsActive=1==a.IsActive?0:1,(0,n.y_)(a,e).then((e=>{if(204!=e.status)return 200==e.status&&s("Data Updated Succesfully","success"),e.json();s("Data Already Exists.","warning")})).then((e=>{e.serialNumber=a.serialNumber,e.IsActive=a.IsActive,e.SpotPreferenceName=a.SpotPreferenceName,r[t]=e,j(r),s("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},I=[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"SpotPreferenceName",header:"SpotPreferenceName",width:"20%"}];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.F,{ref:P}),(0,f.jsx)(u.Q,{group:"declarative",visible:N,onHide:()=>v(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{w(y)}}),(0,f.jsx)(a.Zb,{header:(0,f.jsxs)("div",{className:"flex justify-between",children:[(0,f.jsx)("div",{children:(0,f.jsx)("span",{className:"flex items-center",children:(0,f.jsx)(l.Z,{ModuleText:"Programming",Component:"SpotPreference"})})}),(0,f.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}}),(0,f.jsx)("div",{})]}),headerExtra:(0,d.W)(x,g,S,h,(()=>{if(p){const t={SpotPreferenceName:p,IsActive:1};(0,n.qb)(t,e).then((e=>{204!=e.status?(200==e.status&&(t.serialNumber=A.length+1,j((e=>[...e,t])),s("Data Added Succesfully","success")),m(""),S(!1)):s("Data Already Exists.","warning")})).catch((e=>{500==e.response.status&&s("Server Error.","danger"),console.log(e)}))}else s("Kindly Enter SpotPreference Name","danger")}),p,m,"SpotPreference",A,I),bodyClass:"text-center",children:(0,f.jsx)(d.Z,{data:A,onRowEditComplete:t=>{let r=[...A],{newData:a,index:c}=t;a.SpotPreferenceName&&(console.log(a),r[c].SpotPreferenceName=a.SpotPreferenceName,r[c].IsActive=a.IsActive,console.log("_SpotPreference",r),(0,n.y_)(a,e).then((e=>204==e.status?(console.log(e),s("Data Already Exists.","warning"),null):(200==e.status&&s("Data Updated Succesfully","success"),e.json()))).then((e=>{console.log(e),A[c]=e,A[c].serialNumber=a.serialNumber,A[c].SpotPreferenceName=a.SpotPreferenceName,A[c].IsActive=a.IsActive,j(A)})).catch((e=>{console.log(e)})))},globalFilter:x,dataKey:"SpotPreferenceCode",columns:I,setyup:b,scrollHeight:"70vh",setVisible:v})})]})}},72950:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{}}]);
//# sourceMappingURL=3852.a20a97b1.chunk.js.map