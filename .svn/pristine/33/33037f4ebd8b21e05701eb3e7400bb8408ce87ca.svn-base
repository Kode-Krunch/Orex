"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[1600],{11600:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var s=n(1413),i=n(2803),a=n(72791),l=n(81320),o=n(36608),r=n(60364),d=n(91615),c=n(80184);const m=function(e){let{isDialogOpen:t,setIsDialogOpen:n}=e;const m=(0,r.useSelector)((e=>e.locale.selectedChannel)),h=(0,r.useSelector)((e=>e.auth.session.ChannelSettingMain)),{schedulingTableData:T,date:x}=(0,a.useContext)(d.Z),[u,p]=(0,a.useState)({startTime:"",endTime:""}),g=()=>{p({startTime:"",endTime:""}),n(!1)},C=()=>{try{let e=[],t=null,n=null;for(let s=1;s<T.length;s++){const e=T[s];!t&&e.Tel_Time>=u.startTime&&(t=e),t&&e.rowIndex>t.rowIndex&&e.Tel_Time<=u.endTime&&(n=e),n||s!==T.length-1||(n=e)}return t&&n&&(e=[...T].slice(t.rowIndex,n.rowIndex+1)),e}catch(e){throw e}};return(0,c.jsxs)(i.Vq,{isOpen:t,onClose:g,onRequestClose:g,children:[(0,c.jsx)("h5",{className:"mb-4",children:"Partial Playout Export"}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsxs)("p",{className:"mb-1 text-white",children:["Start Time ",(0,c.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,c.jsx)(i.II,{size:"sm",value:u.startTime,onChange:e=>p((t=>(0,s.Z)((0,s.Z)({},t),{},{startTime:(0,l.getFormattedTime)(e,u.startTime)}))),onBlur:()=>p((e=>(0,s.Z)((0,s.Z)({},e),{},{startTime:(0,l.autoCompleteTime)(u.startTime)}))),placeholder:"HH:MM:SS:FF"})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{className:"mb-1 text-white",children:["End Time ",(0,c.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,c.jsx)(i.II,{size:"sm",value:u.endTime,onChange:e=>p((t=>(0,s.Z)((0,s.Z)({},t),{},{endTime:(0,l.getFormattedTime)(e,u.endTime)}))),onBlur:()=>p((e=>(0,s.Z)((0,s.Z)({},e),{},{endTime:(0,l.autoCompleteTime)(u.endTime)}))),placeholder:"HH:MM:SS:FF"})]}),(0,c.jsx)("div",{className:"text-right mt-6",children:(0,c.jsx)(i.zx,{variant:"solid",disabled:11!==u.startTime.length||11!==u.endTime.length,onClick:async()=>{try{const e=C();0===e.length?(0,l.openNotification)("info","No events to export for selected time range"):await(0,o.Kt)(x,m,e,h.filter((e=>e.Channel.ChannelCode===m.ChannelCode&&e.locations.LocationCode===m.LocationCode))[0]),g()}catch(e){(0,l.openNotification)("danger","Something went wrong while exporting"),console.error(e)}},children:"Export"})})]})}}}]);
//# sourceMappingURL=1600.7ed78bb9.chunk.js.map