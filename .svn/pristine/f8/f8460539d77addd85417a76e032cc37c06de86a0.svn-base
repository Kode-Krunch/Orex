{"version":3,"file":"static/js/17.88c8881b.chunk.js","mappings":"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","sources":["components/ui/Input/InputwithVoice.js","services/AccountsServices.js","services/BillingService.js","views/Accounts/CreditNote/components/AddCreditNoteDialog.js","views/Accounts/CreditNote/components/GenerateCDNoteHeader.js","views/Accounts/CreditNote/components/SpotsTable.js","views/Accounts/CreditNote/components/SaveCDNoteDialog.js","views/Accounts/CreditNote/components/SaveCDNoteStickyFooter.js","views/Accounts/CreditNote/CreditNote.js","views/Controls/HeaderExtra.js","views/Controls/Loader.js","views/Controls/WarningDialog.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useRef } from 'react'\r\nimport classNames from 'classnames'\r\nimport PropTypes from 'prop-types'\r\nimport { useConfig } from '../ConfigProvider'\r\nimport { useForm } from '../Form/context'\r\nimport { useInputGroup } from '../InputGroup/context'\r\nimport { CONTROL_SIZES, SIZES } from '../utils/constant'\r\nimport isEmpty from 'lodash/isEmpty'\r\nimport isNil from 'lodash/isNil'\r\nimport get from 'lodash/get'\r\nimport { HiMicrophone } from 'react-icons/hi'\r\n\r\nconst InputwithVoice = React.forwardRef((props, ref) => {\r\n    const {\r\n        asElement: Component,\r\n        className,\r\n        disabled,\r\n        invalid,\r\n        prefix,\r\n        size,\r\n        suffix,\r\n        textArea,\r\n        type,\r\n        style,\r\n        unstyle,\r\n        field,\r\n        form,\r\n        ...rest\r\n    } = props\r\n\r\n    const [prefixGutter, setPrefixGutter] = useState(0)\r\n    const [suffixGutter, setSuffixGutter] = useState(0)\r\n    const [isListening, setIsListening] = useState(false)\r\n    const [inputValue, setInputValue] = useState(props.value || '')\r\n\r\n    const { themeColor, controlSize, primaryColorLevel, direction } = useConfig()\r\n    const formControlSize = useForm()?.size\r\n    const inputGroupSize = useInputGroup()?.size\r\n\r\n    const inputSize = size || inputGroupSize || formControlSize || controlSize\r\n\r\n    const fixControlledValue = (val) => {\r\n        if (typeof val === 'undefined' || val === null) {\r\n            return ''\r\n        }\r\n        return val\r\n    }\r\n\r\n    if ('value' in props) {\r\n        rest.value = fixControlledValue(props.value)\r\n        delete rest.defaultValue\r\n    }\r\n\r\n    const isInvalid = useMemo(() => {\r\n        let validate = false\r\n        if (!isEmpty(form)) {\r\n            const { touched, errors } = form\r\n            const touchedField = get(touched, field?.name)\r\n            const errorField = get(errors, field?.name)\r\n            validate = touchedField && errorField\r\n        }\r\n        if (typeof invalid === 'boolean') {\r\n            validate = invalid\r\n        }\r\n\r\n        return validate\r\n    }, [form, invalid, field])\r\n\r\n    const inputDefaultClass = 'input'\r\n    const inputSizeClass = `input-${inputSize} h-${CONTROL_SIZES[inputSize]}`\r\n    const inputFocusClass = `focus:ring-${themeColor}-${primaryColorLevel} focus-within:ring-${themeColor}-${primaryColorLevel} focus-within:border-${themeColor}-${primaryColorLevel} focus:border-${themeColor}-${primaryColorLevel}`\r\n    const inputWrapperClass = `input-wrapper ${prefix || suffix ? className : ''}`\r\n    const inputClass = classNames(\r\n        inputDefaultClass,\r\n        !textArea && inputSizeClass,\r\n        !isInvalid && inputFocusClass,\r\n        !prefix && !suffix ? className : '',\r\n        disabled && 'input-disabled',\r\n        isInvalid && 'input-invalid',\r\n        textArea && 'input-textarea'\r\n    )\r\n\r\n    const prefixNode = useRef()\r\n    const suffixNode = useRef()\r\n    const inputRef = useRef()\r\n    const recognitionRef = useRef()\r\n\r\n    const getAffixSize = () => {\r\n        if (!prefixNode.current && !suffixNode.current) {\r\n            return\r\n        }\r\n        const prefixNodeWidth = prefixNode?.current?.offsetWidth\r\n        const suffixNodeWidth = suffixNode?.current?.offsetWidth\r\n\r\n        if (isNil(prefixNodeWidth) && isNil(suffixNodeWidth)) {\r\n            return\r\n        }\r\n\r\n        if (prefixNodeWidth) {\r\n            setPrefixGutter(prefixNodeWidth)\r\n        }\r\n\r\n        if (suffixNodeWidth) {\r\n            setSuffixGutter(suffixNodeWidth)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getAffixSize()\r\n    }, [prefix, suffix])\r\n\r\n    useEffect(() => {\r\n        if ('webkitSpeechRecognition' in window) {\r\n            const recognition = new window.webkitSpeechRecognition()\r\n            recognition.continuous = false\r\n            recognition.interimResults = false\r\n            recognition.lang = 'en-US'\r\n\r\n            recognition.onresult = (event) => {\r\n                const transcript = event.results[0][0].transcript\r\n                setInputValue(transcript)\r\n\r\n                if (field?.onChange) {\r\n                    field.onChange({\r\n                        target: { value: transcript, name: field.name },\r\n                    })\r\n                } else {\r\n                    if (inputRef.current) {\r\n                        inputRef.current.value = transcript\r\n                        const event = new Event('input', { bubbles: true })\r\n                        inputRef.current.dispatchEvent(event)\r\n                    }\r\n                    if (props.onChange) {\r\n                        props.onChange({\r\n                            target: { value: transcript, name: field?.name },\r\n                        })\r\n                    }\r\n                }\r\n\r\n                setIsListening(false)\r\n            }\r\n\r\n            recognition.onend = () => {\r\n                setIsListening(false)\r\n            }\r\n\r\n            recognition.onerror = (event) => {\r\n                setIsListening(false)\r\n            }\r\n\r\n            recognitionRef.current = recognition\r\n        }\r\n    }, [field, props.onChange])\r\n\r\n    const startListening = () => {\r\n        if (recognitionRef.current) {\r\n            setIsListening(true)\r\n            recognitionRef.current.start()\r\n        }\r\n    }\r\n\r\n    const remToPxConvertion = (pixel) => 0.0625 * pixel\r\n\r\n    const affixGutterStyle = () => {\r\n        const leftGutter = `${remToPxConvertion(prefixGutter) + 1}rem`\r\n        const rightGutter = `${remToPxConvertion(suffixGutter) + 1}rem`\r\n        let gutterStyle = {}\r\n\r\n        if (direction === 'ltr') {\r\n            if (prefix) {\r\n                gutterStyle.paddingLeft = leftGutter\r\n            }\r\n\r\n            if (suffix) {\r\n                gutterStyle.paddingRight = rightGutter\r\n            }\r\n        }\r\n\r\n        if (direction === 'rtl') {\r\n            if (prefix) {\r\n                gutterStyle.paddingRight = leftGutter\r\n            }\r\n\r\n            if (suffix) {\r\n                gutterStyle.paddingLeft = rightGutter\r\n            }\r\n        }\r\n\r\n        return gutterStyle\r\n    }\r\n\r\n    const handleChange = (e) => {\r\n        setInputValue(e.target.value)\r\n        if (field?.onChange) {\r\n            field.onChange(e)\r\n        }\r\n        if (props.onChange) {\r\n            props.onChange(e)\r\n        }\r\n    }\r\n\r\n    const inputProps = {\r\n        className: !unstyle ? inputClass : '',\r\n        disabled,\r\n        type,\r\n        ref: inputRef,\r\n        value: inputValue,\r\n        onChange: handleChange,\r\n        ...field,\r\n        ...rest,\r\n    }\r\n\r\n    const renderTextArea = <textarea style={style} {...inputProps}></textarea>\r\n\r\n    const renderInput = (\r\n        <div className=\"relative flex items-center\">\r\n            <Component\r\n                style={{ ...affixGutterStyle(), ...style, paddingRight: suffix ? '2.5rem' : undefined }}\r\n                {...inputProps}\r\n            />\r\n            {type == \"text\" && (\r\n                <HiMicrophone\r\n                    className={classNames(\"absolute right-3 text-xl cursor-pointer\", { \"text-blue-500\": isListening })}\r\n                    onClick={startListening}\r\n                />)}\r\n        </div>\r\n    )\r\n\r\n    const renderAffixInput = (\r\n        <span className={inputWrapperClass}>\r\n            {prefix ? (\r\n                <div\r\n                    className=\"input-suffix-start\"\r\n                    ref={(node) => (prefixNode.current = node)}\r\n                >\r\n                    {prefix}\r\n                </div>\r\n            ) : null}\r\n            {renderInput}\r\n            {suffix ? (\r\n                <div\r\n                    className=\"input-suffix-end\"\r\n                    ref={(node) => (suffixNode.current = node)}\r\n                >\r\n                    {suffix}\r\n                </div>\r\n            ) : null}\r\n        </span>\r\n    )\r\n\r\n    const renderChildren = () => {\r\n        if (textArea) {\r\n            return renderTextArea\r\n        }\r\n\r\n        if (prefix || suffix) {\r\n            return renderAffixInput\r\n        } else {\r\n            return renderInput\r\n        }\r\n    }\r\n\r\n    return renderChildren()\r\n})\r\n\r\nInputwithVoice.propTypes = {\r\n    asElement: PropTypes.string,\r\n    type: PropTypes.string,\r\n    className: PropTypes.string,\r\n    size: PropTypes.oneOf([SIZES.LG, SIZES.SM, SIZES.MD]),\r\n    value: PropTypes.any,\r\n    invalid: PropTypes.bool,\r\n    suffix: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\r\n    prefix: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\r\n    unstyle: PropTypes.bool,\r\n    onChange: PropTypes.func,\r\n}\r\n\r\nInputwithVoice.defaultProps = {\r\n    type: 'text',\r\n    asElement: 'input',\r\n    className: '',\r\n    unstyle: false,\r\n}\r\n\r\nexport default InputwithVoice\r\n","import appConfig from 'configs/app.config';\r\nimport ApiService from './ApiService';\r\nconst axios = require('axios');\r\n\r\nconst getCreditNotes = async (channel, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/creditdebitmaster/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst apiCreateCreditDebitMaster = async (data, token) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'post',\r\n        maxBodyLength: Infinity,\r\n        url: appConfig.apiPrefix + `/creditdebitmaster/`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        data: data,\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst apiInvoicePaymentUpdate = (data, token) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'put',\r\n        maxBodyLength: Infinity,\r\n        url: appConfig.apiPrefix + `/invoice/invoicepaymentupdate/`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        data: data,\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { getCreditNotes, apiCreateCreditDebitMaster, apiInvoicePaymentUpdate };\r\n","import appConfig from 'configs/app.config';\r\nimport ApiService from './ApiService';\r\nconst axios = require('axios');\r\n\r\n/* ASRUN MATCHING */\r\nconst apiAsrunCreate = (\r\n  data,\r\n  telecastDate,\r\n  locationCode,\r\n  channelCode,\r\n  token,\r\n) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'post',\r\n        maxBodyLength: Infinity,\r\n        url:\r\n          appConfig.apiPrefix +\r\n          `/asrun/?TelecastDate=${telecastDate}&LocationCode=${locationCode}&ChannelCode=${channelCode}`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        data: data,\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\n/* INVOICE SERIES */\r\n// Invoice Series\r\nconst apiGetInvoice = (\r\n  { filter, id, loginCode, fromDate, uptoDate, channelCode, locationCode },\r\n  token,\r\n) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'get',\r\n        url:\r\n          appConfig.apiPrefix +\r\n          `/invoice/getinvoice/?Filter=${filter}&ID=${id}&LoginCode=${loginCode}&FromDate=${fromDate}&UptoDate=${uptoDate}&ChannelCode=${channelCode}&LocationCode=${locationCode}`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\n\r\nconst apiGetInvoiceSeries = (channel, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/invoiceseries/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst apiGetTelecastReport = (\r\n  { filter, id, loginCode, fromDate, uptoDate, channelCode, locationCode, SpotTypeCode },\r\n  token,\r\n) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'get',\r\n        url:\r\n          appConfig.apiPrefix +\r\n          `/invoice/gettelecastreport/?Filter=${filter}&ID=${id}&LoginCode=${loginCode}&FromDate=${fromDate}&UptoDate=${uptoDate}&ChannelCode=${channelCode}&LocationCode=${locationCode}&SpotType=${SpotTypeCode}`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst apiGetTelecastReportSeries = (channel, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/telecastreportseries/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst apiCreateInvoiceSeries = async (data, token) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'post',\r\n        maxBodyLength: Infinity,\r\n        url: appConfig.apiPrefix + `/invoiceseries/`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        data: data,\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst apiUpdateInvoiceSeries = (data, id, token) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'put',\r\n        maxBodyLength: Infinity,\r\n        url: appConfig.apiPrefix + `/invoiceseries/${id}`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        data: data,\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\n// Invoice Series NTC\r\nconst apiGetInvoiceNTC = (\r\n  { filter, id, loginCode, fromDate, uptoDate, channelCode, locationCode },\r\n  token,\r\n) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'get',\r\n        url:\r\n          appConfig.apiPrefix +\r\n          `/invoice/getinvoiceNTC/?Filter=${filter}&ID=${id}&LoginCode=${loginCode}&FromDate=${fromDate}&UptoDate=${uptoDate}&ChannelCode=${channelCode}&LocationCode=${locationCode}`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst apiGetInvoiceSeriesNTC = (channel, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/invoiceseriesntc/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst apiCreateInvoiceSeriesNTC = async (data, token) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'post',\r\n        maxBodyLength: Infinity,\r\n        url: appConfig.apiPrefix + `/invoiceseriesntc/`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        data: data,\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst apiUpdateInvoiceSeriesNTC = (data, id, token) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'put',\r\n        maxBodyLength: Infinity,\r\n        url: appConfig.apiPrefix + `/invoiceseriesntc/${id}`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        data: data,\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\n/* YEAR TAX DETAILS */\r\nconst apiGetYearTaxDetails = (token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/yeartaxdetail/`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst apiCreateYearTaxDetails = (yearCode, data, token) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'post',\r\n        maxBodyLength: Infinity,\r\n        url: appConfig.apiPrefix + `/yeartaxdetail/?YearCode=${yearCode}`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        data: data,\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst apiPOSTAsrunMatch = (data, channel, token, IsNTC) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'post',\r\n        maxBodyLength: Infinity,\r\n        url:\r\n          appConfig.apiPrefix +\r\n          `/asrun/asrunmatch/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}&IsNTC=${IsNTC}`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        data: data,\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport {\r\n  apiAsrunCreate,\r\n  apiGetInvoice,\r\n  apiGetInvoiceSeries,\r\n  apiCreateInvoiceSeries,\r\n  apiUpdateInvoiceSeries,\r\n  apiGetInvoiceNTC,\r\n  apiGetInvoiceSeriesNTC,\r\n  apiCreateInvoiceSeriesNTC,\r\n  apiUpdateInvoiceSeriesNTC,\r\n  apiGetYearTaxDetails,\r\n  apiCreateYearTaxDetails,\r\n  apiPOSTAsrunMatch,\r\n  apiGetTelecastReport,\r\n  apiGetTelecastReportSeries,\r\n};\r\n","import { Button, Dialog, Radio, Select } from 'components/ui';\r\nimport DatePickerRange from 'components/ui/DatePicker/DatePickerRange';\r\nimport { convertDateToYMD } from 'components/validators';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { GrClose } from 'react-icons/gr';\r\nimport { IoMdArrowForward } from 'react-icons/io';\r\nimport { apiGetInvoice } from 'services/BillingService';\r\nimport { apiGetclientmasterdropmaster } from 'services/CreditcontrolService';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\n\r\nfunction AddCreditNoteDialog({\r\n  isAddCNDialogOpen,\r\n  setIsAddCNDialogOpen,\r\n  noteType,\r\n  setNoteType,\r\n  setBills,\r\n  setShowLoader,\r\n  setCurPage,\r\n  channel,\r\n  loginId,\r\n  token,\r\n}) {\r\n  /* STATES */\r\n  const [clientList, setClientList] = useState([]);\r\n  const [form, setForm] = useState({\r\n    client: '',\r\n    datesRange: [null, null],\r\n  });\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    try {\r\n      (async () => {\r\n        if (isAddCNDialogOpen) {\r\n          const response = await apiGetclientmasterdropmaster();\r\n          if (response.status === 200) {\r\n            let clientList = [];\r\n            clientList = response.data.map((client) => ({\r\n              label: client.ClientName,\r\n              value: client.ClientCode,\r\n            }));\r\n            setClientList(clientList);\r\n          } else if (response.status === 204) {\r\n            openNotification('info', 'No clients found!');\r\n          } else {\r\n            openNotification(\r\n              'error',\r\n              `Something went wrong. Server responded with status code ${response.status}`,\r\n            );\r\n          }\r\n        }\r\n      })();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [isAddCNDialogOpen]);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleDialogClose = () => {\r\n    try {\r\n      setClientList([]);\r\n      setForm({\r\n        client: '',\r\n        datesRange: [null, null],\r\n      });\r\n      setIsAddCNDialogOpen(false);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      if (!validateFields(form)) {\r\n        return;\r\n      }\r\n      handleDialogClose();\r\n      setShowLoader(true);\r\n      let param = {\r\n        loginCode: loginId,\r\n        locationCode: channel.LocationCode,\r\n        fromDate: convertDateToYMD(form.datesRange[0]),\r\n        uptoDate: convertDateToYMD(form.datesRange[1]),\r\n        channelCode: channel.ChannelCode,\r\n        id: 4,\r\n        filter: `${form.client}`,\r\n      };\r\n      let response = await apiGetInvoice(param, token);\r\n      if (response.status === 200) {\r\n        setBills(response.data);\r\n        setCurPage('bills');\r\n      } else if (response.status === 204) {\r\n        setBills([]);\r\n        setCurPage('bills');\r\n      } else {\r\n        openNotification(\r\n          'danger',\r\n          `Something went wrong. Server responded with status code ${response.status}.`,\r\n          'Error',\r\n        );\r\n      }\r\n      setShowLoader(false);\r\n    } catch (error) {\r\n      if ('message' in error) {\r\n        openNotification('danger', `${error.message}`, 'Error');\r\n      } else {\r\n        openNotification('danger', `Something went wrong.`, 'Error');\r\n      }\r\n      setShowLoader(false);\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  /* HELPER FUNCTIONS */\r\n  const validateFields = (form) => {\r\n    try {\r\n      if (noteType.value !== 1 && noteType.value !== 0) {\r\n        openNotification('danger', 'Please select Credit/Debit note type!');\r\n        return false;\r\n      }\r\n      if (form.client === '') {\r\n        openNotification('danger', 'Please select client!');\r\n        return false;\r\n      }\r\n      if (form.datesRange[0] === null || form.datesRange[1] === null) {\r\n        openNotification('danger', 'Please select valid date range!');\r\n        return false;\r\n      }\r\n      return true;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      isOpen={isAddCNDialogOpen}\r\n      onClose={handleDialogClose}\r\n      onRequestClose={handleDialogClose}\r\n      closable={false}\r\n    >\r\n      <div className=\"flex justify-between relative items-center mb-4\">\r\n        <h5>Add Credit/Debit Note</h5>\r\n        <Button\r\n          shape=\"circle\"\r\n          variant=\"plain\"\r\n          icon={<GrClose className=\"text-gray-500\" />}\r\n          onClick={handleDialogClose}\r\n          className=\"absolute -top-4 -right-4\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <div>\r\n          <p className=\"text-white\">\r\n            Type <span className=\"text-red-500\">*</span>\r\n          </p>\r\n          <Radio.Group\r\n            value={noteType.value}\r\n            onChange={(value) => {\r\n              setNoteType({\r\n                value: value,\r\n                label: value === 1 ? 'Credit' : 'Debit',\r\n              });\r\n            }}\r\n            className=\"mt-2\"\r\n          >\r\n            <Radio value={1}>Credit</Radio>\r\n            <Radio value={0}>Debit</Radio>\r\n          </Radio.Group>\r\n        </div>\r\n        <div className=\"mt-4\">\r\n          <p className=\"text-white\">\r\n            Client <span className=\"text-red-500\">*</span>\r\n          </p>\r\n          <Select\r\n            placeholder=\"Select\"\r\n            className=\"mt-1 caret-white\"\r\n            size=\"sm\"\r\n            options={clientList}\r\n            onChange={(option) => {\r\n              setForm({ ...form, client: option?.value });\r\n            }}\r\n            name=\"client\"\r\n            autoFocus\r\n            defaultMenuIsOpen\r\n            closeMenuOnSelect\r\n          />\r\n        </div>\r\n        <div className=\"mt-4\">\r\n          <p className=\"text-white\">\r\n            Dates Range <span className=\"text-red-500\">*</span>\r\n          </p>\r\n          <DatePickerRange\r\n            value={form.datesRange}\r\n            onChange={(datesRange) => {\r\n              setForm({ ...form, datesRange: datesRange });\r\n            }}\r\n            placeholder=\"Select\"\r\n            size=\"sm\"\r\n            className=\"mt-1\"\r\n            disabled={!form.client}\r\n            maxDate={new Date(new Date().setDate(new Date().getDate() + 30))}\r\n            name=\"datesRange\"\r\n          />\r\n        </div>\r\n        <div className=\"text-right mt-8 flex gap-2 items-center justify-end\">\r\n          <Button variant=\"plain\" onClick={handleDialogClose} className=\"!px-4\">\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            variant=\"solid\"\r\n            disabled={\r\n              (noteType.value != 0 && noteType.value != 1) ||\r\n              !form.datesRange[0] ||\r\n              !form.datesRange[1] ||\r\n              !form.client\r\n            }\r\n            onClick={handleSubmit}\r\n            icon={<IoMdArrowForward />}\r\n            className=\"!px-4\"\r\n          >\r\n            Get Bills\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default AddCreditNoteDialog;\r\n","import { Card, DatePicker, Input } from 'components/ui';\r\nimport DatePickerRange from 'components/ui/DatePicker/DatePickerRange';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { numberToINRFormat } from 'views/Controls/GLOBALFUNACTION';\r\nimport WarningDialog from '../../../Controls/WarningDialog';\r\n\r\nfunction GenerateCDNoteHeader({ bill, cdnDate, setCDNDate, newRateTotal }) {\r\n  /* STATES */\r\n  const [newDate, setNewDate] = useState(null);\r\n  const [\r\n    isChangeGenerateCDNDateDialogOpen,\r\n    setIsChangeGenerateCDNDateDialogOpen,\r\n  ] = useState(false);\r\n\r\n  const cdnDateRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      if (cdnDateRef.current) {\r\n        if (!cdnDate) {\r\n          cdnDateRef.current.focus();\r\n        } else {\r\n          cdnDateRef.current.blur();\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [cdnDate]);\r\n\r\n  return (\r\n    <>\r\n      <Card bodyClass=\"grid grid-cols-4 gap-4 p-3\">\r\n        <div>\r\n          <p for=\"client\" className=\"text-white\">\r\n            Invoice No\r\n          </p>\r\n          <Input\r\n            className=\"mt-1\"\r\n            disabled\r\n            value={bill.INVOICENO}\r\n            size=\"sm\"\r\n          ></Input>\r\n        </div>\r\n        <div>\r\n          <p for=\"client\" className=\"text-white\">\r\n            Invoice Date\r\n          </p>\r\n          <Input\r\n            className=\"mt-1\"\r\n            disabled\r\n            value={bill.InvoiceDate}\r\n            size=\"sm\"\r\n          ></Input>\r\n        </div>\r\n        <div>\r\n          <p for=\"client\" className=\"text-white\">\r\n            Gross Amount\r\n          </p>\r\n          <Input\r\n            className=\"mt-1\"\r\n            disabled\r\n            value={bill.GrossAmount}\r\n            size=\"sm\"\r\n          ></Input>\r\n        </div>\r\n        <div>\r\n          <p for=\"client\" className=\"text-white\">\r\n            Dates Range\r\n          </p>\r\n          <DatePickerRange\r\n            size=\"sm\"\r\n            disabled\r\n            className=\"mt-1\"\r\n            clearable={false}\r\n            value={[new Date(bill.FromDate), new Date(bill.UptoDate)]}\r\n          />\r\n        </div>\r\n        <div>\r\n          <p for=\"client\" className=\"text-white\">\r\n            Client\r\n          </p>\r\n          <Input\r\n            className=\"mt-1\"\r\n            disabled\r\n            value={bill.ClientName}\r\n            size=\"sm\"\r\n          ></Input>\r\n        </div>\r\n        <div>\r\n          <p for=\"client\" className=\"text-white\">\r\n            Date <span className=\"text-red-500\">*</span>\r\n          </p>\r\n          <DatePicker\r\n            ref={cdnDateRef}\r\n            value={cdnDate}\r\n            placeholder=\"Select\"\r\n            className=\"mt-1\"\r\n            size=\"sm\"\r\n            defaultOpen\r\n            onChange={(date) => {\r\n              if (cdnDate) {\r\n                setNewDate(date);\r\n                setIsChangeGenerateCDNDateDialogOpen(true);\r\n              } else {\r\n                setCDNDate(date);\r\n              }\r\n            }}\r\n            maxDate={new Date(new Date().setDate(new Date().getDate() + 30))}\r\n            minDate={new Date(new Date().setDate(new Date().getDate() - 15))}\r\n          />\r\n        </div>\r\n        <div></div>\r\n        <div className=\"flex flex-col justify-center\">\r\n          <p for=\"client\" className=\"text-white\">\r\n            New Rate Total\r\n          </p>\r\n          <h5>&nbsp;{numberToINRFormat(newRateTotal)}</h5>\r\n        </div>\r\n      </Card>\r\n      <WarningDialog\r\n        isDialogOpen={isChangeGenerateCDNDateDialogOpen}\r\n        title=\"Change Date\"\r\n        description={`All the New Rate Amounts will be reset. Are you sure to continue?`}\r\n        submitButtonTitle=\"Reset\"\r\n        handleDialogSubmit={() => {\r\n          setCDNDate(newDate);\r\n          setIsChangeGenerateCDNDateDialogOpen(false);\r\n        }}\r\n        handleDialogClose={() => {\r\n          setNewDate(null);\r\n          setIsChangeGenerateCDNDateDialogOpen(false);\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default GenerateCDNoteHeader;\r\n","import { Card, Tooltip } from 'components/ui';\r\nimport { Column } from 'primereact/column';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { InputNumber } from 'primereact/inputnumber';\r\nimport React, { useEffect, useState } from 'react';\r\nimport {\r\n  numberToINRFormat,\r\n  openNotification,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport WarningDialog from '../../../Controls/WarningDialog';\r\n\r\n/* CONSTANTS */\r\nconst columns = [\r\n  { field: 'TelecastDate', header: 'Telecast Date' },\r\n  { field: 'TelecastTime', header: 'Telecast Time' },\r\n  { field: 'CommercialCaption', header: 'Caption' },\r\n  { field: 'DurInSec', header: 'Duration' },\r\n  { field: 'SpotRate', header: 'Rate' },\r\n  { field: 'SpotAmount', header: 'Amount' },\r\n  { field: 'ContentName', header: 'Program' },\r\n  { field: 'NewRateAmount', header: 'New Rate Amount ()' },\r\n];\r\n\r\nfunction SpotsTable({\r\n  spots,\r\n  setSpots,\r\n  generateCDNDate,\r\n  newRateTotal,\r\n  setNewRateTotal,\r\n  firstNewRate,\r\n  setFirstNewRate,\r\n  isResetAllNewRateDialogOpen,\r\n  setIsResetAllNewRateDialogOpen,\r\n  setLoader,\r\n  scrollHeight,\r\n}) {\r\n  /* STATES */\r\n  const [firstNewRateEnteredRow, setFirstNewRateEnteredRow] = useState(null);\r\n  const [newRate, setNewRate] = useState(null);\r\n  const [isApplyToAllDialogOpen, setIsApplyToAllDialogOpen] = useState(false);\r\n\r\n  // USE EFFECTS\r\n  useEffect(() => {\r\n    try {\r\n      handleNewRateReset();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [generateCDNDate]);\r\n\r\n  /* HELPER COMPONENTS */\r\n  const DefaultNewRateAmountCell = ({ generateCDNDate, options }) => {\r\n    try {\r\n      return (\r\n        <Tooltip\r\n          title={\r\n            !generateCDNDate\r\n              ? 'Select date to enter new amount'\r\n              : 'Enter new amount'\r\n          }\r\n          wrapperClass=\"w-full border border-slate-500 rounded m-1 p-1 hover:cursor-pointer w-full\"\r\n        >\r\n          <div\r\n            onClick={() =>\r\n              openNotification(\r\n                'danger',\r\n                'Please select a date to enter new rate',\r\n              )\r\n            }\r\n            className=\"w-full text-center\"\r\n          >\r\n            {options.value}\r\n          </div>\r\n        </Tooltip>\r\n      );\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const NewRateAmountCellEditor = (options) => {\r\n    try {\r\n      if (options) {\r\n        if (generateCDNDate) {\r\n          if (options.field === 'NewRateAmount' && options.rowData) {\r\n            const value = !options.rowData.NewRateAmount\r\n              ? options.rowData.NewRateAmount\r\n              : options.rowData.NewRateAmount === '-'\r\n              ? ''\r\n              : options.rowData.NewRateAmount;\r\n            return (\r\n              <InputNumber\r\n                value={value}\r\n                onChange={(e) => {\r\n                  onCellEditChange(e, options, value);\r\n                }}\r\n                onKeyDown={(e) => e.stopPropagation()}\r\n                locale=\"en-IN\"\r\n                minFractionDigits={2}\r\n                maxFractionDigits={2}\r\n                inputClassName=\"text-white p-1\"\r\n                className=\"hover:cursor-pointer m-1 w-full\"\r\n                prefix=\" \"\r\n              />\r\n            );\r\n          } else {\r\n            return (\r\n              <DefaultNewRateAmountCell\r\n                generateCDNDate={generateCDNDate}\r\n                options={options}\r\n              />\r\n            );\r\n          }\r\n        } else {\r\n          return (\r\n            <DefaultNewRateAmountCell\r\n              generateCDNDate={generateCDNDate}\r\n              options={options}\r\n            />\r\n          );\r\n        }\r\n      }\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  /* EVENT LISTENERS */\r\n  const onCellEditChange = (event, options, value) => {\r\n    try {\r\n      if (event.value === null || event.value <= 0) {\r\n        options.editorCallback(0);\r\n        setNewRate(0);\r\n        setNewRateTotal(parseFloat((newRateTotal - value).toFixed(2)));\r\n      } else if (event.originalEvent.key === '-') {\r\n        options.editorCallback('');\r\n        setNewRate(null);\r\n        setNewRateTotal(parseFloat((newRateTotal - value).toFixed(2)));\r\n        openNotification('danger', 'Amount cannot be negative');\r\n      } else if (event.value > 0) {\r\n        options.editorCallback(event.value);\r\n        setNewRate(event.value);\r\n        setNewRateTotal(\r\n          parseFloat((newRateTotal + event.value - value).toFixed(2)),\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const onCellEditComplete = (e) => {\r\n    try {\r\n      let { rowData, newValue, field, originalEvent: event } = e;\r\n      if (\r\n        newValue === null ||\r\n        newValue === '' ||\r\n        newValue === 0 ||\r\n        newValue === '-'\r\n      ) {\r\n        rowData[field] = '-';\r\n        let spotsWithNewRate = JSON.parse(JSON.stringify(spots));\r\n        spotsWithNewRate.forEach((spot) => {\r\n          if (spot.Id === rowData.Id) {\r\n            spot.NewRateAmount = '-';\r\n          }\r\n        });\r\n        setSpots(spotsWithNewRate);\r\n      } else {\r\n        if (firstNewRate) {\r\n          setIsApplyToAllDialogOpen(true);\r\n          setFirstNewRateEnteredRow(rowData);\r\n        } else {\r\n          rowData[field] = newValue;\r\n          let spotsWithNewRate = JSON.parse(JSON.stringify(spots));\r\n          spotsWithNewRate.forEach((spot) => {\r\n            if (spot.Id === rowData.Id) {\r\n              spot.NewRateAmount = newValue;\r\n            }\r\n          });\r\n          setSpots(spotsWithNewRate);\r\n        }\r\n      }\r\n      event.preventDefault();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleApplyToAll = () => {\r\n    try {\r\n      setLoader(true);\r\n      let spotsWithNewRate = JSON.parse(JSON.stringify(spots));\r\n      let rateTotal = 0;\r\n      spotsWithNewRate.forEach((spot) => {\r\n        spot.NewRateAmount = newRate;\r\n        rateTotal = rateTotal + newRate;\r\n      });\r\n      setSpots(spotsWithNewRate);\r\n      setNewRateTotal(parseFloat(rateTotal.toFixed(2)));\r\n      setFirstNewRate(false);\r\n      setIsApplyToAllDialogOpen(false);\r\n      setLoader(false);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleIsApplyToAllDialogClose = () => {\r\n    try {\r\n      let spotsWithNewRate = JSON.parse(JSON.stringify(spots));\r\n      spotsWithNewRate.forEach((spot) => {\r\n        if (spot.Id === firstNewRateEnteredRow.Id) {\r\n          spot.NewRateAmount = newRate;\r\n        }\r\n      });\r\n      setSpots(spotsWithNewRate);\r\n      setNewRateTotal(parseFloat(newRateTotal.toFixed(2)));\r\n      setFirstNewRate(false);\r\n      setIsApplyToAllDialogOpen(false);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleNewRateReset = () => {\r\n    try {\r\n      let resettedSpots = JSON.parse(JSON.stringify(spots));\r\n      resettedSpots.forEach((spot) => {\r\n        spot.NewRateAmount = '-';\r\n      });\r\n      setSpots(resettedSpots);\r\n      setFirstNewRate(true);\r\n      setNewRateTotal(0);\r\n      setIsResetAllNewRateDialogOpen(false);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {spots.length > 0 ? (\r\n        <DataTable\r\n          value={spots}\r\n          editMode=\"cell\"\r\n          tableStyle={{ width: '100%' }}\r\n          size=\"small\"\r\n          paginator\r\n          rows={10}\r\n          rowsPerPageOptions={[5, 10, 25, 50]}\r\n          scrollable\r\n          scrollHeight={scrollHeight}\r\n        >\r\n          {columns.map(({ field, header }) => {\r\n            if (field === 'NewRateAmount') {\r\n              return (\r\n                <Column\r\n                  key={field}\r\n                  field={field}\r\n                  header={header}\r\n                  style={{ width: 'max-content' }}\r\n                  editor={(options) => NewRateAmountCellEditor(options)}\r\n                  onCellEditComplete={onCellEditComplete}\r\n                  bodyClassName=\"hover:cursor-pointer\"\r\n                  headerClassName=\"px-1 py-3\"\r\n                  headerStyle={{\r\n                    paddingInline: '0.25rem',\r\n                    paddingBlock: '0.75rem',\r\n                  }}\r\n                  body={(rowData) => (\r\n                    <Tooltip\r\n                      title={\r\n                        !generateCDNDate\r\n                          ? 'Select date to enter new amount'\r\n                          : 'Enter new amount'\r\n                      }\r\n                      wrapperClass=\"w-full border border-slate-500 rounded m-1 p-1\"\r\n                    >\r\n                      <div className=\"w-full text-center\">\r\n                        {rowData[field] === '-'\r\n                          ? rowData[field]\r\n                          : numberToINRFormat(rowData[field])}\r\n                      </div>\r\n                    </Tooltip>\r\n                  )}\r\n                />\r\n              );\r\n            } else {\r\n              return (\r\n                <Column\r\n                  key={field}\r\n                  field={field}\r\n                  header={header}\r\n                  style={{ width: 'max-content' }}\r\n                />\r\n              );\r\n            }\r\n          })}\r\n        </DataTable>\r\n      ) : (\r\n        <div className={`h-[${scrollHeight}] flex justify-center items-center`}>\r\n          No Spots to show\r\n        </div>\r\n      )}\r\n      <WarningDialog\r\n        isDialogOpen={isApplyToAllDialogOpen}\r\n        title=\"Apply to all\"\r\n        description={`Do you wish to apply INR ${numberToINRFormat(\r\n          newRate,\r\n        )} to all the spots?`}\r\n        submitButtonTitle=\"Apply\"\r\n        handleDialogSubmit={handleApplyToAll}\r\n        handleDialogClose={handleIsApplyToAllDialogClose}\r\n      />\r\n      <WarningDialog\r\n        isDialogOpen={isResetAllNewRateDialogOpen}\r\n        title=\"Reset New Rate Amounts\"\r\n        description={`All the New Rate Amounts will be reset. Are you sure to continue?`}\r\n        submitButtonTitle=\"Reset\"\r\n        handleDialogSubmit={handleNewRateReset}\r\n        handleDialogClose={() => setIsResetAllNewRateDialogOpen(false)}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SpotsTable;\r\n","import { Button, Dialog, Input } from 'components/ui';\r\nimport React from 'react';\r\nimport { apiCreateCreditDebitMaster } from 'services/AccountsServices';\r\nimport {\r\n  numberToINRFormat,\r\n  openNotification,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\n\r\nfunction SaveCDNoteDialog({\r\n  isSaveDialogOpen,\r\n  setIsSaveDialogOpen,\r\n  noteType,\r\n  invoiceNo,\r\n  clientName,\r\n  cdNoteDate,\r\n  spotsWithNewRate,\r\n  newRateTotal,\r\n  remarks,\r\n  setRemarks,\r\n  cdNoteBill,\r\n  resetPage,\r\n  channel,\r\n  token,\r\n}) {\r\n  /* EVENT HANDLER */\r\n  const handleSaveCDNote = async () => {\r\n    try {\r\n      let details = [];\r\n      spotsWithNewRate.forEach((spot) => {\r\n        if (spot.NewRateAmount !== '-' && spot.NewRateAmount > 0) {\r\n          details.push({\r\n            BookingNumber: cdNoteBill.BookingNumber,\r\n            BookingDetailID: spot.BookingDetailID,\r\n            DealNumber: spot.DealNumber,\r\n            DealLineItemID: spot.DealLineItemNo,\r\n            CreditDebitCode: noteType.value,\r\n            CreditDebitamount: spot.NewRateAmount,\r\n          });\r\n        }\r\n      });\r\n      const data = {\r\n        request: {\r\n          LocationCode: channel.LocationCode,\r\n          ChannelCode: channel.ChannelCode,\r\n          BookingNumber: cdNoteBill.BookingNumber,\r\n          InvoiceNumber: cdNoteBill.BillNumber,\r\n          InvoiceDate: cdNoteBill.InvoiceDate,\r\n          CancelDate: '',\r\n          Amount: newRateTotal,\r\n          Remarks: remarks,\r\n          CreditDebitStatus: noteType.value,\r\n          ServiceTax: 0,\r\n          QRCODE: '',\r\n          IRNNumber: '',\r\n          AckNo: '',\r\n          IRNStatus: '',\r\n          SignedInvoice: '',\r\n          IsActive: 1,\r\n          RefDate: cdNoteDate,\r\n        },\r\n        details,\r\n      };\r\n\r\n      // Do API call here to create credit note\r\n      const response = await apiCreateCreditDebitMaster(data, token);\r\n      if (response.status === 200) {\r\n        openNotification('success', 'Credit Note created successfully');\r\n      } else {\r\n        openNotification(\r\n          'danger',\r\n          `Unable to create ${noteType.label} note. Server responded with status code ${response.status}`,\r\n        );\r\n      }\r\n      handleDialogClose();\r\n      // Back to home screen.\r\n      resetPage();\r\n    } catch (error) {\r\n      openNotification(\r\n        'danger',\r\n        'Something went wrong. Unable to create credit note.',\r\n      );\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleDialogClose = () => {\r\n    try {\r\n      setIsSaveDialogOpen(false);\r\n      setRemarks('');\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      isOpen={isSaveDialogOpen}\r\n      onClose={handleDialogClose}\r\n      onRequestClose={handleDialogClose}\r\n      className=\"!w-[27%]\"\r\n    >\r\n      <h5 className=\"mb-4 border-b pb-3 border-gray-600\">\r\n        {noteType.label} Note\r\n      </h5>\r\n      <div className=\"flex flex-col gap-4\">\r\n        <div className={`flex items-center justify-between`}>\r\n          <span>Invoice No</span>\r\n          <span className=\"font-medium max-w-[50%] text-end\">{invoiceNo}</span>\r\n        </div>\r\n        <div className={`flex items-center justify-between`}>\r\n          <span>Client</span>\r\n          <span className=\"font-medium max-w-[50%] text-end\">{clientName}</span>\r\n        </div>\r\n        <div className={`flex items-center justify-between`}>\r\n          <span>{noteType.label} Note Date</span>\r\n          <span className=\"font-medium max-w-[50%] text-end\">{cdNoteDate}</span>\r\n        </div>\r\n        <div className={`flex items-center justify-between`}>\r\n          <span>Spots count</span>\r\n          <span className=\"font-medium max-w-[50%] text-end\">\r\n            {\r\n              spotsWithNewRate.filter(\r\n                (spot) => spot.NewRateAmount !== '-' && spot.NewRateAmount > 0,\r\n              ).length\r\n            }\r\n          </span>\r\n        </div>\r\n        <div className={`flex items-center justify-between`}>\r\n          <span>New rate total</span>\r\n          <span className=\"font-medium max-w-[50%] text-end\">\r\n            {numberToINRFormat(newRateTotal)}\r\n          </span>\r\n        </div>\r\n        <div>\r\n          <Input\r\n            className=\"mt-1\"\r\n            size=\"sm\"\r\n            textArea\r\n            placeholder=\"Remarks\"\r\n            autoFocus\r\n            value={remarks}\r\n            maxLength={150}\r\n            onChange={(e) => setRemarks(e.target.value)}\r\n          ></Input>\r\n        </div>\r\n      </div>\r\n      <div className=\"text-right mt-4 flex items-center justify-end\">\r\n        <Button\r\n          className=\"ltr:mr-2 rtl:ml-2\"\r\n          variant=\"plain\"\r\n          size=\"sm\"\r\n          onClick={handleDialogClose}\r\n        >\r\n          Cancel\r\n        </Button>\r\n        <Button variant=\"solid\" size=\"sm\" onClick={handleSaveCDNote}>\r\n          Confirm\r\n        </Button>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default SaveCDNoteDialog;\r\n","import React, { useEffect, useState } from 'react';\r\nimport SaveCDNoteDialog from './SaveCDNoteDialog';\r\nimport { StickyFooter } from 'components/shared';\r\nimport { Button, Tooltip } from 'components/ui';\r\nimport { IoSaveOutline } from 'react-icons/io5';\r\nimport { formatDateToDDMMMYYYY } from 'views/Controls/GLOBALFUNACTION';\r\nimport { convertDateToYMD } from 'components/validators';\r\n\r\nfunction SaveCDNoteStickyFooter({\r\n  setIsResetAllNewRateDialogOpen,\r\n  setIsDiscardDialogOpen,\r\n  isSaveDialogOpen,\r\n  setIsSaveDialogOpen,\r\n  firstNewRate,\r\n  newRateTotal,\r\n  cdnDate,\r\n  noteType,\r\n  cdNoteBill,\r\n  spotsWithNewRate,\r\n  remarks,\r\n  setRemarks,\r\n  resetPage,\r\n  channel,\r\n  token,\r\n}) {\r\n  /* STATES */\r\n  const [isDisableSaveBtn, setIsDisableSaveBtn] = useState(true);\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    if (Array.isArray(spotsWithNewRate)) {\r\n      const isDisable =\r\n        spotsWithNewRate.filter(\r\n          (spot) => spot.NewRateAmount === '-' || spot.NewRateAmount === 0,\r\n        ).length === spotsWithNewRate.length;\r\n      setIsDisableSaveBtn(isDisable);\r\n    }\r\n  }, [spotsWithNewRate]);\r\n\r\n  return (\r\n    <StickyFooter\r\n      className=\"-mx-8 px-8 flex items-center justify-end py-4\"\r\n      stickyClass=\"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700\"\r\n    >\r\n      <div className=\"flex gap-3\">\r\n        <Tooltip title=\"Reset New Rate Amounts\">\r\n          <Button\r\n            size=\"sm\"\r\n            variant=\"plain\"\r\n            onClick={() => setIsResetAllNewRateDialogOpen(true)}\r\n            disabled={firstNewRate}\r\n          >\r\n            Reset\r\n          </Button>\r\n        </Tooltip>\r\n        <Button\r\n          size=\"sm\"\r\n          onClick={() => {\r\n            setIsDiscardDialogOpen(true);\r\n          }}\r\n        >\r\n          Discard\r\n        </Button>\r\n        <Button\r\n          variant=\"solid\"\r\n          size=\"sm\"\r\n          icon={<IoSaveOutline />}\r\n          onClick={() => setIsSaveDialogOpen(true)}\r\n          disabled={isDisableSaveBtn}\r\n        >\r\n          Save\r\n        </Button>\r\n      </div>\r\n      <SaveCDNoteDialog\r\n        isSaveDialogOpen={isSaveDialogOpen}\r\n        setIsSaveDialogOpen={setIsSaveDialogOpen}\r\n        noteType={noteType}\r\n        invoiceNo={cdNoteBill.INVOICENO}\r\n        clientName={cdNoteBill.ClientName}\r\n        cdNoteDate={formatDateToDDMMMYYYY(convertDateToYMD(cdnDate))}\r\n        spotsWithNewRate={spotsWithNewRate}\r\n        newRateTotal={newRateTotal}\r\n        remarks={remarks}\r\n        setRemarks={setRemarks}\r\n        cdNoteBill={cdNoteBill}\r\n        resetPage={resetPage}\r\n        channel={channel}\r\n        token={token}\r\n      />\r\n    </StickyFooter>\r\n  );\r\n}\r\n\r\nexport default SaveCDNoteStickyFooter;\r\n","import { Button, Card, Dialog, Tooltip } from 'components/ui';\r\nimport InputwithVoice from 'components/ui/Input/InputwithVoice';\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { HiPlusCircle } from 'react-icons/hi';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n  columnsToINRFormat,\r\n  getDateFromDateTime,\r\n  isChannelSelected,\r\n  numberToINRFormat,\r\n  openNotification,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport HeaderExtra from 'views/Controls/HeaderExtra';\r\nimport AddCreditNoteDialog from './components/AddCreditNoteDialog';\r\nimport Loader from 'views/Controls/Loader';\r\nimport { getCreditNotes } from 'services/AccountsServices';\r\nimport DisplayTable from 'views/Controls/DisplayTable';\r\nimport { FaRegEye, FaRegTrashAlt } from 'react-icons/fa';\r\nimport GenerateCDNoteHeader from './components/GenerateCDNoteHeader';\r\nimport SpotsTable from './components/SpotsTable';\r\nimport { apiCallstoreprocedure } from 'services/CommonService';\r\nimport WarningDialog from '../../Controls/WarningDialog';\r\nimport SaveCDNoteStickyFooter from './components/SaveCDNoteStickyFooter';\r\nimport ReportsTable from 'views/Controls/ReportsTable/ReportsTable';\r\nimport { TbDownload } from 'react-icons/tb';\r\n\r\n/* CONSTANTS */\r\nconst CDN_COLUMNS = [\r\n  {\r\n    header: 'Date',\r\n    accessorKey: 'RefDate',\r\n  },\r\n  {\r\n    header: 'Type',\r\n    accessorKey: 'CreditDebitStatus',\r\n  },\r\n  {\r\n    header: 'Reference No',\r\n    accessorKey: 'RefNumber',\r\n  },\r\n  {\r\n    header: 'Invoice No',\r\n    accessorKey: 'InvoiceNumber',\r\n  },\r\n  {\r\n    header: 'Amount',\r\n    accessorKey: 'Amount',\r\n  },\r\n];\r\n\r\nconst CDN_BILLS_COLUMNS = [\r\n  {\r\n    header: 'Invoice No',\r\n    accessorKey: 'INVOICENO',\r\n  },\r\n  {\r\n    header: 'Invoice Date',\r\n    accessorKey: 'InvoiceDate',\r\n  },\r\n  {\r\n    header: 'Client',\r\n    accessorKey: 'ClientName',\r\n  },\r\n  {\r\n    header: 'Gross Amount',\r\n    accessorKey: 'GrossAmount',\r\n  },\r\n  {\r\n    header: 'Discount',\r\n    accessorKey: 'AgencyShare',\r\n  },\r\n  {\r\n    header: 'Taxes',\r\n    accessorKey: 'TotalTaxAmount',\r\n  },\r\n  {\r\n    header: 'Payable',\r\n    accessorKey: 'PayableAmount',\r\n  },\r\n];\r\n\r\n/* COMPONENTS */\r\nfunction DebouncedInput({\r\n  value: initialValue,\r\n  onChange,\r\n  debounce = 500,\r\n  ...props\r\n}) {\r\n  const [value, setValue] = useState(initialValue);\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue);\r\n  }, [initialValue]);\r\n\r\n  useEffect(() => {\r\n    const timeout = setTimeout(() => {\r\n      onChange(value);\r\n    }, debounce);\r\n\r\n    return () => clearTimeout(timeout);\r\n  }, [value]);\r\n\r\n  return (\r\n    <div className=\"flex justify-end\">\r\n      <div className=\"flex items-center font-semibold\">\r\n        <InputwithVoice\r\n          {...props}\r\n          value={value}\r\n          onChange={(e) => {\r\n            if (/^[0-9a-zA-Z\\s.]*$/.test(e.target.value)) {\r\n              setValue(e.target.value);\r\n            }\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst headerExtraContent = (\r\n  curPage,\r\n  setIsAddCNDialogOpen,\r\n  setIsDiscardDialogOpen,\r\n  DebouncedInput,\r\n  globalFilter,\r\n  setGlobalFilter,\r\n  channel,\r\n) => {\r\n  return (\r\n    <div className=\"flex items-center gap-2\">\r\n      {curPage === 'home' && (\r\n        <>\r\n          <DebouncedInput\r\n            value={globalFilter ?? ''}\r\n            placeholder=\"Search all columns...\"\r\n            size=\"sm\"\r\n            onChange={(value) => {\r\n              if (/^[0-9a-zA-Z\\s.]*$/.test(value)) {\r\n                setGlobalFilter(value);\r\n              }\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"solid\"\r\n            size=\"sm\"\r\n            icon={<HiPlusCircle />}\r\n            onClick={() => setIsAddCNDialogOpen(true)}\r\n            disabled={!isChannelSelected(channel)}\r\n          >\r\n            Add Credit/Debit Note\r\n          </Button>\r\n        </>\r\n      )}\r\n      {curPage === 'bills' && (\r\n        <>\r\n          <DebouncedInput\r\n            value={globalFilter ?? ''}\r\n            placeholder=\"Search all columns...\"\r\n            size=\"sm\"\r\n            onChange={(value) => {\r\n              if (/^[0-9a-zA-Z\\s.]*$/.test(value)) {\r\n                setGlobalFilter(value);\r\n              }\r\n            }}\r\n          />\r\n          <Tooltip title=\"Discard\">\r\n            <Button\r\n              variant=\"twoTone\"\r\n              size=\"sm\"\r\n              icon={<FaRegTrashAlt />}\r\n              onClick={() => {\r\n                setIsDiscardDialogOpen(true);\r\n              }}\r\n            ></Button>\r\n          </Tooltip>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction CreditNote() {\r\n  /* REDUX STATES */\r\n  const channel = useSelector((state) => state.locale.selectedChannel);\r\n  const loginId = useSelector((state) => state.auth.session.LoginId);\r\n  const token = useSelector((state) => state.auth.session.token);\r\n\r\n  /* STATES */\r\n  // Core States\r\n  const [existingCDNotes, setExistingCDNotes] = useState(null);\r\n  const [noteType, setNoteType] = useState({ value: 1, label: 'Credit' });\r\n  const [bills, setBills] = useState(null);\r\n  const [cdNoteBill, setCDNoteBill] = useState(null);\r\n  const [cdnDate, setCDNDate] = useState(null);\r\n  const [spotsWithNewRate, setSpotsWithNewRate] = useState(null);\r\n  const [newRateTotal, setNewRateTotal] = useState(0);\r\n  const [firstNewRate, setFirstNewRate] = useState(true);\r\n  const [remarks, setRemarks] = useState('');\r\n  //Table States\r\n  const [existingCDNGlobalFilter, setExistingCDNGlobalFilter] = useState('');\r\n  const [CreditNoteDataTable, setCreditNoteDataTable] = useState([]);\r\n  console.log(CreditNoteDataTable);\r\n\r\n  const [selectedRowC_D_Note, setSelectedRowC_D_Note] = useState(null);\r\n  const [selectedRowC_D_Note_Index, setSelectedRowC_D_Note_Index] =\r\n    useState(null);\r\n  const [cdnBillsGlobalFilter, setCDNBillsGlobalFilter] = useState('');\r\n  const [ManagedColumnInvoiceDetails, setManagedColumnInvoiceDetails] =\r\n    useState([]);\r\n  const [\r\n    ManagedColumnInvoiceDetailsNoteData,\r\n    setManagedColumnInvoiceDetailsNoteData,\r\n  ] = useState([]);\r\n  const [existingCDNotesData, setExistingCDNotesData] = useState(null);\r\n  const [ViewDataColumns] = useState(getTableColumnsWithActions());\r\n  // UI States\r\n  const [isAddCNDialogOpen, setIsAddCNDialogOpen] = useState(false);\r\n  const [showLoader, setShowLoader] = useState(false);\r\n  const [isResetAllNewRateDialogOpen, setIsResetAllNewRateDialogOpen] =\r\n    useState(false);\r\n  const [isDiscardDialogOpen, setIsDiscardDialogOpen] = useState(false);\r\n  const [showCreditNoteDialog, onShowCreditNoteDialogClose] = useState(false);\r\n\r\n  const [isSaveDialogOpen, setIsSaveDialogOpen] = useState(false);\r\n  const [loader, setLoader] = useState(false);\r\n  const [curPage, setCurPage] = useState('home');\r\n  // UI Table Function\r\n  function getTableColumnsWithActions() {\r\n    try {\r\n      return [\r\n        ...CDN_COLUMNS,\r\n        {\r\n          header: 'Action',\r\n          accessorKey: 'action',\r\n          actions: [\r\n            {\r\n              action: (rowIndex, rowData) => (\r\n                <div className=\"text-xs font-medium !w-max\">\r\n                  <div className=\"flex gap-2 justify-center\">\r\n                    <Tooltip title=\"View Note\">\r\n                      <Button\r\n                        size=\"xs\"\r\n                        icon={<FaRegEye />}\r\n                        onClick={() => {\r\n                          setSelectedRowC_D_Note(rowData);\r\n                          setSelectedRowC_D_Note_Index(rowIndex);\r\n                          onShowCreditNoteDialogClose(true);\r\n                        }}\r\n                      />\r\n                    </Tooltip>\r\n                    <Tooltip title=\"Download Note\">\r\n                      <Button\r\n                        size=\"xs\"\r\n                        icon={<TbDownload />}\r\n                        onClick={() => {\r\n                          setSelectedRowC_D_Note(rowData);\r\n                          setSelectedRowC_D_Note_Index(rowIndex);\r\n                          onShowCreditNoteDialogClose(true);\r\n                        }}\r\n                      />\r\n                    </Tooltip>\r\n                  </div>\r\n                </div>\r\n              ),\r\n            },\r\n          ],\r\n        },\r\n      ];\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  //\r\n  const CreditNoteColumns = useMemo(() => {\r\n    return [\r\n      { header: 'Agency Name', accessorKey: 'AgencyName' },\r\n      { header: 'Address Line1', accessorKey: 'AddressLine1' },\r\n      { header: 'Payable Amount', accessorKey: 'PayableAmount' },\r\n      { header: 'Client', accessorKey: 'ClientName' },\r\n      { header: 'Amount', accessorKey: 'Amount' },\r\n      { header: 'Ref Date', accessorKey: 'RefDate' },\r\n      { header: 'Invoice Date', accessorKey: 'InvoiceDate' },\r\n      { header: 'GSTN Id', accessorKey: 'GSTN_id' },\r\n      { header: 'Brand', accessorKey: 'BrandName' },\r\n      { header: 'Booking Ref', accessorKey: 'BookingRefNumber' },\r\n    ];\r\n  }, []);\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    try {\r\n      if (isChannelSelected(channel)) {\r\n        getExisitingCreditNotes();\r\n      }\r\n    } catch (error) {\r\n      openNotification(\r\n        'danger',\r\n        `Something went wrong while fetching credit notes.`,\r\n      );\r\n      setLoader(false);\r\n      console.error(error);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      if (isChannelSelected(channel)) {\r\n        resetPage();\r\n      } else {\r\n        openNotification(\r\n          'warning',\r\n          'Please select a channel to view credit notes',\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [channel]);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleEditNoteClick = async (clickedNote) => {\r\n    try {\r\n      // TODO: Fetch note details here for clicked note\r\n      console.log(clickedNote);\r\n    } catch (error) {\r\n      openNotification('danger', `Something went wrong`);\r\n      console.error(error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (selectedRowC_D_Note !== null)\r\n      handleGenerateCreditNoteClickPopUp(selectedRowC_D_Note.CreditDebitCode);\r\n  }, [selectedRowC_D_Note_Index]);\r\n  const handleGenerateCreditNoteClickPopUp = async (par_CreditDebitCode) => {\r\n    setShowLoader(true);\r\n    let data = {};\r\n    data.par_LocationCode = channel.LocationCode;\r\n    data.par_ChannelCode = channel.ChannelCode;\r\n    data.par_CreditDebitCode = par_CreditDebitCode;\r\n    data.par_Flag = 0;\r\n\r\n    apiCallstoreprocedure('usp_Billing_CreditDebitPrint', data)\r\n      .then((response) => {\r\n        if (response.status == 200) {\r\n          setShowLoader(false);\r\n          setCreditNoteDataTable(response.data);\r\n          console.log(response.status);\r\n        } else if (response.status == 204) {\r\n          setShowLoader(false);\r\n          setCreditNoteDataTable([]);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        if (error.response.status) {\r\n          setCreditNoteDataTable([]);\r\n          setShowLoader(false);\r\n        }\r\n      });\r\n  };\r\n\r\n  const handleGenerateCreditNoteClick = async (clickedBill) => {\r\n    try {\r\n      let param = {\r\n        LocationCode: channel.LocationCode,\r\n        ChannelCode: channel.ChannelCode,\r\n        InvoiceNumber: clickedBill.BillNumber,\r\n      };\r\n      let response = await apiCallstoreprocedure(\r\n        'USP_ShowInvoiceDetail',\r\n        param,\r\n      );\r\n      if (response.status === 200) {\r\n        setSpotsWithNewRate(\r\n          columnsToINRFormat(response.data, ['SpotRate', 'SpotAmount']).map(\r\n            (spot) => {\r\n              return {\r\n                ...spot,\r\n                TelecastDate: getDateFromDateTime(spot.TelecastDate),\r\n                TelecastTime: spot.TelecastTime,\r\n                NewRateAmount: '-',\r\n              };\r\n            },\r\n          ),\r\n        );\r\n      } else if (response.status === 204) {\r\n        setSpotsWithNewRate([]);\r\n      } else {\r\n        openNotification(\r\n          'danger',\r\n          `Something went wrong. Server responded with status code ${response.status} while fetching spots`,\r\n        );\r\n        setSpotsWithNewRate([]);\r\n      }\r\n      setCDNoteBill(clickedBill);\r\n      setCurPage('generateNote');\r\n    } catch (error) {\r\n      openNotification('danger', `Something went wrong while fetching spots`);\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  /* HELPER FUNCTIONS */\r\n  const getExisitingCreditNotes = async () => {\r\n    try {\r\n      setLoader(true);\r\n      const response = await getCreditNotes(channel, token);\r\n      if (response.status === 200) {\r\n        setExistingCDNotes(response.data);\r\n      } else if (response.status === 204) {\r\n        setExistingCDNotes([]);\r\n      } else {\r\n        openNotification(\r\n          'danger',\r\n          `Something went wrong. Server responded with status code ${response.status} while fetching credit notes.`,\r\n        );\r\n      }\r\n      setLoader(false);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const resetPage = () => {\r\n    try {\r\n      resetStates();\r\n      getExisitingCreditNotes();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const resetStates = () => {\r\n    try {\r\n      setExistingCDNotes(null);\r\n      setNoteType({ value: 1, label: 'Credit' });\r\n      setBills(null);\r\n      setCDNoteBill(null);\r\n      setCDNDate(null);\r\n      setSpotsWithNewRate(null);\r\n      setNewRateTotal(0);\r\n      setRemarks('');\r\n      setFirstNewRate(true);\r\n      setExistingCDNGlobalFilter('');\r\n      setCDNBillsGlobalFilter('');\r\n      setIsAddCNDialogOpen(false);\r\n      setIsResetAllNewRateDialogOpen(false);\r\n      setIsDiscardDialogOpen(false);\r\n      setIsSaveDialogOpen(false);\r\n      setLoader(false);\r\n      setCurPage('home');\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (existingCDNotes && existingCDNotes.length > 0) {\r\n      setExistingCDNotesData(\r\n        existingCDNotes.map((curNote) => {\r\n          return {\r\n            ...curNote,\r\n            CreditDebitStatus:\r\n              curNote.CreditDebitStatus === 0 ? 'Debit Note' : 'Credit Note',\r\n            RefDate: getDateFromDateTime(curNote.RefDate),\r\n            Amount: numberToINRFormat(curNote.Amount),\r\n          };\r\n        }),\r\n      );\r\n    }\r\n  }, [existingCDNotes]);\r\n\r\n  return (\r\n    <>\r\n      <Loader showLoader={showLoader} />\r\n      <Card\r\n        header={<HeaderExtra />}\r\n        headerExtra={headerExtraContent(\r\n          curPage,\r\n          setIsAddCNDialogOpen,\r\n          setIsDiscardDialogOpen,\r\n          DebouncedInput,\r\n          curPage === 'home'\r\n            ? existingCDNGlobalFilter\r\n            : curPage === 'bills'\r\n            ? cdnBillsGlobalFilter\r\n            : '',\r\n          curPage === 'home'\r\n            ? setExistingCDNGlobalFilter\r\n            : curPage === 'bills'\r\n            ? setCDNBillsGlobalFilter\r\n            : '',\r\n          channel,\r\n        )}\r\n        className=\"flex flex-col min-h-[87vh] mb-4\"\r\n        bodyClass=\"grow p-3\"\r\n      >\r\n        {!isChannelSelected(channel) && (\r\n          <div className=\"h-full flex justify-center items-center\">\r\n            Please select a channel to view credit notes\r\n          </div>\r\n        )}\r\n        {isChannelSelected(channel) && (\r\n          <>\r\n            {curPage === 'home' && (\r\n              <>\r\n                {existingCDNotes && existingCDNotes.length === 0 && (\r\n                  <div className=\"h-full flex justify-center items-center\">\r\n                    No Credit/Debit notes to show\r\n                  </div>\r\n                )}\r\n                {existingCDNotes && existingCDNotes.length > 0 && (\r\n                  <ReportsTable\r\n                    tableData={existingCDNotesData}\r\n                    originalColumns={ViewDataColumns}\r\n                    managedColumns={ManagedColumnInvoiceDetails}\r\n                    setManagedColumns={setManagedColumnInvoiceDetails}\r\n                    exportFileName=\"Credit & Debit Note\"\r\n                    columnsToFormatInINR={[]}\r\n                  />\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            {curPage === 'bills' && (\r\n              <>\r\n                {bills && bills.tmpbilldata.length === 0 && (\r\n                  <div className=\"h-full flex justify-center items-center\">\r\n                    No bills to show\r\n                  </div>\r\n                )}\r\n                {bills && bills.tmpbilldata.length > 0 && (\r\n                  <div className=\"h-full flex flex-col\">\r\n                    <h5 className=\"mb-3\">{`${noteType.label} Note`}</h5>\r\n                    <div className=\"grow\">\r\n                      <DisplayTable\r\n                        data={bills.tmpbilldata.map((bill) => {\r\n                          return {\r\n                            ...bill,\r\n                            TotalTaxAmount: numberToINRFormat(\r\n                              bill.TotalTaxAmount,\r\n                            ),\r\n                            InvoiceDate: getDateFromDateTime(bill.InvoiceDate),\r\n                            PayableAmount: numberToINRFormat(\r\n                              bill.PayableAmount,\r\n                            ),\r\n                            GrossAmount: numberToINRFormat(bill.GrossAmount),\r\n                            noteType: noteType,\r\n                          };\r\n                        })}\r\n                        columns={CDN_BILLS_COLUMNS}\r\n                        globalFilter={cdnBillsGlobalFilter}\r\n                        setGlobalFilter={setCDNBillsGlobalFilter}\r\n                        seteditData={handleGenerateCreditNoteClick}\r\n                        ExportName={'Credit/Debit Note Bills'}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n            {curPage === 'generateNote' && (\r\n              <>\r\n                {cdNoteBill &&\r\n                  Array.isArray(spotsWithNewRate) &&\r\n                  spotsWithNewRate.length === 0 && (\r\n                    <div className=\"h-full flex justify-center items-center\">\r\n                      No Spots to show\r\n                    </div>\r\n                  )}\r\n                {cdNoteBill &&\r\n                  Array.isArray(spotsWithNewRate) &&\r\n                  spotsWithNewRate.length > 0 && (\r\n                    <>\r\n                      <h5 className=\"mb-3\">{`${noteType.label} Note`}</h5>\r\n                      <GenerateCDNoteHeader\r\n                        bill={cdNoteBill}\r\n                        cdnDate={cdnDate}\r\n                        setCDNDate={setCDNDate}\r\n                        newRateTotal={newRateTotal}\r\n                      />\r\n                      <Card className=\"mt-4\" bodyClass=\"p-3 pt-2\">\r\n                        <h6 className=\"mb-2\">Spots</h6>\r\n                        <SpotsTable\r\n                          spots={spotsWithNewRate}\r\n                          setSpots={setSpotsWithNewRate}\r\n                          generateCDNDate={cdnDate}\r\n                          newRateTotal={newRateTotal}\r\n                          setNewRateTotal={setNewRateTotal}\r\n                          firstNewRate={firstNewRate}\r\n                          setFirstNewRate={setFirstNewRate}\r\n                          isResetAllNewRateDialogOpen={\r\n                            isResetAllNewRateDialogOpen\r\n                          }\r\n                          setIsResetAllNewRateDialogOpen={\r\n                            setIsResetAllNewRateDialogOpen\r\n                          }\r\n                          setLoader={setLoader}\r\n                          scrollHeight={'65vh'}\r\n                        />\r\n                      </Card>\r\n                    </>\r\n                  )}\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </Card>\r\n      {curPage === 'generateNote' && (\r\n        <SaveCDNoteStickyFooter\r\n          setIsResetAllNewRateDialogOpen={setIsResetAllNewRateDialogOpen}\r\n          setIsDiscardDialogOpen={setIsDiscardDialogOpen}\r\n          isSaveDialogOpen={isSaveDialogOpen}\r\n          setIsSaveDialogOpen={setIsSaveDialogOpen}\r\n          firstNewRate={firstNewRate}\r\n          newRateTotal={newRateTotal}\r\n          cdnDate={cdnDate}\r\n          noteType={noteType}\r\n          cdNoteBill={cdNoteBill}\r\n          spotsWithNewRate={spotsWithNewRate}\r\n          remarks={remarks}\r\n          setRemarks={setRemarks}\r\n          resetPage={resetPage}\r\n          channel={channel}\r\n          token={token}\r\n        />\r\n      )}\r\n      <AddCreditNoteDialog\r\n        isAddCNDialogOpen={isAddCNDialogOpen}\r\n        setIsAddCNDialogOpen={setIsAddCNDialogOpen}\r\n        noteType={noteType}\r\n        setNoteType={setNoteType}\r\n        setBills={setBills}\r\n        setShowLoader={setLoader}\r\n        setCurPage={setCurPage}\r\n        channel={channel}\r\n        loginId={loginId}\r\n        token={token}\r\n      />\r\n      <Loader showLoader={loader} />\r\n      <WarningDialog\r\n        isDialogOpen={isDiscardDialogOpen}\r\n        title=\"Discard\"\r\n        description={`Are you sure you want to discard?`}\r\n        submitButtonTitle=\"Discard\"\r\n        handleDialogSubmit={resetPage}\r\n        handleDialogClose={() => setIsDiscardDialogOpen(false)}\r\n      />\r\n      <Dialog\r\n        isOpen={showCreditNoteDialog}\r\n        onClose={() => onShowCreditNoteDialogClose(false)}\r\n        width={'90vw'}\r\n        height={'80vh'}\r\n        contentClassName=\"pt-3 flex flex-col\"\r\n      >\r\n        <h5 className=\"border-b border-gray-700 pb-2\">\r\n          Credit & Debit Note Info{' '}\r\n        </h5>\r\n        {/* <div className=\"flex gap-3 py-2 border-b border-gray-700\">\r\n          <div className=\"flex flex-col border-r border-r-gray-700 pr-3\">\r\n            <span className=\"font-semibold text-teal-500 text-base\">\r\n              {originalSpots.length}\r\n            </span>\r\n            <span>Total Spots</span>\r\n          </div>\r\n          <div className=\"flex flex-col border-r border-r-gray-700 pr-3\">\r\n            <span className=\"font-semibold text-teal-500 text-base\">\r\n              {getFieldTotal(originalSpots, 'DurInSec')}\r\n            </span>\r\n            <span>Total Duration</span>\r\n          </div>\r\n          <div className=\"flex flex-col border-r border-r-gray-700 pr-3\">\r\n            <span className=\"font-semibold text-teal-500 text-base\">\r\n              {currencySymbol}{' '}\r\n              {numberToINRFormat(\r\n                getFieldTotal(originalSpots, 'BillSpotAmount'),\r\n              )}\r\n            </span>\r\n            <span>Total Amount</span>\r\n          </div>\r\n        </div> */}\r\n        {CreditNoteDataTable.length > 0 ? (\r\n          <div className=\"grow mt-3\">\r\n            <ReportsTable\r\n              tableData={CreditNoteDataTable}\r\n              originalColumns={CreditNoteColumns}\r\n              managedColumns={ManagedColumnInvoiceDetailsNoteData}\r\n              setManagedColumns={setManagedColumnInvoiceDetailsNoteData}\r\n              exportFileName=\"Credit & Debit Note\"\r\n              columnsToFormatInINR={[]}\r\n            />\r\n            {/* <DisplayTable\r\n              data={CreditNoteDataTable}\r\n              columns={CreditNoteColumns}\r\n              globalFilter={creditNoteGlobalFilter}\r\n              setGlobalFilter={setCreditNoteGlobalFilter}\r\n              ExportName={`Credit Note`}\r\n            /> */}\r\n          </div>\r\n        ) : (\r\n          <p className=\"text-center\">No Spots Found</p>\r\n        )}\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CreditNote;\r\n","import { Breadcrumbs } from '@material-tailwind/react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nconst HeaderExtra = ({ ModuleText = 'Admin', Component, links }) => {\r\n  const currentRouteKey = useSelector(\r\n    (state) => state.auth.session.currentRouteKey,\r\n  );\r\n  const currentRouteTitle = useSelector(\r\n    (state) => state.base.common.currentRouteTitle,\r\n  );\r\n  console.log(currentRouteTitle);\r\n  // console.log(currentRouteKey);\r\n  const { title, Moduletitle } = useSelector((state) => state.auth.user);\r\n\r\n  return (\r\n    <div>\r\n      <p className=\"text-xl font-medium\">{currentRouteTitle}</p>\r\n      <Breadcrumbs style={{ marginLeft: '-15px', width: 'auto' }}>\r\n        <Link to=\"/home\" className=\"opacity-60 text-xs\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            className=\"h-3 w-3\"\r\n            viewBox=\"0 0 20 20\"\r\n            fill=\"currentColor\"\r\n          >\r\n            <path d=\"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z\" />\r\n          </svg>\r\n        </Link>\r\n        <Link\r\n          to={`/${Moduletitle === 'SALES ADMIN' ? 'SalesAdmin' : Moduletitle}`}\r\n          className=\"opacity-60 text-xs\"\r\n        >\r\n          <span>{Moduletitle}</span>\r\n        </Link>\r\n        <Link to=\"#\" className=\"text-xs\">\r\n          <span>{currentRouteTitle}</span>\r\n        </Link>\r\n      </Breadcrumbs>\r\n    </div>\r\n  );\r\n};\r\nexport default HeaderExtra;\r\n","import { Spinner } from 'components/ui';\r\nimport React from 'react';\r\n\r\nfunction Loader({ showLoader }) {\r\n  return (\r\n    <>\r\n      {showLoader ? (\r\n        <div className=\"dialog-overlay flex justify-center items-center z-50\">\r\n          <Spinner size=\"3.25rem\" />\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import { Button, Dialog } from 'components/ui';\r\nimport React from 'react';\r\n\r\nfunction WarningDialog({\r\n  isDialogOpen,\r\n  title,\r\n  description,\r\n  descClassName,\r\n  submitButtonTitle,\r\n  submitButtonColor,\r\n  handleDialogSubmit,\r\n  handleDialogClose,\r\n  overlayClassName,\r\n  secondaryDescription,\r\n}) {\r\n  return (\r\n    <Dialog\r\n      isOpen={isDialogOpen}\r\n      onClose={handleDialogClose}\r\n      onRequestClose={handleDialogClose}\r\n      overlayClassName={overlayClassName}\r\n    >\r\n      <h5 className=\"mb-4\">{title}</h5>\r\n      <p className={descClassName}>{description}</p>\r\n      <div className=\"flex justify-between items-center mt-6\">\r\n        <p>{secondaryDescription}</p>\r\n        <Button\r\n          variant=\"solid\"\r\n          color={submitButtonColor}\r\n          onMouseDown={handleDialogSubmit}\r\n        >\r\n          {submitButtonTitle}\r\n        </Button>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default WarningDialog;\r\n"],"names":["InputwithVoice","React","props","ref","asElement","Component","className","disabled","invalid","prefix","size","suffix","textArea","type","style","unstyle","field","form","rest","prefixGutter","setPrefixGutter","useState","suffixGutter","setSuffixGutter","isListening","setIsListening","inputValue","setInputValue","value","themeColor","controlSize","primaryColorLevel","direction","useConfig","formControlSize","useForm","inputGroupSize","useInputGroup","inputSize","val","defaultValue","isInvalid","useMemo","validate","isEmpty","touched","errors","touchedField","get","name","errorField","inputSizeClass","CONTROL_SIZES","inputFocusClass","inputWrapperClass","inputClass","classNames","prefixNode","useRef","suffixNode","inputRef","recognitionRef","useEffect","current","prefixNodeWidth","offsetWidth","suffixNodeWidth","isNil","getAffixSize","window","recognition","webkitSpeechRecognition","continuous","interimResults","lang","onresult","event","transcript","results","onChange","target","Event","bubbles","dispatchEvent","onend","onerror","remToPxConvertion","pixel","inputProps","e","renderTextArea","renderInput","leftGutter","rightGutter","gutterStyle","paddingLeft","paddingRight","affixGutterStyle","undefined","onClick","start","node","propTypes","PropTypes","SIZES","defaultProps","axios","require","getCreditNotes","async","channel","token","ApiService","method","url","LocationCode","ChannelCode","headers","Authorization","error","apiCreateCreditDebitMaster","data","Promise","resolve","reject","config","maxBodyLength","Infinity","appConfig","request","then","response","catch","apiInvoicePaymentUpdate","apiAsrunCreate","telecastDate","locationCode","channelCode","Error","apiGetInvoice","filter","id","loginCode","fromDate","uptoDate","apiGetInvoiceSeries","apiGetTelecastReport","SpotTypeCode","apiCreateInvoiceSeries","apiUpdateInvoiceSeries","apiGetInvoiceNTC","apiGetInvoiceSeriesNTC","apiCreateInvoiceSeriesNTC","apiUpdateInvoiceSeriesNTC","apiGetYearTaxDetails","apiCreateYearTaxDetails","yearCode","apiPOSTAsrunMatch","IsNTC","isAddCNDialogOpen","setIsAddCNDialogOpen","noteType","setNoteType","setBills","setShowLoader","setCurPage","loginId","clientList","setClientList","setForm","client","datesRange","apiGetclientmasterdropmaster","status","map","label","ClientName","ClientCode","openNotification","console","handleDialogClose","validateFields","isOpen","onClose","onRequestClose","closable","shape","variant","icon","placeholder","options","option","autoFocus","defaultMenuIsOpen","closeMenuOnSelect","DatePickerRange","maxDate","Date","setDate","getDate","param","convertDateToYMD","message","bill","cdnDate","setCDNDate","newRateTotal","newDate","setNewDate","isChangeGenerateCDNDateDialogOpen","setIsChangeGenerateCDNDateDialogOpen","cdnDateRef","blur","focus","bodyClass","for","INVOICENO","InvoiceDate","GrossAmount","clearable","FromDate","UptoDate","defaultOpen","date","minDate","numberToINRFormat","WarningDialog","isDialogOpen","title","description","submitButtonTitle","handleDialogSubmit","columns","header","spots","setSpots","generateCDNDate","setNewRateTotal","firstNewRate","setFirstNewRate","isResetAllNewRateDialogOpen","setIsResetAllNewRateDialogOpen","setLoader","scrollHeight","firstNewRateEnteredRow","setFirstNewRateEnteredRow","newRate","setNewRate","isApplyToAllDialogOpen","setIsApplyToAllDialogOpen","handleNewRateReset","DefaultNewRateAmountCell","wrapperClass","onCellEditChange","editorCallback","parseFloat","toFixed","originalEvent","key","onCellEditComplete","rowData","newValue","spotsWithNewRate","JSON","parse","stringify","forEach","spot","Id","NewRateAmount","preventDefault","resettedSpots","length","editMode","tableStyle","width","paginator","rows","rowsPerPageOptions","scrollable","editor","onKeyDown","stopPropagation","locale","minFractionDigits","maxFractionDigits","inputClassName","NewRateAmountCellEditor","bodyClassName","headerClassName","headerStyle","paddingInline","paddingBlock","body","rateTotal","isSaveDialogOpen","setIsSaveDialogOpen","invoiceNo","clientName","cdNoteDate","remarks","setRemarks","cdNoteBill","resetPage","maxLength","details","push","BookingNumber","BookingDetailID","DealNumber","DealLineItemID","DealLineItemNo","CreditDebitCode","CreditDebitamount","InvoiceNumber","BillNumber","CancelDate","Amount","Remarks","CreditDebitStatus","ServiceTax","QRCODE","IRNNumber","AckNo","IRNStatus","SignedInvoice","IsActive","RefDate","setIsDiscardDialogOpen","isDisableSaveBtn","setIsDisableSaveBtn","Array","isArray","isDisable","stickyClass","formatDateToDDMMMYYYY","CDN_COLUMNS","accessorKey","CDN_BILLS_COLUMNS","DebouncedInput","initialValue","debounce","setValue","timeout","setTimeout","clearTimeout","test","headerExtraContent","curPage","globalFilter","setGlobalFilter","isChannelSelected","useSelector","state","selectedChannel","auth","session","LoginId","existingCDNotes","setExistingCDNotes","bills","setCDNoteBill","setSpotsWithNewRate","existingCDNGlobalFilter","setExistingCDNGlobalFilter","CreditNoteDataTable","setCreditNoteDataTable","log","selectedRowC_D_Note","setSelectedRowC_D_Note","selectedRowC_D_Note_Index","setSelectedRowC_D_Note_Index","cdnBillsGlobalFilter","setCDNBillsGlobalFilter","ManagedColumnInvoiceDetails","setManagedColumnInvoiceDetails","ManagedColumnInvoiceDetailsNoteData","setManagedColumnInvoiceDetailsNoteData","existingCDNotesData","setExistingCDNotesData","ViewDataColumns","actions","action","rowIndex","onShowCreditNoteDialogClose","getTableColumnsWithActions","showLoader","isDiscardDialogOpen","showCreditNoteDialog","loader","CreditNoteColumns","getExisitingCreditNotes","handleGenerateCreditNoteClickPopUp","par_LocationCode","par_ChannelCode","par_CreditDebitCode","par_Flag","apiCallstoreprocedure","resetStates","curNote","getDateFromDateTime","Loader","HeaderExtra","headerExtra","ReportsTable","tableData","originalColumns","managedColumns","setManagedColumns","exportFileName","columnsToFormatInINR","tmpbilldata","DisplayTable","TotalTaxAmount","PayableAmount","seteditData","clickedBill","columnsToINRFormat","TelecastDate","TelecastTime","ExportName","height","contentClassName","ModuleText","links","currentRouteKey","currentRouteTitle","base","common","Moduletitle","user","Breadcrumbs","marginLeft","to","xmlns","viewBox","fill","d","descClassName","submitButtonColor","overlayClassName","secondaryDescription","color","onMouseDown"],"sourceRoot":""}