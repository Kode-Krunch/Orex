(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[8252,5682],{25579:(e,a,l)=>{"use strict";l.d(a,{Ei:()=>g,I6:()=>p,Qj:()=>d,U$:()=>u,Uy:()=>y,Z_:()=>s,_K:()=>C,b6:()=>i,d:()=>r,db:()=>x,fh:()=>v,gg:()=>h,hu:()=>o,iD:()=>c,rd:()=>m,w_:()=>S});l(54048);var t=l(46152),n=l(54748);l(74569);async function o(e){return t.Z.fetchData({url:"/dealmaster/".concat(e),method:"get"})}async function s(e){return t.Z.fetchData({url:"/dealattachment/".concat(e),method:"get"})}async function i(e,a,l){return t.Z.fetchData({url:"/dealmaster/dealforapproval/?DealNumber=".concat(e,"&IsApproved=").concat(a,"&RejectRemark=").concat(l),method:"get"})}async function r(e,a){return t.Z.fetchData({url:"/dealmaster/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&StartDate=").concat((0,n.Tk)(a[0]),"&EndDate=").concat((0,n.Tk)(a[1])),method:"get"})}async function d(e){return t.Z.fetchData({url:"/sponsortypemaster/drop/",method:"get",data:e})}async function c(e){return t.Z.fetchData({url:"/spottypemaster/drop/",method:"get",data:e})}async function u(e){return t.Z.fetchData({url:"/dealdetail/".concat(e),method:"get"})}async function m(e){return t.Z.fetchData({url:"/dealmaster/USP_Sch_DealConsumptionCheck/?DealNumber=".concat(e),method:"get"})}async function v(e,a,l,n,o,s){return t.Z.fetchData({url:"/dealmaster/bindstartnendtime/?LocationCode=".concat(o,"&ChannelCode=").concat(s,"&DealPeriodToDate=").concat(e,"&DealPeriodFromDate=").concat(a,"&ContentCode=").concat(l,"&OriginalRepeatCode=").concat(n),method:"get"})}async function C(e,a,l){return t.Z.fetchData({url:"/bookingdetails/bookingchange/?flag=".concat(e,"&IsNtc=").concat(l),method:"put",data:a})}async function h(e,a){var l={params:a};return t.Z.fetchData({url:"/callstoreprocedure/"+e,data:l,method:"post"})}async function g(e){return t.Z.fetchData({url:"/callstoreprocedure/"+e,data:{params:{}},method:"post"})}async function p(e,a,l){var n={params:{Bookingcode:a,IsNTC:l}};return t.Z.fetchData({url:"/callstoreprocedure/"+e,data:n,method:"post"})}async function x(e){var a={params:{CheckMonth:e}};return t.Z.fetchData({url:"/callstoreprocedure/USP_DealDashboardDoughnut",data:a,method:"post"})}async function y(e,a){var l={params:{BookingNumber:a,deallineitemno:0}};return t.Z.fetchData({url:"/callstoreprocedure/"+e,data:l,method:"post"})}async function S(e){return t.Z.fetchData({url:"currencyexchangerate/?basecurrency=".concat(e),method:"post"})}},44662:(e,a,l)=>{"use strict";l.d(a,{AK:()=>c,Fq:()=>v,NJ:()=>s,SX:()=>i,Yj:()=>C,al:()=>r,b8:()=>h,iq:()=>d,qf:()=>m,y7:()=>u});var t=l(54048),n=l(46152);const o=l(74569);async function s(e){return n.Z.fetchData({url:"/ntcmaster/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}const i=(e,a)=>new Promise(((l,n)=>{let s={method:"post",maxBodyLength:1/0,url:t.Z.apiPrefix+"/ntcmaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:e};o.request(s).then((e=>{l(e)})).catch((e=>{n(e)}))})),r=(e,a,l)=>new Promise(((n,s)=>{let i={method:"put",maxBodyLength:1/0,url:t.Z.apiPrefix+"/ntcmaster/"+a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)},data:e};o.request(i).then((e=>{n(e)})).catch((e=>{s(e)}))}));async function d(e){return n.Z.fetchData({url:"/ntctypemaster/drop/",method:"get",data:e})}async function c(e){return n.Z.fetchData({url:"/ntctypemaster/",method:"get",data:e})}const u=(e,a)=>fetch(t.Z.apiPrefix+"/ntctypemaster/".concat(e.NTCTypeCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({NTCTypeName:e.NTCTypeName,NtcTypeShortName:e.NtcTypeShortName,NTCGroupCode:e.NTCGroupCode,DefaultGAP:e.DefaultGAP,IsActive:e.IsActive})}),m=(e,a)=>fetch(t.Z.apiPrefix+"/ntctypemaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({NTCTypeName:e.NTCTypeName,NtcTypeShortName:e.NtcTypeShortName,NTCGroupCode:e.NTCGroupCode,DefaultGAP:e.DefaultGAP,IsActive:e.IsActive})}),v=(e,a)=>fetch(t.Z.apiPrefix+"/ntcgroupmaster/".concat(e.NTCGroupCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({NTCGroupName:e.NTCGroupName,IsActive:e.IsActive})}),C=(e,a)=>fetch(t.Z.apiPrefix+"/ntcgroupmaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({NTCGroupName:e.NTCGroupName,IsActive:e.IsActive})});async function h(e){return n.Z.fetchData({url:"/ntcgroupmaster/",method:"get",data:e})}},25146:(e,a,l)=>{"use strict";l.d(a,{J:()=>i});var t=l(1413),n=(l(72791),l(25415)),o=l(64802),s=l(81320);const i=(e,a,l,i,r,d,c,u,m)=>{if(0===d.length)return void(0,s.openNotification)("info","No data to export");const v=d.map((e=>(0,t.Z)({},e))),C={};u.forEach((e=>{e.accessorKey&&(console.log(e.accessorKey),console.log(C[e.accessorKey]),C[e.accessorKey]=e.header)}));const h=v.map((e=>{const a={};return Object.keys(e).forEach((l=>{C[l]?a[C[l]]=e[l]:a[l]=e[l]})),a})),g=Object.keys(C).length>0?Object.keys(C).map((e=>C[e])):[],p=(g.map((e=>({header:e,key:e}))),new n.Workbook),x=p.addWorksheet(c);for(let t=0;t<i;t++)x.addRow([]);const y=[];for(let t=0;t<l;t++)y.push("");if(y.push(...g),x.addRow(y),e){x.getRow(i+1).font={bold:!0,size:10}}if(r){const e=x.getRow(i+1);e.font={bold:!0,size:12},e.eachCell((e=>{e.border={top:{style:"medium"},left:{style:"medium"},bottom:{style:"medium"},right:{style:"medium"}},m||(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"009dff"}})}))}if(h.forEach((e=>{const a=[];for(let n=0;n<l;n++)a.push("");g.forEach((l=>{a.push(e[l]||"")}));const t=x.addRow(a);t.font={size:10},t.eachCell(((a,l)=>{a.value instanceof Date&&(a.value=new Date(Date.UTC(a.value.getFullYear(),a.value.getMonth(),a.value.getDate()))),m&&e.EventDefaultBackColor&&(a.fill={type:"pattern",pattern:"solid",fgColor:{argb:e.EventDefaultBackColor.substring(1)}}),m&&e.EventDefaultFrontColor&&(a.font={color:{argb:e.EventDefaultFrontColor.substring(1)}}),r&&(a.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}})}))})),x.columns.forEach((e=>{let a=10;e.eachCell((e=>{const l=(e.value||"").toString().length;a=Math.max(a,l)})),e.width=Math.min(30,a+2)})),x.views=[{state:"frozen",xSplit:l,ySplit:i+1,topLeftCell:"A".concat(i+2)}],a){const e=d.length+i+100,a=u.length>0?u.length+100:100;for(let l=1;l<=e;l++){const e=x.getRow(l);for(let l=1;l<=a;l++){const a=e.getCell(l);a.value=a.value||"",a.border={top:{style:"thin",color:{argb:"000000"}},left:{style:"thin",color:{argb:"000000"}},bottom:{style:"thin",color:{argb:"000000"}},right:{style:"thin",color:{argb:"000000"}}}}}}p.xlsx.writeBuffer().then((e=>{(0,o.saveAs)(new Blob([e]),"".concat(c,".xlsx"))}))}},45682:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>o});var t=l(2803),n=(l(72791),l(80184));const o=function(e){let{showLoader:a}=e;return(0,n.jsx)(n.Fragment,{children:a?(0,n.jsx)("div",{className:"dialog-overlay flex justify-center items-center z-50",children:(0,n.jsx)(t.$j,{size:"3.25rem"})}):(0,n.jsx)(n.Fragment,{})})}},1680:(e,a,l)=>{"use strict";l.r(a),l.d(a,{CLIENT:()=>t,CLIENTWiseUploadPath:()=>n});const t={LOCAL:"LOCAL",INDIA_SPORTS:"INDIA SPORTS TV",USA_Forbes:"Forbes",FOOD_INDIA:"India Food Food",FOOD_USA:"USA Food Food INT",SWAMI:"INDIA SWAMI FILMS",GEC:"GEC CHANNEL",USA_GEC:"USA GEC CHANNEL",INDIA_GEC:"INDIA GEC CHANNEL",NEWS:"NEWS CHANNEL",USA_NEWS:"NEWS CHANNEL USA",BeIN_Sports:"BeIN Sports",MASST_INDIA:"INDIA MASST",ASIANET:"INDIA ASIANET CINEMA",INDIAMYMOVIES:"INDIA MY MOVIES",ANI_PLUS:"SINGAPORE ANI PLUS",SATHIYAM_TV:"INDIA SATHIYAM TV"},n={USA_Forbes:"/playlist",ASIANET:"/video/volume1/playlist"}},34611:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>H});var t=l(1413),n=l(72791),o=l(92506),s=l(81724),i=l(2803),r=l(28653),d=l(81320),c=l(54748),u=l(81721),m=l(60364),v=l(25579),C=l(67388),h=l(44662),g=l(11308),p=l(58617),x=l(63524),y=l(25146),S=l(80184);const{Tr:j,Th:b,Td:T,THead:f,TBody:N}=i.iA,D=[{header:"Channel",accessorKey:"Channel",align:"right"},{header:"Type",accessorKey:"Type",align:"right"},{header:"Deal Description",accessorKey:"DealDescription",align:"right"},{header:"Spot Type",accessorKey:"SpotType",align:"right"},{header:"Week Days",accessorKey:"WeekDays",align:"right"},{header:"Rate",accessorKey:"Rate",align:"right"},{header:"Total Sec",accessorKey:"TotalSec",align:"right"},{header:"Used Sec",accessorKey:"UsedSec",align:"right"},{header:"Balance",accessorKey:"Balance",align:"right"},{header:"Total Amount",accessorKey:"TotalAmount",align:"right"},{header:"Used Amt",accessorKey:"UsedAmt",align:"right"},{header:"Balance Amt",accessorKey:"BalanceAmt",align:"right"}],I=e=>{let{datg:a,DataDisplay:l,setFormState:o,setfindId:s,setCurrentTab:r,step:d,setFormStateCopy:c,isChannelSelEnabledForDealDetails:u}=e;const{Content:v}=(0,m.useSelector)((e=>e.base.common)),C=(0,m.useSelector)((e=>e.theme.mode)),[h,g]=(0,n.useState)([]);return(0,n.useEffect)((()=>{if(0!==l.length){const e=l.map((e=>{var l,n,o,s,i,r,d,c;return(0,t.Z)({Type:null===(l=e.DealLineItemType)||void 0===l?void 0:l.label,DealDescription:["NA"!==(null===(n=e.TimeBandCode)||void 0===n?void 0:n.label)&&(null===(o=e.TimeBandCode)||void 0===o?void 0:o.label),"NA"!==(null===(s=e.ContentCode)||void 0===s?void 0:s.label)&&"NA"!==(null===(i=e.ContentCode)||void 0===i?void 0:i.label)?null===(r=e.ContentCode)||void 0===r?void 0:r.label:""].filter(Boolean).join(" "),SpotType:null===(d=e.SpotTypeCode)||void 0===d?void 0:d.label,WeekDays:null===(c=e.WeekDayCode)||void 0===c?void 0:c.label,Rate:a+ +(null===e||void 0===e?void 0:e.Rate),TotalSec:[0!==(null===e||void 0===e?void 0:e.TotalSpots)&&(null===e||void 0===e?void 0:e.TotalSpots),0!==(null===e||void 0===e?void 0:e.NTCTotalSpots)&&(null===e||void 0===e?void 0:e.NTCTotalSpots),0!==(null===e||void 0===e?void 0:e.Second)&&0!==(null===e||void 0===e?void 0:e.Second)?null===e||void 0===e?void 0:e.Second:""].filter(Boolean).join(" "),UsedSec:null!==e&&void 0!==e&&e.ConsumedSeconds?null===e||void 0===e?void 0:e.ConsumedSeconds:"00",Balance:null!==e&&void 0!==e&&e.BalancedSeconds?null===e||void 0===e?void 0:e.BalancedSeconds:[0!==e.TotalSpots&&e.TotalSpots,0!==e.NTCTotalSpots&&e.NTCTotalSpots,0!==e.Second&&0!==e.Second?e.Second:""].filter(Boolean).join(" "),TotalAmount:a+ +e.Amount,UsedAmt:"".concat(a," ").concat(0==(null===e||void 0===e?void 0:e.ConsumedAmount)||void 0==(null===e||void 0===e?void 0:e.ConsumedAmount)?"00":null===e||void 0===e?void 0:e.ConsumedAmount),BalanceAmt:"".concat(a," ").concat(0==(null===e||void 0===e?void 0:e.BalancedAmount)||void 0==(null===e||void 0===e?void 0:e.BalancedAmount)?e.Amount:null===e||void 0===e?void 0:e.BalancedAmount)},u&&{Channel:e.channel.label})}));g(e)}}),[l]),(0,S.jsxs)(i.Zb,{children:[(0,S.jsxs)(i.iA,{compact:!0,children:[(0,S.jsx)(f,{children:(0,S.jsxs)(j,{children:[(0,S.jsxs)(b,{style:{textTransform:"capitalize",textAlign:"right"},children:[" ",1==d&&"Action"]}),u&&(0,S.jsx)(b,{style:{textTransform:"capitalize"},children:"Channel"}),(0,S.jsx)(b,{style:{textTransform:"capitalize",textAlign:"right"},children:"Type"}),(0,S.jsx)(b,{style:{textTransform:"capitalize",textAlign:"right"},children:"NTC Type"}),(0,S.jsx)(b,{style:{textTransform:"capitalize",textAlign:"right"},children:"Deal Description"}),(0,S.jsx)(b,{style:{textTransform:"capitalize",textAlign:"right"},children:"Spot Type"}),(0,S.jsxs)(b,{style:{textTransform:"capitalize",textAlign:"right"},children:["Week Days"," "]}),(0,S.jsxs)(b,{style:{textTransform:"capitalize",textAlign:"right"},children:[" ","Rate"]}),(0,S.jsx)(b,{style:{textTransform:"capitalize",textAlign:"right"},children:"Total Sec"}),(0,S.jsx)(b,{style:{textTransform:"capitalize",textAlign:"right"},children:"Used Sec"}),(0,S.jsx)(b,{style:{textTransform:"capitalize",textAlign:"right"},children:"Balance"}),(0,S.jsx)(b,{style:{textTransform:"capitalize",textAlign:"right"},children:"Total Amount"}),(0,S.jsx)(b,{style:{textTransform:"capitalize",textAlign:"right"},children:"Used Amt"}),(0,S.jsx)(b,{style:{textTransform:"capitalize",textAlign:"right"},children:"Balance Amt"})]})}),(0,S.jsx)(N,{children:l.map(((e,t)=>{var n,m,h,g,x,y,b,f,N,D,I,A,P,k,R;return(0,S.jsxs)(j,{className:"dark"===C&&"BorderIwant",style:{textDecoration:1!==e.LineItemCancelStatus?"none":"line-through"},children:[(0,S.jsx)(T,{style:{textTransform:"capitalize",textAlign:"right"},className:"dark"!==C&&"tdLight",children:(0,S.jsxs)("div",{className:"flex items-center ",children:[(0,S.jsx)("div",{style:{height:30,width:5},className:" mr-3 ".concat(4==(null===(n=e.DealLineItemType)||void 0===n?void 0:n.value)?"bg-lime-300":null," ").concat(3==(null===(m=e.DealLineItemType)||void 0===m?void 0:m.value)?"bg-rose-600":null," ").concat(1==(null===(h=e.DealLineItemType)||void 0===h?void 0:h.value)?"bg-teal-300":null," ").concat(5==(null===(g=e.DealLineItemType)||void 0===g?void 0:g.value)?"bg-orange-200":null," ").concat(6==(null===(x=e.DealLineItemType)||void 0===x?void 0:x.value)?"bg-orange-200":null," ").concat(2==(null===(y=e.DealLineItemType)||void 0===y?void 0:y.value)?"bg-cyan-300":null)}),1==d&&(0,S.jsx)(i.zx,{size:"xs",icon:(0,S.jsx)(p.LsQ,{}),onClick:()=>{const a=l.filter((a=>a.DealLineItemNo==e.DealLineItemNo));console.log(...a),o(...a),v.DealCode&&c(...a),r(a[0].name),s(t)}})]})}),u&&(0,S.jsx)(T,{style:{textTransform:"capitalize"},className:"dark"!==C&&"tdLight",children:e.channel.label}),(0,S.jsx)(T,{style:{textTransform:"capitalize",textAlign:"right"},className:"dark"!==C&&"tdLight",children:null===(b=e.DealLineItemType)||void 0===b?void 0:b.label}),(0,S.jsx)(T,{style:{textTransform:"capitalize",textAlign:"right"},className:"dark"!==C&&"tdLight",children:"NA"!=(null===(f=e.NTCTypeCode)||void 0===f?void 0:f.label)?null===(N=e.NTCTypeCode)||void 0===N?void 0:N.label:""}),(0,S.jsxs)(T,{style:{width:30,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textTransform:"capitalize",textAlign:"right"},className:"dark"!==C?"tdLight":"",children:["NA"!==(null===(D=e.TimeBandCode)||void 0===D?void 0:D.label)&&(null===(I=e.TimeBandCode)||void 0===I?void 0:I.label)," ","NA"!==(null===(A=e.ContentCode)||void 0===A?void 0:A.label)&&(null===(P=e.ContentCode)||void 0===P?void 0:P.label)]}),(0,S.jsx)(T,{style:{textTransform:"capitalize",textAlign:"right"},className:"dark"!==C&&"tdLight",children:null===(k=e.SpotTypeCode)||void 0===k?void 0:k.label}),(0,S.jsx)(T,{style:{textTransform:"capitalize",textAlign:"right"},className:"dark"!==C&&"tdLight",children:null===(R=e.WeekDayCode)||void 0===R?void 0:R.label}),(0,S.jsxs)(T,{style:{textTransform:"capitalize",textAlign:"right"},className:"dark"!==C?"tdLight text-black":"text-white",children:[a,e.Rate.toLocaleString("en-IN")]}),(0,S.jsxs)(T,{style:{textTransform:"capitalize",textAlign:"right"},className:"dark"!==C&&"tdLight",children:[0!=e.TotalSpots&&e.TotalSpots,0!=e.Second&&e.Second,0!=e.NTCTotalSpots&&e.NTCTotalSpots]}),(0,S.jsxs)(T,{className:"dark"!==C&&"tdLight",style:{textTransform:"capitalize",textAlign:"right"},children:[" ",null!==e&&void 0!==e&&e.ConsumedSeconds?null===e||void 0===e?void 0:e.ConsumedSeconds:"00"]})," ",(0,S.jsx)(T,{className:"dark"!==C&&"tdLight",style:{textTransform:"capitalize",textAlign:"right"},children:null!==e&&void 0!==e&&e.BalancedSeconds?null===e||void 0===e?void 0:e.BalancedSeconds:(0,S.jsxs)(S.Fragment,{children:[0!==e.TotalSpots&&e.TotalSpots,0!==e.Second&&e.Second,0!==e.NTCTotalSpots&&e.NTCTotalSpots]})})," ",(0,S.jsxs)(T,{style:{textTransform:"capitalize",textAlign:"right"},className:"dark"!==C?"tdLight text-black":"text-white",children:[a,e.Amount.toLocaleString("en-IN")]}),(0,S.jsxs)(T,{className:"dark"!==C?"tdLight text-black":"text-white",style:{textTransform:"capitalize",textAlign:"right"},children:[a,null!==e&&void 0!==e&&e.ConsumedSeconds?"".concat(null===e||void 0===e?void 0:e.ConsumedAmount.toLocaleString("en-IN")):"00"]}),(0,S.jsxs)(T,{className:"dark"!==C?"tdLight text-black":"text-white",style:{textTransform:"capitalize",textAlign:"right"},children:[a,null!==e&&void 0!==e&&e.BalancedAmount?"".concat(null===e||void 0===e?void 0:e.BalancedAmount.toLocaleString("en-IN")):e.Amount.toLocaleString("en-IN")]})]},t)}))})]}),0!==l.length&&(0,S.jsx)("div",{className:"flex justify-end mt-2",children:(0,S.jsx)(i.zx,{icon:(0,S.jsx)(x.j9H,{}),size:"sm",variant:"solid",onClick:()=>(0,y.J)(!1,!1,0,0,!0,h,"ExportName",u?D:D.filter((e=>"Channel"!==e.accessorKey)),!1),children:"Export"})})]})};l(24564);var A=l(36064),P=l(28858);const k=e=>{var a,l,t,o,s,r,d,c,u,m,v,C;let{datg:h,onPrevious:g,onCollapse:x,onDialogClose:y,collapse:j,handleAddDealClick:b,step:T,currentTab:f}=e;const[N,D]=(0,n.useState)(!1),I={weekday:"long",year:"numeric",month:"long",day:"numeric"};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"flex justify-between ",children:[(0,S.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer select-none",onClick:x,children:[(0,S.jsx)("span",{className:"text-lg",children:j?(0,S.jsx)(p.MOd,{}):(0,S.jsx)(p.kWQ,{})}),(0,S.jsx)("h6",{children:null===(a=h.AgencyCode)||void 0===a?void 0:a.label})]}),(0,S.jsx)("div",{children:1==T?(0,S.jsxs)(S.Fragment,{children:[0!=f?null:(0,S.jsx)(i.zx,{className:"ltr:mr-2 rtl:ml-2",size:"sm",variant:"solid",onClick:b,icon:(0,S.jsx)(p.HQD,{})}),0==f?null:(0,S.jsx)(i.zx,{className:"ltr:mr-2 rtl:ml-2",size:"sm",onClick:()=>{y()},icon:(0,S.jsx)(p.fMW,{})})]}):null})]}),(0,S.jsx)(P.E.div,{className:" mt-2",initial:{opacity:0,height:0,overflow:"hidden"},animate:{opacity:j?0:1,height:j?0:"auto"},transition:{duration:.15},children:(0,S.jsx)("div",{className:"dark:!border-[#374558] dark:!border dark:!bg-[#1d2939] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:(0,S.jsxs)("div",{className:"flex ",onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),children:[(0,S.jsxs)("div",{className:"grid grid-flow-col auto-cols-auto grow ",children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:(0,S.jsx)("span",{className:"FontSizeV",children:"Deal Type"})}),(0,S.jsx)("div",{className:"flex items-center",children:(0,S.jsx)("h6",{className:"FontSizeI",children:null===(l=h.DealTypeCode)||void 0===l?void 0:l.label})})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:(0,S.jsx)("span",{className:"FontSizeV",children:"Executive & Zone"})}),(0,S.jsx)("div",{className:"flex items-center",children:(0,S.jsxs)("h6",{className:"FontSizeI",children:[null===(t=h.SalesExcutiveCode)||void 0===t?void 0:t.label,(0,S.jsx)("br",{}),null===(o=h.ZoneCode)||void 0===o?void 0:o.label," "]})})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:(0,S.jsx)("span",{className:"FontSizeV",children:"Client & City"})}),(0,S.jsx)("div",{className:"flex items-center",children:(0,S.jsx)(i.u,{title:null===(s=h.ClientCode)||void 0===s?void 0:s.label,children:(0,S.jsxs)("h6",{className:"FontSizeG",children:[null===(r=h.ClientCode)||void 0===r?void 0:r.label,(0,S.jsx)("br",{}),null===(d=h.ClientPlaceCode)||void 0===d?void 0:d.label," "]})})})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:(0,S.jsx)("span",{className:"FontSizeV",children:"Agency & City"})}),(0,S.jsx)("div",{className:"flex items-center",children:(0,S.jsx)(i.u,{title:null===(c=h.AgencyCode)||void 0===c?void 0:c.label,children:(0,S.jsxs)("h6",{className:"FontSizeG",children:[null===(u=h.AgencyCode)||void 0===u?void 0:u.label,(0,S.jsx)("br",{}),null===(m=h.AgencyPlaceCode)||void 0===m?void 0:m.label," "]})})})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:(0,S.jsx)("span",{className:"FontSizeV",children:"Pay Route & Deal Date"})}),(0,S.jsx)("div",{className:"flex items-center",children:(0,S.jsx)(i.u,{title:null===(v=h.PayRouteCode)||void 0===v?void 0:v.label,children:(0,S.jsxs)("h6",{className:"FontSizeG",children:[null===(C=h.PayRouteCode)||void 0===C?void 0:C.label,(0,S.jsx)("br",{})," ",new Date(null===h||void 0===h?void 0:h.DealCreatedDate).toLocaleDateString("en-US",I)," "]})})})]}),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:(0,S.jsx)("span",{className:"FontSizeV",children:"Start & End Date"})}),(0,S.jsx)("div",{className:"flex items-center",children:(0,S.jsxs)("h6",{className:"FontSizeI",children:[new Date(null===h||void 0===h?void 0:h.DealPeriodFromDate).toLocaleDateString("en-US",I),(0,S.jsx)("br",{}),new Date(null===h||void 0===h?void 0:h.DealPeriodToDate).toLocaleDateString("en-US",I)," "]})})]})]}),(0,S.jsx)("div",{className:"EditB flex-none w-14  ",children:N&&(0,S.jsx)(i.zx,{variant:"twoTone",size:"xs",onClick:g,icon:(0,S.jsx)(p.LsQ,{})})})]})})})]})},R=e=>{let{message:a,type:l,duration:t=2e3}=e;const[o,s]=(0,n.useState)(!0);return(0,n.useEffect)((()=>{const e=setTimeout((()=>{s(!1)}),t);return()=>clearTimeout(e)}),[t]),o?(0,S.jsx)(i.P_,{closable:!0,type:l,duration:t,onClose:()=>s(!1),title:l.charAt(0).toUpperCase()+l.slice(1),children:a}):null};var E=l(54048),L=l(3975),z=l(57689),Z=l(97892),B=l.n(Z),F=l(34786),w=l(78820),J=l(84373),W=l(45682);l(1680);var O=l(81545);function M(e){let{currencyOptions:a,selectedCurrency:l,fetchedExchRatesForBaseCur:o,actualExchRatesForBaseCur:s,setActualExchRatesForBaseCur:r}=e;const[d,c]=(0,n.useState)({}),u=(0,n.useMemo)((()=>a.length>0&&Array.isArray(l)&&l.length>0?a.filter((e=>e.value!==l[0].value)):a),[a,l]);(0,n.useEffect)((()=>{const e={};s.forEach((a=>{e[a.CurrencyCode]=a.CurrencyRate})),c(e)}),[s]);return(0,S.jsxs)(i.Lt,{renderTitle:(0,S.jsx)(i.zx,{size:"sm",icon:(0,S.jsx)(O.QCw,{}),children:"Multi Currency"}),placement:"top-start",className:"h-full",toggleClassName:"hover:cursor-pointer h-full",menuClass:"p-3 pt-3 min-w-[400px]",children:[(0,S.jsx)("h6",{className:"pb-1 border-b border-b-gray-600 mb-3 text-white",children:"Currency conversion rate"}),(0,S.jsxs)("div",{className:"pb-2 mb-2 pr-1 border-b border-b-gray-600 h-48 flex flex-col",children:[(0,S.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center mb-3 border-dashed border-b border-b-gray-600 pb-2",children:[(0,S.jsx)("div",{className:"font-semibold text-gray-200 text-xs",children:"CURRENCY"}),(0,S.jsx)("div",{className:"font-semibold text-gray-200 text-xs",children:"TODAY'S RATE"}),(0,S.jsx)("div",{className:"font-semibold text-gray-200 text-xs",children:"INPUT"})]}),(0,S.jsx)("div",{className:"grow overflow-auto no-scrollbar",children:u.map((e=>(0,S.jsxs)("div",{className:"grid grid-cols-3 gap-2 items-center mb-3",children:[(0,S.jsx)("p",{className:"text-gray-300 mb-1 text-sm",children:e.label}),(0,S.jsx)("p",{className:"text-gray-300 text-sm",children:null!==o&&void 0!==o&&o.rates&&null!==o&&void 0!==o&&o.rates[e.shortName]?null===o||void 0===o?void 0:o.rates[e.shortName].toFixed(5):"-"}),(0,S.jsx)(i.II,{type:"number",size:"sm",placeholder:"0.00",prefix:e.symbol,value:d[e.value]||"",onChange:a=>{const l=(0,t.Z)({},d);a.target.value?l[e.value]=Number(Number(a.target.value).toFixed(5)):delete l[e.value],c(l)}})]})))})]}),(0,S.jsx)("div",{className:"flex justify-end itmes-center w-full",children:(0,S.jsx)(i.Lt.Item,{onClick:()=>{r(Object.keys(d).map((e=>({CurrencyCode:Number(e),CurrencyRate:d[e]}))))},className:"p-0 w-max",children:(0,S.jsx)(i.zx,{size:"sm",className:"w-max font-normal",variant:"twoTone",style:{fontSize:"0.8rem",lineHeight:"1rem"},children:"Apply"})})})]})}const _=(0,n.memo)(M);var V=l(9494);const{TabNav:G,TabList:U,TabContent:$}=r.Z,q=[{value:"",label:"Data Not Found"}],Y=[{value:10,label:"10 Seconds"},{value:20,label:"20 Seconds"},{value:30,label:"30 Seconds"},{value:40,label:"40 Seconds"},{value:50,label:"50 Seconds"}],K=!0,H=(0,n.forwardRef)((()=>{var e,a;const l=(0,m.useSelector)((e=>e.locale.selectedChannel)),x=(0,m.useSelector)((e=>e.locale.channelList)),y=(0,m.useSelector)((e=>e.auth.session.LoginId)),{Content:j}=(0,m.useSelector)((e=>e.base.common)),b=(0,m.useSelector)((e=>e.auth.session.token)),T=(0,m.useSelector)((e=>e.auth.session.Username)),f=(0,m.useDispatch)(),[N,D]=(0,n.useState)("add"),[P,Z]=(0,n.useState)(!1),[O,M]=(0,n.useState)(null),[H,Q]=(0,n.useState)(""),[X,ee]=(0,n.useState)([]),[ae,le]=(0,n.useState)([]),[te,ne]=(0,n.useState)([]),[oe,se]=(0,n.useState)([]),[ie,re]=(0,n.useState)([]),[de,ce]=(0,n.useState)([]),[ue,me]=(0,n.useState)([]),[ve,Ce]=(0,n.useState)([]),[he,ge]=(0,n.useState)([]),[pe,xe]=(0,n.useState)([]),[ye,Se]=(0,n.useState)([]),[je,be]=(0,n.useState)([]),[Te,fe]=(0,n.useState)([]),[Ne,De]=(0,n.useState)([]),[Ie,Ae]=(0,n.useState)([]),[Pe,ke]=(0,n.useState)([]),[Re,Ee]=(0,n.useState)([]),[Le,ze]=(0,n.useState)({}),[Ze,Be]=(0,n.useState)(10),[Fe,we]=(0,n.useState)({}),[Je,We]=(0,n.useState)(),[Oe,Me]=(0,n.useState)([]),[_e,Ve]=(0,n.useState)([]),[Ge,Ue]=(0,n.useState)([]),[$e,qe]=(0,n.useState)([]),[Ye,Ke]=(0,n.useState)([]),[He,Qe]=(0,n.useState)([]),[Xe,ea]=(0,n.useState)(null),[aa,la]=(0,n.useState)(!0),[ta,na]=(0,n.useState)(0!=j.length?0:2),[oa,sa]=(0,n.useState)(0),[ia,ra]=(0,n.useState)(3),[da,ca]=(0,n.useState)(!1),[ua,ma]=(0,n.useState)(!1),[va,Ca]=(0,n.useState)([]),[ha,ga]=(0,n.useState)(null),[pa,xa]=(0,n.useState)([]);console.log("selectedFile",Xe);const ya=(0,n.useRef)(),Sa=(0,z.s0)(),ja=(0,z.TH)(),ba=(0,n.useRef)(null);(0,n.useEffect)((()=>{Z(!0),(async()=>{Ca(await async function(){try{let e=[];const a=await(0,g.bu)(y);return 200===a.status?e=a.data.map((e=>({value:e.ChannelCode+"-"+e.LocationCode,label:e.LocationName+" "+e.ChannelName,ChannelCode:e.ChannelCode,LocationCode:e.LocationCode,ChannelName:e.ChannelName,ColorClass:"bg-rose-500",LocationName:e.LocationName,imgPath:e.Channel_Image}))):204===!a.status&&Ta("danger","Unable to fetch channels. Server responded with status code ".concat(a.status)),e}catch(e){throw e}}())})(),f((0,A.rh)(["value","Deal Master"]));const e=document.getElementsByClassName("Gbox2")[0];return e&&(e.style.display="block"),Z(!1),(async()=>{const e=await(0,v.hu)(j.DealNumber);200===e.status?xa(e.data.Currencies):xa([])})(),()=>{e&&(e.style.display="none")}}),[]),(0,n.useEffect)((()=>{ja.state&&ja.state.mode&&D(ja.state.mode)}),[ja]),(0,n.useEffect)((()=>{Z(!0),(async()=>{if(j&&!Array.isArray(j)){ka(j.ClientCode),Ea(j.AgencyCode),Ra(j.ClientCode);const e=await(0,v.rd)(j.DealNumber),a=Object.keys(e.data[0]),l=Object.values(e.data[0]);Ke([a,l]),Qe([a,l]);const t=await(0,v.U$)(j.DealNumber);Z(!1);const n=t.data.map((e=>({channel:x.filter((a=>a.ChannelCode===e.ChannelCode))[0],name:e.DealLineItemTypeCode,EndTime:e.EndTime,StartTime:e.StartTime,IsCommited:e.IsCommited,CommitedStartTime:e.CommitedStartTime,CommitedEndTime:e.CommitedEndTime,NTCTotalSpots:e.NTCTotalSpots,TotalSpots:e.TotalSpots,LineItemCancelStatus:e.LineItemCancelStatus,ConsumedAmount:e.ConsumedAmount,ConsumedSeconds:e.ConsumedSeconds,BalancedAmount:e.BalancedAmount,BalancedSeconds:e.BalancedSeconds,TimeBandCode:{value:e.TimeBandCode,label:e.TimeBandName||"NA"},SponsorTypeCode:{value:e.SponsorTypeCode,label:e.SponsorTypeName||"NA"},NTCTypeCode:{value:e.NTCTypeCode,label:e.NTCTypeName||"NA"},ContentCode:{value:e.ContentCode,label:e.ContentName||"NA"},OriginalRepeatCode:{value:e.OriginalRepeatCode,label:e.OriginalRepeatName||"NA"},StartTimeDrop:{value:e.StartTime,label:e.StartTime||"NA"},EndTimeDrop:{value:e.EndTime,label:e.EndTime||"NA"},SpotTypeCode:{value:e.SpotTypeCode,label:e.SpotTypeName||"NA"},NoWeeks:e.NoWeeks,WeekDayCode:{value:e.WeekdaysCode,label:e.WeekdaysName},IsNTC:e.IsNTC,Rate:e.Rate,Second:e.Seconds,Amount:e.Amount,NetAmount:e.NetAmount,InternalRate:e.InternalRate,LineItemRemark:e.LineItemRemark,DealLineItemNo:e.DealLineItemNo,SpotPreferenceCode:{value:e.SpotPreferenceCode,label:e.SpotPreferenceName},DealLineItemType:{value:e.DealLineItemTypeCode,label:e.DealLineItemTypeName}})));Me(n)}})(),Z(!1)}),[j]),(0,n.useEffect)((()=>{Le.channel?(async e=>{const a=(await(0,V.apiCallstoreprocedure)("USP_Deal_GetProgramList",{LocationCode:Le.channel.value.split("-")[1],ChannelCode:Le.channel.value.split("-")[0],FromDate:null===O||void 0===O?void 0:O.DealPeriodFromDate,ToDate:null===O||void 0===O?void 0:O.DealPeriodToDate})).data.map((e=>({value:e.ContentCode,label:e.ContentName})));le(a)})():(async e=>{const a=(await await(0,V.apiCallstoreprocedure)("USP_Deal_GetProgramList",{LocationCode:l.LocationCode,ChannelCode:l.ChannelCode,FromDate:null===O||void 0===O?void 0:O.DealPeriodFromDate,ToDate:null===O||void 0===O?void 0:O.DealPeriodToDate})).data.map((e=>({value:e.ContentCode,label:e.ContentName})));le(a)})()}),[Le.channel]),(0,n.useEffect)((()=>{(async e=>{const a=(await(0,F.Q8)(void 0)).data.map((e=>({value:e.ClientCode,label:e.ClientName})));ce(a)})(),(async e=>{const a=(await(0,F.mV)(void 0)).data.map((e=>({value:e.DealLineItemTypeCode,label:e.DealLineItemTypeName})));qe(a)})(),(async e=>{const a=(await(0,F.Fj)(void 0)).data.map((e=>({value:e.PayRouteCode,label:e.PayRouteName,AgencyShare:e.AgencyShare})));xe(a)})(),(async()=>{try{const e=await(0,g.it)();if(e&&e.data){const a=e.data.map((e=>({value:e.CurrencyCode,label:e.CurrencyName,symbol:e.CurrencySymbol,shortName:e.ShortName}))),l=a.find((e=>e.value==j.CurrencyCode));l?Q(l.symbol):console.error("Currency code ".concat(j.CurrencyCode," not found in the options")),ge(a),await Ya(l.shortName)}else console.error("No data received from apiGetCurrencymasterdrop")}catch(e){console.error("Error fetching currency data:",e)}})(),(async e=>{const a=(await(0,F.Tz)(void 0)).data.map((e=>({value:e.DealTypeCode,label:e.DealTypeName})));re(a)})(),(async e=>{const a=(await(0,g.ES)(void 0)).data.map((e=>({value:e.ZoneCode,label:e.ZoneName})));fe(a)})(),(async e=>{const a=(await(0,g.ec)(void 0)).data.map((e=>({value:e.EmployeeCode,label:e.Emp_FirstName})));Se(a)})(),(async e=>{const a=(await(0,v.Qj)(void 0)).data.map((e=>({value:e.SponsorTypeCode,label:e.SponsorTypeName})));ee(a)})(),(async e=>{const a=(await(0,v.iD)(void 0)).data.map((e=>({value:e.SpotTypeCode,label:e.SpotTypeName})));ne(a)})(),(async e=>{const a=(await(0,h.iq)(void 0)).data.map((e=>({value:e.NTCTypeCode,label:e.NTCTypeName})));se(a)})(),(async e=>{const a=(await(0,C.apiGetweekdaysweekendsmaster)(void 0)).data.map((e=>({value:e.WeekdaysCode,label:e.WeekdaysName})));be(a)})(),(async e=>{const a=(await(0,C.apiGetfpcorgrepmasterdrop)(void 0)).data.map((e=>({value:e.OriginalRepeatCode,label:e.OriginalRepeatName})));Ae(a)})(),(async e=>{const a=(await(0,C.apiGetSpotSpotPreferencedrop)(void 0)).data.map((e=>({value:e.SpotPreferenceCode,label:e.SpotPreferenceName})));ke(a)})(),(async e=>{const a=(await(0,F.oi)(void 0)).data.map((e=>({value:e.TimeBandCode,StartTime:e.StartTime,EndTime:e.EndTime,label:e.TimeBandName})));Ee(a)})()}),[]),(0,n.useEffect)((()=>{j.ChannelCode&&(l.ChannelCode==j.ChannelCode&&l.LocationCode==l.LocationCode||Sa("/DealMaster"))}),[l]),(0,n.useEffect)((()=>{var e,a,t,n,o,s,i;null!==(e=Le.ContentCode)&&void 0!==e&&e.value&&Pa(null===(a=Le.ContentCode)||void 0===a?void 0:a.value,null===(t=Le.OriginalRepeatCode)||void 0===t?void 0:t.value,null!==Le&&void 0!==Le&&null!==(n=Le.channel)&&void 0!==n&&null!==(o=n.value)&&void 0!==o&&o.split("-")[0]?null===Le||void 0===Le||null===(s=Le.channel)||void 0===s||null===(i=s.value)||void 0===i?void 0:i.split("-")[0]:l.ChannelCode)}),[null===(e=Le.ContentCode)||void 0===e?void 0:e.value,null===(a=Le.OriginalRepeatCode)||void 0===a?void 0:a.value]),(0,n.useEffect)((()=>{Le.Rate&&Le.Second&&Ze&&Ia(Le.Rate,Le.Second)}),[Ze]);const Ta=(e,a,l)=>i.Am.push((0,S.jsx)(R,{message:e,type:a,duration:l})),fa=(e,a)=>{let l=!0;var t;if(0==Number(a.length)&&(t="Your file has been uploaded",i.Am.push((0,S.jsx)(i.P_,{type:"success",duration:2e3,children:t}),{placement:"top-center"}),ea(e[0])),a.length>=1)return"You can only upload ".concat(1," file(s)");if(e)for(const n of e)n.size>=5e5&&(ea(null),l="Upload image cannot more then 500kb!");return l},Na=async(e,a)=>{const l={Accept:"*/*",Authorization:"Bearer ".concat(b)},t=new FormData;try{const n=await Xe.arrayBuffer(),o=new Blob([n],{type:Xe.type});t.append("files",o,Xe.name);const s=await fetch("".concat(E.Z.apiPrefix,"/dealmaster/uploadattachment/").concat(a,"?Dealcode=").concat(e),{method:"POST",body:t,headers:l});200==s.status?ba.push((0,S.jsx)(i.P_,{closable:!0,type:"success",duration:2e3,children:"Success"})):console.error("Error uploading file:",s.statusText)}catch(n){console.error("Error uploading file:",n)}};function Da(e,a){var l,t,n;if(1==a){var o,s,i;if(!(null!==e&&void 0!==e&&null!==(o=e.SponsorTypeCode)&&void 0!==o&&o.value)>0)return Ta("Please Select Sponsor Type!!","danger"),!1;if(!(null!==(s=e.ContentCode)&&void 0!==s&&s.value)>0)return Ta("Please Select Program!!","danger"),!1;if(!(null!==(i=e.OriginalRepeatCode)&&void 0!==i&&i.value)>0)return Ta("Please Select Original/Repeat!!","danger"),!1;if(!e.StartTime>0)return Ta("Please Select Start Time!!","danger"),!1;if(!e.EndTime>0)return Ta("Please Select End Time!!","danger"),!1;if(!(null!==e&&void 0!==e&&e.Second)>0)return Ta("Please enter Seconds!!","danger"),!1;if(!(null!==e&&void 0!==e&&e.NoWeeks)>0)return Ta("Please Select No of Week!!","danger"),!1}if(2==a){var r;if(1==(null===e||void 0===e?void 0:e.IsCommited)&&(null===e||void 0===e||!e.CommitedStartTime||null===e||void 0===e||!e.CommitedEndTime))return Ta("Please enter Commited Time !!","danger"),!1;if(!(null!==e&&void 0!==e&&e.Second)>0)return Ta("Please enter Seconds!!","danger"),!1;if(!(null!==(r=e.TimeBandCode)&&void 0!==r&&r.value)>0)return Ta("Please Select TimeBand!!","danger"),!1;if(!e.Second>0)return Ta("Please enter Seconds!!","danger"),!1;if((null===e||void 0===e?void 0:e.SpotPreferenceCode)<=0)return Ta("Please select Spot Preference !!","danger"),!1}if(3==a){var d,c;if(!(null!==(d=e.ContentCode)&&void 0!==d&&d.value)>0)return Ta("Please Select Program!!","danger"),!1;if(!(null!==(c=e.OriginalRepeatCode)&&void 0!==c&&c.value)>0)return Ta("Please Select Original/Repeat!!","danger"),!1;if(!e.StartTime>0)return Ta("Please Select Start Time!!","danger"),!1;if(!e.EndTime>0)return Ta("Please Select End Time!!","danger"),!1}if(4==a){var u,m;if(!(null!==(u=e.TimeBandCode)&&void 0!==u&&u.value)>0)return Ta("Please Select TimeBand!!","danger"),!1;if(!(null!==(m=e.NTCTypeCode)&&void 0!==m&&m.value)>0)return Ta("Please Select NTC Type!!","danger"),!1}if(5==a){var v,C;if(!(null!==(v=e.ContentCode)&&void 0!==v&&v.value)>0)return Ta("Please Select Program!!","danger"),!1;if(!(null!==e&&void 0!==e&&e.TotalSpots)>0)return Ta("Please enter Slot!!","danger"),!1;if(!(null!==(C=e.OriginalRepeatCode)&&void 0!==C&&C.value)>0)return Ta("Please Select Original/Repeat!!","danger"),!1;if(!e.StartTime>0)return Ta("Please Select Start Time!!","danger"),!1;if(!e.EndTime>0)return Ta("Please Select End Time!!","danger"),!1}if(6==a){var h;if(!(null!==(h=e.TimeBandCode)&&void 0!==h&&h.value)>0)return Ta("Please Select TimeBand!!","danger"),!1;if(!(null!==e&&void 0!==e&&e.TotalSpots)>0)return Ta("Please enter Slot!!","danger"),!1;if((null===e||void 0===e?void 0:e.SpotPreferenceCode)<=0)return Ta("Please select Spot Preference !!","danger"),!1}return!(null!==(l=e.SpotTypeCode)&&void 0!==l&&l.value)>0?(Ta("Please Select Spot Type!!","danger"),!1):1==(null===e||void 0===e||null===(t=e.SpotTypeCode)||void 0===t?void 0:t.value)&&(e.Rate<=0||void 0==e.Rate)?(Ta("Rate should be greater than 0 !!","danger"),!1):!(!(null!==(n=e.WeekDayCode)&&void 0!==n&&n.value)>0)||(Ta("Please Select WeekDays!!","danger"),!1)}function Ia(e,a){const l=Number(a)/Ze*Number(e),n=parseFloat(l.toFixed(2));return ze((e=>(0,t.Z)((0,t.Z)({},e),{},{Amount:n,NetAmount:n}))),n}function Aa(e,a){const l=Number(a)*Number(e);return ze((e=>(0,t.Z)((0,t.Z)({},e),{},{Amount:l,NetAmount:l}))),l}const Pa=async(e,a,t)=>{if(e&&a){const n=await(0,v.fh)(O.DealPeriodToDate,O.DealPeriodFromDate,e,a,l.LocationCode,t);if(204==n.status)return Ta("Start Time & End Time Not Found Please Change Org/Rep ","info"),Ve([]),void Ue([]);const o=n.data.TelecastStartTime.map((e=>({value:e,label:e}))),s=n.data.TelecastEndTime.map((e=>({value:e,label:e})));Ve(o),Ue(s)}},ka=async e=>{const a=(await(0,g.Vp)(e)).data.map((e=>({value:e.Place.PlaceCode,label:e.Place.PlaceName})));me(a)},Ra=async e=>{const a=(await(0,F.R5)(e)).data.map((e=>({value:e.AgencyCode,label:e.AgencyName,IsCredit:e.IsCredit,IsAdvPmt:e.IsAdvPmt,IsPDC:e.IsPDC,CreditDays:e.CreditDays,BusinessTypeCode:e.BusinessType.BusinessTypeCode,BusinessTypeName:e.BusinessType.BusinessTypeName})));De(a)},Ea=async e=>{const a=(await(0,g.Lu)(e)).data.map((e=>({value:e.Place.PlaceCode,label:e.Place.PlaceName,Country:e.Country.CountryCode,State:e.State.StateCode,Place:e.Place.PlaceCode,Address1:e.AddressLine1,Address2:e.AddressLine2,Address2:e.AddressLine2,PlaceName:e.Place.PlaceName,StateName:e.State.StateName,GSTN_id:e.GSTN_id})));Ce(a)},La=(e,a)=>{ze((l=>(0,t.Z)((0,t.Z)({},l),{},{[a]:e})))},za=e=>{const{name:a,value:l}=e.target,n=(0,d.formatOnHHMMSSBlur)(l);"CommitedStartTime"==a&&"CommitedEndTime"==a?(0,d.isTimeBetween)(n,Le.StartTime,Le.EndTime)?ze((e=>(0,t.Z)((0,t.Z)({},e),{},{[a]:n}))):(Ta("Please enter correct Commited Time","danger"),ze((e=>(0,t.Z)((0,t.Z)({},e),{},{[a]:""})))):ze((e=>(0,t.Z)((0,t.Z)({},e),{},{[a]:n})))},Za=(e,a)=>{ze((l=>(0,t.Z)((0,t.Z)({},l),{},{[a]:e?0:1})))},Ba=(e,a)=>{"TimeBandCode"!=a?"SpotTypeCode"!=a||2!==e.value?ze((l=>(0,t.Z)((0,t.Z)({},l),{},{[a]:e}))):ze((a=>(0,t.Z)((0,t.Z)({},a),{},{Rate:0,Amount:0,SpotTypeCode:e}))):ze((a=>(0,t.Z)((0,t.Z)({},a),{},{EndTime:e.EndTime,StartTime:e.StartTime,TimeBandCode:e,CommitedStartTime:e.StartTime,CommitedEndTime:e.EndTime})))},Fa=s.Ry().shape({PayRouteCode1:s.Z_().required("Pay Route Required"),AgencyPlaceCode1:s.Z_().required("Agency City Required"),CurrencyCode1:s.Z_().required("Currency Required"),DealTypeCode1:s.Z_().required("Deal Type Required"),AgencyCode1:s.Z_().required("Agency Required"),ZoneCode1:s.Z_().required("Zone Required"),SalesExcutiveCode1:s.Z_().required("Sales Excutive Required"),ClientCode1:s.Z_().required("Client Required"),ClientPlaceCode1:s.Z_().required("Client Place Required"),DealPeriodFromDate:s.Z_().nullable().required("From Date Required"),DealPeriodToDate:s.Z_().nullable().required("To Date Required"),DealCreatedDate:s.Z_().nullable().required("Deal Date Required"),DealReferenceNumber:s.Z_().min(1,"Too Short!").max(15,"Too Long!").required("Deal Reference Required"),Channels1:s.IX().min(1,"Channel Required")}),wa=e=>{aa||(e.setFieldValue("DealPeriodFromDate",null),e.setFieldValue("DealPeriodToDate",null),la(!0))},Ja=e=>{sa(e<0?0:e>3?3:e)},Wa=()=>{(()=>{var e;null===(e=ya.current)||void 0===e||e.submitForm()})()},Oa=async()=>{const e=((e,a,l)=>{console.log(a);const t=(e,a)=>{const l=new Date("1970-01-01T".concat(e.slice(0,-3),"Z"));return(new Date("1970-01-01T".concat(a.slice(0,-3),"Z"))-l)/1e3};let n=0,o=0;a.forEach((e=>{n+=e.Second||0,o+=e.Amount||0}));const s=Math.ceil(10*o/n);return{Deal:{LocationCode:e.LocationCode,ChannelCode:e.ChannelCode,DealNumber:e.DealNumber,ZoneCode:e.ZoneCode.value,BusinessTypeCode:e.AgencyCode.BusinessTypeCode,DealTypeCode:e.DealTypeCode.value,DealCreatedDate:(new Date).toISOString(),DealPeriodFromDate:e.DealPeriodFromDate,DealPeriodToDate:e.DealPeriodToDate,DealReferenceNumber:e.DealReferenceNumber,DealReferenceDate:(new Date).toISOString(),DealReferenceDocNo:"",ClientCode:e.ClientCode.value,AgencyCode:e.AgencyCode.value,ClientPlaceCode:e.ClientPlaceCode.value,AgencyPlaceCode:e.AgencyPlaceCode1,CurrencyCode:e.CurrencyCode.value,SalesExcutiveCode:e.SalesExcutiveCode.value,TotalSeconds:n,TotalAmount:o,TotalER:s,CancelStatus:e.CancelStatus?1:0,IsWebDeal:e.IsWebDeal,IPAddress:e.IPAddress,IsApproved:0,RejectRemark:"",PayRouteCode:e.PayRouteCode.value,DiscPer:0,IsCredit:e.AgencyCode.IsCredit,IsAdvPmt:e.AgencyCode.IsAdvPmt,IsPDC:e.AgencyCode.IsPDC,CreditDays:e.AgencyCode.CreditDays,TeamCode:0,GSTN_id:"",IsActive:1},details:a.map(((a,l)=>{var n,o,s,i,r,d,c,u;return{ConsumedAmount:a.ConsumedAmount,ConsumedSeconds:a.ConsumedSeconds,BalancedAmount:a.BalancedAmount,BalancedSeconds:a.BalancedSeconds,name:a.name,DealNumber:e.DealNumber,LocationCode:e.LocationCode,ChannelCode:a.channel.ChannelCode,DealLineItemNo:l+1,DealLineItemTypeCode:a.name,TimeBandCode:(null===(n=a.TimeBandCode)||void 0===n?void 0:n.value)||0,ContentCode:(null===(o=a.ContentCode)||void 0===o?void 0:o.value)||0,OriginalRepeatCode:(null===(s=a.OriginalRepeatCode)||void 0===s?void 0:s.value)||0,SponsorTypeCode:(null===(i=a.SponsorTypeCode)||void 0===i?void 0:i.value)||0,StartTime:a.StartTime,EndTime:a.EndTime,TimeInMin:t(a.StartTime,a.EndTime),IsCommited:a.IsCommited||0,CommitedStartTime:a.CommitedStartTime||"",CommitedEndTime:a.CommitedEndTime||"",SpotTypeCode:(null===(r=a.SpotTypeCode)||void 0===r?void 0:r.value)||0,Rate:Number(a.Rate)||0,InternalRate:Number(a.InternalRate)||0,Seconds:Number(a.Second)||0,Amount:Number(a.Amount)||0,IsDiscount:0,DiscPerc:0,DiscAmt:0,NetAmount:Number(a.Amount)||0,TotalSpots:Number(a.TotalSpots)||0,ConsumedSpots:0,BalancedSpots:Number(a.TotalSpots)||0,LineItemCancelStatus:a.LineItemCancelStatus||0,LineItemFromDate:e.DealPeriodFromDate,LineItemEndDate:e.DealPeriodToDate,NoWeeks:a.NoWeeks||0,IsNTC:a.IsNTC||0,NTCTypeCode:(null===(d=a.NTCTypeCode)||void 0===d?void 0:d.value)||0,NTCTotalSpots:Number(a.NTCTotalSpots)||0,NTCConsumedSpots:0,NTCBalanceSpots:Number(a.NTCTotalSpots)||0,WeekdaysCode:Number(null===(c=a.WeekDayCode)||void 0===c?void 0:c.value)||0,LineItemRemark:"NA",IsEvent:0,EventCommission:0,IsEventBillDone:0,SpotPreferenceCode:Number(null===(u=a.SpotPreferenceCode)||void 0===u?void 0:u.value)||0,IsActive:1}})),currencies:l}})(O,Oe,pa);if(ra(4),"edit"===N&&e.Deal&&parseInt(e.Deal.DealNumber)>0){200===(await(0,F.$_)(e,b)).status&&(Na(j.DealCode,j.DealNumber),Ta("Deal Update Successfully.","success",1e3),await(0,C.apisendnotification)({NotificationId:(Math.random()+1).toString(36).substring(7),user_ids:[2],message:j.DealCode+" Deal Modified.",image:"",type:"1",location:"Deal Modified.",locationLabel:T,Status:"1",isGroup:1,Ispriority:1,readed:0}),Sa("/DealMaster"),ra(3))}else{const e=((e,a,l)=>{const t=(e,a)=>{const l=new Date("1970-01-01T".concat(e.slice(0,-3),"Z"));return(new Date("1970-01-01T".concat(a.slice(0,-3),"Z"))-l)/1e3};let n=0,o=0;a.forEach((e=>{n+=Number(e.Second)||0,o+=Number(e.Amount)||0}));const s=Math.ceil(10*o/n);return{Deal:{LocationCode:e.LocationCode,ChannelCode:e.ChannelCode,DealNumber:"",ZoneCode:e.ZoneCode.value,BusinessTypeCode:e.AgencyCode.BusinessTypeCode,DealTypeCode:e.DealTypeCode.value,DealCreatedDate:(new Date).toISOString(),DealPeriodFromDate:e.DealPeriodFromDate,DealPeriodToDate:e.DealPeriodToDate,DealReferenceNumber:e.DealReferenceNumber,DealReferenceDate:(new Date).toISOString(),DealReferenceDocNo:"",ClientCode:e.ClientCode.value,AgencyCode:e.AgencyCode.value,ClientPlaceCode:e.ClientPlaceCode.value,AgencyPlaceCode:e.AgencyPlaceCode1,CurrencyCode:e.CurrencyCode.value,SalesExcutiveCode:e.SalesExcutiveCode.value,TotalSeconds:n,TotalAmount:o,TotalER:s,CancelStatus:e.CancelStatus?1:0,IsWebDeal:e.IsWebDeal,IPAddress:e.IPAddress,IsApproved:0,RejectRemark:"",PayRouteCode:e.PayRouteCode.value,DiscPer:0,IsCredit:e.AgencyCode.IsCredit,IsAdvPmt:e.AgencyCode.IsAdvPmt,IsPDC:e.AgencyCode.IsPDC,CreditDays:e.AgencyCode.CreditDays,TeamCode:0,GSTN_id:"",IsActive:1},details:a.map(((a,l)=>{var n,o,s,i,r,d,c,u;return{name:a.name,DealNumber:"",LocationCode:e.LocationCode,ChannelCode:a.channel.ChannelCode,DealLineItemNo:l+1,DealLineItemTypeCode:a.name,TimeBandCode:(null===(n=a.TimeBandCode)||void 0===n?void 0:n.value)||0,ContentCode:(null===(o=a.ContentCode)||void 0===o?void 0:o.value)||0,OriginalRepeatCode:(null===(s=a.OriginalRepeatCode)||void 0===s?void 0:s.value)||0,SponsorTypeCode:(null===(i=a.SponsorTypeCode)||void 0===i?void 0:i.value)||0,StartTime:a.StartTime,EndTime:a.EndTime,TimeInMin:t(a.StartTime,a.EndTime),IsCommited:a.IsCommited||0,CommitedStartTime:a.CommitedStartTime||"",CommitedEndTime:a.CommitedEndTime||"",SpotTypeCode:(null===(r=a.SpotTypeCode)||void 0===r?void 0:r.value)||0,Rate:Number(a.Rate)||0,InternalRate:Number(a.InternalRate)||0,Seconds:Number(a.Second)||0,Amount:Number(a.Amount)||0,IsDiscount:0,DiscPerc:0,DiscAmt:0,NetAmount:Number(a.Amount)||0,ConsumedSeconds:0,ConsumedAmount:0,BalancedSeconds:Number(a.Second)||0,BalancedAmount:Number(a.Amount)||0,TotalSpots:Number(a.TotalSpots)||0,ConsumedSpots:0,BalancedSpots:Number(a.TotalSpots)||0,LineItemCancelStatus:a.LineItemCancelStatus||0,LineItemFromDate:e.DealPeriodFromDate,LineItemEndDate:e.DealPeriodToDate,NoWeeks:a.NoWeeks||0,IsNTC:a.IsNTC||0,NTCTypeCode:(null===(d=a.NTCTypeCode)||void 0===d?void 0:d.value)||0,NTCTotalSpots:Number(a.NTCTotalSpots)||0,NTCConsumedSpots:0,NTCBalanceSpots:Number(a.NTCTotalSpots)||0,WeekdaysCode:Number(null===(c=a.WeekDayCode)||void 0===c?void 0:c.value)||0,LineItemRemark:"NA",IsEvent:0,EventCommission:0,IsEventBillDone:0,SpotPreferenceCode:Number(null===(u=a.SpotPreferenceCode)||void 0===u?void 0:u.value)||0,IsActive:1}})),currencies:l}})(O,Oe,pa),a=await(0,F.E4)(e,b);200===a.status&&(Na(a.data.DealCode,a.data.DealNumber),Ta("Deal Added Successfully.\n"+a.data.DealCode,"success",1e3),await(0,C.apisendnotification)({NotificationId:(Math.random()+1).toString(36).substring(7),user_ids:[2],message:j.DealCode+" Deal Added.",image:"",type:"1",location:"Deal Added.",locationLabel:T,Status:"1",isGroup:1,Ispriority:1,readed:0}),Sa("/DealMaster"),ra(3))}},Ma=e=>{ze({channel:l}),na(0),We()},_a=()=>{ca(!da)};let Va=0,Ga=0,Ua=0;Oe.forEach((e=>{1!=e.LineItemCancelStatus&&(Va+=Number(e.Second)||0,Ga+=Number(e.NTCTotalSpots)||Number(e.TotalSpots)||0,Ua+=Number(e.Amount)||0)}));const $a=()=>{ma(!ua)},qa=()=>{sa(0),$a()};const Ya=async e=>{try{(0,d.showCursorLoader)();const a=await(0,v.w_)(e);if(200!==a.status)throw new Error(a);ga(a.data)}catch(a){console.error(a),ga(null)}finally{(0,d.hideCursorLoader)()}};return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(W.default,{showLoader:P}),(0,S.jsx)(i.Zb,{className:"mb-2",children:(0,S.jsx)("div",{children:(0,S.jsxs)(i.Rg,{current:oa,children:[(0,S.jsx)(i.Rg.Item,{title:"Make Deal"}),(0,S.jsx)(i.Rg.Item,{title:"Deal Details"}),(0,S.jsx)(i.Rg.Item,{title:"Attachments"}),(0,S.jsx)(i.Rg.Item,{title:"Approved"})]})})}),(0,S.jsxs)(i.Zb,{children:[(0,S.jsx)(S.Fragment,{children:(()=>{switch(oa){case 0:return(0,S.jsx)("div",{className:" dark:!bg-gray-700 bg-gray-100 rounded mt-5",style:{height:"auto",padding:10},children:va.length>0&&(0,S.jsx)(o.J9,{innerRef:ya,initialValues:O||{CancelStatus:1==j.CancelStatus,LocationCode:j.LocationCode||l.LocationCode,ChannelCode:j.ChannelCode||l.ChannelCode,DealReferenceNumber:j.DealReferenceNumber||"",PayRouteCode:{value:Number(j.PayRouteCode),label:j.PayRouteName}||"",PayRouteCode1:j.PayRouteCode||"",DealTypeCode:{value:Number(j.DealTypeCode),label:j.DealTypeName}||"",DealTypeCode1:Number(j.DealTypeCode)||"",CurrencyCode:{value:Number(j.CurrencyCode),label:j.CurrencyName}||"",CurrencyCode1:j.CurrencyCode||"",ZoneCode:{value:Number(j.ZoneCode),label:j.ZoneName}||"",ZoneCode1:j.ZoneCode||"",SalesExcutiveCode:{value:Number(j.SalesExcutiveCode),label:j.Emp_FirstName}||"",SalesExcutiveCode1:Number(j.SalesExcutiveCode)||"",ClientCode:{value:Number(j.ClientCode),label:j.ClientName}||"",ClientCode1:j.ClientCode||"",ClientPlaceCode:{value:Number(j.ClientPlaceCode),label:j.ClientPlaceName}||"",ClientPlaceCode1:Number(j.ClientPlaceCode)||"",AgencyCode:{value:Number(j.AgencyCode),label:j.AgencyName,IsCredit:j.IsCredit,CreditDays:j.CreditDays,IsAdvPmt:j.IsAdvPmt,IsPDC:j.IsPDC,BusinessTypeName:j.BusinessTypeName,BusinessTypeCode:j.BusinessTypeCode}||"",AgencyCode1:j.AgencyCode||"",AgencyPlaceCode:{value:Number(j.AgencyPlaceCode),label:j.AgencyPlaceName,Address1:j.Address1,Address2:j.Address2,GSTN_id:j.GSTN_id}||"",AgencyPlaceCode1:Number(j.AgencyPlaceCode)||"",DealPeriodFromDate:"edit"===N&&j?j.DealPeriodFromDate:null,DealPeriodToDate:"edit"===N&&j?j.DealPeriodToDate:null,DealCreatedDate:"edit"===N&&j?j.DealCreatedDate:null,IsWebDeal:j.IsWebDeal||1,DealNumber:j.DealNumber||"",IPAddress:j.IPAddress||"",Channels1:j.Channels||va.filter((e=>e.ChannelCode===l.ChannelCode&&e.LocationCode===l.LocationCode))},validationSchema:Fa,onSubmit:(e,a)=>{let{resetForm:t,setSubmitting:n}=a;M(e),Ja(oa+1),n(!0),0===oa&&(ze({channel:l}),we({channel:l}))},children:e=>{var a,l,t,n,s,r,u,m,v,C,h;let{values:g,touched:p,errors:x}=e;return(0,S.jsx)(o.l0,{children:(0,S.jsxs)(i.Yb,{children:[j.DealCode&&"edit"===N?(0,S.jsxs)("div",{className:"dark:!bg-[#1d2939] !bg-[#fff] dark:!border-[#374558] dark:!border mb-2",style:{padding:"10px",borderRadius:".5rem",display:"flex",alignItems:"center"},children:[(0,S.jsxs)("p",{style:{fontWeight:500,color:"white",marginRight:10},children:[" ","Deal Number"]}),(0,S.jsx)("div",{className:"dark:text-gray-300 text-white",children:j.DealCode})]}):null,(0,S.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,S.jsxs)("div",{className:"col-span-2 dark:!bg-[#1d2939] !bg-[#fff] dark:!border-[#374558] dark:!border",style:{padding:"10px",borderRadius:".5rem"},children:[(0,S.jsxs)("div",{className:"grid grid-cols-4 gap-3  mt-2",children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"Deal Type",invalid:x.DealTypeCode1&&p.DealTypeCode1,errorMessage:x.DealTypeCode1,children:(0,S.jsx)(o.gN,{name:"DealTypeCode1",children:e=>{let{field:a,form:l}=e;return(0,S.jsx)(i.Ph,{field:a,form:l,options:ie,value:ie.filter((e=>e.value==g.DealTypeCode1)),onChange:e=>{l.setFieldValue(a.name,null===e||void 0===e?void 0:e.value),l.setFieldValue("DealTypeCode",e)}})}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Ref No",invalid:x.DealReferenceNumber&&p.DealReferenceNumber,errorMessage:x.DealReferenceNumber,children:(0,S.jsx)(o.gN,{name:"DealReferenceNumber",children:e=>{let{field:a,form:l}=e;return(0,S.jsx)(i.II,{type:"text",placeholder:"Ref No",maxlength:"20",size:"sm",value:g.DealReferenceNumber,name:"DealReferenceNumber",onChange:e=>{const t=e.target.value;t.length<20&&/^[a-zA-Z0-9@_-]*$/.test(t)&&l.setFieldValue(a.name,t),""==t&&l.setFieldValue(a.name,"")}})}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Executive",invalid:x.SalesExcutiveCode1&&p.SalesExcutiveCode1,errorMessage:x.SalesExcutiveCode1,children:(0,S.jsx)(o.gN,{name:"SalesExcutiveCode1",children:e=>{let{field:a,form:l}=e;return(0,S.jsx)(i.Ph,{field:a,form:l,options:ye,value:ye.filter((e=>e.value===g.SalesExcutiveCode1)),onChange:e=>{l.setFieldValue("SalesExcutiveCode",e),l.setFieldValue(a.name,null===e||void 0===e?void 0:e.value)}})}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Zone",invalid:x.ZoneCode1&&p.ZoneCode1,errorMessage:x.ZoneCode1,children:(0,S.jsx)(o.gN,{name:"ZoneCode1",children:e=>{let{field:a,form:l}=e;return(0,S.jsx)(i.Ph,{field:a,form:l,options:Te,value:Te.filter((e=>e.value==g.ZoneCode1)),onChange:e=>{l.setFieldValue("ZoneCode",e),l.setFieldValue(a.name,null===e||void 0===e?void 0:e.value)}})}})})]}),(0,S.jsxs)("div",{className:"grid grid-cols-4 gap-3 mt-2",children:[(0,S.jsx)("div",{className:"col-span-3 ",children:(0,S.jsx)(i.xJ,{asterisk:!0,label:"Client",invalid:x.ClientCode1&&p.ClientCode1,errorMessage:x.ClientCode1,children:(0,S.jsx)(o.gN,{name:"ClientCode1",children:e=>{let{field:a,form:l}=e;return(0,S.jsx)(i.Ph,{field:a,form:l,options:de,value:de.filter((e=>e.value==g.ClientCode1)),onChange:e=>{l.setFieldValue("ClientCode",e),l.setFieldValue(a.name,null===e||void 0===e?void 0:e.value),ka(e.value),Ra(e.value)}})}})})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Client City",invalid:x.ClientPlaceCode1&&p.ClientPlaceCode1,errorMessage:x.ClientPlaceCode1,children:(0,S.jsx)(o.gN,{name:"ClientPlaceCode1",children:e=>{let{field:a,form:l}=e;return(0,S.jsx)(i.Ph,{field:a,form:l,options:ue,value:ue.filter((e=>e.value==g.ClientPlaceCode1)),onChange:e=>{l.setFieldValue(a.name,null===e||void 0===e?void 0:e.value),l.setFieldValue("ClientPlaceCode",e)}})}})}),(0,S.jsx)("div",{className:"col-span-3 mt-2",children:(0,S.jsx)(i.xJ,{asterisk:!0,label:"Agency",invalid:x.AgencyCode1&&p.AgencyCode1,errorMessage:x.AgencyCode1,children:(0,S.jsx)(o.gN,{name:"AgencyCode1",children:e=>{let{field:a,form:l}=e;return(0,S.jsx)(i.Ph,{field:a,form:l,options:Ne,value:Ne.filter((e=>e.value==g.AgencyCode1)),onChange:e=>{l.setFieldValue("AgencyCode",e),l.setFieldValue("BusinessTypeCode",e.BusinessTypeCode),l.setFieldValue(a.name,null===e||void 0===e?void 0:e.value),Ea(e.value)}})}})})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Agency City",className:" mt-2",invalid:x.AgencyPlaceCode1&&p.AgencyPlaceCode1,errorMessage:x.AgencyPlaceCode1,children:(0,S.jsx)(o.gN,{name:"AgencyPlaceCode1",children:e=>{let{field:a,form:l}=e;return(0,S.jsx)(i.Ph,{field:a,form:l,options:ve,value:ve.filter((e=>e.value==g.AgencyPlaceCode1)),onChange:e=>{l.setFieldValue("AgencyPlaceCode",e),l.setFieldValue(a.name,null===e||void 0===e?void 0:e.value)}})}})})]}),(0,S.jsxs)("div",{className:"grid grid-cols-4 gap-3 mt-2",children:[(0,S.jsx)("div",{children:(0,S.jsx)(i.xJ,{asterisk:!0,label:"Pay Route",invalid:x.PayRouteCode1&&p.PayRouteCode1,errorMessage:x.PayRouteCode1,children:(0,S.jsx)(o.gN,{name:"PayRouteCode1",children:e=>{let{field:a,form:l}=e;return(0,S.jsx)(i.Ph,{field:a,form:l,options:pe,value:pe.filter((e=>e.value==g.PayRouteCode1)),onChange:e=>{l.setFieldValue("PayRouteCode",e),l.setFieldValue(a.name,null===e||void 0===e?void 0:e.value)}})}})})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Currency",invalid:x.CurrencyCode1&&p.CurrencyCode1,errorMessage:x.CurrencyCode1,children:(0,S.jsx)(o.gN,{name:"CurrencyCode1",children:e=>{let{field:a,form:l}=e;return(0,S.jsx)(i.Ph,{field:a,form:l,options:he,value:he.filter((e=>e.value==g.CurrencyCode1)),onChange:e=>{l.setFieldValue("CurrencyCode",e),Q(e.symbol),l.setFieldValue(a.name,null===e||void 0===e?void 0:e.value),Ya(e.shortName)}})}})}),(0,S.jsx)("div",{className:"col-span-2",children:(0,S.jsx)(i.xJ,{label:" ",children:(0,S.jsx)(_,{currencyOptions:he,selectedCurrency:he.filter((e=>e.value===Number(g.CurrencyCode1))),fetchedExchRatesForBaseCur:ha,actualExchRatesForBaseCur:pa,setActualExchRatesForBaseCur:xa})})}),false]})]}),(0,S.jsxs)("div",{className:"dark:!bg-[#1d2939]\r !bg-[#fff] dark:!border-[#374558]\r dark:!border",style:{padding:"10px",borderRadius:".5rem"},children:[(0,S.jsx)("div",{className:"grid grid-cols-2 gap-2",children:(0,S.jsx)(i.xJ,{asterisk:!0,label:"Deal Date",invalid:x.DealCreatedDate&&p.DealCreatedDate,errorMessage:x.DealCreatedDate,children:(0,S.jsx)(o.gN,{name:"DealCreatedDate",children:e=>{let{field:a,form:l}=e;return(0,S.jsx)(i.Mt,{size:"sm",minDate:B()(new Date).subtract(31,"day").startOf("day").toDate(),value:(0,c.Gu)(g.DealCreatedDate)?new Date(g.DealCreatedDate):(g.DealCreatedDate,null),onChange:e=>{l.setFieldValue(a.name,(0,c.Tk)(e))}})}})})}),(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"From Date",className:"mt-2",invalid:x.DealPeriodFromDate&&p.DealPeriodFromDate,errorMessage:x.DealPeriodFromDate,children:(0,S.jsx)(o.gN,{name:"DealPeriodFromDate",children:e=>{let{field:a,form:l}=e;return(0,S.jsx)(i.Mt,{size:"sm",minDate:B()(new Date).subtract(10,"day").startOf("day").toDate(),value:(0,c.Gu)(g.DealPeriodFromDate)?new Date(g.DealPeriodFromDate):(g.DealPeriodFromDate,null),onChange:e=>{if(l.setFieldValue(a.name,(0,c.Tk)(e)),null!=g.DealPeriodToDate){const a=(0,d.compareDates)(e,g.DealPeriodToDate);la(a)}},onBlur:e=>wa(l)})}})}),(0,S.jsx)(i.xJ,{asterisk:!0,className:"mt-2",label:"To Date",invalid:x.DealPeriodToDate&&p.DealPeriodToDate,errorMessage:x.DealPeriodToDate,children:(0,S.jsx)(o.gN,{name:"DealPeriodToDate",children:e=>{let{field:a,form:l}=e;return(0,S.jsx)(i.Mt,{size:"sm",minDate:B()(new Date(g.DealPeriodFromDate)).subtract(0,"day").startOf("day").toDate(),value:(0,c.Gu)(g.DealPeriodToDate)?new Date(g.DealPeriodToDate):(g.DealPeriodToDate,null),onChange:e=>{if(l.setFieldValue(a.name,(0,c.Tk)(e)),null!=g.DealPeriodFromDate){const a=(0,d.compareDates)(g.DealPeriodFromDate,e);la(a)}},onBlur:e=>wa(l)})}})})]}),(0,S.jsxs)("div",{className:"mt-2 mb-1",style:{backgroundColor:"rgb(31 41 55/var(--tw-bg-opacity))",padding:"10px",borderWidth:"1px",borderColor:"rgb(75 85 99/var(--tw-border-opacity))",borderRadius:".5rem"},children:[(0,S.jsxs)("p",{style:{color:"#54E4CB"},children:[" ","Payment Terms:-"," ",0!=(null===(a=g.AgencyCode)||void 0===a?void 0:a.IsCredit)&&null!==(l=g.AgencyCode)&&void 0!==l&&l.IsCredit?"".concat(null===(t=g.AgencyCode)||void 0===t?void 0:t.CreditDays," Days Credit Period "):j.CreditDays," ","Days Credit Period",0!=(null===(n=g.AgencyCode)||void 0===n?void 0:n.IsAdvPmt)&&null!==(s=g.AgencyCode)&&void 0!==s&&s.IsAdvPmt?"Advance Payment":null,0!=(null===(r=g.AgencyCode)||void 0===r?void 0:r.IsPDC)&&null!==(u=g.AgencyCode)&&void 0!==u&&u.IsPDC?"PDC":null]}),(0,S.jsxs)("p",{style:{color:"#54E4CB"},children:[" ","Address:-"," ",null===(m=g.AgencyPlaceCode)||void 0===m?void 0:m.Address1," ",null===(v=g.AgencyPlaceCode)||void 0===v?void 0:v.Address2]}),(0,S.jsxs)("p",{style:{color:"#54E4CB"},children:[" ","Business Type:-"," ",null===(C=g.AgencyCode)||void 0===C?void 0:C.BusinessTypeName]}),(0,S.jsxs)("p",{style:{color:"#54E4CB"},children:[" ",null===(h=g.AgencyPlaceCode)||void 0===h?void 0:h.GSTN_id]})]}),(0,S.jsx)(i.xJ,{label:"Cancel Status",invalid:x.CancelStatus&&p.CancelStatus,errorMessage:x.CancelStatus,children:(0,S.jsx)("div",{children:(0,S.jsx)(o.gN,{name:"CancelStatus",component:i.T5})})})]})]})]})})}})});case 1:return(0,S.jsxs)("div",{children:[(0,S.jsx)(k,{datg:O,onPrevious:qa,onCollapse:_a,onDialogClose:Ma,collapse:da,handleAddDealClick:()=>{na(1),ze({channel:l})},currentTab:ta,step:oa}),(0,S.jsx)("div",{className:"mt-2",children:(0,S.jsxs)(r.Z,{value:ta,variant:"pill",onChange:e=>{na(e),ze({channel:l}),We(),we({channel:l}),Be(10)},children:[(0,S.jsx)("div",{className:"flex justify-between ",children:(0,S.jsx)("div",{children:0!=ta&&(0,S.jsx)(U,{children:$e.map(((e,a)=>{var l;return(0,S.jsx)(G,{value:e.value,disabled:Je>-1&&(null===Le||void 0===Le||null===(l=Le.DealLineItemType)||void 0===l?void 0:l.value)!==e.value,children:e.label},a)}))})})}),(0,S.jsxs)("div",{className:"p-2 ",children:[(0,S.jsx)($,{value:1,children:(0,S.jsxs)("div",{className:"dark:!bg-[#1f2639] !bg-gray-100 dark:!border-[#374558] dark:!border",style:{padding:"10px",borderRadius:".5rem"},children:[(0,S.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[(0,S.jsx)("div",{className:"col-span-2 dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,S.jsxs)("div",{className:"col-span-2 grid ".concat("grid-cols-3"," gap-2"),children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"Channel",children:(0,S.jsx)(i.Ph,{options:x,onChange:e=>ze((a=>(0,t.Z)((0,t.Z)({},a),{},{channel:e}))),value:Le.channel})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Sponsor Type",children:(0,S.jsx)(i.Ph,{options:X,onChange:e=>Ba(e,"SponsorTypeCode"),value:null!==X?X.filter((e=>{var a;return e.value==(null===(a=Le.SponsorTypeCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Content",children:(0,S.jsx)(i.Ph,{options:ae,onChange:e=>{var a,l,t,n;(Ba(e,"ContentCode"),null!==(a=Le.OriginalRepeatCode)&&void 0!==a&&a.value)&&Pa(e.value,null===(l=Le.OriginalRepeatCode)||void 0===l?void 0:l.value,null===Le||void 0===Le||null===(t=Le.channel)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.split("-")[0])},value:null!==ae?ae.filter((e=>{var a;return e.value===(null===(a=Le.ContentCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})})]}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Org/Rep",children:(0,S.jsx)(i.Ph,{options:Ie,onChange:e=>{var a,l,t;(Ba(e,"OriginalRepeatCode"),Le.ContentCode.value)&&Pa(null===(a=Le.ContentCode)||void 0===a?void 0:a.value,e.value,null===Le||void 0===Le||null===(l=Le.channel)||void 0===l||null===(t=l.value)||void 0===t?void 0:t.split("-")[0])},value:null!==Ie?Ie.filter((e=>{var a;return e.value===(null===(a=Le.OriginalRepeatCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Spot Type",children:(0,S.jsx)(i.Ph,{options:te,onChange:e=>Ba(e,"SpotTypeCode"),value:null!==te?te.filter((e=>{var a;return e.value===(null===(a=Le.SpotTypeCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)("div",{className:"col-span-2",children:(0,S.jsx)(i.xJ,{label:"Remark",children:(0,S.jsx)(i.II,{value:Le.LineItemRemark,onChange:e=>{e.target.value.length<50&&/^[0-9a-zA-Z\s]*$/.test(e.target.value)&&La(e.target.value,"LineItemRemark")}})})})]})})}),(0,S.jsx)("div",{className:"col-span-1 dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"Start Time",children:(0,S.jsx)(i.Ph,{options:_e,onChange:e=>Ba(e.value,"StartTime"),value:null!==_e?_e.filter((e=>e.value===Le.StartTime)):q.filter((e=>e))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"End Time",children:(0,S.jsx)(i.Ph,{options:Ge,onChange:e=>Ba(e.value,"EndTime"),value:null!==Ge?Ge.filter((e=>e.value===Le.EndTime)):q.filter((e=>e))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"No Of Week",children:(0,S.jsx)(i.II,{size:"sm",value:Le.NoWeeks,onChange:e=>{e.target.value.length<4&&/^[0-9a-zA-Z\s]*$/.test(e.target.value)&&La(e.target.value,"NoWeeks")}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Week Part",children:(0,S.jsx)(i.Ph,{options:je,onChange:e=>Ba(e,"WeekDayCode"),value:null!==je?je.filter((e=>{var a;return e.value===(null===(a=Le.WeekDayCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)("div",{className:"col-span-1 ",children:(0,S.jsx)(i.xJ,{label:"Cancel Line Item",children:(0,S.jsx)(i.T5,{checked:1==Le.LineItemCancelStatus,onChange:e=>Za(e,"LineItemCancelStatus")})})})]})})})]}),(0,S.jsx)("div",{className:"col-span-3 mt-2",children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-6 gap-2",children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16,fontWeight:600},children:"Seconds"}),children:(0,S.jsx)(i.Ph,{placeholder:"Select",isDisabled:!0,styles:{control:e=>(0,t.Z)((0,t.Z)({},e),{},{height:"3.5rem!important"}),singleValue:e=>(0,t.Z)((0,t.Z)({},e),{},{fontSize:"15px!important"}),menuList:e=>(0,t.Z)((0,t.Z)({},e),{},{fontSize:"15px!important"})},options:Y,onChange:e=>{Be(e.value)},value:Y.filter((e=>e.value===Ze))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsxs)("p",{style:{fontSize:16,fontWeight:600},children:["Rate Per ",Ze,"[sec]"]}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Rate,style:{fontSize:25,fontWeight:600},disabled:Le.SpotTypeCode&&2===Le.SpotTypeCode.value,onChange:e=>{e.target.value.length<8&&/^[0-9.\s]*$/.test(e.target.value)&&La(e.target.value,"Rate"),Le.Second&&Ia(e.target.value,Le.Second)}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16},children:"Seconds"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Second,onChange:e=>{e.target.value.length<=8&&/^[0-9]*$/.test(e.target.value)&&La(e.target.value,"Second"),Le.Rate&&Ia(Le.Rate,e.target.value)},onBlur:()=>{Fe.Second>Le.Second&&(Ta("Error ","danger",1e3),ze(Fe))}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16},children:"Amount"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Amount,disabled:!0,onChange:e=>{e.target.value.length<8&&/^[0-9\s]*$/.test(e.target.value)&&La(e.target.value,"Amount")}})}),(0,S.jsx)(i.xJ,{label:(0,S.jsx)("p",{style:{fontSize:16},children:"Internal Rate"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.InternalRate,onChange:e=>{e.target.value.length<8&&/^[0-9.\s]*$/.test(e.target.value)&&La(e.target.value,"InternalRate")}})}),(0,S.jsx)("div",{})]})})})]})}),(0,S.jsx)($,{value:2,children:(0,S.jsxs)("div",{className:"grid grid-cols-3 gap-1 dark:!border-[#374558] dark:!border dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:[(0,S.jsx)("div",{className:"col-span-2 dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,S.jsxs)("div",{className:"col-span-2 grid ".concat("grid-cols-5"," gap-2"),children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"Channel",className:"col-span-2",children:(0,S.jsx)(i.Ph,{options:x,onChange:e=>ze((a=>(0,t.Z)((0,t.Z)({},a),{},{channel:e}))),value:Le.channel})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"RODP Category",className:"col-span-2",children:(0,S.jsx)(i.Ph,{options:Re,onChange:e=>Ba(e,"TimeBandCode"),value:null!==Re?Re.filter((e=>{var a;return e.value===(null===(a=Le.TimeBandCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Spot Type",className:"col-span-1",children:(0,S.jsx)(i.Ph,{options:te,onChange:e=>Ba(e,"SpotTypeCode"),value:null!==te?te.filter((e=>{var a;return e.value===(null===(a=Le.SpotTypeCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})})]}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Spot Preference",children:(0,S.jsx)(i.Ph,{options:Pe,onChange:e=>Ba(e,"SpotPreferenceCode"),value:null!==Pe?Pe.filter((e=>{var a;return e.value===(null===(a=Le.SpotPreferenceCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)("div",{className:"col-span-1",children:(0,S.jsx)(i.xJ,{label:"Remark",children:(0,S.jsx)(i.II,{size:"sm",value:Le.LineItemRemark,onChange:e=>{e.target.value.length<50&&/^[0-9a-zA-Z\s]*$/.test(e.target.value)&&La(e.target.value,"LineItemRemark")}})})}),(0,S.jsx)("div",{className:"col-span-1",children:(0,S.jsxs)("div",{className:"col-span-1 flex mb-2",children:[(0,S.jsx)(i.XZ,{value:1==Le.IsCommited,onChange:e=>Za(e,"IsCommited")}),"Is Commited Time"]})}),(0,S.jsx)("div",{className:"col-span-1",children:0==Le.IsCommited?(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,S.jsx)(i.xJ,{label:"Commited Start Time",children:(0,S.jsx)(i.II,{size:"sm",name:"CommitedStartTime",maxLength:"8",placeholder:"HH:MM:SS",value:Le.CommitedStartTime,onChange:e=>(0,d.handleChangeWithOutFrameNew)(e,ze),onBlur:za})}),(0,S.jsx)(i.xJ,{label:"Commited End Time",children:(0,S.jsx)(i.II,{size:"sm",name:"CommitedEndTime",maxLength:"8",placeholder:"HH:MM:SS",value:Le.CommitedEndTime,onChange:e=>(0,d.handleChangeWithOutFrameNew)(e,ze),onBlur:za})})]}):null})]})})}),(0,S.jsx)("div",{className:"col-span-1 dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:(0,S.jsxs)(i.Yb,{children:[(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"Start Time",children:(0,S.jsx)(i.II,{size:"sm",value:Le.StartTime,disabled:!0,onChange:e=>La(e.target.value,"StartTime")})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"End Time",children:(0,S.jsx)(i.II,{size:"sm",value:Le.EndTime,disabled:!0,onChange:e=>La(e.target.value,"EndTime")})})]}),(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2 ",children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"Week Part",children:(0,S.jsx)(i.Ph,{options:je,onChange:e=>Ba(e,"WeekDayCode"),value:null!==je?je.filter((e=>{var a;return e.value===(null===(a=Le.WeekDayCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)(i.xJ,{label:"Cancel Line Item",children:(0,S.jsx)(i.T5,{checked:1==Le.LineItemCancelStatus,onChange:e=>Za(e,"LineItemCancelStatus")})})]})]})}),(0,S.jsx)("div",{className:"col-span-3 mt-2",children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-6 gap-2",children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16,fontWeight:600},children:"Seconds"}),children:(0,S.jsx)(i.Ph,{placeholder:"Select",isDisabled:!0,styles:{control:e=>(0,t.Z)((0,t.Z)({},e),{},{height:"3.5rem!important"}),singleValue:e=>(0,t.Z)((0,t.Z)({},e),{},{fontSize:"15px!important"}),menuList:e=>(0,t.Z)((0,t.Z)({},e),{},{fontSize:"15px!important"})},options:Y,onChange:e=>{Be(e.value)},value:Y.filter((e=>e.value===Ze))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsxs)("p",{style:{fontSize:16,fontWeight:600},children:["Rate Per ",Ze,"[sec]"]}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Rate,style:{fontSize:25,fontWeight:600},disabled:Le.SpotTypeCode&&2===Le.SpotTypeCode.value,onChange:e=>{e.target.value.length<8&&/^[0-9.\s]*$/.test(e.target.value)&&La(e.target.value,"Rate"),Le.Second&&Ia(e.target.value,Le.Second)}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16},children:"Seconds"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Second,onChange:e=>{e.target.value.length<=8&&/^[0-9]*$/.test(e.target.value)&&La(e.target.value,"Second"),Le.Rate&&Ia(Le.Rate,e.target.value)},onBlur:()=>{Fe.Second>Le.Second&&(Ta("Error ","danger",1e3),ze(Fe))}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16},children:"Amount"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Amount,disabled:!0,onChange:e=>{e.target.value.length<8&&/^[0-9\s]*$/.test(e.target.value)&&La(e.target.value,"Amount")}})}),(0,S.jsx)(i.xJ,{label:(0,S.jsx)("p",{style:{fontSize:16},children:"Internal Rate"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.InternalRate,onChange:e=>{e.target.value.length<8&&/^[0-9.\s]*$/.test(e.target.value)&&La(e.target.value,"InternalRate")}})}),(0,S.jsx)("div",{})]})})})]})}),(0,S.jsx)($,{value:3,children:(0,S.jsxs)("div",{className:"grid grid-cols-3 gap-1  dark:!border-[#374558] dark:!border dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:[(0,S.jsx)("div",{className:"col-span-2 dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,S.jsxs)("div",{className:"col-span-2 grid ".concat("grid-cols-3"," gap-2"),children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"Channel",children:(0,S.jsx)(i.Ph,{options:x,onChange:e=>ze((a=>(0,t.Z)((0,t.Z)({},a),{},{channel:e}))),value:Le.channel})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Content",children:(0,S.jsx)(i.Ph,{options:ae,onChange:e=>{var a,l,t,n;(Ba(e,"ContentCode"),null!==(a=Le.OriginalRepeatCode)&&void 0!==a&&a.value)&&Pa(e.value,null===(l=Le.OriginalRepeatCode)||void 0===l?void 0:l.value,null===Le||void 0===Le||null===(t=Le.channel)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.split("-")[0])},value:null!==ae?ae.filter((e=>{var a;return e.value===(null===(a=Le.ContentCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Org/Rep",children:(0,S.jsx)(i.Ph,{options:Ie,onChange:e=>{var a,l,t;(Ba(e,"OriginalRepeatCode"),Le.ContentCode.value)&&Pa(null===(a=Le.ContentCode)||void 0===a?void 0:a.value,e.value,null===Le||void 0===Le||null===(l=Le.channel)||void 0===l||null===(t=l.value)||void 0===t?void 0:t.split("-")[0])},value:null!==Ie?Ie.filter((e=>{var a;return e.value===(null===(a=Le.OriginalRepeatCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})})]}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Spot Type",children:(0,S.jsx)(i.Ph,{options:te,onChange:e=>Ba(e,"SpotTypeCode"),value:null!==te?te.filter((e=>{var a;return e.value===(null===(a=Le.SpotTypeCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)("div",{className:"col-span-1",children:(0,S.jsx)(i.xJ,{label:"Remark",children:(0,S.jsx)(i.II,{value:Le.LineItemRemark,onChange:e=>{e.target.value.length<50&&/^[0-9a-zA-Z\s]*$/.test(e.target.value)&&La(e.target.value,"LineItemRemark")}})})})]})})}),(0,S.jsx)("div",{className:"col-span-1 dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"Start Time",children:(0,S.jsx)(i.Ph,{options:_e,onChange:e=>Ba(e.value,"StartTime"),value:null!==_e?_e.filter((e=>e.value===Le.StartTime)):q.filter((e=>e))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"End Time",children:(0,S.jsx)(i.Ph,{options:Ge,onChange:e=>Ba(e.value,"EndTime"),value:null!==Ge?Ge.filter((e=>e.value===Le.EndTime)):q.filter((e=>e))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Week Part",children:(0,S.jsx)(i.Ph,{options:je,onChange:e=>Ba(e,"WeekDayCode"),value:null!==je?je.filter((e=>{var a;return e.value===(null===(a=Le.WeekDayCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)("div",{className:"col-span-1 ",children:(0,S.jsx)(i.xJ,{label:"Cancel Line Item",children:(0,S.jsx)(i.T5,{checked:1==Le.LineItemCancelStatus,onChange:e=>Za(e,"LineItemCancelStatus")})})})]})})}),(0,S.jsx)("div",{className:"col-span-3 mt-2",children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-6 gap-2",children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16,fontWeight:600},children:"Seconds"}),children:(0,S.jsx)(i.Ph,{isDisabled:!0,placeholder:"Select",styles:{control:e=>(0,t.Z)((0,t.Z)({},e),{},{height:"3.5rem!important"}),singleValue:e=>(0,t.Z)((0,t.Z)({},e),{},{fontSize:"15px!important"}),menuList:e=>(0,t.Z)((0,t.Z)({},e),{},{fontSize:"15px!important"})},options:Y,onChange:e=>{Be(e.value)},value:Y.filter((e=>e.value===Ze))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsxs)("p",{style:{fontSize:16,fontWeight:600},children:["Rate Per ",Ze,"[sec]"]}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Rate,style:{fontSize:25,fontWeight:600},disabled:Le.SpotTypeCode&&2===Le.SpotTypeCode.value,onChange:e=>{e.target.value.length<8&&/^[0-9.\s]*$/.test(e.target.value)&&La(e.target.value,"Rate"),Le.Second&&Ia(e.target.value,Le.Second)}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16},children:"Seconds"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Second,onChange:e=>{e.target.value.length<=8&&/^[0-9]*$/.test(e.target.value)&&La(e.target.value,"Second"),Le.Rate&&Ia(Le.Rate,e.target.value)},onBlur:()=>{Fe.Second>Le.Second&&(Ta("Error ","danger",1e3),ze(Fe))}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16},children:"Amount"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Amount,disabled:!0,onChange:e=>{e.target.value.length<8&&/^[0-9\s]*$/.test(e.target.value)&&La(e.target.value,"Amount")}})}),(0,S.jsx)(i.xJ,{label:(0,S.jsx)("p",{style:{fontSize:16},children:"Internal Rate"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.InternalRate,onChange:e=>{e.target.value.length<8&&/^[0-9.\s]*$/.test(e.target.value)&&La(e.target.value,"InternalRate")}})}),(0,S.jsx)("div",{})]})})})]})}),(0,S.jsx)($,{value:4,children:(0,S.jsxs)("div",{className:"grid grid-cols-3 gap-1 dark:!border-[#374558] dark:!border dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:[(0,S.jsx)("div",{className:"col-span-2 dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,S.jsxs)("div",{className:"col-span-2 grid ".concat("grid-cols-5"," gap-2"),children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"Channel",className:"col-span-2",children:(0,S.jsx)(i.Ph,{options:x,onChange:e=>ze((a=>(0,t.Z)((0,t.Z)({},a),{},{channel:e}))),value:Le.channel})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"RODP Category",className:"col-span-2",children:(0,S.jsx)(i.Ph,{options:Re,onChange:e=>Ba(e,"TimeBandCode"),value:null!==Re?Re.filter((e=>{var a;return e.value===(null===(a=Le.TimeBandCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"NTC Type",className:"col-span-1",children:(0,S.jsx)(i.Ph,{options:oe,onChange:e=>{Ba(e,"NTCTypeCode"),ze((e=>(0,t.Z)((0,t.Z)({},e),{},{IsNTC:1})))},value:null!==oe?oe.filter((e=>{var a;return e.value===(null===(a=Le.NTCTypeCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})})]}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Spot Type",children:(0,S.jsx)(i.Ph,{options:te,onChange:e=>Ba(e,"SpotTypeCode"),value:null!==te?te.filter((e=>{var a;return e.value===(null===(a=Le.SpotTypeCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)("div",{className:"col-span-1",children:(0,S.jsx)(i.xJ,{label:"Remark",children:(0,S.jsx)(i.II,{value:Le.LineItemRemark,onChange:e=>{e.target.value.length<50&&/^[0-9a-zA-Z\s]*$/.test(e.target.value)&&La(e.target.value,"LineItemRemark")}})})})]})})}),(0,S.jsx)("div",{className:"col-span-1 dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"Start Time",children:(0,S.jsx)(i.II,{size:"sm",disabled:!0,value:Le.StartTime,onChange:e=>La(e.target.value,"StartTime")})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"End Time",children:(0,S.jsx)(i.II,{size:"sm",disabled:!0,value:Le.EndTime,onChange:e=>La(e.target.value,"EndTime")})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Week Part",children:(0,S.jsx)(i.Ph,{options:je,onChange:e=>Ba(e,"WeekDayCode"),value:null!==je?je.filter((e=>{var a;return e.value===(null===(a=Le.WeekDayCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)("div",{className:"col-span-1 ",children:(0,S.jsx)(i.xJ,{label:"Cancel Line Item",children:(0,S.jsx)(i.T5,{checked:1==Le.LineItemCancelStatus,onChange:e=>Za(e,"LineItemCancelStatus")})})})]})})}),(0,S.jsx)("div",{className:"col-span-3 mt-2",children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-6 gap-2",children:[(0,S.jsx)("div",{}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16,fontWeight:600},children:"Rate Per 10[spot]"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Rate,style:{fontSize:25,fontWeight:600},onChange:e=>{e.target.value.length<8&&/^[0-9.\s]*$/.test(e.target.value)&&La(e.target.value,"Rate"),Le.NTCTotalSpots&&Ia(e.target.value,Le.NTCTotalSpots)}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16},children:"NTC Spots"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.NTCTotalSpots,onChange:e=>{e.target.value.length<=8&&/^[0-9\s]*$/.test(e.target.value)&&(La(e.target.value,"NTCTotalSpots"),Le.Rate&&function(e,a){const l=Number(a)/Ze*Number(e);ze((e=>(0,t.Z)((0,t.Z)({},e),{},{Amount:l,NetAmount:l})))}(Le.Rate,e.target.value))},onBlur:()=>{Fe.NTCTotalSpots>Le.NTCTotalSpots&&(Ta("Error ","danger",1e3),ze(Fe))}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16},children:"Amount"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Amount,disabled:!0,onChange:e=>{e.target.value.length<8&&/^[0-9\s]*$/.test(e.target.value)&&La(e.target.value,"Amount")}})}),(0,S.jsx)(i.xJ,{label:(0,S.jsx)("p",{style:{fontSize:16},children:"Internal Rate"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.InternalRate,onChange:e=>{e.target.value.length<8&&/^[0-9.\s]*$/.test(e.target.value)&&La(e.target.value,"InternalRate")}})}),(0,S.jsx)("div",{})]})})})]})}),(0,S.jsx)($,{value:5,children:(0,S.jsxs)("div",{className:"grid grid-cols-3 gap-1 dark:!border-[#374558] dark:!border dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:[(0,S.jsx)("div",{className:"col-span-2 dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,S.jsxs)("div",{className:"col-span-2 grid ".concat("grid-cols-3"," gap-2"),children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"Channel",children:(0,S.jsx)(i.Ph,{options:x,onChange:e=>ze((a=>(0,t.Z)((0,t.Z)({},a),{},{channel:e}))),value:Le.channel})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Content",children:(0,S.jsx)(i.Ph,{options:ae,onChange:e=>{var a,l,t,n;(Ba(e,"ContentCode"),null!==(a=Le.OriginalRepeatCode)&&void 0!==a&&a.value)&&Pa(e.value,null===(l=Le.OriginalRepeatCode)||void 0===l?void 0:l.value,null===Le||void 0===Le||null===(t=Le.channel)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.split("-")[0])},value:null!==ae?ae.filter((e=>{var a;return e.value===(null===(a=Le.ContentCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Org/Rep",children:(0,S.jsx)(i.Ph,{options:Ie,onChange:e=>{var a,l,t;(Ba(e,"OriginalRepeatCode"),Le.ContentCode.value)&&Pa(null===(a=Le.ContentCode)||void 0===a?void 0:a.value,e.value,null===Le||void 0===Le||null===(l=Le.channel)||void 0===l||null===(t=l.value)||void 0===t?void 0:t.split("-")[0])},value:null!==Ie?Ie.filter((e=>{var a;return e.value===(null===(a=Le.OriginalRepeatCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})})]}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Spot Type",children:(0,S.jsx)(i.Ph,{options:te,onChange:e=>Ba(e,"SpotTypeCode"),value:null!==te?te.filter((e=>{var a;return e.value===(null===(a=Le.SpotTypeCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)("div",{className:"col-span-1",children:(0,S.jsx)(i.xJ,{label:"Remark",children:(0,S.jsx)(i.II,{value:Le.LineItemRemark,onChange:e=>{e.target.value.length<50&&/^[0-9a-zA-Z\s]*$/.test(e.target.value)&&La(e.target.value,"LineItemRemark")}})})})]})})}),(0,S.jsx)("div",{className:"col-span-1 dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"Start Time",children:(0,S.jsx)(i.Ph,{options:_e,onChange:e=>Ba(e.value,"StartTime"),value:null!==_e?_e.filter((e=>e.value===Le.StartTime)):q.filter((e=>e))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"End Time",children:(0,S.jsx)(i.Ph,{options:Ge,onChange:e=>Ba(e.value,"EndTime"),value:null!==Ge?Ge.filter((e=>e.value===Le.EndTime)):q.filter((e=>e))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Week Part",children:(0,S.jsx)(i.Ph,{options:je,onChange:e=>Ba(e,"WeekDayCode"),value:null!==je?je.filter((e=>{var a;return e.value===(null===(a=Le.WeekDayCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)("div",{className:"col-span-1 ",children:(0,S.jsx)(i.xJ,{label:"Cancel Line Item",children:(0,S.jsx)(i.T5,{checked:1==Le.LineItemCancelStatus,onChange:e=>Za(e,"LineItemCancelStatus")})})})]})})}),(0,S.jsx)("div",{className:"col-span-3 mt-2",children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-6 gap-2",children:[(0,S.jsx)("div",{}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16,fontWeight:600},children:"Rate Per Slot"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Rate,style:{fontSize:25,fontWeight:600},disabled:Le.SpotTypeCode&&2===Le.SpotTypeCode.value,onChange:e=>{e.target.value.length<8&&/^[0-9.\s]*$/.test(e.target.value)&&La(e.target.value,"Rate"),Le.TotalSpots&&Aa(e.target.value,Le.TotalSpots)}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16},children:"Slot"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.TotalSpots,onChange:e=>{e.target.value.length<=8&&/^[0-9\s]*$/.test(e.target.value)&&La(e.target.value,"TotalSpots"),Le.Rate&&Aa(Le.Rate,e.target.value)},onBlur:()=>{Fe.TotalSpots>Le.TotalSpots&&(Ta("Error ","danger",1e3),ze(Fe))}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16},children:"Amount"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Amount,disabled:!0,onChange:e=>{e.target.value.length<8&&/^[0-9\s]*$/.test(e.target.value)&&La(e.target.value,"Amount")}})}),(0,S.jsx)(i.xJ,{label:(0,S.jsx)("p",{style:{fontSize:16},children:"Internal Rate"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.InternalRate,onChange:e=>{e.target.value.length<8&&/^[0-9.\s]*$/.test(e.target.value)&&La(e.target.value,"InternalRate")}})}),(0,S.jsx)("div",{})]})})})]})}),(0,S.jsx)($,{value:6,children:(0,S.jsxs)("div",{className:"grid grid-cols-3 gap-1 dark:!border-[#374558] dark:!border dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:[(0,S.jsx)("div",{className:"col-span-2 dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,S.jsxs)("div",{className:"col-span-2 grid ".concat("grid-cols-5"," gap-2"),children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"Channel",className:"col-span-2",children:(0,S.jsx)(i.Ph,{options:x,onChange:e=>ze((a=>(0,t.Z)((0,t.Z)({},a),{},{channel:e}))),value:Le.channel})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"RODP Category",className:"col-span-2",children:(0,S.jsx)(i.Ph,{options:Re,onChange:e=>Ba(e,"TimeBandCode"),value:null!==Re?Re.filter((e=>{var a;return e.value===(null===(a=Le.TimeBandCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Spot Type",className:"col-span-1",children:(0,S.jsx)(i.Ph,{options:te,onChange:e=>Ba(e,"SpotTypeCode"),value:null!==te?te.filter((e=>{var a;return e.value===(null===(a=Le.SpotTypeCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})})]}),(0,S.jsx)("div",{className:"col-span-2",children:(0,S.jsx)(i.xJ,{label:"Remark",children:(0,S.jsx)(i.II,{value:Le.LineItemRemark,onChange:e=>{e.target.value.length<50&&/^[0-9a-zA-Z\s]*$/.test(e.target.value)&&La(e.target.value,"LineItemRemark")}})})})]})})}),(0,S.jsx)("div",{className:"col-span-1 dark:!bg-[#1f2639] bg-gray-100",style:{padding:"10px",borderRadius:".5rem"},children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,S.jsx)(i.xJ,{asterisk:!0,label:"Start Time",children:(0,S.jsx)(i.II,{size:"sm",value:Le.StartTime,disabled:!0,onChange:e=>La(e.target.value,"StartTime")})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"End Time",children:(0,S.jsx)(i.II,{size:"sm",value:Le.EndTime,disabled:!0,onChange:e=>La(e.target.value,"EndTime")})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:"Week Part",children:(0,S.jsx)(i.Ph,{options:je,onChange:e=>Ba(e,"WeekDayCode"),value:null!==je?je.filter((e=>{var a;return e.value===(null===(a=Le.WeekDayCode)||void 0===a?void 0:a.value)})):q.filter((e=>e))})}),(0,S.jsx)("div",{className:"col-span-1 ",children:(0,S.jsx)(i.xJ,{label:"Cancel Line Item",children:(0,S.jsx)(i.T5,{checked:1==Le.LineItemCancelStatus,onChange:e=>Za(e,"LineItemCancelStatus")})})})]})})}),(0,S.jsx)("div",{className:"col-span-3 mt-2",children:(0,S.jsx)(i.Yb,{children:(0,S.jsxs)("div",{className:"grid grid-cols-6 gap-2",children:[(0,S.jsx)("div",{}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16,fontWeight:600},children:"Rate Per Slot"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Rate,style:{fontSize:25,fontWeight:600},disabled:Le.SpotTypeCode&&2===Le.SpotTypeCode.value,onChange:e=>{e.target.value.length<8&&/^[0-9.\s]*$/.test(e.target.value)&&La(e.target.value,"Rate"),Le.TotalSpots&&Aa(e.target.value,Le.TotalSpots)}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16},children:"Slot"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.TotalSpots,onChange:e=>{e.target.value.length<=5&&/^[0-9\s]*$/.test(e.target.value)&&La(e.target.value,"TotalSpots"),Le.Rate&&Aa(Le.Rate,e.target.value)},onBlur:()=>{Fe.TotalSpots>Le.TotalSpots&&(Ta("Error ","danger",1e3),ze(Fe))}})}),(0,S.jsx)(i.xJ,{asterisk:!0,label:(0,S.jsx)("p",{style:{fontSize:16},children:"Amount"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.Amount,disabled:!0,onChange:e=>{e.target.value.length<8&&/^[0-9\s]*$/.test(e.target.value)&&La(e.target.value,"Amount")}})}),(0,S.jsx)(i.xJ,{label:(0,S.jsx)("p",{style:{fontSize:16},children:"Internal Rate"}),children:(0,S.jsx)(i.II,{size:"lg",value:Le.InternalRate,onChange:e=>{e.target.value.length<8&&/^[0-9.\s]*$/.test(e.target.value)&&La(e.target.value,"InternalRate")}})}),(0,S.jsx)("div",{})]})})})]})})]})]})}),0!=ta&&(0,S.jsx)("div",{className:"text-right px-6 py-3  rounded-bl-lg rounded-br-lg",children:(0,S.jsx)(i.zx,{variant:"solid",size:"sm",onClick:()=>(()=>{const{Rate:e,SpotTypeCode:a}=Le,n=Oe.findIndex(((e,a)=>a===Je)),o=$e.findIndex(((e,a)=>e.value===ta));if(-1!==n){const e=(0,t.Z)((0,t.Z)({},Oe[n]),{},{name:ta,DealLineItemType:{value:ta,label:$e[o].label},DealLineItemNo:Je},Le),a=[...Oe];a[n]=e,Me(a),We(),Ma(),we({channel:l})}else Da(Le,ta)&&(Me([...Oe,(0,t.Z)({name:ta,DealLineItemType:{value:ta,label:$e[o].label},DealLineItemNo:Oe.length+1,ID:Oe.length+1},Le)]),Ma(),we({channel:l}))})(),children:Je>-1?"Edit":"Add"})}),(0,S.jsx)(I,{datg:H,DataDisplay:Oe,setFormState:ze,setfindId:We,setCurrentTab:na,step:oa,setFormStateCopy:we,isChannelSelEnabledForDealDetails:K})]});case 2:return(0,S.jsxs)("div",{children:[(0,S.jsx)(k,{datg:O,onPrevious:qa,onCollapse:_a,onDialogClose:Ma,collapse:da,setCurrentTab:na}),(0,S.jsx)(I,{datg:H,DataDisplay:Oe,setFormState:ze,setfindId:We,setCurrentTab:na,step:oa,setFormStateCopy:we,isChannelSelEnabledForDealDetails:K}),(0,S.jsx)(i.gq,{beforeUpload:fa,uploadLimit:1,draggable:!0,children:(0,S.jsxs)("div",{className:"text-center",children:[(0,S.jsx)("div",{className:"text-6xl mb-4 flex justify-center"}),(0,S.jsx)("p",{className:"font-semibold",children:(0,S.jsx)("span",{className:"text-gray-800 dark:text-white",children:"Drop & browse your file here"})})]})})]});case 3:return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k,{datg:O,onPrevious:qa,onCollapse:_a,onDialogClose:Ma,collapse:da,setCurrentTab:na}),(0,S.jsx)(I,{datg:H,DataDisplay:Oe,setFormState:ze,setfindId:We,setCurrentTab:na,step:oa,setFormStateCopy:we,isChannelSelEnabledForDealDetails:K}),Xe&&(0,S.jsx)("div",{className:"upload-file-list",children:[Xe].map(((e,a)=>(0,S.jsx)(L.Z,{file:e},e.name+a)))})]});default:return null}})()}),(0,S.jsxs)(u.gi,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,S.jsxs)("div",{className:"md:flex items-center",children:[(0,S.jsx)(i.zx,{className:"mx-2",size:"sm",icon:(0,S.jsx)(p.BCj,{}),onClick:()=>{0!==oa?(Ja(oa-1),$a()):Sa("/DealMaster")},children:0===oa?"Discard":"Previous"}),1===oa?(0,S.jsx)(i.zx,{disabled:3===oa,variant:"solid",icon:3===oa?(0,S.jsx)(w.JMf,{}):(0,S.jsx)(J.ntD,{}),size:"sm",onClick:()=>{if(0!=ta)return Da(Le,ta),void we({channel:l});Oe.length>0?(Ja(oa+1),we({channel:l})):Ta("Please add atleast one Deal Line!!","danger")},children:3===oa?"Completed":"Next"}):2===oa?(0,S.jsx)(i.zx,{disabled:3===oa,variant:"solid",size:"sm",icon:3===oa?(0,S.jsx)(w.JMf,{}):(0,S.jsx)(J.ntD,{}),onClick:()=>{Ja(oa+1)},children:3===oa?"Completed":"Next"}):(0,S.jsx)(i.zx,{disabled:4===ia,variant:"solid",size:"sm",icon:3===oa?(0,S.jsx)(w.JMf,{}):(0,S.jsx)(J.ntD,{}),onClick:()=>{3===oa?Oa():Wa()},children:3===oa?"Completed":"Next"})]}),(0,S.jsxs)("div",{id:"myblock",className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-6 gap-4 p-4 pt-0 pb-1 bg-gray-100 dark:bg-gray-800",children:[(0,S.jsx)("div",{}),(0,S.jsx)("div",{}),(0,S.jsx)("div",{}),(0,S.jsxs)("div",{className:"flex flex-col  ",children:[(0,S.jsx)("span",{className:"font-medium text-gray-600 dark:text-gray-300 text-sm",children:"Total Amount"}),(0,S.jsxs)("span",{className:" text-lg font-bold lblColor",children:[H,Ua.toLocaleString("en-IN")]})]}),(0,S.jsxs)("div",{className:"flex flex-col  ",children:[(0,S.jsx)("span",{className:"font-medium text-gray-600 dark:text-gray-300 text-sm",children:"Total Seconds"}),(0,S.jsx)("span",{className:" text-lg font-bold lblColor",children:Va})]}),(0,S.jsxs)("div",{className:"flex flex-col  ",children:[(0,S.jsx)("span",{className:"font-medium text-gray-600 dark:text-gray-300 text-sm",children:"Total Spot/NTC"}),(0,S.jsx)("span",{className:" text-lg font-bold lblColor",children:Ga})]})]})]})]})]})}))},24564:()=>{},72950:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{}}]);
//# sourceMappingURL=8252.e9ea3a81.chunk.js.map