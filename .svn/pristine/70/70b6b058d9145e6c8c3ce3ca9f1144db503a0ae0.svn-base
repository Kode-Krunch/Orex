(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[4118],{28179:(e,t,a)=>{"use strict";a.d(t,{$H:()=>r,$o:()=>S,Bo:()=>x,D_:()=>I,Eg:()=>A,JN:()=>D,M0:()=>d,ND:()=>i,OY:()=>s,SR:()=>p,Sd:()=>f,U2:()=>b,U3:()=>k,XV:()=>h,fU:()=>T,fy:()=>N,fz:()=>j,g7:()=>B,h:()=>C,iH:()=>l,ih:()=>w,jS:()=>v,kP:()=>m,ko:()=>u,m1:()=>y,mg:()=>Z,pc:()=>R,qm:()=>g});var o=a(54048),c=a(46152);a(60630);const n=a(74569);async function r(e){return c.Z.fetchData({url:"/commercialtypemaster/",method:"get",data:e})}async function i(e,t,a){return c.Z.fetchData({url:"/spotcancellation/?CancelRemarkCode=".concat(t,"&IsNTC=").concat(a),method:"put",data:e})}const s=(e,t)=>new Promise(((a,c)=>{let r=JSON.stringify({CommercialTypeName:e.CommercialTypeName,CommercialTypeShortName:e.CommercialTypeShortName,IsActive:e.IsActive?1:0}),i={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/commercialtypemaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:r};n.request(i).then((e=>{a(e)})).catch((e=>{c(e)}))})),l=(e,t)=>new Promise(((a,c)=>{let r=JSON.stringify({CommercialTypeName:e.CommercialTypeName,CommercialTypeShortName:e.CommercialTypeShortName,IsActive:e.IsActive?1:0}),i={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/commercialtypemaster/".concat(e.CommercialTypeCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:r};n.request(i).then((e=>{a(e)})).catch((e=>{c(e)}))}));async function m(e){return c.Z.fetchData({url:"/commercialmaster/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&IsNTC=").concat(e.IsNTC,"&fromdate=").concat(e.FromDate,"&todate=").concat(e.ToDate),method:"get"})}async function d(e,t){return c.Z.fetchData({url:"/bookingmaster/?IsNTC=".concat(e.IsNTC,"&LocationCode=").concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}async function h(e,t,a,o,n,r,i,s,l,m,d){return c.Z.fetchData({url:"/spotschedule/USP_SA_RO_SpotSchedule/?From_DT=".concat(e,"&To_DT=").concat(t,"&DealNumber=").concat(a,"&BookingNumber=").concat(o,"&ChannelCode=").concat(r,"&LocationCode=").concat(i,"&ScheduleDate=").concat(n,"&IsMakeGoodRO=").concat(s?1:0,"&BookingRefNumber=").concat(l,"&IsNTC=").concat(m,"&BrandCode=").concat(d),method:"get"})}async function u(e,t,a,o,n,r){return c.Z.fetchData({url:"/commercialmaster/get_Commercial/?LocationCode=".concat(o,"&ChannelCode=").concat(n,"&ClientCode=").concat(t.value,"&BrandCode=").concat(e.value,"&DurInSec=").concat(a.DurInSec,"&IsNTC=").concat(r),method:"get"})}async function C(e,t,a,o,n){return c.Z.fetchData({url:"/commercialmaster/get_Commercial/?LocationCode=".concat(a,"&ChannelCode=").concat(o,"&ClientCode=").concat(t,"&BrandCode=").concat(e,"&IsNTC=").concat(n),method:"get"})}const p=(e,t)=>new Promise(((a,c)=>{let r={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/commercialmaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};console.log(r.url),n.request(r).then((e=>{a(e)})).catch((e=>{c(e)}))})),y=(e,t,a)=>new Promise(((c,r)=>{let i={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/commercialmaster/".concat(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};n.request(i).then((e=>{c(e)})).catch((e=>{r(e)}))}));async function f(e){return c.Z.fetchData({url:"/positionmaster/drop/",method:"get",data:e})}async function g(e){return c.Z.fetchData({url:"/spotpositiontypemaster/drop/",method:"get",data:e})}async function N(e){return c.Z.fetchData({url:"/cancelremarkmaster/",method:"get",data:e})}const D=(e,t)=>fetch(o.Z.apiPrefix+"/cancelremarkmaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({CancelRemarkName:e.CancelRemarkName,IsActive:e.IsActive})}),A=(e,t)=>fetch(o.Z.apiPrefix+"/cancelremarkmaster/".concat(e.CancelRemarkCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({CancelRemarkName:e.CancelRemarkName,IsActive:e.IsActive})});async function k(e){return c.Z.fetchData({url:"/yearmaster/",method:"get",data:e})}const T=(e,t)=>fetch(o.Z.apiPrefix+"/yearmaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({Description:e.Description,StartDate:e.StartDate,EndDate:e.EndDate,IsActive:e.IsActive})}),x=(e,t)=>fetch(o.Z.apiPrefix+"/yearmaster/".concat(e.Yearcode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({Description:e.Description,StartDate:e.StartDate,EndDate:e.EndDate,IsActive:e.IsActive})});async function v(e){return c.Z.fetchData({url:"/taxmaster/",method:"get",data:e})}async function S(e){return c.Z.fetchData({url:"/taxmaster/",method:"post",data:e})}async function b(e,t){return c.Z.fetchData({url:"/taxmaster/".concat(t),method:"put",data:e})}const j=(e,t,a)=>{try{return c.Z.fetchData({method:"get",url:"/trafficdayclose/?LocationCode=".concat(t.LocationCode,"&ChannelCode=").concat(t.ChannelCode,"&traficmonth=").concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}catch(o){throw new Error(o)}},I=(e,t,a,o)=>{try{return c.Z.fetchData({method:"get",url:"/trafficdayclose/asperfromto/?LocationCode=".concat(a.LocationCode,"&ChannelCode=").concat(a.ChannelCode,"&fromdate=").concat(e,"&todate=").concat(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}})}catch(n){throw new Error(n)}},Z=async(e,t,a)=>{try{return new Promise(((c,r)=>{let i={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/trafficdayclose/?LocationCode=".concat(t.LocationCode,"&ChannelCode=").concat(t.ChannelCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:e};n.request(i).then((e=>{c(e)})).catch((e=>{r(e)}))}))}catch(c){throw c}},w=(e,t,a)=>{try{return c.Z.fetchData({method:"get",url:"/bookingmaster/getbookingbyclient/?LocationCode=".concat(t.LocationCode,"&ChannelCode=").concat(t.ChannelCode,"&ClientCode=").concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}catch(o){throw new Error(o)}},B=(e,t)=>{try{return c.Z.fetchData({method:"get",url:"/bookingactivity/get_bookingactivity/?BookingNumber=".concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}catch(a){throw new Error(a)}},R=(e,t,a)=>{try{return console.log(e),c.Z.fetchData({method:"get",url:"/bookingactivity/get_bookingactivitybydate?BookingNumber=".concat(t,"&ChangeType=").concat(e.type,"&ChangeOn=").concat(e.dateTime,"&ChangeBy=").concat(e.executerId),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}catch(o){throw new Error(o)}}},38884:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var o=a(1413),c=a(2803),n=a(72791),r=a(28179),i=a(96361),s=a(46657),l=a(60364),m=a(4621),d=a(32640),h=a(80184);const u=()=>{const e=(0,l.useSelector)((e=>e.auth.session.token)),t=(0,n.useRef)(0);function a(e,t){c.Am.push((0,h.jsx)(c.P_,{closable:!0,type:t,duration:1e3,title:t.charAt(0).toUpperCase()+t.slice(1),children:e}))}const[u,C]=(0,n.useState)(""),[p,y]=(0,n.useState)(!1),[f,g]=(0,n.useState)(""),[N,D]=(0,n.useState)(!1),[A,k]=(0,n.useState)(),T=(0,n.useRef)(null),[x,v]=(0,n.useState)();(0,n.useEffect)((()=>{t.current=t.current+1,1==t.current&&(async e=>{const t=[...(await(0,r.fy)()).data].reverse().map(((e,t)=>(0,o.Z)((0,o.Z)({},e),{},{serialNumber:t+1})));v(t)})()}),[]);const S=t=>{console.log("CancelRemark",x);const o=[...x];let c=o[t];c.IsActive=1==c.IsActive?0:1,(0,r.Eg)(c,e).then((e=>204==e.status?(console.log(e),a("Data Already Exists.","warning"),null):e.json())).then((e=>{e.serialNumber=c.serialNumber,e.IsActive=c.IsActive,e.CancelRemarkName=c.CancelRemarkName,o[t]=e,v(o),a("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},b=[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"CancelRemarkName",header:"CancelRemarkName",width:"20%"}];return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(s.F,{ref:T}),(0,h.jsx)(m.Q,{group:"declarative",visible:N,onHide:()=>D(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{S(A)}}),(0,h.jsx)(c.Zb,{header:(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsx)("div",{children:(0,h.jsx)("span",{className:"flex items-center",children:(0,h.jsx)(i.Z,{ModuleText:"Programming",Component:"Cancel Remark"})})}),(0,h.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}}),(0,h.jsx)("div",{})]}),headerExtra:(0,d.W)(f,g,y,p,(()=>{if(u){const t={CancelRemarkName:u,IsActive:1};(0,r.JN)(t,e).then((e=>{204==e.status&&a("Data Already Exists.","warning"),200==e.status&&(t.serialNumber=x.length+1,v((e=>[...e,t])),a("Data Added Succesfully","success")),C(""),y(!1)})).catch((e=>{console.log(e)}))}else a("Kindly Enter Video Type Name","danger")}),u,C,"Cancel Remark",x,b),bodyClass:"text-center",children:(0,h.jsx)(d.Z,{data:x,onRowEditComplete:t=>{let o=[...x],{newData:c,index:n}=t;console.log(c),o[n].CancelRemarkName=c.CancelRemarkName,o[n].IsActive=c.IsActive,c.CancelRemarkName&&(console.log("_CancelRemark",o),(0,r.Eg)(c,e).then((e=>204==e.status?(console.log(e),a("Data Already Exists.","warning"),null):e.json())).then((e=>{console.log(e),o[n]=e,o[n].serialNumber=c.serialNumber,o[n].CancelRemarkName=c.CancelRemarkName,o[n].IsActive=c.IsActive,v(o),a("Data Updated Succesfully","success")})).catch((e=>{console.log(e)})))},globalFilter:f,dataKey:"CancelRemarkCode",columns:b,setyup:k,scrollHeight:"70vh",setVisible:D})})]})}},72950:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{}}]);
//# sourceMappingURL=4118.139ad7ca.chunk.js.map