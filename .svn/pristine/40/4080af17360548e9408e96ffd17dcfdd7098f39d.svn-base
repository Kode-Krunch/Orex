"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[8958],{30623:(e,t,a)=>{a.d(t,{GE:()=>c,Pv:()=>u,UY:()=>i,W5:()=>l,eR:()=>o,nP:()=>d});var s=a(54048),r=a(46152);const n=a(74569);async function o(e){return r.Z.fetchData({url:"/teammaster/",method:"get",data:e})}const i=(e,t)=>new Promise(((a,r)=>{let o=JSON.stringify({TeamName:e.TeamName,ShortName:e.ShortName,IsActive:e.IsActive?1:0}),i={method:"post",maxBodyLength:1/0,url:s.Z.apiPrefix+"/teammaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:o};n.request(i).then((e=>{a(e)})).catch((e=>{r(e)}))})),c=(e,t,a)=>new Promise(((r,o)=>{let i=JSON.stringify({TeamName:e.TeamName,Team_Image:a,IsActive:e.IsActive?1:0}),c={method:"put",maxBodyLength:1/0,url:s.Z.apiPrefix+"/teammaster/".concat(e.TeamCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:i};n.request(c).then((e=>{r(e)})).catch((e=>{o(e)}))}));async function u(e){return r.Z.fetchData({url:"/groupmaster/",method:"get",data:e})}const l=(e,t)=>new Promise(((a,r)=>{let o={method:"post",maxBodyLength:1/0,url:s.Z.apiPrefix+"/groupmaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};n.request(o).then((e=>{a(e)})).catch((e=>{r(e)}))})),d=(e,t)=>new Promise(((a,r)=>{let o={method:"put",maxBodyLength:1/0,url:s.Z.apiPrefix+"/groupmaster/".concat(e.GroupCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};n.request(o).then((e=>{a(e)})).catch((e=>{r(e)}))}))},75035:(e,t,a)=>{a.d(t,{Z:()=>m});var s=a(1413),r=a(72791),n=a(60364),o=a(2803),i=a(46657),c=a(4621),u=a(32640),l=a(96361),d=a(80184);const m=e=>{let{title:t,moduleText:a,apiGet:m,apiPost:p,apiPut:h,columns:f,defaultValues:y,MainFieldName:x,dataKey:g}=e;const N=(0,n.useSelector)((e=>e.auth.session.token)),v=(0,r.useRef)(0),Z=(e,t)=>{o.Am.push((0,d.jsx)(o.P_,{closable:!0,type:t,duration:1e3,title:t.charAt(0).toUpperCase()+t.slice(1),children:e}))},[w,P]=(0,r.useState)([]),[A,j]=(0,r.useState)(!1),[S,b]=(0,r.useState)(""),[C,T]=(0,r.useState)(!1),[D,G]=(0,r.useState)(),[I,B]=(0,r.useState)(y),E=(0,r.useRef)(null);(0,r.useEffect)((()=>{v.current=v.current+1,1===v.current&&(async()=>{const e=[...(await m()).data].reverse().map(((e,t)=>(0,s.Z)((0,s.Z)({},e),{},{serialNumber:t+1})));P(e)})()}),[m]);const k=async e=>{const t=[...w];let a=t[e];a.IsActive=1===a.IsActive?0:1;try{const e=await h(a,N);if(204===e.status)return void Z("Data Already Exists.","warning");if(200===e.status)return Z("Data Updated Successfully","success"),void P(t)}catch(s){console.error(s)}};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.F,{ref:E}),(0,d.jsx)(c.Q,{group:"declarative",visible:C,onHide:()=>T(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{k(D)}}),(0,d.jsx)(o.Zb,{header:(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("div",{children:(0,d.jsx)("span",{className:"flex items-center",children:(0,d.jsx)(l.Z,{ModuleText:a,Component:t})})}),(0,d.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}})]}),headerExtra:(0,u.W)(S,b,j,A,(async()=>{if(I){const t=(0,s.Z)((0,s.Z)({},I),{},{serialNumber:1,IsActive:1,ShortName:I[x].substring(0,2)});try{const e=await p(t,N);204===e.status&&Z("Data Already Exists.","warning"),200===e.status&&(P((e=>{const a=e.map(((e,t)=>(0,s.Z)((0,s.Z)({},e),{},{serialNumber:t+2})));return[t,...a]})),Z("Data Added Successfully","success"),B(y),j(!1))}catch(e){console.error(e)}}else Z("Kindly Enter Department Name","danger")}),I[x],(e=>B((0,s.Z)((0,s.Z)({},I),{},{[x]:e}))),I.ShortName,(e=>B((0,s.Z)((0,s.Z)({},I),{},{[x]:e}))),t,w,f),bodyClass:"text-center",children:(0,d.jsx)(u.Z,{data:w,onRowEditComplete:async e=>{let t=[...w],{newData:a,index:r}=e;t[r]=(0,s.Z)({},a);try{const e=await h(a,N);if(204===e.status)return void Z("Data Already Exists.","warning");if(200===e.status)return Z("Data Updated Successfully","success"),void P(t)}catch(n){console.error(n)}},globalFilter:S,dataKey:g,columns:f,setyup:e=>{console.log(e),G(e),T(!0)},scrollHeight:"70vh",setVisible:T})})]})}},21346:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});a(72791);var s=a(30623),r=a(75035),n=a(80184);const o=()=>(0,n.jsx)(r.Z,{title:"Group",moduleText:"Programming",apiGet:s.Pv,apiPost:s.W5,apiPut:s.nP,columns:[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"GroupName",header:"Group Name",width:"20%",IsPrimary:!0}],defaultValues:{GroupName:""},MainFieldName:"GroupName",dataKey:"GroupCode"})}}]);
//# sourceMappingURL=8958.76336d16.chunk.js.map