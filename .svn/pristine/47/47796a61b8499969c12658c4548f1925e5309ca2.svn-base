/*! For license information please see 9270.1110276c.chunk.js.LICENSE.txt */
(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[9270],{14509:(e,t,a)=>{"use strict";a.d(t,{Z:()=>S});var o=a(1413),n=a(45987),s=a(72791),r=a(81694),c=a.n(r),i=a(52007),l=a.n(i),d=a(81358),u=a(60676),m=a(45743),h=a(53388),p=a(66364),g=a.n(p),f=a(42854),x=a.n(f),C=a(26181),y=a.n(C),v=a(58617),j=a(80184);const N=["asElement","className","disabled","invalid","prefix","size","suffix","textArea","type","style","unstyle","field","form"],b=s.forwardRef(((e,t)=>{var a,r;const{asElement:i,className:l,disabled:p,invalid:f,prefix:C,size:b,suffix:S,textArea:T,type:w,style:A,unstyle:k,field:E,form:z}=e,D=(0,n.Z)(e,N),[I,R]=(0,s.useState)(0),[Z,B]=(0,s.useState)(0),[M,O]=(0,s.useState)(!1),[L,U]=(0,s.useState)(e.value||""),{themeColor:P,controlSize:F,primaryColorLevel:H,direction:V}=(0,d.ZR)(),J=null===(a=(0,u.cI)())||void 0===a?void 0:a.size,_=null===(r=(0,m.J2)())||void 0===r?void 0:r.size,q=b||_||J||F;var G;"value"in e&&(D.value="undefined"===typeof(G=e.value)||null===G?"":G,delete D.defaultValue);const W=(0,s.useMemo)((()=>{let e=!1;if(!g()(z)){const{touched:t,errors:a}=z,o=y()(t,null===E||void 0===E?void 0:E.name),n=y()(a,null===E||void 0===E?void 0:E.name);e=o&&n}return"boolean"===typeof f&&(e=f),e}),[z,f,E]),K="input-".concat(q," h-").concat(h.WS[q]),Y="focus:ring-".concat(P,"-").concat(H," focus-within:ring-").concat(P,"-").concat(H," focus-within:border-").concat(P,"-").concat(H," focus:border-").concat(P,"-").concat(H),X="input-wrapper ".concat(C||S?l:""),$=c()("input",!T&&K,!W&&Y,C||S?"":l,p&&"input-disabled",W&&"input-invalid",T&&"input-textarea"),Q=(0,s.useRef)(),ee=(0,s.useRef)(),te=(0,s.useRef)(),ae=(0,s.useRef)();(0,s.useEffect)((()=>{(()=>{var e,t;if(!Q.current&&!ee.current)return;const a=null===Q||void 0===Q||null===(e=Q.current)||void 0===e?void 0:e.offsetWidth,o=null===ee||void 0===ee||null===(t=ee.current)||void 0===t?void 0:t.offsetWidth;x()(a)&&x()(o)||(a&&R(a),o&&B(o))})()}),[C,S]),(0,s.useEffect)((()=>{if("webkitSpeechRecognition"in window){const t=new window.webkitSpeechRecognition;t.continuous=!1,t.interimResults=!1,t.lang="en-US",t.onresult=t=>{const a=t.results[0][0].transcript;if(U(a),null!==E&&void 0!==E&&E.onChange)E.onChange({target:{value:a,name:E.name}});else{if(te.current){te.current.value=a;const e=new Event("input",{bubbles:!0});te.current.dispatchEvent(e)}e.onChange&&e.onChange({target:{value:a,name:null===E||void 0===E?void 0:E.name}})}O(!1)},t.onend=()=>{O(!1)},t.onerror=e=>{O(!1)},ae.current=t}}),[E,e.onChange]);const oe=e=>.0625*e,ne=(0,o.Z)((0,o.Z)({className:k?"":$,disabled:p,type:w,ref:te,value:L,onChange:t=>{U(t.target.value),null!==E&&void 0!==E&&E.onChange&&E.onChange(t),e.onChange&&e.onChange(t)}},E),D),se=(0,j.jsx)("textarea",(0,o.Z)({style:A},ne)),re=(0,j.jsxs)("div",{className:"relative flex items-center",children:[(0,j.jsx)(i,(0,o.Z)({style:(0,o.Z)((0,o.Z)((0,o.Z)({},(()=>{const e="".concat(oe(I)+1,"rem"),t="".concat(oe(Z)+1,"rem");let a={};return"ltr"===V&&(C&&(a.paddingLeft=e),S&&(a.paddingRight=t)),"rtl"===V&&(C&&(a.paddingRight=e),S&&(a.paddingLeft=t)),a})()),A),{},{paddingRight:S?"2.5rem":void 0})},ne)),"text"==w&&(0,j.jsx)(v.Vel,{className:c()("absolute right-3 text-xl cursor-pointer",{"text-blue-500":M}),onClick:()=>{ae.current&&(O(!0),ae.current.start())}})]});return T?se:C||S?(0,j.jsxs)("span",{className:X,children:[C?(0,j.jsx)("div",{className:"input-suffix-start",ref:e=>Q.current=e,children:C}):null,re,S?(0,j.jsx)("div",{className:"input-suffix-end",ref:e=>ee.current=e,children:S}):null]}):re}));b.propTypes={asElement:l().string,type:l().string,className:l().string,size:l().oneOf([h.zf.LG,h.zf.SM,h.zf.MD]),value:l().any,invalid:l().bool,suffix:l().oneOfType([l().string,l().node]),prefix:l().oneOfType([l().string,l().node]),unstyle:l().bool,onChange:l().func},b.defaultProps={type:"text",asElement:"input",className:"",unstyle:!1};const S=b},28179:(e,t,a)=>{"use strict";a.d(t,{$H:()=>r,$o:()=>w,Bo:()=>S,D_:()=>E,Eg:()=>j,JN:()=>v,M0:()=>u,ND:()=>c,OY:()=>i,SR:()=>g,Sd:()=>x,U2:()=>A,U3:()=>N,XV:()=>m,fU:()=>b,fy:()=>y,fz:()=>k,g7:()=>I,h:()=>p,iH:()=>l,ih:()=>D,jS:()=>T,kP:()=>d,ko:()=>h,m1:()=>f,mg:()=>z,pc:()=>R,qm:()=>C});var o=a(54048),n=a(46152);a(60630);const s=a(74569);async function r(e){return n.Z.fetchData({url:"/commercialtypemaster/",method:"get",data:e})}async function c(e,t,a){return n.Z.fetchData({url:"/spotcancellation/?CancelRemarkCode=".concat(t,"&IsNTC=").concat(a),method:"put",data:e})}const i=(e,t)=>new Promise(((a,n)=>{let r=JSON.stringify({CommercialTypeName:e.CommercialTypeName,CommercialTypeShortName:e.CommercialTypeShortName,IsActive:e.IsActive?1:0}),c={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/commercialtypemaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:r};s.request(c).then((e=>{a(e)})).catch((e=>{n(e)}))})),l=(e,t)=>new Promise(((a,n)=>{let r=JSON.stringify({CommercialTypeName:e.CommercialTypeName,CommercialTypeShortName:e.CommercialTypeShortName,IsActive:e.IsActive?1:0}),c={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/commercialtypemaster/".concat(e.CommercialTypeCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:r};s.request(c).then((e=>{a(e)})).catch((e=>{n(e)}))}));async function d(e){return n.Z.fetchData({url:"/commercialmaster/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&IsNTC=").concat(e.IsNTC,"&fromdate=").concat(e.FromDate,"&todate=").concat(e.ToDate),method:"get"})}async function u(e,t){return n.Z.fetchData({url:"/bookingmaster/?IsNTC=".concat(e.IsNTC,"&LocationCode=").concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}async function m(e,t,a,o,s,r,c,i,l,d,u){return n.Z.fetchData({url:"/spotschedule/USP_SA_RO_SpotSchedule/?From_DT=".concat(e,"&To_DT=").concat(t,"&DealNumber=").concat(a,"&BookingNumber=").concat(o,"&ChannelCode=").concat(r,"&LocationCode=").concat(c,"&ScheduleDate=").concat(s,"&IsMakeGoodRO=").concat(i?1:0,"&BookingRefNumber=").concat(l,"&IsNTC=").concat(d,"&BrandCode=").concat(u),method:"get"})}async function h(e,t,a,o,s,r){return n.Z.fetchData({url:"/commercialmaster/get_Commercial/?LocationCode=".concat(o,"&ChannelCode=").concat(s,"&ClientCode=").concat(t.value,"&BrandCode=").concat(e.value,"&DurInSec=").concat(a.DurInSec,"&IsNTC=").concat(r),method:"get"})}async function p(e,t,a,o,s){return n.Z.fetchData({url:"/commercialmaster/get_Commercial/?LocationCode=".concat(a,"&ChannelCode=").concat(o,"&ClientCode=").concat(t,"&BrandCode=").concat(e,"&IsNTC=").concat(s),method:"get"})}const g=(e,t)=>new Promise(((a,n)=>{let r={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/commercialmaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};console.log(r.url),s.request(r).then((e=>{a(e)})).catch((e=>{n(e)}))})),f=(e,t,a)=>new Promise(((n,r)=>{let c={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/commercialmaster/".concat(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};s.request(c).then((e=>{n(e)})).catch((e=>{r(e)}))}));async function x(e){return n.Z.fetchData({url:"/positionmaster/drop/",method:"get",data:e})}async function C(e){return n.Z.fetchData({url:"/spotpositiontypemaster/drop/",method:"get",data:e})}async function y(e){return n.Z.fetchData({url:"/cancelremarkmaster/",method:"get",data:e})}const v=(e,t)=>fetch(o.Z.apiPrefix+"/cancelremarkmaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({CancelRemarkName:e.CancelRemarkName,IsActive:e.IsActive})}),j=(e,t)=>fetch(o.Z.apiPrefix+"/cancelremarkmaster/".concat(e.CancelRemarkCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({CancelRemarkName:e.CancelRemarkName,IsActive:e.IsActive})});async function N(e){return n.Z.fetchData({url:"/yearmaster/",method:"get",data:e})}const b=(e,t)=>fetch(o.Z.apiPrefix+"/yearmaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({Description:e.Description,StartDate:e.StartDate,EndDate:e.EndDate,IsActive:e.IsActive})}),S=(e,t)=>fetch(o.Z.apiPrefix+"/yearmaster/".concat(e.Yearcode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({Description:e.Description,StartDate:e.StartDate,EndDate:e.EndDate,IsActive:e.IsActive})});async function T(e){return n.Z.fetchData({url:"/taxmaster/",method:"get",data:e})}async function w(e){return n.Z.fetchData({url:"/taxmaster/",method:"post",data:e})}async function A(e,t){return n.Z.fetchData({url:"/taxmaster/".concat(t),method:"put",data:e})}const k=(e,t,a)=>{try{return n.Z.fetchData({method:"get",url:"/trafficdayclose/?LocationCode=".concat(t.LocationCode,"&ChannelCode=").concat(t.ChannelCode,"&traficmonth=").concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}catch(o){throw new Error(o)}},E=(e,t,a,o)=>{try{return n.Z.fetchData({method:"get",url:"/trafficdayclose/asperfromto/?LocationCode=".concat(a.LocationCode,"&ChannelCode=").concat(a.ChannelCode,"&fromdate=").concat(e,"&todate=").concat(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}})}catch(s){throw new Error(s)}},z=async(e,t,a)=>{try{return new Promise(((n,r)=>{let c={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/trafficdayclose/?LocationCode=".concat(t.LocationCode,"&ChannelCode=").concat(t.ChannelCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:e};s.request(c).then((e=>{n(e)})).catch((e=>{r(e)}))}))}catch(n){throw n}},D=(e,t,a)=>{try{return n.Z.fetchData({method:"get",url:"/bookingmaster/getbookingbyclient/?LocationCode=".concat(t.LocationCode,"&ChannelCode=").concat(t.ChannelCode,"&ClientCode=").concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}catch(o){throw new Error(o)}},I=(e,t)=>{try{return n.Z.fetchData({method:"get",url:"/bookingactivity/get_bookingactivity/?BookingNumber=".concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}catch(a){throw new Error(a)}},R=(e,t,a)=>{try{return console.log(e),n.Z.fetchData({method:"get",url:"/bookingactivity/get_bookingactivitybydate?BookingNumber=".concat(t,"&ChangeType=").concat(e.type,"&ChangeOn=").concat(e.dateTime,"&ChangeBy=").concat(e.executerId),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}catch(o){throw new Error(o)}}},44630:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var o=a(72791);const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;const[t,a]=(0,o.useState)("");return(0,o.useEffect)((()=>{if(t){let t=setTimeout((()=>a("")),e);return()=>{clearTimeout(t)}}}),[t]),[t,a]}},83659:(e,t,a)=>{"use strict";a.d(t,{U:()=>T,Z:()=>w});var o=a(72791),n=a(2803),s=a(36996),r=a(48080),c=a(58617),i=a(60364),l=(a(33155),a(51314)),d=a(25146),u=a(39126),m=a(46513),h=a(56355),p=a(25763),g=a(41578),f=a(9494),x=a(80184);const{Tr:C,Th:y,Td:v,THead:j,TBody:N,Sorter:b}=n.iA,S=[{value:10,label:"10 / page"},{value:20,label:"20 / page"},{value:30,label:"30 / page"},{value:40,label:"40 / page"},{value:50,label:"50 / page"}],T=(e,t,a)=>{const o={};if(e.forEach((e=>{e.accessorKey&&(o[e.accessorKey]=e.header)})),Array.isArray(t))(0,d.J)(!1,!1,0,0,!0,t,a,e,!1);else{const n=t.getCoreRowModel().rows.map((e=>{const t={};return Object.keys(e.original).forEach((a=>{o[a]?t[o[a]]=e.original[a]:t[a]=e.original[a]})),t})),s=[...e,{header:"IsActive",accessorKey:"IsActive"}];(0,d.J)(!1,!1,0,0,!0,n,a,s,!1)}},w=e=>{let{data:t,columns:a,globalFilter:d,setGlobalFilter:w,seteditData:A,openDrawer:k,ExportName:E}=e;const z=(0,i.useSelector)((e=>e.theme.themeColor)),D=(0,i.useSelector)((e=>e.theme.mode)),[I,R]=(0,o.useState)([]),[Z,B]=(0,o.useState)(!0),M=(0,s.b7)({data:t,columns:a,state:{columnFilters:I,globalFilter:d},onColumnFiltersChange:R,onGlobalFilterChange:w,globalFilterFn:function(e,t,a,o){const n=(0,m.O4)(e.getValue(t),a);return o({itemRank:n}),n.passed},getCoreRowModel:(0,r.sC)(),getFilteredRowModel:(0,r.vL)(),getSortedRowModel:(0,r.tj)(),getPaginationRowModel:(0,r.G_)(),getFacetedRowModel:(0,r.o6)(),getFacetedUniqueValues:(0,r.JG)(),getFacetedMinMaxValues:(0,r.HO)(),debugHeaders:!0,debugColumns:!1,debugTable:!0});(0,o.useEffect)((()=>{t.length>0&&B(!1)}),[]);return(0,x.jsxs)("div",{className:"root-container",children:[(0,x.jsxs)(n.iA,{className:"table",children:[(0,x.jsx)(j,{className:"border-b-1 ",style:{borderColor:z,height:"4%"},variant:"solid",children:M.getHeaderGroups().map((e=>(0,x.jsxs)(C,{className:"tr3",children:[(0,x.jsx)(y,{className:"dark"==D?"srno th":"srno th Light",style:{textAlign:"Center"},children:(0,x.jsx)("h6",{className:"dark"==D?"capitalize  text-xs":"capitalize   text-xs Light",children:"Sr."})}),e.headers.map((e=>{var t;return(0,x.jsx)(y,{colSpan:e.colSpan,style:{width:null===(t=e.column.columnDef.headStyle)||void 0===t?void 0:t.width},children:(0,x.jsx)("h6",{className:"capitalize text-xs",children:e.isPlaceholder?null:(0,x.jsxs)("div",{className:e.column.getCanSort()?"cursor-pointer select-none ":"",onClick:e.column.getToggleSortingHandler(),children:[(0,s.ie)(e.column.columnDef.header,e.getContext()),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(b,{sort:e.column.getIsSorted()}),(0,x.jsx)("div",{className:"cursor-all-scroll ".concat(e.column.getIsResizing()?"isResizing":""),onMouseDown:e.getResizeHandler(),onTouchStart:e.getResizeHandler()})]})]})})},e.id)})),"ExchangeMaster"==E||E.includes("Retrieved Spots")||E.includes("Matched Spots")||E.includes("Missed Spots")||E.includes("All Spots")||E.includes("Imported Spots")||E.includes("Bill Spots")||""===E?null:(0,x.jsx)(y,{className:"actions ",children:(0,x.jsx)("center",{className:"capitalize text-center font-bold ",children:"Actions"})})]},e.id)))}),Z?(0,x.jsx)(l.Z,{columns:3,rows:5}):(0,x.jsx)(N,{className:"tbody",children:M.getRowModel().rows.map(((e,t)=>{var a;const o=M.getState().pagination.pageIndex*M.getState().pagination.pageSize+t+1;return(0,x.jsxs)(C,{className:"tr",children:[(0,x.jsx)(v,{className:"dark"==D?"text-xs  srno td":"text-xs  srno tdLight",style:{textAlign:"Center"},children:o}),e.getVisibleCells().map((e=>{var t;return(0,x.jsx)(v,{className:"dark"==D?"text-xs  font-medium  td":"text-xs   font-medium  tdLight",style:{width:null===(t=e.column.columnDef.cellStyle)||void 0===t?void 0:t.width},children:(0,x.jsx)("p",{className:"text-xs",children:(0,s.ie)(e.column.columnDef.cell,e.getContext())})},e.id)})),"ExchangeMaster"==E||E.includes("Retrieved Spots")||E.includes("Matched Spots")||E.includes("Missed Spots")||E.includes("All Spots")||E.includes("Imported Spots")||E.includes("Bill Spots")||""===E?null:E.includes("Credit/Debit Note Bills")?(0,x.jsx)(v,{className:"dark"==D?"text-xs font-medium  td !w-max":"text-xs font-medium  tdLight ",children:(0,x.jsx)("center",{children:(0,x.jsx)(n.u,{title:"Generate ".concat(e.original.noteType.label," Note"),children:(0,x.jsx)(n.zx,{className:"btnEdit",size:"xs",icon:(0,x.jsx)(u.HlX,{}),onClick:()=>{A(e.original)}})})})}):E.includes("Credit/Debit Notes Edit")?(0,x.jsx)(v,{className:"dark"==D?"text-xs font-medium  td ":"text-xs font-medium  tdLight ",children:(0,x.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,x.jsx)(n.u,{title:"View Note",children:(0,x.jsx)(n.zx,{size:"xs",icon:(0,x.jsx)(h.z5B,{})})}),(0,x.jsx)(n.u,{title:"Download Note",children:(0,x.jsx)(n.zx,{size:"xs",icon:(0,x.jsx)(g.HXz,{})})}),""===e.original.IRNNumber&&""===e.original.QRCODE&&(0,x.jsx)(n.u,{title:"Edit Note",children:(0,x.jsx)(n.zx,{size:"xs",icon:(0,x.jsx)(p.LBv,{}),onClick:()=>{A(e.original)}})})]})}):(0,x.jsx)(v,{className:"dark"==D?"text-xs font-medium actions td ":"text-xs font-medium  actions tdLight ",children:(0,x.jsxs)("center",{children:[(0,x.jsx)(n.zx,{className:"btnEdit",size:"xs",icon:(0,x.jsx)(c._vs,{}),onClick:()=>{A(e.original),k(e.original)}}),"SpotBooking"==E&&(null===(a=e.original.BookingCode)||void 0===a?void 0:a.startsWith("uns"))&&(0,x.jsx)(n.zx,{className:"btnEdit ml-2",size:"xs",icon:(0,x.jsx)(c.fMW,{}),onClick:async()=>{try{const t=await(0,f.apiCallstoreprocedure)("USP_DELETE_TEMPBooking",{par_BookingNumber:e.original.BookingNumber});console.log(t)}catch(t){console.error("Error calling stored procedure:",t)}}})]})})]},e.id)}))})]}),(0,x.jsxs)("div",{className:"bottom-actions-container",children:[(null===t||void 0===t?void 0:t.length)>10&&(0,x.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,x.jsx)(n.tl,{pageSize:M.getState().pagination.pageSize,currentPage:M.getState().pagination.pageIndex+1,total:t.length,onChange:e=>{M.setPageIndex(e-1)}}),(0,x.jsxs)("div",{className:"flex items-center justify-end mt-1",children:[(0,x.jsx)(n.zx,{variant:"solid",className:"mr-2",onClick:()=>{T(a,M,E)},style:{width:130},block:!0,size:"sm",icon:(0,x.jsx)(c.H_7,{}),children:"Export"}),t.length>10?(0,x.jsx)("div",{style:{minWidth:130},children:(0,x.jsx)(n.Ph,{size:"sm",isSearchable:!1,value:S.filter((e=>e.value===M.getState().pagination.pageSize)),options:S,onChange:e=>{return t=e.value,void M.setPageSize(Number(t));var t}})}):null]})]}),(0,x.jsx)("div",{className:"flex  justify-start mt-2",children:(0,x.jsxs)("h1",{className:"text-xs  font-light",children:["Records : ",null===t||void 0===t?void 0:t.length]})})]})]})}},88449:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var o=a(2803),n=a(78820),s=a(80184);const r=e=>{let{onSaveClick:t,onCancel:a,BtnSaveTxt:r="Save",BtnCancelTxt:c="Discard"}=e;return(0,s.jsxs)("div",{className:"text-left w-full flex",children:[(0,s.jsx)(o.zx,{size:"sm",className:"mr-2",onClick:a,children:c}),(0,s.jsx)(o.zx,{size:"sm",className:"mr-2",variant:"solid",onClick:t,icon:(0,s.jsx)(n.JMf,{}),children:r})]})}},25146:(e,t,a)=>{"use strict";a.d(t,{J:()=>c});var o=a(1413),n=(a(72791),a(25415)),s=a(64802),r=a(81320);const c=(e,t,a,c,i,l,d,u,m)=>{if(0===l.length)return void(0,r.openNotification)("info","No data to export");const h=l.map((e=>(0,o.Z)({},e))),p={};u.forEach((e=>{e.accessorKey&&(console.log(e.accessorKey),console.log(p[e.accessorKey]),p[e.accessorKey]=e.header)}));const g=h.map((e=>{const t={};return Object.keys(e).forEach((a=>{p[a]?t[p[a]]=e[a]:t[a]=e[a]})),t})),f=Object.keys(p).length>0?Object.keys(p).map((e=>p[e])):[],x=(f.map((e=>({header:e,key:e}))),new n.Workbook),C=x.addWorksheet(d);for(let o=0;o<c;o++)C.addRow([]);const y=[];for(let o=0;o<a;o++)y.push("");if(y.push(...f),C.addRow(y),e){C.getRow(c+1).font={bold:!0,size:10}}if(i){const e=C.getRow(c+1);e.font={bold:!0,size:12},e.eachCell((e=>{e.border={top:{style:"medium"},left:{style:"medium"},bottom:{style:"medium"},right:{style:"medium"}},m||(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"009dff"}})}))}if(g.forEach((e=>{const t=[];for(let n=0;n<a;n++)t.push("");f.forEach((a=>{t.push(e[a]||"")}));const o=C.addRow(t);o.font={size:10},o.eachCell(((t,a)=>{t.value instanceof Date&&(t.value=new Date(Date.UTC(t.value.getFullYear(),t.value.getMonth(),t.value.getDate()))),m&&e.EventDefaultBackColor&&(t.fill={type:"pattern",pattern:"solid",fgColor:{argb:e.EventDefaultBackColor.substring(1)}}),m&&e.EventDefaultFrontColor&&(t.font={color:{argb:e.EventDefaultFrontColor.substring(1)}}),i&&(t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}})}))})),C.columns.forEach((e=>{let t=10;e.eachCell((e=>{const a=(e.value||"").toString().length;t=Math.max(t,a)})),e.width=Math.min(30,t+2)})),C.views=[{state:"frozen",xSplit:a,ySplit:c+1,topLeftCell:"A".concat(c+2)}],t){const e=l.length+c+100,t=u.length>0?u.length+100:100;for(let a=1;a<=e;a++){const e=C.getRow(a);for(let a=1;a<=t;a++){const t=e.getCell(a);t.value=t.value||"",t.border={top:{style:"thin",color:{argb:"000000"}},left:{style:"thin",color:{argb:"000000"}},bottom:{style:"thin",color:{argb:"000000"}},right:{style:"thin",color:{argb:"000000"}}}}}}x.xlsx.writeBuffer().then((e=>{(0,s.saveAs)(new Blob([e]),"".concat(d,".xlsx"))}))}},96361:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var o=a(79139),n=a(60364),s=a(11087),r=a(80184);const c=e=>{let{ModuleText:t="Admin",Component:a,links:c}=e;(0,n.useSelector)((e=>e.auth.session.currentRouteKey));const i=(0,n.useSelector)((e=>e.base.common.currentRouteTitle));console.log(i);const{title:l,Moduletitle:d}=(0,n.useSelector)((e=>e.auth.user));return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xl font-medium",children:i}),(0,r.jsxs)(o.Breadcrumbs,{style:{marginLeft:"-15px",width:"auto"},children:[(0,r.jsx)(s.rU,{to:"/home",className:"opacity-60 text-xs",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})}),(0,r.jsx)(s.rU,{to:"/".concat("SALES ADMIN"===d?"SalesAdmin":d),className:"opacity-60 text-xs",children:(0,r.jsx)("span",{children:d})}),(0,r.jsx)(s.rU,{to:"#",className:"text-xs",children:(0,r.jsx)("span",{children:i})})]})]})}},57020:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var o=a(1413),n=a(45987),s=a(72791),r=a(2803),c=a(28179),i=a(58617),l=a(92506),d=a(81724),u=a(60364),m=a(81320),h=a(80184);const p=d.Ry().shape({CommercialTypeName:d.Z_().min(3,"Too Short!").max(50,"Too Long!").required("CommercialType Name Required"),IsActive:d.Z_().required("IsActives Required"),rememberMe:d.Xg()}),g=(0,s.forwardRef)(((e,t)=>{const{onDrawerClose:a,editData:o,setMessage:n,setlog:s}=e,i=(0,u.useSelector)((e=>e.auth.session.token));return(0,h.jsx)("div",{children:(0,h.jsx)(l.J9,{innerRef:t,initialValues:{CommercialTypeCode:o.CommercialTypeCode||"",CommercialTypeName:o.CommercialTypeName||"",CommercialTypeShortName:o.CommercialTypeShortName||"",IsActive:1===o.IsActive},validationSchema:p,onSubmit:(e,t)=>{let{resetForm:r,setSubmitting:l}=t;setTimeout((()=>{o.CommercialTypeCode?new Promise(((t,o)=>{l(!1),(async(e,t)=>{try{const a=await(0,c.iH)(e,t);if(200===a.status)return s("success"),void n("Data Updated Successfully");if(204===a.status)return void(0,m.openNotification)("danger","Data Already Exists.")}catch(a){if(500===a.response.status)return s("danger"),void n("Server Error.")}})(e,i).then((e=>{a(0,0),t(e)})).catch((e=>{o(e)}))})):new Promise(((t,o)=>{(async(e,t)=>{try{const a=await(0,c.OY)(e,t);if(200===a.status)return s("success"),void n("Data Inserted Successfully.");if(204===a.status)return void(0,m.openNotification)("danger","Data Already Exists.")}catch(a){if(500===a.response.status)return s("danger"),void n("Server Error.")}})(e,i).then((e=>{a(0,0),t(e)})).catch((e=>{o(e)}))})),r()}),400)},children:e=>{let{values:t,touched:a,errors:o}=e;return(0,h.jsx)(l.l0,{children:(0,h.jsxs)(r.Yb,{children:[(0,h.jsx)(l.gN,{type:"CommercialTypeCode",autoComplete:"off",name:"CommercialTypeCode",placeholder:"CommercialTypeCode",component:r.II,hidden:!0}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,h.jsx)(r.xJ,{asterisk:!0,label:"CommercialType",invalid:o.CommercialTypeName&&a.CommercialTypeName,errorMessage:o.CommercialTypeName,children:(0,h.jsx)(l.gN,{name:"CommercialTypeName",children:e=>{let{field:a,form:o}=e;return(0,h.jsx)(r.II,{size:"sm",field:a,form:o,value:t.CommercialTypeName,onChange:e=>{console.log(e);let t=e.target.value;t.startsWith(" ")&&(t=t.slice(1)),t.length<=20&&/^[0-9a-zA-Z\s]*$/.test(t)&&o.setFieldValue(a.name,t)}})}})}),(0,h.jsx)(r.xJ,{label:"CommercialType Short Name ",invalid:o.CommercialTypeShortName&&a.CommercialTypeShortName,errorMessage:o.CommercialTypeShortName,children:(0,h.jsx)(l.gN,{name:"CommercialTypeShortName",children:e=>{let{field:a,form:o}=e;return(0,h.jsx)(r.II,{size:"sm",field:a,form:o,value:t.CommercialTypeShortName,onChange:e=>{console.log(e);let t=e.target.value;t.length<=10&&/^[0-9a-zA-Z\s]*$/.test(t)&&o.setFieldValue(a.name,t)}})}})})]}),(0,h.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,h.jsx)(r.xJ,{label:"Status",invalid:o.IsActive&&a.IsActive,errorMessage:o.IsActive,children:(0,h.jsx)("div",{children:(0,h.jsx)(l.gN,{name:"IsActive",component:r.T5})})})})]})})}})})}));var f=a(44630),x=a(83659),C=a(96361),y=a(88449),v=a(14509);const j=["value","onChange","debounce"],N=(e,t,a,o)=>(0,h.jsxs)("span",{className:"flex items-center",children:[(0,h.jsx)("span",{className:"mr-1 mt-4  font-semibold",children:(0,h.jsx)(t,{value:null!==a&&void 0!==a?a:"",className:" solid",placeholder:"Search all columns...",size:"sm",onChange:e=>{/^[0-9a-zA-Z\s]*$/.test(e)&&o(e)}})}),(0,h.jsx)("span",{className:"mr-1 font-semibold",children:(0,h.jsx)(r.zx,{block:!0,variant:"solid",size:"sm",icon:(0,h.jsx)(i.yEd,{}),onClick:()=>e(),children:"Add Commercial Type"})})]}),b=()=>{const[e,t]=(0,s.useState)(!1),[a,l]=(0,s.useState)([""]),[d,u]=(0,s.useState)(""),[m,p]=(0,s.useState)([]),[b,S]=(0,s.useState)([""]),[T,w]=(0,s.useState)([]),[A,k]=(0,f.Z)(),[E,z]=(0,s.useState)(""),D=(0,s.useRef)(),I={1:"bg-emerald-500",0:"bg-red-500"},R=(0,s.useMemo)((()=>[{header:"CommercialType ",accessorKey:"CommercialTypeName",cell:e=>{const t=e.row.original;return(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(r.Ct,{className:I[t.IsActive]}),(0,h.jsx)("span",{className:"ml-2 rtl:mr-2 ",children:t.CommercialTypeName})]})}}]),[]);(0,s.useEffect)((()=>{(async e=>{const t=await(0,c.$H)(void 0);console.log("===================================="),console.log(t.data),console.log("===================================="),S(t.data)})()}),[]);const Z=()=>{t(!0)},B=async(e,a)=>{t(!1);const o=await(0,c.$H)(a);S(o.data),l([""])};return(0,h.jsxs)(h.Fragment,{children:[A&&(0,h.jsx)(r.bZ,{className:"mb-4",type:E,showIcon:!0,children:A}),(0,h.jsx)(r.Zb,{header:(0,h.jsx)(C.Z,{Component:"CommercialType Master"}),headerExtra:N(Z,(function(e){let{value:t,onChange:a,debounce:r=1500}=e,c=(0,n.Z)(e,j);const[i,l]=(0,s.useState)(t);return(0,s.useEffect)((()=>{l(t)}),[t]),(0,s.useEffect)((()=>{const e=setTimeout((()=>{a(i)}),r);return()=>clearTimeout(e)}),[i]),(0,h.jsx)("div",{className:"flex justify-end",children:(0,h.jsx)("div",{className:"flex items-center mb-4",children:(0,h.jsx)(v.Z,(0,o.Z)((0,o.Z)({},c),{},{value:i,onChange:e=>{/^[0-9a-zA-Z\s]*$/.test(e.target.value)&&l(e.target.value)}}))})})}),d,u),className:"flex flex-col h-[87vh]",bodyClass:"grow",children:(0,h.jsx)(x.Z,{data:b,columns:R,globalFilter:d,setGlobalFilter:u,seteditData:l,openDrawer:Z,ExportName:"CommercialMaster"})}),(0,h.jsx)(r.dy,{title:a.CommercialTypeName?(0,h.jsxs)("p",{className:"text-xl font-medium   flex ",children:[(0,h.jsx)("center",{children:(0,h.jsx)(r.zx,{size:"xs",variant:"twoTone",icon:(0,h.jsx)(i._vs,{})})}),"CommercialType Master"]}):(0,h.jsxs)("p",{className:"text-xl font-medium   flex ",children:[(0,h.jsx)("center",{children:(0,h.jsx)(r.zx,{size:"xs",variant:"twoTone",icon:(0,h.jsx)(i.HQD,{})})}),"CommercialType Master"]}),isOpen:e,onClose:B,onRequestClose:B,width:600,footer:(0,h.jsx)(y.Z,{onCancel:B,onSaveClick:()=>{var e;null===(e=D.current)||void 0===e||e.submitForm()}}),children:(0,h.jsx)(g,{ref:D,onDrawerClose:B,editData:a,setMessage:k,setlog:z,currency:T})})]})}},33155:()=>{},72950:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{},46513:(e,t,a)=>{"use strict";a.d(t,{O4:()=>g});var o=a(1413);const n={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},s=Object.keys(n).join("|"),r=new RegExp(s,"g");const c=7,i=6,l=5,d=4,u=3,m=2,h=1,p=0;function g(e,t,a){var o;if((a=a||{}).threshold=null!=(o=a.threshold)?o:h,!a.accessors){const o=f(e,t,a);return{rankedValue:e,rank:o,accessorIndex:-1,accessorThreshold:a.threshold,passed:o>=a.threshold}}const n=function(e,t){const a=[];for(let o=0,n=t.length;o<n;o++){const n=t[o],s=v(n),r=C(e,n);for(let e=0,t=r.length;e<t;e++)a.push({itemValue:r[e],attributes:s})}return a}(e,a.accessors),s={rankedValue:e,rank:p,accessorIndex:-1,accessorThreshold:a.threshold,passed:!1};for(let r=0;r<n.length;r++){const e=n[r];let o=f(e.itemValue,t,a);const{minRanking:c,maxRanking:i,threshold:l=a.threshold}=e.attributes;o<c&&o>=h?o=c:o>i&&(o=i),o=Math.min(o,i),o>=l&&o>s.rank&&(s.rank=o,s.passed=!0,s.accessorIndex=r,s.accessorThreshold=l,s.rankedValue=e.itemValue)}return s}function f(e,t,a){return e=x(e,a),(t=x(t,a)).length>e.length?p:e===t?c:(e=e.toLowerCase())===(t=t.toLowerCase())?i:e.startsWith(t)?l:e.includes(" ".concat(t))?d:e.includes(t)?u:1===t.length?p:function(e){let t="";return e.split(" ").forEach((e=>{e.split("-").forEach((e=>{t+=e.substr(0,1)}))})),t}(e).includes(t)?m:function(e,t){let a=0,o=0;function n(e,t,o){for(let n=o,s=t.length;n<s;n++){if(t[n]===e)return a+=1,n+1}return-1}function s(e){const o=1/e,n=a/t.length;return h+n*o}const r=n(t[0],e,0);if(r<0)return p;o=r;for(let c=1,i=t.length;c<i;c++){o=n(t[c],e,o);if(!(o>-1))return p}return s(o-r)}(e,t)}function x(e,t){let{keepDiacritics:a}=t;return e="".concat(e),a||(e=e.replace(r,(e=>n[e]))),e}function C(e,t){let a=t;"object"===typeof t&&(a=t.accessor);const o=a(e);return null==o?[]:Array.isArray(o)?o:[String(o)]}const y={maxRanking:1/0,minRanking:-1/0};function v(e){return"function"===typeof e?y:(0,o.Z)((0,o.Z)({},y),e)}}}]);
//# sourceMappingURL=9270.1110276c.chunk.js.map