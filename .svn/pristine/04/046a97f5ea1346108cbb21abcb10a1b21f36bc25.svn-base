{"version":3,"file":"static/js/4968.285a262b.chunk.js","mappings":"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","sources":["views/Controls/HeaderExtra.js","views/Programming/SaveAsFPC/SaveAsFPC.js"],"sourcesContent":["import { Breadcrumbs } from '@material-tailwind/react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nconst HeaderExtra = ({ ModuleText = 'Admin', Component, links }) => {\r\n  const currentRouteKey = useSelector(\r\n    (state) => state.auth.session.currentRouteKey,\r\n  );\r\n  const currentRouteTitle = useSelector(\r\n    (state) => state.base.common.currentRouteTitle,\r\n  );\r\n  console.log(currentRouteTitle);\r\n  // console.log(currentRouteKey);\r\n  const { title, Moduletitle } = useSelector((state) => state.auth.user);\r\n\r\n  return (\r\n    <div>\r\n      <p className=\"text-xl font-medium\">{currentRouteTitle}</p>\r\n      <Breadcrumbs style={{ marginLeft: '-15px', width: 'auto' }}>\r\n        <Link to=\"/home\" className=\"opacity-60 text-xs\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            className=\"h-3 w-3\"\r\n            viewBox=\"0 0 20 20\"\r\n            fill=\"currentColor\"\r\n          >\r\n            <path d=\"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z\" />\r\n          </svg>\r\n        </Link>\r\n        <Link\r\n          to={`/${Moduletitle === 'SALES ADMIN' ? 'SalesAdmin' : Moduletitle}`}\r\n          className=\"opacity-60 text-xs\"\r\n        >\r\n          <span>{Moduletitle}</span>\r\n        </Link>\r\n        <Link to=\"#\" className=\"text-xs\">\r\n          <span>{currentRouteTitle}</span>\r\n        </Link>\r\n      </Breadcrumbs>\r\n    </div>\r\n  );\r\n};\r\nexport default HeaderExtra;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Card, Button, Dialog } from 'components/ui';\r\nimport HeaderExtra from 'views/Controls/HeaderExtra';\r\nimport DatePickerRange from 'components/ui/DatePicker/DatePickerRange';\r\nimport {\r\n  convertDateFormat,\r\n  FORMATDATE_FOR_EVERY,\r\n  formatStartDate,\r\n  openNotification,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport { useSelector } from 'react-redux';\r\nimport { PostFPCSaveAs } from 'services/ProgrammingService';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst SaveAsFPC = () => {\r\n  const Channel = useSelector((state) => state.locale.selectedChannel);\r\n  const token = useSelector((state) => state.auth.session.token);\r\n  const navigate = useNavigate();\r\n  const [dateRange, setDateRange] = useState({ from: null, to: null });\r\n  const [visible2, setVisible2] = useState(false);\r\n  const [startDate, setStartDate] = useState(new Date());\r\n  const [endDate, setEndDate] = useState(new Date());\r\n  const dateFormat = 'DD MMM YYYY';\r\n  useEffect(() => {\r\n    // Get yesterday's date\r\n    const yesterday = new Date();\r\n    yesterday.setDate(yesterday.getDate() - 1);\r\n\r\n    // Get the date 7 days before yesterday\r\n    const last7thDay = new Date();\r\n    last7thDay.setDate(yesterday.getDate() - 6);\r\n\r\n    // Format the dates as needed (e.g., YYYY-MM-DD)\r\n    const formatDate = (date) => date.toISOString().split('T')[0];\r\n\r\n    setDateRange({\r\n      from: formatDate(last7thDay),\r\n      to: formatDate(yesterday),\r\n    });\r\n  }, []);\r\n\r\n  const handleDateChange = (newDates) => {\r\n    const [newStartDate, newEndDate] = newDates;\r\n    setStartDate(newStartDate);\r\n    setEndDate(newEndDate);\r\n  };\r\n\r\n  const handleSaveASFPC = async () => {\r\n    console.log(startDate);\r\n\r\n    const Params = {\r\n      FromDate: formatStartDate(startDate),\r\n      ToDate: formatStartDate(endDate),\r\n      selectedWeekdays: ['0', '1', '2', '3', '4', '5', '6'],\r\n      LocationCode: Channel.LocationCode,\r\n      ChannelCode: Channel.ChannelCode,\r\n      TelecastDate: formatStartDate(startDate),\r\n    };\r\n    console.log(Params);\r\n\r\n    try {\r\n      const resp = await PostFPCSaveAs(Params, token);\r\n      if (resp.data.code === '200') {\r\n        openNotification('success', 'FPC Saved successfully');\r\n        setVisible2(false);\r\n        return;\r\n      } else {\r\n        openNotification('danger', 'FPC Did Not Saved');\r\n        setVisible2(false);\r\n        return;\r\n      }\r\n    } catch (error) {\r\n      openNotification('danger', 'FPC Did Not Saved');\r\n      setVisible2(false);\r\n    }\r\n  };\r\n  return (\r\n    <Card header={<HeaderExtra />}>\r\n      <h6>Please select the date range for which you want to save the FPC.</h6>\r\n      <div className=\"w-2/5\">\r\n        <DatePickerRange\r\n          placeholder=\"Select dates range\"\r\n          minDate={new Date()}\r\n          value={[startDate, endDate]}\r\n          onChange={handleDateChange}\r\n          inputFormat={dateFormat}\r\n          size=\"sm\"\r\n        />\r\n      </div>\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <p className=\"text-red-500\">\r\n            The FPC for the period from{' '}\r\n            {FORMATDATE_FOR_EVERY(new Date(dateRange.from))} to{' '}\r\n            {FORMATDATE_FOR_EVERY(new Date(dateRange.to))} will be saved\r\n            according to the selected date range and save as rules.\r\n          </p>\r\n        </div>\r\n        <div className=\"\">\r\n          <Button\r\n            className=\"ltr:mr-2 rtl:ml-2\"\r\n            variant=\"plain\"\r\n            onClick={() => navigate('/Programming')}\r\n          >\r\n            Back\r\n          </Button>\r\n          <Button variant=\"solid\" onClick={() => setVisible2(true)}>\r\n            Save\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <Dialog\r\n        isOpen={visible2}\r\n        onClose={() => setVisible2(false)}\r\n        onRequestClose={() => setVisible2(false)}\r\n      >\r\n        <h5 className=\"mb-4\">Confirm?</h5>\r\n        <p>\r\n          Are you sure want to Save As FPC for {FORMATDATE_FOR_EVERY(startDate)}{' '}\r\n          to {FORMATDATE_FOR_EVERY(endDate)} ?\r\n        </p>\r\n        <div className=\"text-right mt-6\">\r\n          <Button onClick={() => setVisible2(false)} size=\"sm\" className=\"mr-2\">\r\n            No\r\n          </Button>\r\n\r\n          <Button variant=\"solid\" onClick={handleSaveASFPC} size=\"sm\">\r\n            Yes\r\n          </Button>\r\n        </div>\r\n      </Dialog>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default SaveAsFPC;\r\n"],"names":["ModuleText","Component","links","useSelector","state","auth","session","currentRouteKey","currentRouteTitle","base","common","console","log","title","Moduletitle","user","className","Breadcrumbs","style","marginLeft","width","to","xmlns","viewBox","fill","d","Channel","locale","selectedChannel","token","navigate","useNavigate","dateRange","setDateRange","useState","from","visible2","setVisible2","startDate","setStartDate","Date","endDate","setEndDate","useEffect","yesterday","setDate","getDate","last7thDay","formatDate","date","toISOString","split","header","placeholder","minDate","value","onChange","newDates","newStartDate","newEndDate","inputFormat","size","FORMATDATE_FOR_EVERY","variant","onClick","isOpen","onClose","onRequestClose","async","Params","FromDate","formatStartDate","ToDate","selectedWeekdays","LocationCode","ChannelCode","TelecastDate","PostFPCSaveAs","data","code","openNotification","error"],"sourceRoot":""}