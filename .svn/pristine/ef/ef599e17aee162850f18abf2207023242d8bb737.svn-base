(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[6635],{44662:(e,a,t)=>{"use strict";t.d(a,{AK:()=>d,Fq:()=>C,NJ:()=>c,SX:()=>i,Yj:()=>p,al:()=>s,b8:()=>h,iq:()=>l,qf:()=>m,y7:()=>u});var o=t(54048),n=t(46152);const r=t(74569);async function c(e){return n.Z.fetchData({url:"/ntcmaster/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}const i=(e,a)=>new Promise(((t,n)=>{let c={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/ntcmaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:e};r.request(c).then((e=>{t(e)})).catch((e=>{n(e)}))})),s=(e,a,t)=>new Promise(((n,c)=>{let i={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/ntcmaster/"+a,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};r.request(i).then((e=>{n(e)})).catch((e=>{c(e)}))}));async function l(e){return n.Z.fetchData({url:"/ntctypemaster/drop/",method:"get",data:e})}async function d(e){return n.Z.fetchData({url:"/ntctypemaster/",method:"get",data:e})}const u=(e,a)=>fetch(o.Z.apiPrefix+"/ntctypemaster/".concat(e.NTCTypeCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({NTCTypeName:e.NTCTypeName,NtcTypeShortName:e.NtcTypeShortName,NTCGroupCode:e.NTCGroupCode,DefaultGAP:e.DefaultGAP,IsActive:e.IsActive})}),m=(e,a)=>fetch(o.Z.apiPrefix+"/ntctypemaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({NTCTypeName:e.NTCTypeName,NtcTypeShortName:e.NtcTypeShortName,NTCGroupCode:e.NTCGroupCode,DefaultGAP:e.DefaultGAP,IsActive:e.IsActive})}),C=(e,a)=>fetch(o.Z.apiPrefix+"/ntcgroupmaster/".concat(e.NTCGroupCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({NTCGroupName:e.NTCGroupName,IsActive:e.IsActive})}),p=(e,a)=>fetch(o.Z.apiPrefix+"/ntcgroupmaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({NTCGroupName:e.NTCGroupName,IsActive:e.IsActive})});async function h(e){return n.Z.fetchData({url:"/ntcgroupmaster/",method:"get",data:e})}},28179:(e,a,t)=>{"use strict";t.d(a,{$H:()=>c,$o:()=>D,Bo:()=>b,D_:()=>P,Eg:()=>x,JN:()=>f,M0:()=>u,ND:()=>i,OY:()=>s,SR:()=>h,Sd:()=>T,U2:()=>j,U3:()=>v,XV:()=>m,fU:()=>S,fy:()=>N,fz:()=>Z,g7:()=>R,h:()=>p,iH:()=>l,ih:()=>A,jS:()=>I,kP:()=>d,ko:()=>C,m1:()=>y,mg:()=>L,pc:()=>O,qm:()=>g});var o=t(54048),n=t(46152);t(60630);const r=t(74569);async function c(e){return n.Z.fetchData({url:"/commercialtypemaster/",method:"get",data:e})}async function i(e,a,t){return n.Z.fetchData({url:"/spotcancellation/?CancelRemarkCode=".concat(a,"&IsNTC=").concat(t),method:"put",data:e})}const s=(e,a)=>new Promise(((t,n)=>{let c=JSON.stringify({CommercialTypeName:e.CommercialTypeName,CommercialTypeShortName:e.CommercialTypeShortName,IsActive:e.IsActive?1:0}),i={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/commercialtypemaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:c};r.request(i).then((e=>{t(e)})).catch((e=>{n(e)}))})),l=(e,a)=>new Promise(((t,n)=>{let c=JSON.stringify({CommercialTypeName:e.CommercialTypeName,CommercialTypeShortName:e.CommercialTypeShortName,IsActive:e.IsActive?1:0}),i={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/commercialtypemaster/".concat(e.CommercialTypeCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:c};r.request(i).then((e=>{t(e)})).catch((e=>{n(e)}))}));async function d(e){return n.Z.fetchData({url:"/commercialmaster/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&IsNTC=").concat(e.IsNTC,"&fromdate=").concat(e.FromDate,"&todate=").concat(e.ToDate),method:"get"})}async function u(e,a){return n.Z.fetchData({url:"/bookingmaster/?IsNTC=".concat(e.IsNTC,"&LocationCode=").concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}async function m(e,a,t,o,r,c,i,s,l,d,u){return n.Z.fetchData({url:"/spotschedule/USP_SA_RO_SpotSchedule/?From_DT=".concat(e,"&To_DT=").concat(a,"&DealNumber=").concat(t,"&BookingNumber=").concat(o,"&ChannelCode=").concat(c,"&LocationCode=").concat(i,"&ScheduleDate=").concat(r,"&IsMakeGoodRO=").concat(s?1:0,"&BookingRefNumber=").concat(l,"&IsNTC=").concat(d,"&BrandCode=").concat(u),method:"get"})}async function C(e,a,t,o,r,c){return n.Z.fetchData({url:"/commercialmaster/get_Commercial/?LocationCode=".concat(o,"&ChannelCode=").concat(r,"&ClientCode=").concat(a.value,"&BrandCode=").concat(e.value,"&DurInSec=").concat(t.DurInSec,"&IsNTC=").concat(c),method:"get"})}async function p(e,a,t,o,r){return n.Z.fetchData({url:"/commercialmaster/get_Commercial/?LocationCode=".concat(t,"&ChannelCode=").concat(o,"&ClientCode=").concat(a,"&BrandCode=").concat(e,"&IsNTC=").concat(r),method:"get"})}const h=(e,a)=>new Promise(((t,n)=>{let c={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/commercialmaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:e};console.log(c.url),r.request(c).then((e=>{t(e)})).catch((e=>{n(e)}))})),y=(e,a,t)=>new Promise(((n,c)=>{let i={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/commercialmaster/".concat(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:e};r.request(i).then((e=>{n(e)})).catch((e=>{c(e)}))}));async function T(e){return n.Z.fetchData({url:"/positionmaster/drop/",method:"get",data:e})}async function g(e){return n.Z.fetchData({url:"/spotpositiontypemaster/drop/",method:"get",data:e})}async function N(e){return n.Z.fetchData({url:"/cancelremarkmaster/",method:"get",data:e})}const f=(e,a)=>fetch(o.Z.apiPrefix+"/cancelremarkmaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({CancelRemarkName:e.CancelRemarkName,IsActive:e.IsActive})}),x=(e,a)=>fetch(o.Z.apiPrefix+"/cancelremarkmaster/".concat(e.CancelRemarkCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({CancelRemarkName:e.CancelRemarkName,IsActive:e.IsActive})});async function v(e){return n.Z.fetchData({url:"/yearmaster/",method:"get",data:e})}const S=(e,a)=>fetch(o.Z.apiPrefix+"/yearmaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({Description:e.Description,StartDate:e.StartDate,EndDate:e.EndDate,IsActive:e.IsActive})}),b=(e,a)=>fetch(o.Z.apiPrefix+"/yearmaster/".concat(e.Yearcode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({Description:e.Description,StartDate:e.StartDate,EndDate:e.EndDate,IsActive:e.IsActive})});async function I(e){return n.Z.fetchData({url:"/taxmaster/",method:"get",data:e})}async function D(e){return n.Z.fetchData({url:"/taxmaster/",method:"post",data:e})}async function j(e,a){return n.Z.fetchData({url:"/taxmaster/".concat(a),method:"put",data:e})}const Z=(e,a,t)=>{try{return n.Z.fetchData({method:"get",url:"/trafficdayclose/?LocationCode=".concat(a.LocationCode,"&ChannelCode=").concat(a.ChannelCode,"&traficmonth=").concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}catch(o){throw new Error(o)}},P=(e,a,t,o)=>{try{return n.Z.fetchData({method:"get",url:"/trafficdayclose/asperfromto/?LocationCode=".concat(t.LocationCode,"&ChannelCode=").concat(t.ChannelCode,"&fromdate=").concat(e,"&todate=").concat(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}})}catch(r){throw new Error(r)}},L=async(e,a,t)=>{try{return new Promise(((n,c)=>{let i={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/trafficdayclose/?LocationCode=".concat(a.LocationCode,"&ChannelCode=").concat(a.ChannelCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};r.request(i).then((e=>{n(e)})).catch((e=>{c(e)}))}))}catch(n){throw n}},A=(e,a,t)=>{try{return n.Z.fetchData({method:"get",url:"/bookingmaster/getbookingbyclient/?LocationCode=".concat(a.LocationCode,"&ChannelCode=").concat(a.ChannelCode,"&ClientCode=").concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}catch(o){throw new Error(o)}},R=(e,a)=>{try{return n.Z.fetchData({method:"get",url:"/bookingactivity/get_bookingactivity/?BookingNumber=".concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}catch(t){throw new Error(t)}},O=(e,a,t)=>{try{return console.log(e),n.Z.fetchData({method:"get",url:"/bookingactivity/get_bookingactivitybydate?BookingNumber=".concat(a,"&ChangeType=").concat(e.type,"&ChangeOn=").concat(e.dateTime,"&ChangeBy=").concat(e.executerId),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}catch(o){throw new Error(o)}}},44630:(e,a,t)=>{"use strict";t.d(a,{Z:()=>n});var o=t(72791);const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;const[a,t]=(0,o.useState)("");return(0,o.useEffect)((()=>{if(a){let a=setTimeout((()=>t("")),e);return()=>{clearTimeout(a)}}}),[a]),[a,t]}},56214:(e,a,t)=>{"use strict";t.d(a,{Z:()=>l});var o=t(1413),n=t(1063),r=t(99917),c=t(72791),i=t(60364),s=t(80184);const l=e=>{let{List:a,selectedList:t,setSelectedList:l}=e;const[d,u]=(0,c.useState)([]),m=(0,i.useSelector)((e=>e.theme.mode));return(0,c.useEffect)((()=>{const e=a.map((e=>(0,o.Z)((0,o.Z)({},e),{},{value:"".concat(e.LocationCode,"-").concat(e.ChannelCode),label:"".concat(e.LocationName,"-").concat(e.ChannelName)})));u(e)}),[]),(0,c.useEffect)((()=>{const e=a.map((e=>(0,o.Z)((0,o.Z)({},e),{},{value:"".concat(e.LocationCode,"-").concat(e.ChannelCode),label:"".concat(e.LocationName,"-").concat(e.ChannelName)})));u(e)}),[a]),(0,c.useEffect)((()=>{const e=t.map((e=>(0,o.Z)((0,o.Z)({},e),{},{value:"".concat(e.LocationCode,"-").concat(e.ChannelCode)})));l(e)}),[]),(0,s.jsx)("div",{children:(0,s.jsxs)(r.w,{scrollable:!0,scrollHeight:"400px",virtualScrollerOptions:{itemSize:46},size:"small",value:d,selectionMode:"checkbox",selection:t,onSelectionChange:e=>l(e.value),dataKey:"value",children:[(0,s.jsx)(n.s,{selectionMode:"multiple",style:{height:50,border:"1px solid transparent",borderBottom:"2px solid #374151",borderStyle:"dashed"}}),(0,s.jsx)(n.s,{field:"label",header:"Select Channel",style:{height:50,border:"1px solid transparent",borderBottom:"2px solid #374151",borderStyle:"dashed"},bodyStyle:"dark"==m?{}:{border:"1px solid #e5e7eb",color:"black"}})]})})}},17771:(e,a,t)=>{"use strict";t.d(a,{Z:()=>c});var o=t(1413),n=t(2803),r=(t(72791),t(80184));const c=e=>{let{selected:a,setSelected:t,List:c,name:i,handleCommercialTypeChange:s,byagecy:l}=e;return(0,r.jsx)("div",{className:"card flex flex-column align-items-center  h-9",children:(0,r.jsx)(n.Ph,{size:"sm",className:"mb-4 w-full",placeholder:"Select",options:c,value:null!==c?c.filter((e=>e.value==a)):[{value:"",label:"Data Not Found"}].filter((e=>e.value)),onChange:e=>{"CommercialType"!=i&&"NTCTypeCode"!=i||s(e.value),"brand"==i&&t((e=>(0,o.Z)((0,o.Z)({},e),{},{Commercial:[]}))),t((a=>(0,o.Z)((0,o.Z)({},a),{},{epNo:e.end}))),t((a=>(0,o.Z)((0,o.Z)({},a),{},{[i]:e.value}))),l&&l(e.value)}})})}},39229:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>D});var o=t(1413),n=t(2803),r=t(72791),c=t(56214),i=t(81721),s=t(34786),l=t(11308),d=t(28179),u=t(81320),m=t(60364),C=t(46657),p=t(57689),h=t(44630),y=t(17771),T=t(58617),g=t(54748),N=t(44662),f=t(25123),x=t(67388),v=t(80184);const S=[{value:"1",label:"Data Not Found"}],{DateTimepicker:b}=n.Mt,I=[{label:"FRONT LAYER",value:"FRONT LAYER"},{label:"MID LAYER",value:"MID LAYER"},{label:"BACK LAYER",value:"BACK LAYER"},,],D=(0,r.forwardRef)(((e,a)=>{var t,D,j;const Z=(0,m.useSelector)((e=>e.base.common.currentRouteTitle)),P=(0,m.useSelector)((e=>e.base.common.Path));console.log("Path",P);const{Content:L}=(0,m.useSelector)((e=>e.base.common)),A=(0,m.useSelector)((e=>e.auth.session.LoginId)),R=(0,m.useSelector)((e=>e.auth.session.token)),O=(0,m.useSelector)((e=>e.auth.session.Username)),k=(0,m.useSelector)((e=>e.auth.session.ChannelSetting)),B=(0,m.useSelector)((e=>e.locale.selectedChannel)),M=null===(t=(0,m.useSelector)((e=>e.base.common)).queryParams)||void 0===t?void 0:t.copy,w=(0,m.useDispatch)(),E="/NTCCommercialMaster"==P,[z,J]=(0,r.useState)(""),[K,U]=(0,r.useState)({CommercialType:!1,NTCTypeCode:!1,Caption:!1,Duration:!1,Language:!1,TCIN:!1,TCOUT:!1,Agency:!1,Client:!1,Brand:!1,Product:!1,SubProduct:!1,TapeID:!1,SourceRefNo:!1}),[F,H]=(0,r.useState)({Caption:L.CommercialCaption&&!M?L.CommercialCaption:"",CommercialType:L.CommercialTypeCode?L.CommercialTypeCode:1,NTCTypeCode:L.NTCTypeCode?L.NTCTypeCode:1,TCIN:L.TCIN?L.TCIN:"00:00:00:00",TCOUT:L.TCOUT&&!M?L.TCOUT:"00:00:",Duration:L.CommercialDuration&&!M?L.CommercialDuration:"",DurInSec:L.DurInSec?L.DurInSec:"",VideoId:L.VideoID?L.VideoID:"",HouseId:L.HouseID?L.HouseID:"",TapeID:L.TapeID&&!M?L.TapeID:null,SourceRefNo:L.SourceRefNo&&!M?L.SourceRefNo:"",Agency:L.AgencyCode?L.AgencyCode:null,Client:L.ClientCode?L.ClientCode:null,Brand:L.BrandCode?L.BrandCode:null,Product:L.ProductCode?L.ProductCode:null,SubProduct:L.SubProductCode?L.SubProductCode:null,Language:L.LanguageCode?L.LanguageCode:null,StartDate:L.StartDate?L.StartDate:null,RecievedOn:L.RecievedOn?L.RecievedOn:null,Dated:L.Dated?L.Dated:null,KillDate:L.KillDate?L.KillDate:null,KillStartTime:L.KillStartTime?L.KillStartTime:"",KillEndTime:L.KillEndTime?L.KillEndTime:"",IsNTC:L.IsNTC?L.IsNTC:null,NTCType:L.NTCTypeCode?L.NTCTypeCode:null,Remarks:L.Remarks?L.Remarks:null,Content:L.ContentCode?L.ContentCode:null,Layer:L.Layer?L.Layer:null,SceneName:L.SceneName?L.SceneName:"",DelProvider:L.DelProvider?L.DelProvider:""}),[q,_]=(0,r.useState)([]),[G,V]=(0,r.useState)([]),[Y,W]=(0,r.useState)([]),[X,$]=(0,r.useState)([]),[Q,ee]=(0,r.useState)([]),[ae,te]=(0,r.useState)([]),[oe,ne]=(0,r.useState)([]),[re,ce]=(0,r.useState)([]),[ie,se]=(0,r.useState)(null!==L&&void 0!==L&&L.CommercialLocChnlMap?L.CommercialLocChnlMap.map(((e,a)=>({Id:a,LocationCode:e.LocationCode,ChannelCode:e.ChannelCode}))):[B].map(((e,a)=>({Id:a,LocationCode:e.LocationCode,ChannelName:e.label,ChannelCode:e.ChannelCode})))),[le,de]=(0,r.useState)(!1),ue=(0,r.useRef)(null),me=(0,p.s0)(),[Ce,pe]=(0,h.Z)(),[he,ye]=(0,r.useState)([]);(0,r.useEffect)((()=>(Ne(L.AgencyCode),fe(L.ClientCode),(async e=>{const a=(await(0,s.IA)(void 0)).data.map((e=>({value:e.CommercialTypeCode,label:e.CommercialTypeName})));_(a)})(),(async e=>{const a=(await(0,N.iq)(void 0)).data.map((e=>({value:e.NTCTypeCode,label:e.NTCTypeName})));ye(a)})(),(async e=>{const a=(await(0,l.Hq)(void 0)).data.map((e=>({value:e.LanguageCode,label:e.LanguageName})));ne(a)})(),(async e=>{const a=(await(0,s.oy)(void 0)).data.map((e=>({value:e.AgencyCode,label:e.AgencyName})));V(a)})(),(async e=>{const a=(await(0,s.CV)(void 0)).data.map((e=>({value:e.ProductCode,label:e.ProductName})));ee(a)})(),(async e=>{const a=(await(0,s.n_)(void 0)).data.map((e=>({value:e.SubProductCode,label:e.SubProductName})));te(a)})(),(async e=>{const a=(await(0,l.bu)(A)).data.map(((e,a)=>({Id:a,ChannelName:e.ChannelName,ChannelCode:e.ChannelCode,LocationCode:e.LocationCode,LocationName:e.LocationName})));ce(a)})(),(!L.VideoID&&!L.HouseID||M)&&be(1),console.log("Content",L),()=>w((0,f.BT)(null)))),[]),(0,r.useEffect)((()=>{F.Brand&&(async e=>{try{const e=await(0,s.iq)(F.Brand);204==e.status&&((0,u.openNotification)("warning","Brand Not Found For This Client"),H((e=>(0,o.Z)((0,o.Z)({},e),{},{Product:""}))),H((e=>(0,o.Z)((0,o.Z)({},e),{},{SubProduct:""})))),200==e.status&&(H((a=>(0,o.Z)((0,o.Z)({},a),{},{Product:e.data.ProductCode}))),H((a=>(0,o.Z)((0,o.Z)({},a),{},{SubProduct:e.data.SubProductCode}))))}catch(a){500==a.response.status&&((0,u.openNotification)("danger","Server Error."),H((e=>(0,o.Z)((0,o.Z)({},e),{},{Product:""}))),H((e=>(0,o.Z)((0,o.Z)({},e),{},{SubProduct:""}))))}})()}),[F.Brand]),(0,r.useEffect)((()=>{const e=F.TCOUT.split(":"),a=new Date;a.setHours(parseInt(e[0],10)),a.setMinutes(parseInt(e[1],10)),a.setSeconds(parseInt(e[2],10)),a.setMilliseconds(parseInt(e[3],10));const t=F.TCIN.split(":"),n=36e5*parseInt(t[0],10)+6e4*parseInt(t[1],10)+1e3*parseInt(t[2],10)+parseInt(t[3],10);a.setMilliseconds(a.getMilliseconds()-n);const r="".concat(a.getHours().toString().padStart(2,"0"),":").concat(a.getMinutes().toString().padStart(2,"0"),":").concat(a.getSeconds().toString().padStart(2,"0"),":").concat(a.getMilliseconds().toString().slice(0,2).padStart(2,"0"));F.TCOUT.length>6&&H((e=>(0,o.Z)((0,o.Z)({},e),{},{Duration:r,DurInSec:(0,u.parseDuration)(r)})))}),[F.TCIN,F.TCOUT]);const Te=e=>{var a;const{name:t,value:n}=e.target,r=(0,u.formatOnHHMMSSFFBlur)(n,Number((null===(a=k[0])||void 0===a?void 0:a.FramePerSec)||24));H((e=>(0,o.Z)((0,o.Z)({},e),{},{[t]:r})))},ge=e=>{const{name:a,value:t}=e.target;H((e=>(0,o.Z)((0,o.Z)({},e),{},{[a]:t})))},Ne=async e=>{try{const a=await(0,s.LH)(e);if(204==a.status&&((0,u.openNotification)("warning","Client Not Found For This Agency"),W([])),200==a.status){const e=a.data.map((e=>({value:e.ClientCode,label:e.ClientName})));W(e)}}catch(a){console.log(a),500==a.response.status&&((0,u.openNotification)("danger","Server Error."),W([]))}},fe=async e=>{try{const a=await(0,s.Bw)(e);if(204==a.status&&((0,u.openNotification)("warning","Brand Not Found For This Client"),$([])),200==a.status){const e=""!=a.data?a.data.map((e=>({value:e.BrandMaster.BrandCode,label:e.BrandMaster.BrandName}))):[];$(e)}}catch(a){console.log(a),500==a.response.status&&((0,u.openNotification)("danger","Server Error."),$([]))}},xe=(e,a)=>{H((t=>(0,o.Z)((0,o.Z)({},t),{},{[a]:e})))},ve=e=>{try{be(e)}catch(a){console.error(a)}},Se=(e,a)=>{const t=[];for(const o of a)e[o]||t.push(o);return t},be=async e=>{console.log(";commercialTypeCode",e),console.log(";Channel",B),console.log(";ChannelSetting",k);try{var a;if(Object.keys(B).length>0)1===(null===(a=k[0])||void 0===a?void 0:a.IsTapeCounterFlag)?(async a=>{try{const a=await(0,l.Ij)(B.LocationCode,B.ChannelCode,E?"NTC Master":"Commercial master",e,0);console.log("resp",a),F.HouseId!=a.data[0].CommVideoID&&pe("HouseId Updated"),H((e=>(0,o.Z)((0,o.Z)({},e),{},{HouseId:a.data[0].CommVideoID}))),H((e=>(0,o.Z)((0,o.Z)({},e),{},{VideoId:a.data[0].CommVideoID})))}catch(t){t&&(pe("HouseId Is Not Configured With This Commercial Type"),H((e=>(0,o.Z)((0,o.Z)({},e),{},{HouseId:""}))),H((e=>(0,o.Z)((0,o.Z)({},e),{},{VideoId:""})))),500==t.response.status&&(H((e=>(0,o.Z)((0,o.Z)({},e),{},{HouseId:""}))),H((e=>(0,o.Z)((0,o.Z)({},e),{},{VideoId:""}))))}})():pe("IsTapeCounterFlag Is Not Configured With This Commercial Type");else pe("Please Select Global Channal")}catch(t){console.error(t)}};return(0,v.jsxs)(n.Zb,{children:[Ce&&(0,v.jsx)(n.bZ,{className:"mb-4",type:z,showIcon:!0,children:Ce}),(0,v.jsx)("div",{className:"border-b-2 border-inherit mb-2",children:(0,v.jsx)("h1",{className:"text-xl font-semibold",children:Z})}),(0,v.jsx)(C.F,{ref:ue}),(0,v.jsxs)(n.Yb,{children:[(0,v.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,v.jsxs)("div",{className:"col-span-2 ",children:[(0,v.jsxs)("div",{className:"grid grid-cols-9 gap-2 mb-5",children:[(0,v.jsx)("div",{className:"col-span-3",children:"/NTCCommercialMasterEdit"==P?(0,v.jsx)(n.xJ,{label:"NTC Type",asterisk:!0,errorMessage:K.NTCTypeCode?"NTC Type  Required":null,invalid:K.NTCTypeCode&&K.NTCTypeCode,children:(0,v.jsx)(y.Z,{selected:F.NTCTypeCode,setSelected:H,List:he,name:"NTCTypeCode",handleCommercialTypeChange:ve})}):(0,v.jsx)(n.xJ,{label:"Commercial Type",asterisk:!0,errorMessage:K.CommercialType?"Commercial Type  Required":null,invalid:K.CommercialType&&K.CommercialType,children:(0,v.jsx)(y.Z,{selected:F.CommercialType,setSelected:H,List:q,name:"CommercialType",handleCommercialTypeChange:ve})})}),(0,v.jsx)("div",{className:"col-span-6",children:(0,v.jsx)(n.xJ,{label:"Caption",asterisk:!0,errorMessage:K.Caption?"Caption Is Required":null,invalid:K.Caption&&K.Caption,children:(0,v.jsx)(n.II,{size:"sm",name:"Caption",placeholder:"Caption",value:F.Caption,maxLength:"250",onChange:ge})})}),(0,v.jsx)("div",{className:"col-span-3",children:(0,v.jsx)(n.xJ,{label:"Agency Tape Id",asterisk:!0,errorMessage:K.TapeID?"TapeID Is Required":null,invalid:K.TapeID&&K.TapeID,children:(0,v.jsx)(n.II,{size:"sm",name:"TapeID",placeholder:"Agency Tape Id",value:F.TapeID,maxLength:"10",onChange:e=>{const{name:a,value:t}=e.target;/^[0-9a-zA-Z\s]*$/.test(t)&&H((e=>(0,o.Z)((0,o.Z)({},e),{},{[a]:t})))}})})}),(0,v.jsx)("div",{className:"col-span-3",children:(0,v.jsx)(n.xJ,{label:"Video Id",children:(0,v.jsx)(n.II,{size:"sm",disabled:1===(null===(D=k[0])||void 0===D?void 0:D.IsTapeCounterFlag),name:"VideoId",maxLength:"10",placeholder:"VideoId",value:F.VideoId,onChange:ge})})}),(0,v.jsx)("div",{className:"col-span-3",children:(0,v.jsx)(n.xJ,{label:"House Id",children:(0,v.jsx)(n.II,{size:"sm",disabled:1===(null===(j=k[0])||void 0===j?void 0:j.IsTapeCounterFlag),name:"HouseId",maxLength:"10",placeholder:"HouseId",value:F.HouseId,onChange:ge})})}),(0,v.jsx)("div",{className:"col-span-3",children:(0,v.jsx)(n.xJ,{label:"Language",asterisk:!0,errorMessage:K.Language?"Language Is Required":null,invalid:K.Language&&K.Language,children:(0,v.jsx)(y.Z,{selected:F.Language,setSelected:H,List:oe,name:"Language"})})}),(0,v.jsx)("div",{className:"col-span-3",children:(0,v.jsx)(n.xJ,{label:"Source Ref No.",asterisk:!0,errorMessage:K.SourceRefNo?"SourceRefNo Is Required":null,invalid:K.SourceRefNo&&K.SourceRefNo,children:(0,v.jsx)(n.II,{size:"sm",name:"SourceRefNo",placeholder:"SourceRefNo",value:F.SourceRefNo,maxLength:"10",onChange:ge})})}),(0,v.jsx)("div",{className:"col-span-3",children:(0,v.jsx)(n.xJ,{label:"Layer",children:(0,v.jsx)(y.Z,{selected:F.Layer,setSelected:H,List:I,name:"Layer"})})})]}),(0,v.jsx)(n.Zb,{children:(0,v.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,v.jsx)("div",{className:"col-span-1",children:(0,v.jsx)(n.xJ,{label:"TC IN",asterisk:!0,errorMessage:K.TCIN?"Kindly Enter TC IN":null,invalid:K.TCIN&&K.TCIN,children:(0,v.jsx)(n.II,{size:"sm",placeholder:"TC IN",maxLength:"12",name:"TCIN",disabled:!0,value:F.TCIN,onChange:e=>{var a;return(0,u.handleChangeWithFrameNew)(e,H,Number((null===(a=k[0])||void 0===a?void 0:a.FramePerSec)||24))},onBlur:Te})})}),(0,v.jsx)("div",{className:"col-span-1",children:(0,v.jsx)(n.xJ,{label:"TC OUT",asterisk:!0,errorMessage:K.TCOUT?"Kindly Enter TC OUT":null,invalid:K.TCOUT&&K.TCOUT,children:(0,v.jsx)(n.II,{size:"sm",placeholder:"TC OUT",name:"TCOUT",maxLength:"12",value:F.TCOUT,onChange:e=>{var a;return(0,u.handleChangeWithFrameNew)(e,H,Number((null===(a=k[0])||void 0===a?void 0:a.FramePerSec)||24))},onBlur:Te})})}),(0,v.jsx)("div",{className:"col-span-1",children:(0,v.jsx)(n.xJ,{label:"Duration",asterisk:!0,errorMessage:K.Duration?"Duration Is Required":null,invalid:K.Duration&&K.Duration,children:(0,v.jsx)(n.II,{disabled:!0,size:"sm",placeholder:"HH:MM:SS:FF",name:"Duration",value:F.Duration,onChange:e=>{var a;return(0,u.handleChangeWithFrameNew)(e,H,Number((null===(a=k[0])||void 0===a?void 0:a.FramePerSec)||24))}})})}),(0,v.jsx)("div",{className:"col-span-1",children:(0,v.jsx)(n.xJ,{label:"Dur In Sec",asterisk:!0,errorMessage:K.DurInSec?"DurInSec Required":null,invalid:K.DurInSec&&K.DurInSec,children:(0,v.jsx)(n.II,{size:"sm",name:"DurInSec",disabled:!0,placeholder:"DurInSec",value:F.DurInSec,onChange:ge})})})]})}),(0,v.jsx)("br",{}),(0,v.jsx)(n.Zb,{children:(0,v.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,v.jsx)("div",{className:"col-span-2",children:(0,v.jsx)(n.xJ,{label:"Agency",asterisk:!0,errorMessage:K.Agency?"Agency Required":null,invalid:K.Agency&&K.Agency,children:(0,v.jsx)(y.Z,{selected:F.Agency,setSelected:H,List:G,name:"Agency",byagecy:Ne})})}),(0,v.jsx)("div",{className:"col-span-2",children:(0,v.jsx)(n.xJ,{label:"Client",asterisk:!0,errorMessage:K.Client?"Client Required":null,invalid:K.Client&&K.Client,children:(0,v.jsx)(y.Z,{selected:F.Client,setSelected:H,List:Y,name:"Client",byagecy:fe})})}),(0,v.jsx)("div",{className:"col-span-1",children:(0,v.jsx)(n.xJ,{label:"Brand",asterisk:!0,errorMessage:K.Brand?"Brand Required":null,invalid:K.Brand&&K.Brand,children:(0,v.jsx)(y.Z,{selected:F.Brand,setSelected:H,List:X,name:"Brand"})})}),(0,v.jsx)("div",{className:"col-span-1",children:(0,v.jsx)(n.xJ,{asterisk:!0,label:"Product",errorMessage:K.Product?"Product Required":null,invalid:K.Product&&K.Product,children:(0,v.jsx)(n.Ph,{style:{width:"250px"},options:Q,value:Q.length>0?Q.filter((e=>e.value==F.Product)):S.filter((e=>e.value==F.Product)),isDisabled:!0})})}),(0,v.jsx)("div",{className:"col-span-1",children:(0,v.jsx)(n.xJ,{label:"SubProduct",asterisk:!0,errorMessage:K.SubProduct?"SubProduct Required":null,invalid:K.SubProduct&&K.SubProduct,children:(0,v.jsx)(n.Ph,{style:{width:"250px"},options:ae,value:ae.length>0?ae.filter((e=>e.value==F.SubProduct)):S.filter((e=>e.value==F.SubProduct)),isDisabled:!0})})})]})}),(0,v.jsx)("br",{}),(0,v.jsx)(n.XZ,{onChange:e=>{de(!le)},children:"Is Dated"})]}),(0,v.jsx)("div",{className:"col-span-1",children:(0,v.jsx)(n.Zb,{children:(0,v.jsx)(c.Z,{List:re,selectedList:ie,setSelectedList:se})})})]}),le?(0,v.jsxs)(n.Zb,{children:[(0,v.jsxs)("div",{className:"grid grid-cols-10 gap-4",children:[(0,v.jsx)("div",{className:"col-span-2 ",children:(0,v.jsx)(n.xJ,{label:"Start Date",children:(0,v.jsx)(b,{size:"sm",name:"StartDate",prefix:(0,v.jsx)(T.Gmo,{className:"text-xl"}),defaultValue:(0,g.Gu)(F.StartDate)?new Date(F.StartDate):"",onChange:e=>{xe((0,g.Tk)(e),"StartDate")}})})}),(0,v.jsx)("div",{className:"col-span-2 ",children:(0,v.jsx)(n.xJ,{label:"Recieved on",children:(0,v.jsx)(n.Mt,{size:"sm",name:"Recieved on",prefix:(0,v.jsx)(T.Gmo,{className:"text-xl"}),defaultValue:(0,g.Gu)(F.RecievedOn)?new Date(F.RecievedOn):"",onChange:e=>{xe((0,g.Tk)(e),"RecievedOn")}})})}),(0,v.jsx)("div",{className:"col-span-2 ",children:(0,v.jsx)(n.xJ,{label:"Kill Date",children:(0,v.jsx)(b,{size:"sm",name:"KillDate",prefix:(0,v.jsx)(T.Gmo,{className:"text-xl"}),onChange:e=>{xe((0,g.Tk)(e),"KillDate")}})})})]}),(0,v.jsx)("div",{className:"grid grid-cols-4 gap-4",children:(0,v.jsx)("div",{className:"col-span-2 ",children:(0,v.jsx)(n.xJ,{label:"Remarks",children:(0,v.jsx)(n.II,{Textarea:!0,size:"lg",name:"Remarks",maxLength:"50",placeholder:"Remarks",value:F.Remarks,onChange:ge})})})})]}):null]}),(0,v.jsx)(i.gi,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:(0,v.jsxs)("div",{className:"md:flex items-center",children:[L.CommercialCode&&!M?(0,v.jsx)(n.zx,{variant:"solid",type:"submit",onClick:()=>(async()=>{const e=Se(F,Object.keys(K));if("00:00:00:00"!=F.Duration)if(0===e.length){const e={commercialmaster:{CommercialCaption:F.Caption,CommercialTypeCode:"/NTCCommercialMaster"==P?1:F.CommercialType,NTCTypeCode:"/NTCCommercialMaster"!=P?0:F.NTCTypeCode,TCIN:F.TCIN,TCOUT:F.TCOUT,CommercialDuration:F.Duration,DurInSec:F.DurInSec,HouseID:F.HouseId,VideoID:F.VideoId,TapeID:F.TapeID,SourceRefNo:F.SourceRefNo,AgencyCode:F.Agency,ClientCode:F.Client,BrandCode:F.Brand,ProductCode:F.Product,SubProductCode:F.SubProduct,LanguageCode:F.Language,StartDate:F.StartDate,RecievedOn:F.RecievedOn,Dated:le?1:0,KillDate:F.KillDate,KillStartTime:F.KillStartTime,KillEndTime:F.KillEndTime,IsNTC:"/NTCCommercialMaster"==P?1:0,Remarks:F.Remarks,ContentCode:0,Layer:F.Layer,SceneName:F.SceneName,DelProvider:F.DelProvider,IsActive:1},locchnlmap:ie.map((e=>({LocationCode:e.LocationCode,ChannelCode:e.ChannelCode})))};try{const a=await(0,d.m1)(e,R,L.CommercialCode);if(200===a.status)return(0,u.openNotification)("success","Data Updated Successfully"),await(0,x.apisendnotification)({NotificationId:(Math.random()+1).toString(36).substring(7),user_ids:[4],message:F.Caption+" Commercial Modified.",image:"",type:"1",location:"Commercial Modified.",locationLabel:O,Status:"1",isGroup:1,Ispriority:1,readed:0}),void me("/NTCCommercialMaster"==P?"/NTCCommercialMaster":"/commercialmaster");if(204===a.status)return void(0,u.openNotification)("danger","Data Already Exists.")}catch(a){return void(500==a.response.status&&(0,u.openNotification)("danger","Server Error."))}}else e.forEach((e=>{U((a=>(0,o.Z)((0,o.Z)({},a),{},{[e]:!0})))}));else pe("Duration cannot be zero.")})(),children:"Update"}):(0,v.jsx)(n.zx,{variant:"solid",type:"button",onClick:()=>(async()=>{if(ie.length>0){const a=Se(F,Object.keys(K));if("00:00:00:00"==F.Duration)return void pe("Duration cannot be zero.");if(0===a.length){const a={commercialmaster:{CommercialCaption:F.Caption,CommercialTypeCode:"/NTCCommercialMaster"==P?1:F.CommercialType,NTCTypeCode:"/NTCCommercialMaster"!=P?0:F.NTCTypeCode,TCIN:F.TCIN,TCOUT:F.TCOUT,CommercialDuration:F.Duration,DurInSec:F.DurInSec,HouseID:F.HouseId,VideoID:F.VideoId,TapeID:F.TapeID,SourceRefNo:F.SourceRefNo,AgencyCode:F.Agency,ClientCode:F.Client,BrandCode:F.Brand,ProductCode:F.Product,SubProductCode:F.SubProduct,LanguageCode:F.Language,StartDate:F.StartDate,RecievedOn:F.RecievedOn,Dated:le?1:0,KillDate:F.KillDate,KillStartTime:F.KillStartTime,KillEndTime:F.KillEndTime,IsNTC:"/NTCCommercialMaster"==P?1:0,Remarks:F.Remarks,ContentCode:0,Layer:F.Layer,SceneName:F.SceneName,DelProvider:F.DelProvider,IsActive:1},locchnlmap:ie.map((e=>({LocationCode:e.LocationCode,ChannelCode:e.ChannelCode}))),genvideoId:{LocationCode:B.LocationCode,ChannelCode:B.ChannelCode,FormName:E?"NTC Master":"Commercial master",EventTypeCode:Number(E?F.NTCTypeCode:F.CommercialType),Mode:1}};try{const e=await(0,d.SR)(a,R);if(200===e.status)return(0,u.openNotification)("success","Data Inserted Successfully."),await(0,x.apisendnotification)({NotificationId:(Math.random()+1).toString(36).substring(7),user_ids:[4],message:F.Caption+" Commercial Added.",image:"",type:"1",location:"Commercial Added.",locationLabel:O,Status:"1",isGroup:1,Ispriority:1,readed:0}),void me("/NTCCommercialMaster"==P?"/NTCCommercialMaster":"/commercialmaster");if(204===e.status)return void(0,u.openNotification)("danger","Data Already Exists.")}catch(e){return void(500==e.response.status&&(0,u.openNotification)("danger","Server Error."))}}else a.forEach((e=>{U((a=>(0,o.Z)((0,o.Z)({},a),{},{[e]:!0})))}))}else J("danger"),pe("Kindly Select Channel ")})(),children:"Submit"}),"\xa0",(0,v.jsx)(n.zx,{type:"button",onClick:()=>me("/NTCCommercialMaster"==P?"/NTCCommercialMaster":"/commercialmaster"),children:"Discard"})]})})]})}))},72950:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{},38416:(e,a,t)=>{var o=t(64062);e.exports=function(e,a,t){return(a=o(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e},e.exports.__esModule=!0,e.exports.default=e.exports},42122:(e,a,t)=>{var o=t(38416);function n(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,o)}return t}e.exports=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?n(Object(t),!0).forEach((function(a){o(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},95036:(e,a,t)=>{var o=t(18698).default;e.exports=function(e,a){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,a||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},64062:(e,a,t)=>{var o=t(18698).default,n=t(95036);e.exports=function(e){var a=n(e,"string");return"symbol"==o(a)?a:a+""},e.exports.__esModule=!0,e.exports.default=e.exports},18698:e=>{function a(t){return e.exports=a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,a(t)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=6635.e82f1f9e.chunk.js.map