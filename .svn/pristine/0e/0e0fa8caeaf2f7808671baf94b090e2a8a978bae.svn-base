{"version":3,"file":"static/js/9604.ab498b50.chunk.js","mappings":"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","sources":["utils/hooks/useTimeOutMessage.js","views/Controls/Loader.js","views/auth/SignIn/SignInForm.js","views/auth/SignIn/index.js"],"sourcesContent":["import { useEffect, useState } from 'react'\r\n\r\nfunction useTimeOutMessage(interval = 3000) {\r\n    const [message, setMessage] = useState('')\r\n\r\n    useEffect(() => {\r\n        if (message) {\r\n            let timeout = setTimeout(() => setMessage(''), interval)\r\n            return () => {\r\n                clearTimeout(timeout)\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [message])\r\n\r\n    return [message, setMessage]\r\n}\r\n\r\nexport default useTimeOutMessage\r\n","import { Spinner } from 'components/ui';\r\nimport React from 'react';\r\n\r\nfunction Loader({ showLoader }) {\r\n  return (\r\n    <>\r\n      {showLoader ? (\r\n        <div className=\"dialog-overlay flex justify-center items-center z-50\">\r\n          <Spinner size=\"3.25rem\" />\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Input,\r\n  Button,\r\n  Checkbox,\r\n  FormItem,\r\n  FormContainer,\r\n  Alert,\r\n} from 'components/ui';\r\nimport { PasswordInput, ActionLink } from 'components/shared';\r\nimport useTimeOutMessage from 'utils/hooks/useTimeOutMessage';\r\nimport { Field, Form, Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport useAuth from 'utils/hooks/useAuth';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setModule, } from 'store/auth/sessionSlice';\r\nimport { apiGetOTP } from 'services/CommonService';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport Loader from 'views/Controls/Loader';\r\nconst SignInForm = (props) => {\r\n  const { disableSubmit = false, className } = props;\r\n  const MessageAttempt = useSelector(\r\n    (state) => state.auth.session.MessageAttempt,\r\n  );\r\n  const dispatch = useDispatch();\r\n  const [message, setMessage] = useTimeOutMessage();\r\n\r\n  const { signIn } = useAuth();\r\n  const onSignIn = async (values, setSubmitting) => {\r\n    const { userName, password, OTP, OrganizationShortcode } = values;\r\n    setSubmitting(true);\r\n\r\n    try {\r\n      const result = await signIn({\r\n        userName,\r\n        password,\r\n        OTP,\r\n        OrganizationShortcode,\r\n      });\r\n      if (result.status === 'failed') {\r\n        setMessage(result.data.detail);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error during sign in:', error);\r\n    }\r\n\r\n    setSubmitting(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(setModule([]));\r\n  }, [dispatch]);\r\n\r\n  const [OptForm, setOptForm] = useState(false);\r\n  const [counter, setCounter] = useState(60);\r\n  const [settimer, setSetTimer] = useState(false);\r\n\r\n  const GetoptFun = async (userName) => {\r\n    try {\r\n      const res = await apiGetOTP(userName);\r\n      if (res.status === 204) {\r\n        openNotification('warning', 'Kindly Enter Valid Username');\r\n        return;\r\n      }\r\n      if (res.data) {\r\n        setSetTimer(true);\r\n        startTimer();\r\n      }\r\n    } catch (error) {\r\n      if (error.response?.status === 500) {\r\n        openNotification('danger', 'Server Error.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const startTimer = () => {\r\n    setCounter(60); // Set the initial timer value to 60 seconds\r\n  };\r\n\r\n  useEffect(() => {\r\n    const countdown = setInterval(() => {\r\n      setCounter((prev) => {\r\n        if (prev > 1) {\r\n          return prev - 1; // Decrement the counter value\r\n        } else {\r\n          clearInterval(countdown); // Stop the timer\r\n          setSetTimer(false); // Reset the timer state\r\n          return 0;\r\n        }\r\n      });\r\n    }, 1000);\r\n\r\n    return () => clearInterval(countdown); // Cleanup function\r\n  }, [counter]);\r\n\r\n  return (\r\n    <div className={className}>\r\n\r\n      <Loader />\r\n      {message && (\r\n        <Alert className=\"mb-4\" type=\"danger\" showIcon>\r\n          {message}\r\n        </Alert>\r\n      )}\r\n      {MessageAttempt && (\r\n        <Alert type=\"danger\" showIcon>\r\n          {MessageAttempt}\r\n        </Alert>\r\n      )}\r\n      {/* {acValue} */}\r\n      <Formik\r\n        initialValues={{\r\n          userName: '',\r\n          password: '',\r\n          OTP: '',\r\n          rememberMe: true,\r\n        }}\r\n        validationSchema={Yup.object().shape({\r\n          userName: Yup.string().required('Please enter your user name'),\r\n\r\n          password: Yup.string().when('OptForm', {\r\n            is: false,\r\n            then: Yup.string().required('Please enter your password'),\r\n          }),\r\n          OTP: Yup.string().when('OptForm', {\r\n            is: true,\r\n            then: Yup.string().required('Please enter your OTP'),\r\n          }),\r\n          rememberMe: Yup.bool(),\r\n        })}\r\n        onSubmit={(values, { setSubmitting }) => {\r\n          if (!disableSubmit) {\r\n            onSignIn(values, setSubmitting);\r\n          } else {\r\n            setSubmitting(false);\r\n          }\r\n        }}\r\n      >\r\n        {({ values, touched, errors, isSubmitting }) => (\r\n          <Form>\r\n            <FormContainer>\r\n              <div className=\"grid grid-cols-1 gap-4\">\r\n                <FormItem\r\n                  label=\"Username :\"\r\n                  invalid={errors.userName && touched.userName}\r\n                  errorMessage={errors.userName}\r\n                >\r\n                  <Field\r\n                    size=\"sm\"\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    name=\"userName\"\r\n                    placeholder=\"User Name\"\r\n                    component={Input}\r\n                    style={{ background: 'white', color: 'black' }}\r\n                  />\r\n                </FormItem>\r\n\r\n                {OptForm ? (\r\n                  <FormItem\r\n                    label=\"OTP :\"\r\n                    invalid={errors.OTP && touched.OTP}\r\n                    errorMessage={errors.OTP}\r\n                    className=\"mt-2\"\r\n                  >\r\n                    <Field\r\n                      size=\"sm\"\r\n                      autoComplete=\"off\"\r\n                      name=\"OTP\"\r\n                      placeholder=\"Enter OTP\"\r\n                      component={Input}\r\n                      style={{ background: 'white', color: 'black' }}\r\n                    />\r\n                  </FormItem>\r\n                ) : (\r\n                  <FormItem\r\n                    label=\"Password :\"\r\n                    invalid={errors.password && touched.password}\r\n                    errorMessage={errors.password}\r\n                    className=\"mt-2\"\r\n                  >\r\n                    <Field\r\n                      size=\"sm\"\r\n                      autoComplete=\"off\"\r\n                      name=\"password\"\r\n                      placeholder=\"Password\"\r\n                      component={PasswordInput}\r\n                      style={{ background: 'white', color: 'black' }}\r\n                    />\r\n                  </FormItem>\r\n                )}\r\n                <div className=\"flex justify-between\">\r\n                  {/* {OptForm ? (\r\n                    <p\r\n                      style={{ color: '#00E4CB', cursor: 'pointer' }}\r\n                      onClick={() => setOptForm(!OptForm)}\r\n                    >\r\n                      Sign In Using Password\r\n                    </p>\r\n                  ) : (\r\n                    <p\r\n                      style={{ color: '#00E4CB', cursor: 'pointer' }}\r\n                      onClick={() => setOptForm(!OptForm)}\r\n                    >\r\n                      Sign In Using OTP\r\n                    </p>\r\n                  )} */}\r\n                  {OptForm && !settimer ? (\r\n                    <p\r\n                      style={{ color: '#00E4CB', cursor: 'pointer' }}\r\n                      onClick={() => GetoptFun(values.userName)}\r\n                    >\r\n                      Get OTP\r\n                    </p>\r\n                  ) : null}\r\n                </div>\r\n                {settimer && (\r\n                  <p>\r\n                    OTP sent to the registered email address. &nbsp;&nbsp;{' '}\r\n                    {counter} sec\r\n                  </p>\r\n                )}\r\n                {/* <div className=\"flex justify-between\">\r\n                  <Field\r\n                    size=\"sm\"\r\n                    className=\"mb-0\"\r\n                    name=\"rememberMe\"\r\n                    component={Checkbox}\r\n                    style={{ color: '#00E4CB' }}\r\n                  >\r\n                    <span style={{ color: '#00E4CB' }}>Remember Me</span>\r\n                  </Field>\r\n\r\n                  <ActionLink to=\"/sign-up\" style={{ color: '#00E4CB' }}>\r\n                    Sign up\r\n                  </ActionLink>\r\n                </div> */}\r\n                <div className=\"flex justify-between mb-6\">\r\n                  <ActionLink\r\n                    to=\"/forgot-password\"\r\n                    style={{ color: '#00E4CB' }}\r\n                  >\r\n                    Forgot Password\r\n                  </ActionLink>\r\n                </div>\r\n                <Button\r\n                  block\r\n                  loading={isSubmitting}\r\n                  style={{ backgroundColor: '#00E4CB' }}\r\n                  type=\"submit\"\r\n                >\r\n                  {isSubmitting ? 'Signing in...' : 'Sign In'}\r\n                </Button>\r\n              </div>\r\n            </FormContainer>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignInForm;\r\n","import React, { useEffect } from 'react';\r\nimport SignInForm from './SignInForm';\r\n\r\nconst SignIn = () => {\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    const clearStorage = () => {\r\n      localStorage.clear();\r\n      sessionStorage.clear();\r\n    };\r\n    window.addEventListener('unload', clearStorage)\r\n    return () => window.removeEventListener('unload', clearStorage);\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mb-8\">\r\n        <h3 className=\"mb-1\">Welcome back!</h3>\r\n        <p>Please enter your credentials to sign in!</p>\r\n      </div>\r\n      <SignInForm disableSubmit={false} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n"],"names":["interval","message","setMessage","useState","useEffect","timeout","setTimeout","clearTimeout","showLoader","className","size","props","disableSubmit","MessageAttempt","useSelector","state","auth","session","dispatch","useDispatch","useTimeOutMessage","signIn","useAuth","setModule","OptForm","setOptForm","counter","setCounter","settimer","setSetTimer","startTimer","countdown","setInterval","prev","clearInterval","Loader","type","showIcon","initialValues","userName","password","OTP","rememberMe","validationSchema","Yup","shape","required","when","is","then","onSubmit","values","setSubmitting","async","OrganizationShortcode","result","status","data","detail","error","console","onSignIn","touched","errors","isSubmitting","label","invalid","errorMessage","autoComplete","name","placeholder","component","Input","style","background","color","PasswordInput","cursor","onClick","res","apiGetOTP","openNotification","response","GetoptFun","to","block","loading","backgroundColor","clearStorage","localStorage","clear","sessionStorage","window","addEventListener","removeEventListener"],"sourceRoot":""}