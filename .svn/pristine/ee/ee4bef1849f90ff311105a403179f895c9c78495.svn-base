"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[6191],{44501:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var a=t(1413),l=t(2803),n=t(72791),c=t(11308),i=t(96361),u=t(46657),r=t(60364),o=t(4621),d=t(32640),p=t(80184);const m=()=>{const e=(0,r.useSelector)((e=>e.auth.session.token)),s=(0,n.useRef)(0);function t(e,s){l.Am.push((0,p.jsx)(l.P_,{closable:!0,type:s,duration:1e3,title:s.charAt(0).toUpperCase()+s.slice(1),children:e}))}const[m,y]=(0,n.useState)(""),[h,f]=(0,n.useState)(!1),[g,x]=(0,n.useState)(""),[N,T]=(0,n.useState)(!1),[v,b]=(0,n.useState)(),A=(0,n.useRef)(null),[B,j]=(0,n.useState)();(0,n.useEffect)((()=>{s.current=s.current+1,1==s.current&&(async e=>{const s=[...(await(0,c.IK)()).data].reverse().map(((e,s)=>(0,a.Z)((0,a.Z)({},e),{},{serialNumber:s+1})));j(s)})()}),[]);const S=s=>{console.log("BusinessType",B);const a=[...B];let l=a[s];l.IsActive=1==l.IsActive?0:1,(0,c.rT)(l,e).then((e=>204==e.status?(console.log(e),t("Data Already Exists.","warning"),null):(200==e.status&&t("Data Updated Succesfully","success"),e.json()))).then((e=>{e.serialNumber=l.serialNumber,e.IsActive=l.IsActive,e.BusinessTypeName=l.BusinessTypeName,a[s]=e,j(a),t("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},w=[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"BusinessTypeName",header:"BusinessTypeName",width:"20%"}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.F,{ref:A}),(0,p.jsx)(o.Q,{group:"declarative",visible:N,onHide:()=>T(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{S(v)}}),(0,p.jsx)(l.Zb,{header:(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("div",{children:(0,p.jsx)("span",{className:"flex items-center",children:(0,p.jsx)(i.Z,{ModuleText:"Programming",Component:"BusinessType"})})}),(0,p.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}}),(0,p.jsx)("div",{})]}),headerExtra:(0,d.W)(g,x,f,h,(()=>{if(m){const s={BusinessTypeName:m,IsActive:1};(0,c.AR)(s,e).then((e=>{204==e.status&&t("Data Already Exists.","warning"),200==e.status&&(s.serialNumber=B.length+1,j((e=>[...e,s])),t("Data Added Succesfully","success")),y(""),f(!1)})).catch((e=>{console.log(e)}))}else t("Kindly Enter BusinessType Name","danger")}),m,y,"Business Type",B,w),bodyClass:"text-center",children:(0,p.jsx)(d.Z,{data:B,onRowEditComplete:s=>{let a=[...B],{newData:l,index:n}=s;console.log(l),a[n].BusinessTypeName=l.BusinessTypeName,a[n].IsActive=l.IsActive,l.BusinessTypeName&&(console.log("_BusinessType",a),(0,c.rT)(l,e).then((e=>204==e.status?(console.log(e),t("Data Already Exists.","warning"),null):(200==e.status&&t("Data Updated Succesfully","success"),e.json()))).then((e=>{console.log(e),console.log(l.serialNumber),a[n]=e,a[n].serialNumber=l.serialNumber,a[n].BusinessTypeName=l.BusinessTypeName,a[n].IsActive=l.IsActive,j(a),t("Data Updated Succesfully","success")})).catch((e=>{console.log(e)})))},globalFilter:g,dataKey:"BusinessTypeCode",columns:w,setyup:b,scrollHeight:"70vh",setVisible:T})})]})}}}]);
//# sourceMappingURL=6191.4f20abf2.chunk.js.map