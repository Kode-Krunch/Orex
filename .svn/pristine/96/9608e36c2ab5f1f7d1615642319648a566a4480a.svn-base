"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[9643],{31562:(e,t,a)=>{a.d(t,{$o:()=>i,DY:()=>u,F5:()=>s,H6:()=>l,HE:()=>r,OR:()=>m,QW:()=>h,WV:()=>d});var o=a(54048),n=a(46152);const c=a(74569);async function s(e){return n.Z.fetchData({url:"/musicagencymst/",method:"get",data:e})}const r=(e,t)=>new Promise(((a,n)=>{let s=JSON.stringify({MusicAgencyName:e.MusicAgencyName,MusicAgency_Addr1:e.MusicAgency_Addr1,MusicAgency_Addr2:e.MusicAgency_Addr1,PlaceCode:e.PlaceCode,CountryCode:e.CountryCode,StateCode:e.StateCode,MusicAgency_Contact1:e.MusicAgency_Contact1,MusicAgency_Contact2:e.MusicAgency_Contact1,MusicAgency_Faxno:e.MusicAgency_Faxno,MusicAgency_Email:e.MusicAgency_Email,ContactPerson:e.ContactPerson,IsMusicAgency:1,IsMusicCompany:1,IsActive:1}),r={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/musicagencymst/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:s};c.request(r).then((e=>{a(e)})).catch((e=>{n(e)}))})),i=(e,t)=>new Promise(((a,n)=>{let s=JSON.stringify({MusicAgencyName:e.MusicAgencyName,MusicAgency_Addr1:e.MusicAgency_Addr1,MusicAgency_Addr2:e.MusicAgency_Addr1,PlaceCode:e.PlaceCode,CountryCode:e.CountryCode,StateCode:e.StateCode,MusicAgency_Contact1:e.MusicAgency_Contact1,MusicAgency_Contact2:e.MusicAgency_Contact1,MusicAgency_Faxno:e.MusicAgency_Faxno,MusicAgency_Email:e.MusicAgency_Email,ContactPerson:e.ContactPerson,IsMusicAgency:1,IsMusicCompany:1,IsActive:1}),r={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/musicagencymst/".concat(e.MusicAgencyCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:s};c.request(r).then((e=>{a(e)})).catch((e=>{n(e)}))})),d=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/autoshufflepromo/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))}));async function l(e){return n.Z.fetchData({url:"/autoshufflepromo/drop/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get"})}async function h(e){return n.Z.fetchData({url:"/autoshufflepromo/".concat(e),method:"get"})}async function u(e,t,a){return n.Z.fetchData({url:"/promomaster/asperdate/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&fromdate=").concat(t,"&todate=").concat(a),method:"get"})}async function m(){return n.Z.fetchData({url:"/promomaster/drop/",method:"get"})}},87350:(e,t,a)=>{a.d(t,{Bs:()=>v,C4:()=>J,CY:()=>X,D7:()=>q,DD:()=>B,EF:()=>ne,FN:()=>I,FZ:()=>L,Fb:()=>i,Gm:()=>p,Hg:()=>U,Kc:()=>x,Ko:()=>D,LI:()=>y,MC:()=>N,NP:()=>_,Nq:()=>m,OK:()=>F,QI:()=>E,SU:()=>Q,Tf:()=>P,Ux:()=>W,V9:()=>A,VG:()=>h,VT:()=>Y,Ww:()=>S,XC:()=>R,Xc:()=>s,_V:()=>Z,ae:()=>H,c0:()=>k,c1:()=>g,c_:()=>ee,cn:()=>z,db:()=>j,f7:()=>G,fL:()=>u,fi:()=>C,gK:()=>K,hE:()=>d,hG:()=>V,je:()=>l,n5:()=>O,nR:()=>te,nY:()=>T,nr:()=>w,pp:()=>ae,qg:()=>oe,sb:()=>M,sd:()=>f,t2:()=>$,w4:()=>b,xl:()=>r});var o=a(54048),n=a(46152);const c=a(74569);async function s(e,t){const a=t?"&search=".concat(t):"",o="/promomaster/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode).concat(a);return n.Z.fetchData({url:o,method:"get",data:e})}async function r(e,t){let a="/promomaster/filter/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode);return t.PromoTypeCode&&(a+="&PromoTypeCode=".concat(t.PromoTypeCode)),t.Caption&&(a+="&Caption=".concat(t.Caption)),t.Duration[0]&&(a+="&Duration1=".concat(t.Duration[0])),t.Duration[1]&&(a+="&Duration2=".concat(t.Duration[1])),t.VideoID&&(a+="&VideoID=".concat(t.VideoID)),n.Z.fetchData({url:a,method:"get",data:t})}async function i(e){return n.Z.fetchData({url:"/smartshufflesetting/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}async function d(e,t){return n.Z.fetchData({url:"/smartshufflesetting/".concat(t),method:"put",data:e})}async function l(e){return n.Z.fetchData({url:"/smartshufflesetting/",method:"post",data:e})}async function h(e){return n.Z.fetchData({url:"/songgenre/",method:"get",data:e})}async function u(e){return n.Z.fetchData({url:"/songcategory/",method:"get",data:e})}async function m(e){return n.Z.fetchData({url:"/songmaster/?&LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}async function C(e){return n.Z.fetchData({url:"/songmaster/".concat(e),method:"get"})}const g=(e,t)=>fetch(o.Z.apiPrefix+"/songgenre/".concat(e.SongGenreCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({SongGenreName:e.SongGenreName,IsActive:e.IsActive})}),p=(e,t)=>fetch(o.Z.apiPrefix+"/moviealbummaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({MovieAlbumName:e.MovieAlbumName,IsActive:e.IsActive})}),y=(e,t)=>fetch(o.Z.apiPrefix+"/moviealbummaster/".concat(e.MovieAlbumCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({MovieAlbumName:e.MovieAlbumName,IsActive:e.IsActive})}),f=(e,t)=>(console.log(e),fetch(o.Z.apiPrefix+"/songcategory/".concat(e.SongCategoryCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({SongCategoryName:e.SongCategoryName,IsActive:e.IsActive})})),x=(e,t)=>fetch(o.Z.apiPrefix+"/songgenre",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({SongGenreName:e.SongGenreName,IsActive:e.IsActive})}),D=(e,t)=>fetch(o.Z.apiPrefix+"/songcategory",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({SongCategoryName:e.SongCategoryName,IsActive:e.IsActive})}),A=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/promomaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),P=(e,t,a)=>new Promise(((n,s)=>{let r={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/promomaster/".concat(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(r).then((e=>{n(e)})).catch((e=>{s(e)}))}));async function S(e){return n.Z.fetchData({url:"/promotypemaster/drop/",method:"get",data:e})}async function Z(e){return n.Z.fetchData({url:"/songgenre/drop/",method:"get",data:e})}async function L(e){return n.Z.fetchData({url:"/tapetypemaster/drop/",method:"get",data:e})}async function j(e){return n.Z.fetchData({url:"/songtempo/drop/",method:"get",data:e})}async function T(e,t,a){const o="promoscheduling/USP_Sch_PromoScheduling_GetDetails/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=").concat(a);return n.Z.fetchData({url:o,method:"get"})}async function N(e,t,a){const o="ntcscheduling/USP_Sch_NTCScheduling_GetDetails/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=").concat(a);return n.Z.fetchData({url:o,method:"get"})}async function _(e,t,a){const o="songscheduling/USP_Sch_SongScheduling_GetDetails/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=").concat(a);return n.Z.fetchData({url:o,method:"get"})}async function v(e,t,a){const o="transmissionlog/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=").concat(a);return n.Z.fetchData({url:o,method:"get"})}async function M(e,t){const a="transmissionlog/Scheduling_FinalLog_ProgramChange?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t);return n.Z.fetchData({url:a,method:"get"})}async function b(e,t){const a="/transmissionlog/USP_Sch_Finalog_ExportCsv/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&Mode=S");return n.Z.fetchData({url:a,method:"get"})}async function B(e){const t="restore/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(e.TelecastDate,"&FormName=").concat(e.FormName);return n.Z.fetchData({url:t,method:"get"})}async function w(e,t,a){const o="songscheduling/GetSongschedulDetails/?SongCode=".concat(e,"&TelecastDate=").concat(t,"&InHour=").concat(a);return n.Z.fetchData({url:o,method:"get"})}async function I(e){const t="restore/audit_data/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(e.TelecastDate,"&FormName=").concat(e.FormName,"&D_date=").concat(e.D_date);return n.Z.fetchData({url:t,method:"post"})}async function z(e){const t="commercialscheduling/restoreauditcommercialscheduling/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&ScheduleDate=").concat(e.ScheduleDate,"&D_date=").concat(e.D_date);return n.Z.fetchData({url:t,method:"post"})}async function G(e,t){const a="commercialscheduling/getauditpromoscheduling/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&ScheduleDate=").concat(t);return n.Z.fetchData({url:a,method:"get"})}async function k(e,t){const a="globle/GetDailyFPCStatus?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&Screen=").concat(e.Screen,"&TelecastDate=").concat(t);return n.Z.fetchData({url:a,method:"get"})}async function F(e,t,a,o){const c="promoscheduling/USP_Sch_Get_All_Promo/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&PromoTypeCode=").concat(a,"&PromoName=").concat(o);return n.Z.fetchData({url:c,method:"get"})}async function O(e,t,a,o){const c="ntcmaster/USP_Sch_Get_All_NTC/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&NTCTypeCode=").concat(a,"&NTCName=").concat(o);return n.Z.fetchData({url:c,method:"get"})}async function q(e,t,a,o){const c="songscheduling/USP_Sch_Get_All_Song/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t,"&SongType=").concat(a,"&OrderBy=2&SearchText=").concat(o);return n.Z.fetchData({url:c,method:"get"})}async function E(e){return n.Z.fetchData({url:"/musicagencymst/drop/",method:"get",data:e})}async function R(e){return n.Z.fetchData({url:"/moviealbummaster/drop/",method:"get",data:e})}async function U(e){return n.Z.fetchData({url:"/transmissionlog/addaudit/",method:"post",data:e})}async function V(e){return n.Z.fetchData({url:"/transmissionlog/insertdata/",method:"post",data:e})}async function J(e){return n.Z.fetchData({url:"/transmissionlog/updatedata/",method:"put",data:e})}async function K(e,t){return n.Z.fetchData({url:"/transmissionlog/deletedata/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&TelecastDate=").concat(t),method:"delete"})}const H=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/promoscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),W=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/songscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),Y=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/ntcscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),Q=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/transmissionlog/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),X=(e,t)=>(console.log("url"),new Promise(((a,n)=>{let s={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/commercialscheduling/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))}))),$=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/songmaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),ee=(e,t,a)=>new Promise(((n,s)=>{let r={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/songmaster/".concat(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(r).then((e=>{n(e)})).catch((e=>{s(e)}))})),te=(e,t)=>new Promise(((a,n)=>{let s={method:"post",maxBodyLength:1/0,url:o.Z.apiPrefix+"/columnsetting/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};c.request(s).then((e=>{a(e)})).catch((e=>{n(e)}))})),ae=(e,t,a)=>new Promise(((n,s)=>{let r={method:"put",maxBodyLength:1/0,url:o.Z.apiPrefix+"/bookingdetails/bookingstatuschange/?BookingStatus=".concat(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:e};c.request(r).then((e=>{n(e)})).catch((e=>{s(e)}))}));async function oe(e){return n.Z.fetchData({url:"teammapping/",method:"post",data:e})}async function ne(e){return n.Z.fetchData({url:"geneventcontent/Contentadd/",method:"post",data:e})}},24725:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var o=a(45987),n=a(1413),c=a(2803),s=a(72791),r=a(60364),i=a(11308),d=a(36510),l=a(88406),h=a(58617),u=a(54748),m=a(25146),C=a(87350),g=a(31562),p=a(80184);const y=["children"],{Control:f}=l.c,x=e=>{let{innerProps:t,label:a,data:o,isSelected:c}=e;return(0,p.jsxs)("div",(0,n.Z)((0,n.Z)({className:"flex items-center justify-between p-2 ".concat(c?"bg-gray-100 dark:bg-gray-500":"hover:bg-gray-50 dark:hover:bg-gray-600")},t),{},{children:[(0,p.jsxs)("div",{className:"flex items-center",children:[(0,p.jsx)("img",{src:"data:image/png;base64,".concat(o.imgPath),style:{height:"20px",width:"20px",borderRadius:20}}),(0,p.jsx)("span",{className:"ml-2 rtl:mr-2",children:a})]}),c&&(0,p.jsx)(h.dZ6,{className:"text-emerald-500 text-xl"})]}))},D=e=>{let{children:t}=e,a=(0,o.Z)(e,y);const c=a.getValue()[0];return(0,p.jsxs)(f,(0,n.Z)((0,n.Z)({},a),{},{children:["\xa0\xa0",c&&(0,p.jsx)("img",{src:"data:image/png;base64,".concat(c.imgPath),style:{height:"20px",width:"20px",borderRadius:20}}),t]}))},A=()=>{const[e,t]=(0,s.useState)([]),[a,o]=(0,s.useState)([]),[l,y]=(0,s.useState)([]),[f,A]=(0,s.useState)({}),[P,S]=(0,s.useState)({}),[Z,L]=(0,s.useState)({}),[j,T]=(0,s.useState)([]),[N,_]=(0,s.useState)([]),[v,M]=(0,s.useState)(null),[b,B]=(0,s.useState)(null),w=(e,t)=>{c.Am.push((0,p.jsx)(c.P_,{title:t.charAt(0).toUpperCase()+t.slice(1),type:t,children:e}))},I=(0,r.useSelector)((e=>e.auth.session.LoginId)),[z,G]=(0,s.useState)([]);(0,s.useEffect)((()=>{k(),F(),O()}),[]);const k=async()=>{const e=await(0,i.bu)(I);console.log(e.data);const t=e.data.map((e=>({value:e.ChannelCode,label:e.LocationName+" "+e.ChannelName,ChannelCode:e.ChannelCode,LocationCode:e.LocationCode,ChannelName:e.ChannelName,ColorClass:"bg-rose-500",LocationName:e.LocationName,imgPath:e.Channel_Image})));G(t)},F=async()=>{const e=await(0,C.Ww)(I);console.log(e.data);const t=e.data.map((e=>({value:e.PromoTypeCode,label:e.PromoTypeName})));T(t)},O=async()=>{const e=await(0,g.OR)(I);console.log(e.data);const t=e.data.map((e=>({value:e.PromoCode,label:e.PromoCaption})));_(t)},{title:q,Moduletitle:E}=(0,r.useSelector)((e=>e.auth.user));console.log(E),console.log(q);return(0,p.jsxs)(c.Zb,{children:[(0,p.jsx)("h4",{children:q}),(0,p.jsxs)("div",{style:{height:"80vh"},children:[(0,p.jsxs)("div",{className:"grid grid-flow-col auto-cols-auto gap-2 mb-4 mt-2",children:[(0,p.jsxs)("div",{className:"col-span-2",children:[(0,p.jsx)("h6",{children:"Channel"}),(0,p.jsx)(c.Ph,{options:z,components:{Option:x,Control:D},value:z.filter((e=>e.value===f.value)),onChange:e=>A(e)})]}),"Promo Rotation"==q&&(0,p.jsxs)("div",{className:"col-span-2",children:[(0,p.jsx)("h6",{children:"Promo Type"}),(0,p.jsx)(c.Ph,{options:j,value:j.filter((e=>e.value===P.value)),onChange:e=>S(e)})]}),"Promo Rotation"==q&&(0,p.jsxs)("div",{className:"col-span-2",children:[(0,p.jsx)("h6",{children:"Promo "}),(0,p.jsx)(c.Ph,{options:N,value:N.filter((e=>e.value===Z.value)),onChange:e=>L(e)})]}),(0,p.jsxs)("div",{className:"col-span-1",children:[(0,p.jsx)("h6",{children:"From Date"}),(0,p.jsx)(c.Mt,{size:"sm",name:"StartDate",prefix:(0,p.jsx)(h.Gmo,{className:"text-xl"}),Value:(0,u.Gu)(v)?new Date(v):"",onChange:e=>{M((0,u.Tk)(e))}})]}),(0,p.jsxs)("div",{className:"col-span-1",children:[(0,p.jsx)("h6",{children:"To Date"}),(0,p.jsx)(c.Mt,{size:"sm",name:"EndDate",prefix:(0,p.jsx)(h.Gmo,{className:"text-xl"}),Value:(0,u.Gu)(b)?new Date(b):"",onChange:e=>{B((0,u.Tk)(e))}})]}),(0,p.jsx)(c.zx,{className:"mt-6",onClick:()=>(async()=>{console.log(f);let e="";try{switch(q){case"Minute to Minute":e=await(0,i.Yy)(f,v,b);break;case"Program Report":e=await(0,i.R7)(f,v,b);break;case"Promo Rotation":e=await(0,i.Z6)(f,v,b,P.value,Z.value)}if(e&&200===e.status){w("Data Found","success");const a=()=>e.data.map((e=>{const t=(0,n.Z)({},e);return Object.keys(t).forEach((e=>{"number"===typeof t[e]&&(t[e]=t[e].toString())})),t})),c=e.data.length>0?Object.keys(e.data[0]).map(((e,t)=>({header:e,name:e,code:e,width:"auto",ScreenType:"REPORT",Sequence:t,isvisible:!0}))):[];return y(c),t(a),void o(a)}}catch(a){switch(a.response.status){case 404:w("Data Not Found","danger");break;case 422:w("Kindly Enter All Parameters","danger");break;case 500:w("Server Error.","danger")}}})(),children:"Get Data"}),(0,p.jsx)(c.zx,{className:"mt-6",onClick:()=>{(0,m.J)(!1,!1,0,0,!0,a,"ProgramReports",l,!1)},children:"Export"})]}),(0,p.jsx)(d.Z,{data:e,setData:t,dataCopy:a,setDataCopy:o,visiablecolumns:l})]})]})}}}]);
//# sourceMappingURL=9643.eb3a52ed.chunk.js.map