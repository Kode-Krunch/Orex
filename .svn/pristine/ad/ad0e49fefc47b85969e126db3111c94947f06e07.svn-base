"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[5629],{90154:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var s=a(1413),o=a(2803),r=a(72791),i=a(67388),l=a(96361),c=a(46657),n=a(60364),d=a(4621),m=a(32640),u=a(80184);const p=()=>{const e=(0,n.useSelector)((e=>e.auth.session.token)),t=(0,r.useRef)(0);function a(e,t){o.Am.push((0,u.jsx)(o.P_,{closable:!0,type:t,duration:1e3,title:t.charAt(0).toUpperCase()+t.slice(1),children:e}))}const[p,h]=(0,r.useState)(""),[y,x]=(0,r.useState)(!1),[f,g]=(0,r.useState)(""),[F,N]=(0,r.useState)(!1),[V,v]=(0,r.useState)(),A=(0,r.useRef)(null),[b,j]=(0,r.useState)();(0,r.useEffect)((()=>{t.current=t.current+1,1==t.current&&(async e=>{const t=[...(await(0,i.apiGetvideoformatMaster)()).data].reverse().map(((e,t)=>(0,s.Z)((0,s.Z)({},e),{},{serialNumber:t+1})));j(t)})()}),[]);const w=t=>{console.log("VideoFormat",b);const s=[...b];let o=s[t];o.IsActive=1==o.IsActive?0:1,(0,i.UpdateVideoFormat)(o,e).then((e=>204==e.status?(console.log(e),a("Data Already Exists.","warning"),null):e.json())).then((e=>{e.serialNumber=o.serialNumber,e.IsActive=o.IsActive,e.VideoFormatTypeName="."+o.VideoFormatTypeName,s[t]=e,j(s),a("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},S=[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"VideoFormatTypeName",header:"VideoFormatTypeName",width:"20%"}];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.F,{ref:A}),(0,u.jsx)(d.Q,{group:"declarative",visible:F,onHide:()=>N(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{w(V)}}),(0,u.jsx)(o.Zb,{header:(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)("div",{children:(0,u.jsx)("span",{className:"flex items-center",children:(0,u.jsx)(l.Z,{ModuleText:"Programming",Component:"Video Format"})})}),(0,u.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}}),(0,u.jsx)("div",{})]}),headerExtra:(0,m.W)(f,g,x,y,(()=>{if(p){const t={VideoFormatTypeName:".".concat(p),IsActive:1};(0,i.AddVideoFormat)(t,e).then((e=>{204==e.status&&a("Data Already Exists.","warning"),200==e.status&&(t.serialNumber=b.length+1,j((e=>[...e,t])),a("Data Added Succesfully","success")),h(""),x(!1)})).catch((e=>{console.log(e)}))}else a("Kindly Enter Video Format Name","danger")}),p,h,"Video Format",b,S),bodyClass:"text-center",children:(0,u.jsx)(m.Z,{data:b,onRowEditComplete:t=>{let s=[...b],{newData:o,index:r}=t;console.log(o),s[r].VideoFormatTypeName=o.VideoFormatTypeName,s[r].IsActive=o.IsActive,o.VideoFormatTypeName&&(console.log("_VideoFormat",s),(0,i.UpdateVideoFormat)(o,e).then((e=>204==e.status?(console.log(e),a("Data Already Exists.","warning"),null):e.json())).then((e=>{console.log(e),s[r]=e,s[r].serialNumber=o.serialNumber,s[r].VideoFormatTypeName=o.VideoFormatTypeName,s[r].IsActive=o.IsActive,j(s),a("Data Updated Succesfully","success")})).catch((e=>{console.log(e)})))},globalFilter:f,dataKey:"VideoFormatCode",columns:S,setyup:v,scrollHeight:"70vh",setVisible:N})})]})}}}]);
//# sourceMappingURL=5629.97d17822.chunk.js.map