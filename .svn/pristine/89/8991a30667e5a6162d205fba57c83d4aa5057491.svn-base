(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[5759],{56093:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(1413),o=t(2803),l=t(72791),n=t(34786),r=t(96361),c=t(46657),i=t(60364),u=t(4621),p=t(32640),d=t(80184);const m=()=>{const e=(0,i.useSelector)((e=>e.auth.session.token)),s=(0,l.useRef)(0);function t(e,s){o.Am.push((0,d.jsx)(o.P_,{closable:!0,type:s,duration:1e3,title:s.charAt(0).toUpperCase()+s.slice(1),children:e}))}const[m,y]=(0,l.useState)(""),[h,S]=(0,l.useState)(!1),[f,g]=(0,l.useState)(""),[x,N]=(0,l.useState)(!1),[v,b]=(0,l.useState)(),A=(0,l.useRef)(null),[T,j]=(0,l.useState)();(0,l.useEffect)((()=>{s.current=s.current+1,1==s.current&&(async e=>{const s=[...(await(0,n.an)()).data].reverse().map(((e,s)=>(0,a.Z)((0,a.Z)({},e),{},{serialNumber:s+1})));j(s)})()}),[]);const w=s=>{console.log("SponsorType",T);const a=[...T];let o=a[s];o.IsActive=1==o.IsActive?0:1,(0,n.pk)(o,e).then((e=>204==e.status?(console.log(e),t("Data Already Exists.","warning"),null):(200==e.status&&t("Data Updated Succesfully","success"),e.json()))).then((e=>{e.serialNumber=o.serialNumber,e.IsActive=o.IsActive,e.SponsorTypeName=o.SponsorTypeName,a[s]=e,j(a),t("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},D=[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"SponsorTypeName",header:"SponsorTypeName",width:"20%"}];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.F,{ref:A}),(0,d.jsx)(u.Q,{group:"declarative",visible:x,onHide:()=>N(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{w(v)}}),(0,d.jsx)(o.Zb,{header:(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("div",{children:(0,d.jsx)("span",{className:"flex items-center",children:(0,d.jsx)(r.Z,{ModuleText:"Programming",Component:"SponsorType"})})}),(0,d.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}}),(0,d.jsx)("div",{})]}),headerExtra:(0,p.W)(f,g,S,h,(()=>{if(m){const s={SponsorTypeName:m,IsActive:1};(0,n.AQ)(s,e).then((e=>{204==e.status&&t("Data Already Exists.","warning"),200==e.status&&(s.serialNumber=T.length+1,j((e=>[...e,s])),t("Data Added Succesfully","success")),y(""),S(!1)})).catch((e=>{console.log(e)}))}else t("Kindly Enter SponsorType Name","danger")}),m,y,"Sponsor Type",T,D),bodyClass:"text-center",children:(0,d.jsx)(p.Z,{data:T,onRowEditComplete:s=>{let a=[...T],{newData:o,index:l}=s;console.log(o),a[l].SponsorTypeName=o.SponsorTypeName,a[l].IsActive=o.IsActive,o.SponsorTypeName&&(console.log("_SponsorType",a),(0,n.pk)(o,e).then((e=>204==e.status?(console.log(e),t("Data Already Exists.","warning"),null):(200==e.status&&t("Data Updated Succesfully","success"),e.json()))).then((e=>{console.log(e),console.log(o.serialNumber),a[l]=e,a[l].serialNumber=o.serialNumber,a[l].SponsorTypeName=o.SponsorTypeName,a[l].IsActive=o.IsActive,j(a),t("Data Updated Succesfully","success")})).catch((e=>{console.log(e)})))},globalFilter:f,dataKey:"SponsorTypeCode",columns:D,setyup:b,scrollHeight:"70vh",setVisible:N})})]})}},72950:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{}}]);
//# sourceMappingURL=5759.6d38c0f3.chunk.js.map