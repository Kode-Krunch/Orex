{"version":3,"file":"static/js/2687.16547ab8.chunk.js","mappings":"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","sources":["views/Billing/BillPrinting/components/SelectableTable.js","views/Billing/BillPrinting/pdfDefinations/constants.js","views/Billing/BillPrinting/pdfDefinations/helperFunctions.js","views/Billing/BillPrinting/pdfDefinations/pdfGenerator.js"],"sourcesContent":["import React from 'react';\r\nimport { useRef, useEffect, useMemo, useState } from 'react';\r\nimport {\r\n  flexRender,\r\n  getCoreRowModel,\r\n  getFilteredRowModel,\r\n  getPaginationRowModel,\r\n  useReactTable,\r\n  getFacetedRowModel,\r\n  getFacetedUniqueValues,\r\n  getFacetedMinMaxValues,\r\n  getSortedRowModel,\r\n} from '@tanstack/react-table';\r\nimport Table from 'components/ui/Table';\r\nimport Checkbox from 'components/ui/Checkbox';\r\nimport { rankItem } from '@tanstack/match-sorter-utils';\r\nimport { Button, Dialog, Pagination, Select, Tooltip } from 'components/ui';\r\nimport { BsInfoCircle } from 'react-icons/bs';\r\nimport DisplayTable from 'views/Controls/DisplayTable';\r\nimport { FaEye } from 'react-icons/fa6';\r\nimport {\r\n  columnsToINRFormat,\r\n  getDateFromDateTime,\r\n  getFieldTotal,\r\n  numberToINRFormat,\r\n  openNotification,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport { generateBill } from '../pdfDefinations/pdfGenerator';\r\nimport '../../../Controls/Displaytable.css';\r\n\r\n/* CONSTANTS */\r\nconst { Tr, Th, Td, THead, TBody, Sorter } = Table;\r\nconst pageSizeOption = [\r\n  { value: 10, label: '10 / page' },\r\n  { value: 20, label: '20 / page' },\r\n  { value: 30, label: '30 / page' },\r\n  { value: 40, label: '40 / page' },\r\n  { value: 50, label: '50 / page' },\r\n];\r\n\r\n/* COMPONENTS */\r\nfunction IndeterminateCheckbox({ indeterminate, onChange, ...rest }) {\r\n  const ref = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (typeof indeterminate === 'boolean' && ref.current) {\r\n      ref.current.indeterminate = !rest.checked && indeterminate;\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [ref, indeterminate]);\r\n\r\n  return <Checkbox ref={ref} onChange={(_, e) => onChange(e)} {...rest} />;\r\n}\r\n\r\nfunction SelectableTable({\r\n  tableColumns,\r\n  data,\r\n  globalFilter,\r\n  setGlobalFilter,\r\n  setSelectedRows,\r\n  footerAction = <></>,\r\n  type,\r\n  setShowLoader,\r\n  additionalData,\r\n  currencySymbol,\r\n}) {\r\n  /* STATES */\r\n  // Main Table States\r\n  const [columnFilters, setColumnFilters] = useState([]);\r\n  const [rowSelection, setRowSelection] = useState([]);\r\n  // Spots Table States\r\n  const [originalSpots, setOriginalSpots] = useState(null);\r\n  const [formattedSpots, setFormattedSpots] = useState(null);\r\n  const [showSpotsDialog, setShowSpotsDialog] = useState(false);\r\n  const [spotsGlobalFilter, setSpotsGlobalFilter] = useState('');\r\n\r\n  /* VARIABLES */\r\n  // Main Table Columns\r\n  const columns = useMemo(() => {\r\n    return type === 'home' || type === 'dashboard'\r\n      ? [\r\n          {\r\n            id: 'select',\r\n            header: ({ table }) => (\r\n              <IndeterminateCheckbox\r\n                {...{\r\n                  checked: table.getIsAllRowsSelected(),\r\n                  indeterminate: table.getIsSomeRowsSelected(),\r\n                  onChange: table.getToggleAllRowsSelectedHandler(),\r\n                }}\r\n              />\r\n            ),\r\n            cell: ({ row }) => (\r\n              <div className=\"px-1\">\r\n                <IndeterminateCheckbox\r\n                  {...{\r\n                    checked: row.getIsSelected(),\r\n                    disabled: !row.getCanSelect(),\r\n                    indeterminate: row.getIsSomeSelected(),\r\n                    onChange: row.getToggleSelectedHandler(),\r\n                  }}\r\n                />\r\n              </div>\r\n            ),\r\n          },\r\n          ...tableColumns,\r\n        ]\r\n      : tableColumns;\r\n  }, [type, tableColumns]);\r\n\r\n  if (type === 'dashboard' || type === 'eInvoice') {\r\n    columns.push({\r\n      id: 'action',\r\n      header: 'Action',\r\n      cell: ({ row }) => (\r\n        <div className=\"px-1\">\r\n          <Tooltip title=\"View Spots\">\r\n            <Button\r\n              shape=\"circle\"\r\n              variant=\"plain\"\r\n              size=\"xs\"\r\n              icon={<BsInfoCircle />}\r\n              onClick={() => handleShowSpots(row)}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"View Bill\">\r\n            <Button\r\n              shape=\"circle\"\r\n              variant=\"plain\"\r\n              size=\"xs\"\r\n              icon={<FaEye />}\r\n              onClick={() => {\r\n                handleViewBill(row.original);\r\n              }}\r\n            />\r\n          </Tooltip>\r\n        </div>\r\n      ),\r\n    });\r\n  }\r\n\r\n  // Spots Table Columns\r\n  const spotsColumns = useMemo(() => {\r\n    return [\r\n      { header: 'Telecast Date', accessorKey: 'TelecastDate' },\r\n      { header: 'Telecast Time', accessorKey: 'TelecastTime' },\r\n      { header: 'Caption', accessorKey: 'CommercialCaption' },\r\n      { header: 'Duration', accessorKey: 'DurInSec' },\r\n      { header: 'Rate', accessorKey: 'BookingSpotRate' },\r\n      { header: 'Amount', accessorKey: 'BillSpotAmount' },\r\n      { header: 'Program', accessorKey: 'ProgramName' },\r\n    ];\r\n  }, []);\r\n\r\n  const table = useReactTable({\r\n    data,\r\n    columns,\r\n    filterFns: {\r\n      fuzzy: fuzzyFilter,\r\n    },\r\n    state: {\r\n      columnFilters,\r\n      globalFilter,\r\n      rowSelection,\r\n    },\r\n    enableRowSelection: true,\r\n    onRowSelectionChange: handleRowSelection,\r\n    onColumnFiltersChange: setColumnFilters,\r\n    onGlobalFilterChange: setGlobalFilter,\r\n    globalFilterFn: fuzzyFilter,\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getFilteredRowModel: getFilteredRowModel(),\r\n    getSortedRowModel: getSortedRowModel(),\r\n    getPaginationRowModel: getPaginationRowModel(),\r\n    getFacetedRowModel: getFacetedRowModel(),\r\n    getFacetedUniqueValues: getFacetedUniqueValues(),\r\n    getFacetedMinMaxValues: getFacetedMinMaxValues(),\r\n    debugHeaders: true,\r\n    debugColumns: false,\r\n  });\r\n\r\n  /* EVENT HANDLERS */\r\n  const handlePageSizeChange = (value = 0) => {\r\n    try {\r\n      table.setPageSize(Number(value));\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  function handleRowSelection(updater) {\r\n    try {\r\n      const newRowSelection =\r\n        updater instanceof Function ? updater(rowSelection) : updater;\r\n      setRowSelection(newRowSelection);\r\n\r\n      const selectedRowIds = Object.keys(newRowSelection);\r\n      const newSelectedRows = selectedRowIds.map((id) => {\r\n        const original = table.getRowModel().rowsById[id]?.original || {};\r\n        return { ...original, id };\r\n      });\r\n      setSelectedRows([...newSelectedRows]);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  const handleShowSpots = (row) => {\r\n    try {\r\n      setShowSpotsDialog(true);\r\n      const spots = additionalData.bills.tmpbilldatasubreport.filter(\r\n        (curSubReport) => curSubReport.BillNumber === row.original.BillNumber,\r\n      );\r\n      setOriginalSpots(spots);\r\n      setFormattedSpots({\r\n        invoiceNumber: row.original.INVOICENO,\r\n        spots: columnsToINRFormat(spots, ['BookingSpotRate', 'BillSpotAmount']),\r\n      });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const onShowSpotsDialogClose = () => {\r\n    try {\r\n      setShowSpotsDialog(false);\r\n      setOriginalSpots(null);\r\n      setFormattedSpots(null);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleViewBill = async (invoice) => {\r\n    try {\r\n      if (!invoice) {\r\n        openNotification(\r\n          'danger',\r\n          'Something went wrong. Cannot find invoice.',\r\n        );\r\n        return;\r\n      }\r\n      if (\r\n        !('bills' in additionalData && 'tmpbilltaxdata' in additionalData.bills)\r\n      ) {\r\n        openNotification(\r\n          'danger',\r\n          'Something went wrong. Cannot find Tax details for invoice.',\r\n        );\r\n      }\r\n\r\n      setShowLoader(true);\r\n      // TODO: get client name\r\n      const client = 'test';\r\n      // Generate PDFs using PDF definitions of current client\r\n      if (client === 'test') {\r\n        const originalBill = additionalData.bills.tmpbilldata.filter(\r\n          (bill) => bill.INVOICENO === invoice.INVOICENO,\r\n        )[0];\r\n        const pdf = await generateBill(\r\n          originalBill,\r\n          additionalData.bills.tmpbilltaxdata,\r\n          'View Bill',\r\n        );\r\n        const pdfBlob = await new Promise((resolve) => {\r\n          pdf.getBlob((blob) => {\r\n            resolve(blob);\r\n          });\r\n        });\r\n        const url = URL.createObjectURL(pdfBlob);\r\n        window.open(url, '_blank');\r\n      }\r\n      setShowLoader(false);\r\n    } catch (error) {\r\n      openNotification(\r\n        'danger',\r\n        'Something went wrong. Unable to generate invoice.',\r\n      );\r\n      setShowLoader(false);\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  /* HELPER FUNCTIONS */\r\n  function fuzzyFilter(row, columnId, value, addMeta) {\r\n    try {\r\n      const itemRank = rankItem(row.getValue(columnId), value);\r\n      addMeta({\r\n        itemRank,\r\n      });\r\n      return itemRank.passed;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"root-container\">\r\n      <Table className=\"table\">\r\n        <THead>\r\n          {table.getHeaderGroups().map((headerGroup) => (\r\n            <Tr key={headerGroup.id} className=\"tr3\">\r\n              {headerGroup.headers.map((header) => {\r\n                return (\r\n                  <>\r\n                    <Th\r\n                      key={header.id}\r\n                      colSpan={header.colSpan}\r\n                      style={{\r\n                        width:\r\n                          header.id === 'select'\r\n                            ? '7%'\r\n                            : header.id === 'INVOICENO'\r\n                            ? '15%'\r\n                            : header.id === 'ClientName' ||\r\n                              header.id === 'AgencyName'\r\n                            ? '20%'\r\n                            : header.id === 'InvoiceDate'\r\n                            ? '15%'\r\n                            : header.id === 'action' ||\r\n                              header.id === 'PayableAmount'\r\n                            ? '10%'\r\n                            : 'auto',\r\n                      }}\r\n                    >\r\n                      {header.isPlaceholder ? null : (\r\n                        <div\r\n                          {...{\r\n                            className: header.column.getCanSort()\r\n                              ? 'cursor-pointer select-none'\r\n                              : '',\r\n                            onClick: header.column.getToggleSortingHandler(),\r\n                          }}\r\n                        >\r\n                          {flexRender(\r\n                            header.column.columnDef.header,\r\n                            header.getContext(),\r\n                          )}\r\n                          {header.column.id !== 'select' && (\r\n                            <Sorter sort={header.column.getIsSorted()} />\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </Th>\r\n                  </>\r\n                );\r\n              })}\r\n            </Tr>\r\n          ))}\r\n        </THead>\r\n        <TBody className=\"tbody\">\r\n          {table.getRowModel().rows.map((row) => {\r\n            return (\r\n              <Tr key={row.id} className=\"tr\">\r\n                {row.getVisibleCells().map((cell) => {\r\n                  return (\r\n                    <>\r\n                      <Td\r\n                        key={cell.id}\r\n                        className=\"td text-xs\"\r\n                        style={{\r\n                          width:\r\n                            cell.column.id === 'select'\r\n                              ? '7%'\r\n                              : cell.column.id === 'INVOICENO'\r\n                              ? '15%'\r\n                              : cell.column.id === 'ClientName' ||\r\n                                cell.column.id === 'AgencyName'\r\n                              ? '20%'\r\n                              : cell.column.id === 'InvoiceDate'\r\n                              ? '15%'\r\n                              : cell.column.id === 'action' ||\r\n                                cell.column.id === 'PayableAmount'\r\n                              ? '10%'\r\n                              : 'auto',\r\n                        }}\r\n                      >\r\n                        {flexRender(\r\n                          cell.column.columnDef.cell,\r\n                          cell.getContext(),\r\n                        )}\r\n                      </Td>\r\n                    </>\r\n                  );\r\n                })}\r\n              </Tr>\r\n            );\r\n          })}\r\n        </TBody>\r\n      </Table>\r\n      <div className=\"flex items-center justify-between mt-4\">\r\n        <Pagination\r\n          pageSize={table.getState().pagination.pageSize}\r\n          currentPage={table.getState().pagination.pageIndex + 1}\r\n          total={data.length}\r\n          onChange={(page) => {\r\n            table.setPageIndex(page - 1);\r\n          }}\r\n        />\r\n        <div className=\"flex gap-2\">\r\n          <Select\r\n            size=\"sm\"\r\n            isSearchable={false}\r\n            style={{ width: 130 }}\r\n            value={pageSizeOption.filter(\r\n              (option) => option.value === table.getState().pagination.pageSize,\r\n            )}\r\n            options={pageSizeOption}\r\n            onChange={(option) => handlePageSizeChange(option?.value)}\r\n          />\r\n          {footerAction}\r\n        </div>\r\n      </div>\r\n      {originalSpots && formattedSpots && (\r\n        <Dialog\r\n          isOpen={showSpotsDialog}\r\n          onClose={onShowSpotsDialogClose}\r\n          onRequestClose={onShowSpotsDialogClose}\r\n          width={'90vw'}\r\n          height={'80vh'}\r\n          contentClassName=\"pt-3 flex flex-col\"\r\n        >\r\n          <h5 className=\"border-b border-gray-700 pb-2\">Billed Spots Info </h5>\r\n          <div className=\"flex gap-3 py-2 border-b border-gray-700\">\r\n            <div className=\"flex flex-col border-r border-r-gray-700 pr-3\">\r\n              <span className=\"font-semibold text-teal-500 text-base\">\r\n                {originalSpots.length}\r\n              </span>\r\n              <span>Total Spots</span>\r\n            </div>\r\n            <div className=\"flex flex-col border-r border-r-gray-700 pr-3\">\r\n              <span className=\"font-semibold text-teal-500 text-base\">\r\n                {getFieldTotal(originalSpots, 'DurInSec')}\r\n              </span>\r\n              <span>Total Duration</span>\r\n            </div>\r\n            <div className=\"flex flex-col border-r border-r-gray-700 pr-3\">\r\n              <span className=\"font-semibold text-teal-500 text-base\">\r\n                {currencySymbol}{' '}\r\n                {numberToINRFormat(\r\n                  getFieldTotal(originalSpots, 'BillSpotAmount'),\r\n                )}\r\n              </span>\r\n              <span>Total Amount</span>\r\n            </div>\r\n          </div>\r\n          {formattedSpots.spots.length > 0 ? (\r\n            <div className=\"grow mt-3\">\r\n              <DisplayTable\r\n                data={formattedSpots.spots.map((spot) => {\r\n                  return {\r\n                    ...spot,\r\n                    TelecastDate: getDateFromDateTime(spot.TelecastDate),\r\n                    BookingSpotRate: `${currencySymbol} ${spot.BookingSpotRate}`,\r\n                    BillSpotAmount: `${currencySymbol} ${spot.BillSpotAmount}`,\r\n                  };\r\n                })}\r\n                columns={spotsColumns}\r\n                globalFilter={spotsGlobalFilter}\r\n                setGlobalFilter={setSpotsGlobalFilter}\r\n                ExportName={`Bill Spots`}\r\n              />\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-center\">No Spots Found</p>\r\n          )}\r\n        </Dialog>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SelectableTable;\r\n","// Page properties\r\nconst PAGE_SIZE = 'A4';\r\nconst PAGE_WIDTH = 595.28; // A4 size width in points\r\nconst PAGE_MARGINS = 10;\r\n// Content properties\r\nconst EMPTY_LINE = { text: '\\n', style: { lineHeight: 0.3 } };\r\nconst QR_CODE_SIZE = 216;\r\nconst STYLES = {\r\n  // Text Styles\r\n  header: { fontSize: 12, bold: true },\r\n  primaryText: { fontSize: 10 },\r\n  primaryTextBold: { fontSize: 10, bold: true },\r\n  secondaryText: { fontSize: 8 },\r\n  secondaryTextBold: { fontSize: 8, bold: true },\r\n  // Row Styles\r\n  row1: { margin: [0, 5, 0, 0], fontSize: 10 },\r\n  row2: { margin: [0, 5, 0, 0], fontSize: 10 },\r\n  row3: { margin: [0, 5, 0, 0], fontSize: 10 },\r\n  // Table Styles\r\n  tableKey: { fontSize: 9, bold: true },\r\n  telecastTableKey: { fontSize: 8, bold: true },\r\n  noTopBottomBorder: { border: '1px solid red' },\r\n  tableValue: { fontSize: 9 },\r\n  telecastTableCell: { fontSize: 8 },\r\n  tableKeyLarge: { fontSize: 14, bold: true },\r\n};\r\n\r\nexport {\r\n  PAGE_SIZE,\r\n  PAGE_WIDTH,\r\n  PAGE_MARGINS,\r\n  EMPTY_LINE,\r\n  QR_CODE_SIZE,\r\n  STYLES,\r\n};\r\n","import {\r\n  FORMATDATE_FOR_EVERY,\r\n  getDateFromDateTime,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\n\r\nconst getTaxPercentage = (taxes, invoice, taxName) => {\r\n  try {\r\n    return taxes.filter(\r\n      (tax) => tax.TaxName === taxName && tax.BillNumber === invoice.BillNumber,\r\n    )[0];\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getTelecastDate = (fromDate, uptoDate) => {\r\n  try {\r\n    return `${FORMATDATE_FOR_EVERY(\r\n      fromDate,\r\n    )}     to    ${FORMATDATE_FOR_EVERY(uptoDate)}`;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { getTaxPercentage, getTelecastDate };\r\n","import {\r\n  calculatePercentageValue,\r\n  FORMATDATE_FOR_EVERY,\r\n  formatDateToDDMMMYYYY,\r\n  getDateFromDateTime,\r\n  getFieldTotal,\r\n  getTableWithTotal,\r\n  numberToINRFormat,\r\n  numberToWordsINRFormat,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport pdfMake from 'pdfmake/build/pdfmake';\r\nimport * as pdfFonts from 'pdfmake/build/vfs_fonts';\r\nimport { getTaxPercentage, getTelecastDate } from './helperFunctions';\r\nimport { CLIENT } from 'views/Controls/clientListEnum';\r\nimport { kpg } from './jso';\r\nimport {\r\n  EMPTY_LINE,\r\n  PAGE_MARGINS,\r\n  PAGE_SIZE,\r\n  PAGE_WIDTH,\r\n  QR_CODE_SIZE,\r\n  STYLES,\r\n} from './constants';\r\npdfMake.vfs = pdfFonts.default.vfs;\r\n\r\n/* HELPER DEFINITIONS */\r\nconst getHeaderDefinition = (invoice, conditonCheckforChannel) => {\r\n  try {\r\n    return {\r\n      columns: [\r\n        {\r\n          width: (PAGE_WIDTH * 15) / 100,\r\n          text: '',\r\n        },\r\n        {\r\n          width: '*',\r\n          alignment: 'center',\r\n          margin: [0, 10, 0, 0],\r\n          text: [\r\n            {\r\n              text: `${conditonCheckforChannel\r\n                ? invoice.ChannelName\r\n                : invoice.ParentCompany\r\n                }\\n`,\r\n              style: 'tableKeyLarge',\r\n            },\r\n            { ...EMPTY_LINE },\r\n            {\r\n              text: `${invoice.ParentCorpAddress1 + '-400 053'}\\n`,\r\n              style: 'secondaryTextBold',\r\n            },\r\n            {\r\n              text: conditonCheckforChannel\r\n                ? '806, Aston, Sundervan Complex, Lokhandwala Road, Shastri Nagar, Andheri(West), Mumbai - 400 053\\n'\r\n                : '',\r\n              style: 'secondaryTextBold',\r\n            },\r\n            { ...EMPTY_LINE },\r\n            { ...EMPTY_LINE },\r\n            {\r\n              text: conditonCheckforChannel\r\n                ? `CIN No : U92412MH2011PTC224530`\r\n                : '',\r\n              style: 'secondaryTextBold',\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          width: (PAGE_WIDTH * 18) / 100,\r\n          height: (PAGE_WIDTH * 8) / 100,\r\n          image: invoice.Channel_Image,\r\n          alignment: 'center',\r\n          margin: [0, 10, 5, 0],\r\n        },\r\n      ],\r\n    };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getAddressDefinition = (address) => {\r\n  try {\r\n    const addressArr = address.split(',').map((part) => part.trim());\r\n    const addressDefinition = [];\r\n    for (let i = 0; i < addressArr.length; i += 3) {\r\n      const addressLine = addressArr.slice(i, i + 3).join(', ') + '\\n';\r\n      addressDefinition.push({ text: addressLine, style: 'secondaryTextBold' });\r\n    }\r\n    return addressDefinition;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getTaxesDefinition = (\r\n  cgst,\r\n  sgst,\r\n  igst,\r\n  cgstAmount,\r\n  sgstAmount,\r\n  igstAmount,\r\n) => {\r\n  try {\r\n    let taxesDefinition = [];\r\n    if (cgst) {\r\n      taxesDefinition.push([\r\n        {\r\n          text: `${cgst.TaxPercent}%`,\r\n          style: 'tableKey',\r\n          borderColor: ['white', 'white', 'white', 'white'],\r\n        },\r\n        {\r\n          text: 'Add:CGST',\r\n          style: 'tableKey',\r\n          borderColor: ['white', 'white', 'white', 'white'],\r\n        },\r\n        {\r\n          text: numberToINRFormat(cgstAmount),\r\n          style: 'tableKey',\r\n          alignment: 'right',\r\n          borderColor: ['white', 'white', 'white', 'white'],\r\n        },\r\n      ]);\r\n    }\r\n    if (sgst) {\r\n      taxesDefinition.push([\r\n        {\r\n          text: `${sgst.TaxPercent}%`,\r\n          style: 'tableKey',\r\n          borderColor: ['white', 'white', 'white', 'white'],\r\n        },\r\n        {\r\n          text: 'Add:SGST',\r\n          style: 'tableKey',\r\n          borderColor: ['white', 'white', 'white', 'white'],\r\n        },\r\n        {\r\n          text: numberToINRFormat(sgstAmount),\r\n          style: 'tableKey',\r\n          alignment: 'right',\r\n          borderColor: ['white', 'white', 'white', 'white'],\r\n        },\r\n      ]);\r\n    }\r\n    if (igst) {\r\n      taxesDefinition.push([\r\n        {\r\n          text: `${igst.TaxPercent}%`,\r\n          style: 'tableKey',\r\n          borderColor: ['white', 'white', 'white', 'white'],\r\n        },\r\n        { text: 'Add:IGST', style: 'tableKey' },\r\n        {\r\n          text: numberToINRFormat(igstAmount),\r\n          style: 'tableKey',\r\n          alignment: 'right',\r\n          borderColor: ['white', 'white', 'white', 'white'],\r\n        },\r\n      ]);\r\n    }\r\n    return taxesDefinition;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getBillDefinition = (invoice, taxes, distinctTelecastReport, channel) => {\r\n  try {\r\n    /* DO ALL PRE-PROCESSING HERE */\r\n    // Calculate all amounts\r\n    const grossAmount = invoice.GrossAmount;\r\n    const agencyShare = invoice.AgencyShare;\r\n    const netAmount = grossAmount - agencyShare;\r\n    const cgst = getTaxPercentage(taxes, invoice, 'CGST');\r\n    const sgst = getTaxPercentage(taxes, invoice, 'SGST');\r\n    const igst = getTaxPercentage(taxes, invoice, 'IGST');\r\n    let cgstAmount,\r\n      sgstAmount,\r\n      igstAmount,\r\n      totalAmountIncTaxes = netAmount;\r\n    if (cgst) {\r\n      cgstAmount = calculatePercentageValue(cgst.TaxPercent, netAmount);\r\n      totalAmountIncTaxes = totalAmountIncTaxes + cgstAmount;\r\n    }\r\n    if (sgst) {\r\n      sgstAmount = calculatePercentageValue(sgst.TaxPercent, netAmount);\r\n      totalAmountIncTaxes = totalAmountIncTaxes + sgstAmount;\r\n    }\r\n    if (igst) {\r\n      igstAmount = calculatePercentageValue(igst.TaxPercent, netAmount);\r\n      totalAmountIncTaxes = totalAmountIncTaxes + igstAmount;\r\n    }\r\n    totalAmountIncTaxes = Math.round(totalAmountIncTaxes);\r\n    const conditonCheckforChannel =\r\n      channel.label === CLIENT.FOOD_INDIA || channel.label === CLIENT.FOOD_USA;\r\n    const tableBody = conditonCheckforChannel\r\n      ? [\r\n        [\r\n          { text: 'Agency Name :', style: 'tableKey' },\r\n          {\r\n            text: `${invoice.AgencyName} - ${invoice.agencyAddress1}`,\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n        [\r\n          { text: 'GST Number :', style: 'tableKey' },\r\n          { text: invoice.AgencyGSTN_ID, style: 'tableValue' },\r\n        ],\r\n        [\r\n          { text: 'State & State Code :', style: 'tableKey' },\r\n          {\r\n            text: `${invoice.AgencyStateName} - ${invoice.AgencyStateTinNo}`,\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n        [\r\n          { text: 'Advertiser :', style: 'tableKey' },\r\n          {\r\n            text: `${invoice.ClientName}  \\n\\n${invoice.ClientAddress} - ${invoice.ChannelStateName}`,\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n        [\r\n          { text: 'Brand Name :', style: 'tableKey' },\r\n          { text: invoice.BrandName, style: 'tableValue' },\r\n        ],\r\n        [\r\n          { text: 'Product Name :', style: 'tableKey' },\r\n          { text: invoice.ProductName, style: 'tableValue' },\r\n        ],\r\n        [\r\n          { text: '', style: 'tableKey' },\r\n          { text: '', style: 'tableValue' },\r\n        ],\r\n        [\r\n          { text: '', style: 'tableKey' },\r\n          { text: '', style: 'tableValue' },\r\n        ],\r\n      ]\r\n      : [\r\n        [\r\n          { text: 'State of Service Provider :', style: 'tableKey' },\r\n          { text: invoice.ChannelStateName, style: 'tableValue' },\r\n        ],\r\n        [\r\n          { text: 'State Code of Service Provider:', style: 'tableKey' },\r\n          { text: invoice.ChannelStateTinNo, style: 'tableValue' },\r\n        ],\r\n        [\r\n          { text: 'GSTIN of Service Provider :', style: 'tableKey' },\r\n          { text: invoice.ChannelGSTN_ID, style: 'tableValue' },\r\n        ],\r\n        [\r\n          { text: 'PAN of Service Provider :', style: 'tableKey' },\r\n          { text: '', style: 'tableValue' },\r\n        ],\r\n        [\r\n          { text: 'Address of Service Provider :', style: 'tableKey' },\r\n          { text: invoice.ParentRegdAddress1, style: 'tableValue' },\r\n        ],\r\n      ];\r\n\r\n    const tableBodyRight = conditonCheckforChannel\r\n      ? [\r\n        [\r\n          { text: 'Invoice Number :', style: 'tableKey' },\r\n          { text: invoice.INVOICENO, style: 'tableValue' },\r\n        ],\r\n        [\r\n          { text: 'Invoice Date :', style: 'tableKey' },\r\n          {\r\n            text: FORMATDATE_FOR_EVERY(invoice.InvoiceDate),\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n        [\r\n          { text: 'Channel :', style: 'tableKey' },\r\n          {\r\n            text: channel.ChannelName,\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n        [\r\n          { text: 'Nature of Business :', style: 'tableKey' },\r\n          {\r\n            text: `${'Broadcasting Services'}  \\n\\n${''}`,\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n        [\r\n          { text: 'Ro Ref Number :', style: 'tableKey' },\r\n          {\r\n            text: invoice.ReferenceNumber,\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n        [\r\n          { text: 'Sales Rep :', style: 'tableKey' },\r\n          {\r\n            text: `${invoice.PersonnelName}  \\n\\n${''}`,\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n        [\r\n          { text: 'Deal Ref No :', style: 'tableKey' },\r\n          {\r\n            text: invoice.BookingReferenceNumber,\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n        [\r\n          { text: 'Billing Period :', style: 'tableKey' },\r\n          {\r\n            text: getTelecastDate(invoice.FromDate, invoice.UptoDate),\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n      ]\r\n      : [\r\n        [\r\n          { text: 'Invoice Number :', style: 'tableKey' },\r\n          { text: invoice.INVOICENO, style: 'tableValue' },\r\n        ],\r\n        [\r\n          { text: 'Invoice Date :', style: 'tableKey' },\r\n          {\r\n            text: getDateFromDateTime(invoice.InvoiceDate),\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n        [\r\n          { text: 'Telecast Period :', style: 'tableKey' },\r\n          {\r\n            text: getTelecastDate(invoice.FromDate, invoice.UptoDate),\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n        [\r\n          { text: 'RO No. & Date :', style: 'tableKey' },\r\n          {\r\n            text: `${invoice.BookingCode} & ${formatDateToDDMMMYYYY(\r\n              invoice.BookingDate,\r\n            )}`,\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n        [\r\n          { text: 'Client RO Ref No. :', style: 'tableKey' },\r\n          {\r\n            text: invoice.BookingReferenceNumber,\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n        [\r\n          { text: 'Client', style: 'tableKey' },\r\n          { text: invoice.ClientName, style: 'tableValue' },\r\n        ],\r\n        [\r\n          { text: 'Product', style: 'tableKey' },\r\n          {\r\n            text: invoice.BrandName,\r\n            style: 'tableValue',\r\n          },\r\n        ],\r\n      ];\r\n\r\n    const instructions = conditonCheckforChannel\r\n      ? [\r\n        {\r\n          text: 'Instructions :',\r\n          style: 'secondaryTextBold',\r\n        },\r\n        { ...EMPTY_LINE },\r\n        { text: '\\n', style: { lineHeight: 0.3 } },\r\n        {\r\n          columns: [\r\n            {\r\n              width: 'auto',\r\n              text: '1 We warrant that all broadcast information shown on this invoice was taken from program logs.',\r\n              style: 'secondaryText',\r\n              margin: [0, 0, 10, 0],\r\n            },\r\n          ],\r\n        },\r\n        { ...EMPTY_LINE },\r\n        {\r\n          text: `2 For INR Invoices, please make payment by crossed cheque / demand draft favouring ${invoice.ParentCompany}.`,\r\n          style: 'secondaryText',\r\n        },\r\n        { ...EMPTY_LINE },\r\n        {\r\n          text: '3 Please mention invoice number(s) on payment advice.',\r\n          style: 'secondaryText',\r\n        },\r\n        { ...EMPTY_LINE },\r\n        {\r\n          text: '4 PAN No : AACCT5209P ',\r\n          style: 'secondaryTextBold',\r\n        },\r\n        { ...EMPTY_LINE },\r\n        {\r\n          text: '5 GSTIN : 27AACCT5209P1ZX ',\r\n          style: 'secondaryTextBold',\r\n        },\r\n        { ...EMPTY_LINE },\r\n        {\r\n          text: '6 SAC Code : 998364',\r\n          style: 'secondaryTextBold',\r\n        },\r\n        { ...EMPTY_LINE },\r\n        {\r\n          text: '7 Queries to be addressed within 15 days from invoice date. No queries will be entertained there after.',\r\n          style: 'secondaryText',\r\n        },\r\n        { ...EMPTY_LINE },\r\n        {\r\n          text: '8 Overdue interest will be charged @ 18% p.a. for the period of delay.',\r\n          style: 'secondaryText',\r\n        },\r\n        { ...EMPTY_LINE },\r\n        {\r\n          text: '9 All disputes subject to MUMBAI jurisdiction.',\r\n          style: 'secondaryText',\r\n        },\r\n        { ...EMPTY_LINE },\r\n        {\r\n          text: '10 Payment to be made as per IBF norms. ',\r\n          style: 'secondaryText',\r\n        },\r\n        { ...EMPTY_LINE },\r\n        {\r\n          text: '11 For any queries please reach us on +91 993000 12 16',\r\n          style: 'secondaryText',\r\n        },\r\n\r\n        {\r\n          columnGap: 2,\r\n          columns: [\r\n            {\r\n              width: '60%',\r\n              margin: [0, 10, 0, 0],\r\n              stack: [\r\n                {\r\n                  text: 'Note : This is a computer generated invoice and does not require a signature.',\r\n                  style: 'secondaryText',\r\n                },\r\n                { ...EMPTY_LINE },\r\n                {\r\n                  text: 'Is RCM Applicable : NO',\r\n                  style: 'secondaryText',\r\n                },\r\n              ],\r\n            },\r\n            {\r\n              width: '40%',\r\n              margin: [0, 10, 0, 0],\r\n              stack: [\r\n                {\r\n                  text: `For ${invoice.ParentCompany}`,\r\n                  style: 'secondaryText',\r\n                },\r\n                {\r\n                  width: (PAGE_WIDTH * 20) / 100,\r\n                  height: (PAGE_WIDTH * 8) / 100,\r\n                  image: kpg,\r\n                  alignment: 'center',\r\n                  margin: [0, 10, 0, 10],\r\n                },\r\n\r\n                {\r\n                  text: 'Authorised Signatory',\r\n                  alignment: 'center',\r\n                  style: 'secondaryText',\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n      ]\r\n      : [\r\n        {\r\n          text: 'Terms and Condition:',\r\n          style: 'secondaryText',\r\n        },\r\n        { ...EMPTY_LINE },\r\n        { text: '\\n', style: { lineHeight: 0.3 } },\r\n        {\r\n          columns: [\r\n            {\r\n              width: 'auto',\r\n              text: 'i). Payment of the bill, if not paid in advance, may be made on or before DUE DATE',\r\n              style: 'secondaryText',\r\n              margin: [0, 0, 10, 0],\r\n            },\r\n          ],\r\n        },\r\n        { ...EMPTY_LINE },\r\n        {\r\n          text: 'ii). Interest at 14.5% per annum will be charged on all amounts which are not paid within the specified period in terms of Contract / Agreement.',\r\n          style: 'secondaryText',\r\n        },\r\n        { ...EMPTY_LINE },\r\n        {\r\n          text: 'iii). For further instruction please refer to the terms & condition laid down in the contract/agreement executed by the Advertisers/Agency.',\r\n          style: 'secondaryText',\r\n        },\r\n      ];\r\n    const definition = [\r\n      // Invoice Header\r\n      getHeaderDefinition(invoice, conditonCheckforChannel),\r\n      {\r\n        margin: [0, 15, 0, 0],\r\n        columns: [\r\n          {\r\n            width: (PAGE_WIDTH * 15) / 100,\r\n            text: '',\r\n            alignment: 'left',\r\n          },\r\n          {\r\n            width: '*',\r\n            alignment: 'center',\r\n            text: 'TAX INVOICE',\r\n            style: 'header',\r\n          },\r\n          {\r\n            width: (PAGE_WIDTH * 15) / 100,\r\n            text: '',\r\n            alignment: 'right',\r\n            style: 'secondaryTextBold',\r\n          },\r\n        ],\r\n      },\r\n      // First Row Table\r\n      {\r\n        columnGap: 5,\r\n        columns: [\r\n          {\r\n            width: conditonCheckforChannel ? '60%' : '*',\r\n            style: 'row1',\r\n            table: {\r\n              widths: ['*', conditonCheckforChannel ? '70%' : '*'],\r\n              body: tableBody,\r\n            },\r\n            layout: conditonCheckforChannel\r\n              ? {\r\n                hLineWidth: function (i, node) {\r\n                  // Top and bottom border only\r\n                  return i === 0 || i === node.table.body.length ? 1 : 0;\r\n                },\r\n                vLineWidth: function (i, node) {\r\n                  // Left and right border only\r\n                  return i === 0 || i === node.table.widths.length ? 1 : 0;\r\n                },\r\n                hLineColor: function (i, node) {\r\n                  return 'black';\r\n                },\r\n                vLineColor: function (i, node) {\r\n                  return 'black';\r\n                },\r\n              }\r\n              : undefined,\r\n          },\r\n\r\n          {\r\n            width: '*',\r\n            style: 'row1',\r\n            table: {\r\n              widths: ['40%', '*'],\r\n              body: tableBodyRight,\r\n            },\r\n            layout: conditonCheckforChannel\r\n              ? {\r\n                hLineWidth: function (i, node) {\r\n                  // Top and bottom border only\r\n                  return i === 0 || i === node.table.body.length ? 1 : 0;\r\n                },\r\n                vLineWidth: function (i, node) {\r\n                  // Left and right border only\r\n                  return i === 0 || i === node.table.widths.length ? 1 : 0;\r\n                },\r\n                hLineColor: function (i, node) {\r\n                  return 'black';\r\n                },\r\n                vLineColor: function (i, node) {\r\n                  return 'black';\r\n                },\r\n              }\r\n              : undefined,\r\n          },\r\n        ],\r\n      },\r\n      // Second Row Table\r\n      {\r\n        columnGap: 5,\r\n        columns: [\r\n          {\r\n            width: '*',\r\n            style: 'row2',\r\n            table: {\r\n              widths: ['35%', '*'],\r\n              body: conditonCheckforChannel\r\n                ? [[]]\r\n                : [\r\n                  [\r\n                    { text: 'Agency/Client:', style: 'tableKey' },\r\n                    { text: invoice.AgencyName, style: 'tableValue' },\r\n                  ],\r\n                  [\r\n                    { text: 'Address:', style: 'tableKey' },\r\n                    {\r\n                      text: invoice.agencyAddress1,\r\n                      style: 'tableValue',\r\n                    },\r\n                  ],\r\n                  [\r\n                    { text: 'City :', style: 'tableKey' },\r\n                    {\r\n                      text: `${invoice.AgencyStateName} - ${invoice.AgencyPin}`,\r\n                      style: 'tableValue',\r\n                    },\r\n                  ],\r\n                ],\r\n            },\r\n          },\r\n          {\r\n            width: '*',\r\n            style: 'row2',\r\n            table: {\r\n              widths: ['auto', '*'],\r\n              body: conditonCheckforChannel\r\n                ? [[]]\r\n                : [\r\n                  [\r\n                    { text: 'PAN of Client/Agency :', style: 'tableKey' },\r\n                    { text: '', style: 'tableValue' },\r\n                  ],\r\n                  [\r\n                    { text: 'State & State Code :', style: 'tableKey' },\r\n                    {\r\n                      text: `${invoice.AgencyStateName} - ${invoice.AgencyStateTinNo}`,\r\n                      style: 'tableValue',\r\n                    },\r\n                  ],\r\n                  [\r\n                    { text: 'Agency/Client GST :', style: 'tableKey' },\r\n                    { text: invoice.AgencyGSTN_ID, style: 'tableValue' },\r\n                  ],\r\n                ],\r\n            },\r\n          },\r\n        ],\r\n        margin: [0, 0, 0, 10],\r\n      },\r\n      distinctTelecastReport !== 'bill' &&\r\n        distinctTelecastReport !== 'View Bill'\r\n        ? getTelecastReportTableHeaderSum(distinctTelecastReport, channel)\r\n        : {},\r\n      // QR code, Client/Product details and Gross Total\r\n      {\r\n        columnGap: 5,\r\n        columns: [\r\n          {\r\n            width: QR_CODE_SIZE,\r\n            // TODO: Remove text and add QR code here\r\n            text: '',\r\n            // qr: 'https://google.com',\r\n            // fit: QR_CODE_SIZE,\r\n          },\r\n          {\r\n            width: '*',\r\n            stack: [\r\n              {\r\n                style: 'row3',\r\n                table: {\r\n                  widths: ['*', '*', '*'],\r\n                  body: [\r\n                    [\r\n                      {\r\n                        text: 'Gross Total',\r\n                        style: 'tableKey',\r\n                        colSpan: 2,\r\n                        borderColor: ['white', 'white', 'white', 'white'],\r\n                      },\r\n\r\n                      {},\r\n                      {\r\n                        text: numberToINRFormat(grossAmount),\r\n                        style: 'tableKey',\r\n                        alignment: 'right',\r\n                        borderColor: ['white', 'white', 'white', 'white'],\r\n                      },\r\n                    ],\r\n                    [\r\n                      {\r\n                        text: `Agency Discount - ${(agencyShare / grossAmount) * 100\r\n                          }%`,\r\n                        colSpan: 2,\r\n                        style: 'tableKey',\r\n                        borderColor: ['white', 'white', 'white', 'white'],\r\n                      },\r\n\r\n                      {},\r\n                      {\r\n                        text: numberToINRFormat(agencyShare),\r\n                        style: 'tableKey',\r\n                        alignment: 'right',\r\n                        borderColor: ['white', 'white', 'white', 'white'],\r\n                      },\r\n                    ],\r\n                    [\r\n                      {\r\n                        text: 'Net Amount',\r\n                        style: 'tableKey',\r\n                        colSpan: 2,\r\n                        borderColor: ['white', 'white', 'white', 'white'],\r\n                      },\r\n\r\n                      {},\r\n                      {\r\n                        text: numberToINRFormat(netAmount),\r\n                        style: 'tableKey',\r\n                        alignment: 'right',\r\n                        borderColor: ['white', 'white', 'white', 'white'],\r\n                      },\r\n                    ],\r\n                    ...getTaxesDefinition(\r\n                      cgst,\r\n                      sgst,\r\n                      igst,\r\n                      cgstAmount,\r\n                      sgstAmount,\r\n                      igstAmount,\r\n                    ),\r\n                    [\r\n                      {\r\n                        text: 'Total Amount (Inc. Taxes)',\r\n                        style: 'tableKey',\r\n                        colSpan: 2,\r\n                        borderColor: ['white', 'white', 'white', 'white'],\r\n                      },\r\n\r\n                      {},\r\n                      {\r\n                        text: numberToINRFormat(totalAmountIncTaxes),\r\n                        style: 'tableKey',\r\n                        alignment: 'right',\r\n                        borderColor: ['white', 'white', 'white', 'white'],\r\n                      },\r\n                    ],\r\n                    [\r\n                      {\r\n                        text: `Amount in words : ${numberToWordsINRFormat(\r\n                          totalAmountIncTaxes,\r\n                        )} Only`,\r\n                        style: 'secondaryTextBold',\r\n                        colSpan: 3,\r\n                        borderColor: ['white', 'white', 'white', 'white'],\r\n                      },\r\n\r\n                      {},\r\n                      {},\r\n                    ],\r\n                  ],\r\n                },\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n      //Terms and Conditions\r\n      {\r\n        margin: [0, 10, 0, 0],\r\n        stack: instructions,\r\n      },\r\n      // GST declaration and Digital Signature\r\n      {\r\n        columnGap: 5,\r\n        columns: [\r\n          {\r\n            width: '70%',\r\n            margin: [0, 15, 0, 0],\r\n            stack: conditonCheckforChannel\r\n              ? [{}]\r\n              : [\r\n                {\r\n                  text: 'GST Declaration:',\r\n                  style: 'primaryTextBold',\r\n                },\r\n                { text: '\\n', style: { lineHeight: 0.4 } },\r\n                {\r\n                  text: 'Certified that the particular given above are true and correct',\r\n                  style: 'primaryText',\r\n                },\r\n              ],\r\n          },\r\n          {\r\n            // TODO: Add Digital Signature in this block\r\n            // width: (PAGE_WIDTH * 15) / 100,\r\n          },\r\n        ],\r\n      },\r\n    ];\r\n\r\n    return definition;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getTelecastReportTableDefinition = (telecastReport, channel) => {\r\n  const isFoodChannel = [CLIENT.FOOD_INDIA, CLIENT.FOOD_USA].includes(\r\n    channel.label,\r\n  );\r\n  const generateTableHeader = () => [\r\n    {\r\n      text: 'S.No',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: 'Commercial Caption',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: 'Program Name',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: 'Spot Type',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: 'Spot Category',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: 'Telecast Date',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: 'Telecast Time',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: isFoodChannel ? 'DUR (Sec)' : 'Amount',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n  ];\r\n\r\n  const generateTableRow = (row, index, isFoodChannel) => {\r\n    const createCell = (\r\n      text = '',\r\n      style = 'telecastTableCell',\r\n      alignment = 'center',\r\n    ) => ({\r\n      text,\r\n      style,\r\n      alignment,\r\n    });\r\n    if (row.TelecastTime == null) {\r\n      return Array(8)\r\n        .fill(null)\r\n        .map(() => createCell());\r\n    }\r\n    return [\r\n      createCell(index + 1, 'tableValue'),\r\n      createCell(row.CommercialCaption),\r\n      createCell(row.Thirdpartyprogram),\r\n      createCell(row.SpotType),\r\n      createCell('RODP wise'),\r\n      createCell(formatDateToDDMMMYYYY(row.TelecastDate)),\r\n      createCell(row.TelecastTime),\r\n      createCell(\r\n        isFoodChannel ? row.DurInSec : numberToINRFormat(row.BillSpotAmount),\r\n      ),\r\n    ];\r\n  };\r\n\r\n  const generateTotalRow = (tableData) => [\r\n    {\r\n      text: '',\r\n      style: 'telecastTableCell',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: '',\r\n      style: 'tableKey',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    isFoodChannel\r\n      ? {\r\n        text: '* We certify that the spots mentioned in this T.C. have been telecasted on FOOD FOOD TV News Channel.',\r\n        style: 'secondaryText',\r\n        colSpan: 4,\r\n        alignment: 'right',\r\n        borderColor: ['black', 'black', 'black', 'black'],\r\n      }\r\n      : {\r\n        text: 'Total',\r\n        style: 'tableKey',\r\n        alignment: 'right',\r\n        borderColor: ['black', 'black', 'black', 'black'],\r\n      },\r\n    {\r\n      text: '',\r\n      style: 'telecastTableCell',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: '',\r\n      style: 'telecastTableCell',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: '',\r\n      style: 'telecastTableCell',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: '',\r\n      style: 'telecastTableCell',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: isFoodChannel\r\n        ? numberToINRFormat(getFieldTotal(tableData, 'DurInSec')).split('.')[0]\r\n        : numberToINRFormat(getFieldTotal(tableData, 'BillSpotAmount')),\r\n      style: 'telecastTableCell',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n  ];\r\n\r\n  try {\r\n    return {\r\n      table: {\r\n        headerRows: 1,\r\n        widths: [\r\n          (PAGE_WIDTH * 3) / 100,\r\n          (PAGE_WIDTH * 30) / 100,\r\n          (PAGE_WIDTH * 20) / 100,\r\n          (PAGE_WIDTH * 4) / 100,\r\n          (PAGE_WIDTH * 6) / 100,\r\n          (PAGE_WIDTH * 8) / 100,\r\n          (PAGE_WIDTH * 8) / 100,\r\n          (PAGE_WIDTH * 6) / 100,\r\n        ],\r\n        body: [\r\n          generateTableHeader(),\r\n          ...getTableWithTotal(telecastReport, [\r\n            'DurInSec',\r\n            'BillSpotAmount',\r\n\r\n          ]).map(generateTableRow),\r\n          generateTotalRow(telecastReport),\r\n        ],\r\n      },\r\n      layout: {\r\n        hLineColor: (i, node) =>\r\n          i === 0 || i === node.table.body.length ? 'black' : 'white',\r\n        vLineColor: () => 'black',\r\n      },\r\n    };\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getTelecastReportTableHeaderSum = (distinctTelecastReport, channel) => {\r\n  const isFoodChannel = [CLIENT.FOOD_INDIA, CLIENT.FOOD_USA].includes(\r\n    channel.label,\r\n  );\r\n\r\n  const createHeaderRow = () => [\r\n    {\r\n      text: 'S.No',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: isFoodChannel ? 'Caption' : 'RODP Wise',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: 'Duration',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: 'Spot Type',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: 'No of Spots',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: 'Rate',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: 'Amount',\r\n      style: 'telecastTableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n  ];\r\n\r\n  const createBodyRow = (row, index) =>\r\n    [\r\n\r\n      { text: index + 1, style: 'tableValue', alignment: 'center' },\r\n      {\r\n        text: isFoodChannel ? row.CommercialCaption : row.timebandname,\r\n        style: 'telecastTableCell',\r\n        alignment: 'center',\r\n      },\r\n      { text: row.DurInSec, style: 'telecastTableCell', alignment: 'center' },\r\n      { text: row.SpotType, style: 'telecastTableCell', alignment: 'center' },\r\n      { text: row.count, style: 'telecastTableCell', alignment: 'center' },\r\n      {\r\n        text: numberToINRFormat(row.BookingSpotRate),\r\n        style: 'tableValue',\r\n        alignment: 'center',\r\n      },\r\n      {\r\n        text: numberToINRFormat(row.BillSpotAmount),\r\n        style: 'tableValue',\r\n        alignment: 'center',\r\n      },\r\n    ]\r\n\r\n  const createTotalRow = (totalRow) => [\r\n    {\r\n      text: '',\r\n      style: 'tableValue',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: 'Total',\r\n      style: 'tableValue',\r\n      alignment: 'right',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: totalRow.DurInSec,\r\n      style: 'tableValue',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: totalRow.SpotType,\r\n      style: 'tableValue',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: totalRow.count,\r\n      style: 'tableValue',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: numberToINRFormat(totalRow.BookingSpotRate),\r\n      style: 'tableValue',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n    {\r\n      text: numberToINRFormat(totalRow.BillSpotAmount),\r\n      style: 'tableKey',\r\n      alignment: 'center',\r\n      borderColor: ['black', 'black', 'black', 'black'],\r\n    },\r\n  ];\r\n\r\n  try {\r\n    const tableBody = [createHeaderRow()];\r\n\r\n    const rows = getTableWithTotal(distinctTelecastReport, [\r\n      'DurInSec',\r\n      'BillSpotAmount',\r\n      'BookingSpotRate',\r\n      'count'\r\n    ]);\r\n\r\n    rows.forEach((row, index) => {\r\n      tableBody.push(\r\n        index === distinctTelecastReport.length\r\n          ? createTotalRow(row)\r\n          : createBodyRow(row, index),\r\n      );\r\n    });\r\n\r\n    return {\r\n      table: {\r\n        headerRows: 1,\r\n        widths: [\r\n          (PAGE_WIDTH * 2) / 100,\r\n          (PAGE_WIDTH * 45) / 100,\r\n          (PAGE_WIDTH * 6) / 100,\r\n          (PAGE_WIDTH * 7) / 100,\r\n          (PAGE_WIDTH * 10) / 100,\r\n          (PAGE_WIDTH * 8) / 100,\r\n          (PAGE_WIDTH * 8) / 100,\r\n        ],\r\n        body: tableBody,\r\n      },\r\n      layout: {\r\n        hLineColor: (i, node) =>\r\n          i === 0 || i === node.table.body.length ? 'black' : 'white',\r\n        vLineColor: () => 'black',\r\n      },\r\n    };\r\n  } catch (error) {\r\n    console.error('Error generating telecast report table:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/* PDF GENERATOR FUNCTIONS */\r\nconst generateBill = async (invoice, taxes, pdfType) => {\r\n  try {\r\n    const pdfDefination = {\r\n      pageSize: PAGE_SIZE,\r\n      pageMargins: PAGE_MARGINS,\r\n      content: getBillDefinition(invoice, taxes, pdfType, {}),\r\n      styles: STYLES,\r\n    };\r\n    return pdfMake.createPdf(pdfDefination);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst generateBillWithTC = async (\r\n  invoice,\r\n  taxes,\r\n  telecastReport,\r\n  distinctTelecastReport,\r\n  channel,\r\n) => {\r\n  const isFoodChannel = [CLIENT.FOOD_INDIA, CLIENT.FOOD_USA].includes(\r\n    channel.label,\r\n  );\r\n\r\n  try {\r\n    const pdfDefinition = {\r\n      pageSize: PAGE_SIZE,\r\n      footer: (currentPage, pageCount) => ({\r\n        text: `Page ${currentPage} of ${pageCount}`,\r\n        alignment: 'right',\r\n        style: 'secondaryText',\r\n        margin: [0, 10, 10, 0],\r\n      }),\r\n      pageMargins: [10, 40, 10, 40],\r\n      content: [\r\n        ...getBillDefinition(invoice, taxes, distinctTelecastReport, channel),\r\n        {\r\n          pageBreak: 'before',\r\n          stack: [\r\n            {\r\n              columns: [\r\n                {\r\n                  width: '*',\r\n                  text: `${invoice.ChannelName}\\nInvoice Number: ${invoice.INVOICENO}`,\r\n                  style: ['header', 'tableValue'],\r\n                  alignment: 'left',\r\n                },\r\n                {\r\n                  width: '*',\r\n                  alignment: 'center',\r\n                  text: 'Telecast Report',\r\n                  style: 'header',\r\n                  margin: [0, 10, 0, 0],\r\n                },\r\n                {\r\n                  width: '*',\r\n                  text: `Invoice Date: ${getDateFromDateTime(\r\n                    invoice.InvoiceDate,\r\n                  )}\\nInvoice Period: ${getTelecastDate(\r\n                    invoice.FromDate,\r\n                    invoice.UptoDate,\r\n                  )}`,\r\n                  style: 'tableValue',\r\n                  alignment: 'right',\r\n                },\r\n              ],\r\n              margin: [0, 5, 0, 10],\r\n            },\r\n            getTelecastReportTableDefinition(telecastReport, channel),\r\n            {\r\n              columns: [\r\n                {\r\n                  width: '50%',\r\n                  margin: [0, 10, 0, 0],\r\n                  stack: [{ ...EMPTY_LINE }],\r\n                },\r\n                {\r\n                  width: '50%',\r\n                  margin: [0, 10, 0, 0],\r\n                  stack: isFoodChannel\r\n                    ? [\r\n                      {\r\n                        text: `For ${invoice.ParentCompany}`,\r\n                        style: 'primaryTextBold',\r\n                        alignment: 'right',\r\n                      },\r\n                      {\r\n                        image: kpg,\r\n                        width: (PAGE_WIDTH * 20) / 100,\r\n                        height: (PAGE_WIDTH * 8) / 100,\r\n                        alignment: 'right',\r\n                        margin: [0, 10, 0, 0],\r\n                      },\r\n                      {\r\n                        text: 'Authorised Signatory',\r\n                        style: 'secondaryText',\r\n                        alignment: 'right',\r\n                      },\r\n                    ]\r\n                    : [{ ...EMPTY_LINE }],\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      styles: STYLES,\r\n    };\r\n\r\n    return pdfMake.createPdf(pdfDefinition);\r\n  } catch (error) {\r\n    console.error('Error generating PDF:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst generateTelecastReport = async (invoice, telecastReport, channel) => {\r\n  const isFoodChannel = [CLIENT.FOOD_INDIA, CLIENT.FOOD_USA].includes(\r\n    channel.label,\r\n  );\r\n\r\n  const createTableBody = (isFoodChannel) =>\r\n    isFoodChannel\r\n      ? [\r\n        ['Client :', `${invoice.ClientName}`],\r\n        [\r\n          'Address :',\r\n          `${invoice.ClientAddress} - \\n\\n\\n${invoice.ChannelStateName}`,\r\n        ],\r\n        ['Agency :', `${invoice.AgencyName}`],\r\n        ['Brand :', invoice.BrandName],\r\n      ]\r\n      : [\r\n        ['State of Service Provider :', invoice.ChannelStateName],\r\n        ['State Code of Service Provider:', invoice.ChannelStateTinNo],\r\n        ['GSTIN of Service Provider :', invoice.ChannelGSTN_ID],\r\n        ['PAN of Service Provider :', ''],\r\n        ['Address of Service Provider :', invoice.ParentRegdAddress1],\r\n      ];\r\n\r\n  const createTableBodyRight = (isFoodChannel) =>\r\n    isFoodChannel\r\n      ? [\r\n        ['Invoice Number :', invoice.INVOICENO],\r\n        ['Period From:', getTelecastDate(invoice.FromDate, invoice.UptoDate)],\r\n        ['Agency City :', invoice.PlaceName1],\r\n        ['Client Ref No :', invoice.BookingReferenceNumber],\r\n        ['Executive Name :', invoice.ContactPerson],\r\n        ['T.O. NO :', invoice.BookingCode],\r\n      ]\r\n      : [\r\n        ['Invoice Number :', invoice.INVOICENO],\r\n        ['Invoice Date :', getDateFromDateTime(invoice.InvoiceDate)],\r\n        [\r\n          'Telecast Period :',\r\n          getTelecastDate(invoice.FromDate, invoice.UptoDate),\r\n        ],\r\n        [\r\n          'RO No. & Date :',\r\n          `${invoice.BookingCode} & ${formatDateToDDMMMYYYY(\r\n            invoice.BookingDate,\r\n          )}`,\r\n        ],\r\n        ['Client RO Ref No. :', invoice.BookingReferenceNumber],\r\n        ['Client', invoice.ClientName],\r\n        ['Product', invoice.BrandName],\r\n      ];\r\n\r\n  try {\r\n    const pdfDefinition = {\r\n      pageSize: PAGE_SIZE,\r\n      pageMargins: [10, 30],\r\n      // header: (currentPage) => currentPage === 1 ? getHeaderDefinition(invoice,isFoodChannel) : null,\r\n      footer: (currentPage, pageCount) => [\r\n        {\r\n          text: `Page ${currentPage} of ${pageCount}`,\r\n          alignment: 'right',\r\n          margin: [0, 10, 10, 0],\r\n        },\r\n      ],\r\n      content: [\r\n        {\r\n          columns: [\r\n            { text: '', alignment: 'left', width: (PAGE_WIDTH * 15) / 100 },\r\n            {\r\n              text: [\r\n                {\r\n                  text: `TELECAST CERTIFICATE `,\r\n                  style: 'tableKeyLarge',\r\n                  alignment: 'center',\r\n                },\r\n                { ...EMPTY_LINE },\r\n                {\r\n                  text: ` ${invoice.ParentCompany}`,\r\n                  style: 'secondaryText',\r\n                  alignment: 'center',\r\n                },\r\n              ],\r\n              alignment: 'center',\r\n            },\r\n            {\r\n              width: (PAGE_WIDTH * 20) / 100,\r\n              height: (PAGE_WIDTH * 8) / 100,\r\n              image: invoice.Channel_Image,\r\n              alignment: 'center',\r\n              margin: [0, 0, 0, 0],\r\n            },\r\n          ],\r\n          margin: [0, 0, 0, 30],\r\n        },\r\n\r\n        {\r\n          columnGap: isFoodChannel ? 0 : 10,\r\n          columns: [\r\n            {\r\n              table: { body: createTableBody(isFoodChannel), width: '100%' },\r\n              layout: isFoodChannel\r\n                ? {\r\n                  hLineWidth: function (i, node) {\r\n                    // Top and bottom border only\r\n                    return i === 0 || i === node.table.body.length ? 1 : 0;\r\n                  },\r\n                  vLineWidth: function (i, node) {\r\n                    // Left and right border only\r\n                    return i === 0 || i === node.table.widths.length ? 1 : 0;\r\n                  },\r\n                  hLineColor: function (i, node) {\r\n                    return 'white';\r\n                  },\r\n                  vLineColor: function (i, node) {\r\n                    return 'white';\r\n                  },\r\n                }\r\n                : undefined,\r\n              width: isFoodChannel ? '60%' : '*',\r\n              style: 'tableKey',\r\n            },\r\n            {\r\n              table: { body: createTableBodyRight(isFoodChannel) },\r\n              layout: isFoodChannel\r\n                ? {\r\n                  hLineWidth: function (i, node) {\r\n                    // Top and bottom border only\r\n                    return i === 0 || i === node.table.body.length ? 1 : 0;\r\n                  },\r\n                  vLineWidth: function (i, node) {\r\n                    // Left and right border only\r\n                    return i === 0 || i === node.table.widths.length ? 1 : 0;\r\n                  },\r\n                  hLineColor: function (i, node) {\r\n                    return 'white';\r\n                  },\r\n                  vLineColor: function (i, node) {\r\n                    return 'white';\r\n                  },\r\n                }\r\n                : undefined,\r\n              width: '*',\r\n              style: 'tableKey',\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          columns: [{ ...EMPTY_LINE }],\r\n        },\r\n        {\r\n          columns: [{ ...EMPTY_LINE }],\r\n        },\r\n        getTelecastReportTableDefinition(telecastReport, channel),\r\n\r\n        {\r\n          columns: [\r\n            { text: '' },\r\n            isFoodChannel\r\n              ? {\r\n                stack: [\r\n                  {\r\n                    text: `For ${invoice.ParentCompany}`,\r\n                    style: 'primaryTextBold',\r\n                    alignment: 'right',\r\n                  },\r\n                  { image: kpg, width: 100, alignment: 'right' },\r\n                  { text: 'Authorised Signatory', alignment: 'right' },\r\n                ],\r\n              }\r\n              : { text: '' },\r\n          ],\r\n        },\r\n      ],\r\n      styles: STYLES,\r\n    };\r\n\r\n    return pdfMake.createPdf(pdfDefinition);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport { generateBill, generateBillWithTC, generateTelecastReport };\r\n"],"names":["Tr","Th","Td","THead","TBody","Sorter","Table","pageSizeOption","value","label","IndeterminateCheckbox","indeterminate","onChange","rest","ref","useRef","useEffect","current","checked","_","e","tableColumns","data","globalFilter","setGlobalFilter","setSelectedRows","footerAction","type","setShowLoader","additionalData","currencySymbol","columnFilters","setColumnFilters","useState","rowSelection","setRowSelection","originalSpots","setOriginalSpots","formattedSpots","setFormattedSpots","showSpotsDialog","setShowSpotsDialog","spotsGlobalFilter","setSpotsGlobalFilter","columns","useMemo","id","header","table","getIsAllRowsSelected","getIsSomeRowsSelected","getToggleAllRowsSelectedHandler","cell","row","className","getIsSelected","disabled","getCanSelect","getIsSomeSelected","getToggleSelectedHandler","push","title","shape","variant","size","icon","onClick","handleShowSpots","handleViewBill","original","spotsColumns","accessorKey","useReactTable","filterFns","fuzzy","fuzzyFilter","state","enableRowSelection","onRowSelectionChange","updater","newRowSelection","Function","newSelectedRows","Object","keys","map","getRowModel","rowsById","error","console","onColumnFiltersChange","onGlobalFilterChange","globalFilterFn","getCoreRowModel","getFilteredRowModel","getSortedRowModel","getPaginationRowModel","getFacetedRowModel","getFacetedUniqueValues","getFacetedMinMaxValues","debugHeaders","debugColumns","spots","bills","tmpbilldatasubreport","filter","curSubReport","BillNumber","invoiceNumber","INVOICENO","columnsToINRFormat","onShowSpotsDialogClose","async","invoice","openNotification","originalBill","tmpbilldata","bill","pdf","generateBill","tmpbilltaxdata","pdfBlob","Promise","resolve","getBlob","blob","url","URL","createObjectURL","window","open","columnId","addMeta","itemRank","rankItem","getValue","passed","getHeaderGroups","headerGroup","headers","colSpan","style","width","isPlaceholder","column","getCanSort","getToggleSortingHandler","flexRender","columnDef","getContext","sort","getIsSorted","rows","getVisibleCells","pageSize","getState","pagination","currentPage","pageIndex","total","length","page","setPageIndex","isSearchable","option","options","setPageSize","Number","handlePageSizeChange","isOpen","onClose","onRequestClose","height","contentClassName","getFieldTotal","numberToINRFormat","spot","TelecastDate","getDateFromDateTime","BookingSpotRate","BillSpotAmount","ExportName","PAGE_SIZE","PAGE_WIDTH","PAGE_MARGINS","EMPTY_LINE","text","lineHeight","QR_CODE_SIZE","STYLES","fontSize","bold","primaryText","primaryTextBold","secondaryText","secondaryTextBold","row1","margin","row2","row3","tableKey","telecastTableKey","noTopBottomBorder","border","tableValue","telecastTableCell","tableKeyLarge","getTaxPercentage","taxes","taxName","tax","TaxName","getTelecastDate","fromDate","uptoDate","FORMATDATE_FOR_EVERY","pdfMake","pdfFonts","getHeaderDefinition","conditonCheckforChannel","alignment","ChannelName","ParentCompany","ParentCorpAddress1","image","Channel_Image","getTaxesDefinition","cgst","sgst","igst","cgstAmount","sgstAmount","igstAmount","taxesDefinition","TaxPercent","borderColor","getBillDefinition","distinctTelecastReport","channel","grossAmount","GrossAmount","agencyShare","AgencyShare","netAmount","totalAmountIncTaxes","calculatePercentageValue","Math","round","CLIENT","tableBody","AgencyName","agencyAddress1","AgencyGSTN_ID","AgencyStateName","AgencyStateTinNo","ClientName","ClientAddress","ChannelStateName","BrandName","ProductName","ChannelStateTinNo","ChannelGSTN_ID","ParentRegdAddress1","tableBodyRight","InvoiceDate","ReferenceNumber","PersonnelName","BookingReferenceNumber","FromDate","UptoDate","BookingCode","formatDateToDDMMMYYYY","BookingDate","instructions","columnGap","stack","kpg","widths","body","layout","hLineWidth","i","node","vLineWidth","hLineColor","vLineColor","undefined","AgencyPin","getTelecastReportTableHeaderSum","numberToWordsINRFormat","getTelecastReportTableDefinition","telecastReport","isFoodChannel","includes","generateTableRow","index","createCell","TelecastTime","Array","fill","CommercialCaption","Thirdpartyprogram","SpotType","DurInSec","headerRows","getTableWithTotal","tableData","split","forEach","totalRow","count","timebandname","createBodyRow","pdfType","pdfDefination","pageMargins","content","styles","generateBillWithTC","pdfDefinition","footer","pageCount","pageBreak","generateTelecastReport","createTableBody","createTableBodyRight","PlaceName1","ContactPerson"],"sourceRoot":""}