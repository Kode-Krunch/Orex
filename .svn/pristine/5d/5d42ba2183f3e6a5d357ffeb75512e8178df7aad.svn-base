{"version":3,"file":"static/js/3387.27352f7b.chunk.js","mappings":"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","sources":["views/Controls/HeaderExtra.js","views/Controls/Loader.js","views/Master/EmployeeMaster/EmployeeView.js"],"sourcesContent":["import { Breadcrumbs } from '@material-tailwind/react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nconst HeaderExtra = ({ ModuleText = 'Admin', Component, links }) => {\r\n  const currentRouteKey = useSelector(\r\n    (state) => state.auth.session.currentRouteKey,\r\n  );\r\n  const currentRouteTitle = useSelector(\r\n    (state) => state.base.common.currentRouteTitle,\r\n  );\r\n  console.log(currentRouteTitle);\r\n  // console.log(currentRouteKey);\r\n  const { title, Moduletitle } = useSelector((state) => state.auth.user);\r\n\r\n  return (\r\n    <div>\r\n      <p className=\"text-xl font-medium\">{currentRouteTitle}</p>\r\n      <Breadcrumbs style={{ marginLeft: '-15px', width: 'auto' }}>\r\n        <Link to=\"/home\" className=\"opacity-60 text-xs\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            className=\"h-3 w-3\"\r\n            viewBox=\"0 0 20 20\"\r\n            fill=\"currentColor\"\r\n          >\r\n            <path d=\"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z\" />\r\n          </svg>\r\n        </Link>\r\n        <Link\r\n          to={`/${Moduletitle === 'SALES ADMIN' ? 'SalesAdmin' : Moduletitle}`}\r\n          className=\"opacity-60 text-xs\"\r\n        >\r\n          <span>{Moduletitle}</span>\r\n        </Link>\r\n        <Link to=\"#\" className=\"text-xs\">\r\n          <span>{currentRouteTitle}</span>\r\n        </Link>\r\n      </Breadcrumbs>\r\n    </div>\r\n  );\r\n};\r\nexport default HeaderExtra;\r\n","import { Spinner } from 'components/ui';\r\nimport React from 'react';\r\n\r\nfunction Loader({ showLoader }) {\r\n  return (\r\n    <>\r\n      {showLoader ? (\r\n        <div className=\"dialog-overlay flex justify-center items-center z-50\">\r\n          <Spinner size=\"3.25rem\" />\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { AdaptableCard, Loading } from 'components/shared';\r\nimport { Button, toast, Card } from 'components/ui';\r\nimport {\r\n  apiGetEmpbyid,\r\n  apiGetrightsShowT2,\r\n  PostRights,\r\n} from 'services/MasterService';\r\nimport { useLocation } from 'react-router';\r\nimport isEmpty from 'lodash/isEmpty';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { Tree } from 'primereact/tree';\r\nimport { StickyFooter } from 'components/shared';\r\nimport { validate } from 'components/validators';\r\nimport Notification from 'components/ui/Notification';\r\nimport HeaderExtra from 'views/Controls/HeaderExtra';\r\nimport Loader from 'views/Controls/Loader';\r\nimport {\r\n  filterData2,\r\n  openNotification,\r\n  convertObj1ToObj2,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\n\r\nconst EmployeeView = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  let EmployeeCode = location.pathname.split('/').at(-1);\r\n  const [showLoader, setshowLoader] = useState(false);\r\n  const [data, setData] = useState(['']);\r\n  const [loginid, setLoginid] = useState([]);\r\n  const tokenS = useSelector((state) => state.auth.session.token);\r\n  const addRights = async (values, token, navigate) => {\r\n    setshowLoader(true);\r\n    try {\r\n      const resp = await PostRights(values, token);\r\n      if (resp.status === 200) {\r\n        toast.push(\r\n          <Notification title={'success'} type={'success'}>\r\n            Data Save successfully\r\n          </Notification>,\r\n        );\r\n        setshowLoader(false);\r\n        setTimeout(() => {\r\n          navigate('/employee');\r\n        }, 2000);\r\n      } else if (resp.status === 'Server Error.') {\r\n        openNotification('danger', 'Something Went Wrong');\r\n        setshowLoader(false);\r\n        return;\r\n      }\r\n    } catch (errors) {\r\n      setshowLoader(false);\r\n      return {};\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async (values) => {\r\n      const EmpDetails = await apiGetEmpbyid(EmployeeCode);\r\n      setData(EmpDetails.data);\r\n      console.log(EmpDetails);\r\n      setLoginid(EmpDetails.data.LoginCode);\r\n    })();\r\n    // document.getElementsByClassName('side')[0].click()\r\n  }, [EmployeeCode]);\r\n  const { customerview } = useSelector((state) => state.auth.session);\r\n  const [treeNodes, settreeNodes] = useState([]);\r\n  const [selectedTreeNodeKeys, setSelectedTreeNodeKeys] = useState({});\r\n\r\n  useEffect(() => {\r\n    (async (values) => {\r\n      const resp = await apiGetrightsShowT2(EmployeeCode);\r\n\r\n      let res = resp.data.subRows;\r\n      let res2 = [];\r\n      let i = 0;\r\n\r\n      res.forEach((row) => {\r\n        res2.push(convertObj1ToObj2(row, i));\r\n        i++;\r\n      });\r\n\r\n      settreeNodes(res2);\r\n\r\n      setSelectedTreeNodeKeys(filterData2(resp.data.subRows));\r\n    })();\r\n  }, [EmployeeCode]);\r\n\r\n  return (\r\n    <Card header={<HeaderExtra Component={'User Master'} />}>\r\n      <Loading>\r\n        <Loader showLoader={showLoader} />\r\n        {!isEmpty(data) && (\r\n          <>\r\n            <div className=\"grid grid-cols-7 gap-4\">\r\n              {customerview ? (\r\n                <div className=\"col-span-7 \">\r\n                  <AdaptableCard>\r\n                    <div className=\"text-black\">\r\n                      <Tree\r\n                        value={treeNodes}\r\n                        className=\"w-full md:w-30rem text-black\"\r\n                        filter\r\n                        filterMode=\"lenient\"\r\n                        filterPlaceholder=\"Filter in access\"\r\n                        selectionMode=\"checkbox\"\r\n                        selectionKeys={selectedTreeNodeKeys}\r\n                        onSelectionChange={(e) =>\r\n                          setSelectedTreeNodeKeys(e.value)\r\n                        }\r\n                      /></div>\r\n                  </AdaptableCard>\r\n                </div>\r\n              ) : (\r\n                <div className=\"col-span-9\">\r\n                  <AdaptableCard>\r\n                    <Tree\r\n                      value={treeNodes}\r\n                      className=\"w-full md:w-30rem \"\r\n                      filter\r\n                      filterMode=\"lenient\"\r\n                      filterPlaceholder=\"Filter in access\"\r\n                      selectionMode=\"checkbox\"\r\n                      selectionKeys={selectedTreeNodeKeys}\r\n                      onSelectionChange={(e) =>\r\n                        setSelectedTreeNodeKeys(e.value)\r\n                      }\r\n                    />\r\n                  </AdaptableCard>\r\n                </div>\r\n              )}\r\n              <StickyFooter\r\n                className=\"-mx-8 px-8 flex items-center justify-between py-4\"\r\n                stickyClass=\"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700\"\r\n              >\r\n                <Button\r\n                  variant=\"solid\"\r\n                  size=\"sm\"\r\n                  onClick={() => {\r\n                    const writes = [];\r\n                    const reads = [];\r\n                    // console.log(selectedTreeNodeKeys);\r\n                    for (const [key, value] of Object.entries(\r\n                      selectedTreeNodeKeys,\r\n                    )) {\r\n                      if (key.endsWith('-0')) {\r\n                        if (validate(key.split('-')[2])) {\r\n                          reads.push(key.split('-')[2]);\r\n                        }\r\n                      }\r\n                      if (key.endsWith('-1')) {\r\n                        if (validate(key.split('-')[2])) {\r\n                          writes.push(key.split('-')[2]);\r\n                        }\r\n                      }\r\n                    }\r\n                    const convertedData = [];\r\n\r\n                    reads.forEach((formCode) => {\r\n                      const canWrite = writes.includes(formCode) ? 1 : 0;\r\n                      const canRead = reads.includes(formCode) ? 1 : 0;\r\n                      convertedData.push({\r\n                        LoginCode: loginid,\r\n                        FormCode: formCode,\r\n                        CanRead: canRead,\r\n                        CanWrite: canWrite,\r\n                      });\r\n                    });\r\n                    writes.forEach((formCode) => {\r\n                      if (!reads.includes(formCode)) {\r\n                        const canWrite = writes.includes(formCode) ? 1 : 0;\r\n                        const canRead = reads.includes(formCode) ? 1 : 0;\r\n                        convertedData.push({\r\n                          LoginCode: loginid,\r\n                          FormCode: formCode,\r\n                          CanRead: canRead,\r\n                          CanWrite: canWrite,\r\n                        });\r\n                      }\r\n                    });\r\n                    // console.log(convertedData);\r\n                    addRights(convertedData, tokenS, navigate);\r\n                  }}\r\n                >\r\n                  Save Access\r\n                </Button>\r\n              </StickyFooter>\r\n            </div>\r\n          </>\r\n        )}\r\n      </Loading>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default EmployeeView;\r\n"],"names":["ModuleText","Component","links","useSelector","state","auth","session","currentRouteKey","currentRouteTitle","base","common","console","log","title","Moduletitle","user","className","Breadcrumbs","style","marginLeft","width","to","xmlns","viewBox","fill","d","showLoader","size","location","useLocation","navigate","useNavigate","EmployeeCode","pathname","split","at","setshowLoader","useState","data","setData","loginid","setLoginid","tokenS","token","useEffect","async","EmpDetails","apiGetEmpbyid","LoginCode","customerview","treeNodes","settreeNodes","selectedTreeNodeKeys","setSelectedTreeNodeKeys","resp","apiGetrightsShowT2","res","subRows","res2","i","forEach","row","push","convertObj1ToObj2","filterData2","header","isEmpty","value","filter","filterMode","filterPlaceholder","selectionMode","selectionKeys","onSelectionChange","e","stickyClass","variant","onClick","writes","reads","key","Object","entries","endsWith","validate","convertedData","formCode","canWrite","includes","canRead","FormCode","CanRead","CanWrite","values","PostRights","status","toast","type","setTimeout","openNotification","errors","addRights"],"sourceRoot":""}