(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[6521],{46530:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var t=a(1413),r=a(2803),l=a(72791),c=a(34786),n=a(96361),i=a(46657),u=a(60364),d=a(4621),o=a(32640),m=a(80184);const p=()=>{const e=(0,u.useSelector)((e=>e.auth.session.token)),s=(0,l.useRef)(0);function a(e,s){r.Am.push((0,m.jsx)(r.P_,{closable:!0,type:s,duration:1e3,title:s.charAt(0).toUpperCase()+s.slice(1),children:e}))}const[p,h]=(0,l.useState)(""),[y,x]=(0,l.useState)(!1),[f,D]=(0,l.useState)(""),[N,v]=(0,l.useState)(!1),[g,j]=(0,l.useState)(),b=(0,l.useRef)(null),[A,T]=(0,l.useState)();(0,l.useEffect)((()=>{s.current=s.current+1,1==s.current&&(async()=>{const e=[...(await(0,c.S8)()).data].reverse().map(((e,s)=>(0,t.Z)((0,t.Z)({},e),{},{serialNumber:s+1})));T(e)})()}),[]);const S=s=>{const t=[...A];let r=t[s];r.IsActive=1==r.IsActive?0:1,(0,c.jY)(r,e).then((e=>(204==e.status&&a("Data Already Exists.","warning"),e.json()))).then((e=>{e.serialNumber=r.serialNumber,e.IsActive=r.IsActive,e.DealTypeName=r.DealTypeName,t[s]=e,T(t),a("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},w=[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"DealTypeName",header:"DealTypeName",width:"20%"}];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.F,{ref:b}),(0,m.jsx)(d.Q,{group:"declarative",visible:N,onHide:()=>v(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{S(g)}}),(0,m.jsx)(r.Zb,{header:(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("div",{children:(0,m.jsx)("span",{className:"flex items-center",children:(0,m.jsx)(n.Z,{ModuleText:"Programming",Component:"Deal Type"})})}),(0,m.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}}),(0,m.jsx)("div",{})]}),headerExtra:(0,o.W)(f,D,x,y,(()=>{if(p){const s={DealTypeName:p,IsActive:1};(0,c.U3)(s,e).then((e=>{204==e.status&&a("Data Already Exists.","warning"),200==e.status&&(a("Data Added Succesfully","success"),s.serialNumber=A.length+1,T((e=>[...e,s]))),h(""),x(!1)})).catch((e=>{500==e.response.status&&a("Server Error.","danger")}))}else a("Kindly Enter Deal Type Name","danger")}),p,h,"Deal Type",A,w),bodyClass:"text-center",children:(0,m.jsx)(o.Z,{data:A,onRowEditComplete:s=>{let t=[...A],{newData:r,index:l}=s;r.DealTypeName&&(t[l].DealTypeName=r.DealTypeName,t[l].IsActive=r.IsActive,(0,c.jY)(r,e).then((e=>(204==e.status&&a("Data Already Exists.","warning"),200==e.status&&a("Data Updated Succesfully","success"),e.json()))).then((e=>{t[l]=e,t[l].serialNumber=r.serialNumber,t[l].DealTypeName=r.DealTypeName,t[l].IsActive=r.IsActive,T(t)})).catch((e=>{500==e.response.status&&a("Server Error.","danger")})))},globalFilter:f,dataKey:"DealTypeCode",columns:w,setyup:j,scrollHeight:"70vh",setVisible:v})})]})}},72950:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{}}]);
//# sourceMappingURL=6521.0ca0d9ac.chunk.js.map