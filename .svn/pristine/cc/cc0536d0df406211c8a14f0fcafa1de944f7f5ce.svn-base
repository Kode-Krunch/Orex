"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[6762],{26762:(e,r,t)=>{t.r(r),t.d(r,{default:()=>b});var o=t(72791),n=t(21260),s=t(29851),a=t(81320),i=t(91615),l=t(80184);const c=function(e){let{tableData:r,maxDuration:t}=e;const{schedulingTableRef:n}=(0,o.useContext)(i.Z),s=e=>{try{return e<40?"from-green-700 to-green-800":e>=40&&e<71?"from-amber-600 to-yellow-900":"from-red-700 to-red-900"}catch(r){console.error(r)}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex font-semibold text-white text-[12px] sticky top-0 z-20",children:[(0,l.jsx)("div",{className:"py-1 px-2 flex flex-none items-center justify-center w-[17%] border-gray-500 border-y border-x bg-gray-600",children:"Hour"}),(0,l.jsx)("div",{className:"py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-500 border-y border-r bg-gray-600",children:"Available"}),(0,l.jsx)("div",{className:"py-1 px-2 flex flex-none items-center justify-center w-[23%] border-gray-500 border-y border-r bg-gray-600",children:"Commercial"}),(0,l.jsx)("div",{className:"py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-500 border-y border-r bg-gray-600",children:"Promo"}),(0,l.jsx)("div",{className:"py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-500 border-y border-r bg-gray-600",children:"Song"}),(0,l.jsx)("div",{className:"py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-500 border-y border-r bg-gray-600",children:"Total"})]}),(0,l.jsx)("div",{children:r.map((e=>(0,l.jsxs)("div",{className:"flex text-white text-[12px] hover:cursor-pointer hover:opacity-80",onClick:()=>{var r;return null===(r=n.current)||void 0===r?void 0:r.scrollToItem(e.hourIndex,"center")},children:[(0,l.jsxs)("div",{className:"relative py-1 px-2 flex flex-none items-center justify-center w-[17%] border-gray-600 border-b border-x bg-gray-600 bg-opacity-20",children:[(0,l.jsx)("div",{className:"z-10",children:e.hour}),(0,l.jsx)("div",{className:"h-full absolute left-0 top-0 bg-gradient-to-r ".concat(s((0,a.getPercentage)(e.commDuration,t))),style:{width:"".concat((0,a.getPercentage)(e.commDuration,t),"%")}})]}),(0,l.jsx)("div",{className:"py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-600 border-b border-r bg-gray-600 bg-opacity-20",children:e.availableDuration}),(0,l.jsx)("div",{className:"py-1 px-2 flex flex-none items-center justify-center w-[23%] border-gray-600 border-b border-r bg-gradient-to-r ".concat(s((0,a.getPercentage)(e.commDuration,t))),children:e.commDuration}),(0,l.jsx)("div",{className:"py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-600 border-b border-r bg-gradient-to-r bg-gray-600 bg-opacity-20",children:e.promoDuration}),(0,l.jsx)("div",{className:"py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-600 border-b border-r bg-gradient-to-r bg-gray-600 bg-opacity-20",children:e.songDuration}),(0,l.jsx)("div",{className:"py-1 px-2 flex flex-none items-center justify-center w-[20%] border-gray-600 border-b border-r bg-gradient-to-r bg-gray-600 bg-opacity-20",children:e.commDuration+e.promoDuration+e.songDuration})]})))})]})};var d=t(2803),x=t(84373);const b=function(){const{schedulingTableData:e,setActiveFeatures:r,secondaryAreaZindexRef:t}=(0,o.useContext)(i.Z),[b,u]=(0,o.useState)([]);(0,o.useEffect)((()=>{try{u(m())}catch(e){(0,a.openNotification)("danger","Something went wrong while fetching hourwise inventory"),console.error(e)}}),[e]);const m=()=>{try{let r=[],t="",o=null,s=0,i=0,l=0;return e.forEach(((e,c)=>{t!==e.Tel_Time.substr(0,2)?""===t?(t=e.Tel_Time.substr(0,2),o=0):(r.push({hour:"".concat(t,":00"),hourIndex:o,availableDuration:720,commDuration:s,promoDuration:i,songDuration:l}),t=e.Tel_Time.substr(0,2),o=c-1,s=0,i=0,l=0):e.F_C_S_P===n.rowDataTypesEnum.COMMERCIAL?s+=(0,a.timeToSeconds)(e.Duration):e.F_C_S_P===n.rowDataTypesEnum.PROMO?i+=(0,a.timeToSeconds)(e.Duration):e.F_C_S_P===n.rowDataTypesEnum.SONG&&(l+=(0,a.timeToSeconds)(e.Duration))})),r}catch(r){throw r}};return(0,l.jsxs)("div",{className:"h-full w-full flex flex-col bg-gray-800 p-3 pt-2 rounded-lg absolute top-0 left-0",style:{zIndex:t.current[n.featuresEnum.HOURWISE_INVENTORY]},children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("h5",{children:"Hourwise Inventory"}),(0,l.jsx)("div",{className:"flex gap-1.5",children:(0,l.jsx)(d.u,{title:"Close",children:(0,l.jsx)(d.zx,{size:"xs",icon:(0,l.jsx)(x.QAE,{}),onClick:()=>(0,s.FG)(r,n.featuresEnum.HOURWISE_INVENTORY)})})})]}),(0,l.jsx)("div",{className:"h-[92%] flex flex-col gap-3",children:b.length>0?(0,l.jsx)("div",{className:"grow overflow-auto no-scrollbar",children:(0,l.jsx)(c,{tableData:b,maxDuration:720})}):(0,l.jsx)(d.Zb,{className:"h-full",bodyClass:"h-full flex justify-center items-center",children:"No inventory to show"})})]})}}}]);
//# sourceMappingURL=6762.68fd666e.chunk.js.map