{"version":3,"file":"static/js/8315.6df7cc27.chunk.js","mappings":"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","sources":["views/Controls/Dashboard/CountdownTimer.js","views/Controls/ProgressionBar.js","views/Deal/DealDashBoard/component/ExpiringDeals.js","views/Controls/Dashboard/TabTable.js","views/Deal/DealDashBoard/component/TopAgencyClientTabs.js","views/Deal/DealDashBoard/component/SalesChart.js","views/Deal/DealDashBoard/Deal.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\n\r\nconst setTargetTime = (date, Name) => {\r\n  const targetTime = Name === 'Admin' ? new Date() : new Date(date);\r\n\r\n  if (Name === 'Admin') {\r\n    targetTime.setHours(23, 59, 0, 0);\r\n  } else {\r\n    targetTime.setHours(23, 59, 0, 0);\r\n  }\r\n\r\n  return targetTime;\r\n};\r\n\r\nconst CountdownTimer = ({ date, Name = '' }) => {\r\n  const calculateTimeLeft = useCallback(() => {\r\n    const now = new Date();\r\n    const targetTime = setTargetTime(date, Name);\r\n    const difference = targetTime - now;\r\n\r\n    if (difference > 0) {\r\n      return {\r\n        days: Math.floor(difference / (1000 * 60 * 60 * 24)),\r\n        hours: Math.floor(\r\n          (difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60),\r\n        ),\r\n        minutes: Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60)),\r\n        seconds: Math.floor((difference % (1000 * 60)) / 1000),\r\n      };\r\n    } else {\r\n      return { days: 0, hours: 0, minutes: 0, seconds: 0 };\r\n    }\r\n  }, [date, Name]);\r\n\r\n  const [timeLeft, setTimeLeft] = useState(calculateTimeLeft());\r\n\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      setTimeLeft(calculateTimeLeft());\r\n    }, 1000);\r\n\r\n    return () => clearInterval(timer);\r\n  }, [calculateTimeLeft]);\r\n\r\n  const timeUnits = [\r\n    { unit: 'Days', value: timeLeft.days },\r\n    { unit: 'Hours', value: timeLeft.hours },\r\n    { unit: 'Min', value: timeLeft.minutes },\r\n    { unit: 'Sec', value: timeLeft.seconds },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"flex justify-between mb-2\">\r\n      {timeUnits.map(({ unit, value }) => (\r\n        <div\r\n          key={unit}\r\n          className=\"text-center px-4 py-2 dark:bg-[#191F31] bg-[#191F31]` dark:text-[#307EF3] text-[#307EF3] min-w-[58px] mr-3\"\r\n        >\r\n          <p className=\"text-sm font-extrabold\">{value}</p>\r\n          <span className=\"text-[0.7rem] font-semibold  text-slate-400 dark:text-slate-400\">\r\n            {unit}\r\n          </span>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountdownTimer;\r\n","import React, { useMemo } from 'react'\r\nimport { Progress } from 'components/ui'\r\n\r\nconst ProgressionBar = ({ progression }) => {\r\n    const progressExtraProps = useMemo(() => {\r\n        if (progression < 100) {\r\n            return { color: 'green-500' }\r\n        }\r\n        if (progression == 100) {\r\n            return { color: 'blue-500' }\r\n        }\r\n\r\n        if (progression > 100) {\r\n            return { color: 'red-500' }\r\n        }\r\n\r\n        return {}\r\n    }, [progression])\r\n\r\n    return <Progress size=\"sm\" percent={progression} {...progressExtraProps} />\r\n}\r\n\r\nexport default ProgressionBar\r\n","import { Button, Tooltip } from 'components/ui';\r\nimport React from 'react'\r\nimport { BsInfoLg } from 'react-icons/bs';\r\nimport { MdAccessTime } from 'react-icons/md';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Slider from 'react-slick';\r\nimport { setContent } from 'store/base/commonSlice';\r\nimport CountdownTimer from 'views/Controls/Dashboard/CountdownTimer';\r\nimport ProgressionBar from 'views/Controls/ProgressionBar';\r\n\r\nconst ExpiringDeals = ({ deals, onShowDetails, }) => {\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n\r\n    return (\r\n        <div className=\"col-span-3 web-card px-5 py-3 slider-container h-[380px] dark:bg-[#1f2639] bg-[#fff]\">\r\n            <h6 className=\"pb-3 mt-3 flex items-center border-b border-gray-500\">\r\n                <MdAccessTime className=\"mr-2\" size={23} />\r\n                Expiring Deal\r\n            </h6>\r\n            <Slider\r\n                dots\r\n                infinite={deals.length > 1}\r\n                speed={500}\r\n                slidesToShow={deals.length > 1 ? 1 : deals.length}\r\n                slidesToScroll={1}\r\n            >\r\n                {deals.map((item, index) => (\r\n                    <div key={index}>\r\n                        <div className=\"ml-3\">\r\n                            <div className='flex items-center mt-5 mb-2'>\r\n                                <p className=\"text-base  font-semibold cursor-pointer dark:!text-white text-black\"\r\n                                    onClick={() => { dispatch(setContent(item)); navigate('/DealMasterAdd'); }}>\r\n                                    {item.DealCode}\r\n                                </p>\r\n                                <div className=\"ml-5\">\r\n                                    <Tooltip title=\"Show Details\">\r\n                                        <Button shape=\"circle\" icon={<BsInfoLg className=\"text-xs \" />} size=\"xs\"\r\n                                            className=\"!h-5 !w-5\" onClick={() => onShowDetails(item)} />\r\n                                    </Tooltip>\r\n                                </div>\r\n                            </div>\r\n                            <p className=\"text-2xl  font-semibold dark:!text-white text-black\">\r\n                                {item.CurrencySymbol}{item.TotalAmount?.toLocaleString('en-IN')}\r\n\r\n                            </p>\r\n                            <div className=\"flex mt-2 items-center text-sm font-medium px-2 py-3 dark:bg-[#21283b] bg-[#2e62f188] text-black dark:text-[#307EF3]\">\r\n                                {item.AgencyName}\r\n                            </div>\r\n                            <h1 className=\"text-xl mt-3 mb-4 font-semibold dark:!text-white text-black\">\r\n                                Deal Expires In\r\n                            </h1>\r\n                            <CountdownTimer date={item.DealPeriodToDate} />\r\n                            <ProgressionBar progression={Math.round((item.BalanceAmount / item.TotalAmount) * 100)}></ProgressionBar>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </Slider>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ExpiringDeals","import { Avatar, Tooltip } from 'components/ui';\r\nimport React from 'react';\r\n\r\nconst TabTable = ({ data, keyS, name }) => {\r\n  return (\r\n    <div className=\"mt-3\">\r\n      <div\r\n        className=\"flex justify-between items-center px-2 py-2 dark:!bg-[#191f31] bg-white\"\r\n        style={{\r\n          borderBottom: '1px solid #9d9d9d7a',\r\n        }}\r\n      >\r\n        <p className=\"font-semibold dark:!text-white text-black\">{name}</p>\r\n        <p className=\"font-semibold dark:!text-white text-black\">Amount</p>\r\n      </div>\r\n      <div\r\n        style={{ height: 250 }}\r\n        className=\"overflow-hidden hover:overflow-y-scroll  hover:overflow-x-scroll hover:pr-2\"\r\n      >\r\n        {data &&\r\n          data.map((item, index) => (\r\n            <div\r\n              key={index}\r\n              className=\"flex justify-between items-center px-1 py-2\"\r\n              style={{\r\n                borderBottom: '1px solid #9d9d9d7a',\r\n                borderStyle: 'dashed',\r\n              }}\r\n            >\r\n              <Tooltip title={item[keyS]} placement=\"top-start\">\r\n                <div className=\"flex items-center\">\r\n                  <Avatar\r\n                    size=\"sm\"\r\n                    className={`mr-2 dark:${item.color} ${item.color} dark:!text-white text-black`}\r\n                  >\r\n                    {item[keyS].slice(0, 1)}\r\n                  </Avatar>\r\n                  <p\r\n                    className=\"font-semibold text-xs dark:!text-white text-black\"\r\n                    style={{\r\n                      width: 160,\r\n                      whiteSpace: 'nowrap',\r\n                      overflow: 'hidden',\r\n                      textOverflow: 'ellipsis',\r\n                    }}\r\n                  >\r\n                    {item[keyS]}\r\n                  </p>\r\n                </div>\r\n              </Tooltip>\r\n              <p className=\"font-semibold text-md dark:!text-white text-black\">\r\n                â‚¹{item.TotalAmount?.toLocaleString('en-IN')}.00\r\n              </p>\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TabTable;\r\n","import React from 'react'\r\nimport { Tabs } from 'components/ui'\r\nimport TabTable from 'views/Controls/Dashboard/TabTable'\r\nimport { BsBuildingsFill, BsPersonSquare } from 'react-icons/bs'\r\n\r\nconst { TabNav, TabList, TabContent } = Tabs;\r\n\r\nconst TopAgencyClientTabs = ({ topAgencies, topClients }) => {\r\n    return (\r\n        <div\r\n            style={{\r\n                borderRadius: '.5rem',\r\n                padding: '10px',\r\n            }}\r\n            className=\"col-span-3 web-card dark:!bg-[#1f2639] !bg-[#fff] px-5 py-3\"\r\n        >\r\n            <Tabs defaultValue=\"tab1\">\r\n                <TabList>\r\n                    <TabNav value=\"tab1\" icon={<BsBuildingsFill />}>\r\n                        Top Agency\r\n                    </TabNav>\r\n                    <TabNav value=\"tab2\" icon={<BsPersonSquare />}>\r\n                        Top Client\r\n                    </TabNav>\r\n                </TabList>\r\n                <div className=\"px-4\">\r\n                    <TabContent value=\"tab1\">\r\n                        <TabTable\r\n                            data={topAgencies}\r\n                            keyS=\"AgencyName\"\r\n                            name=\"Agency Name\"\r\n                        />\r\n                    </TabContent>\r\n                    <TabContent value=\"tab2\">\r\n                        <TabTable\r\n                            data={topClients}\r\n                            keyS=\"ClientName\"\r\n                            name=\"Client Name\"\r\n                        />\r\n                    </TabContent>\r\n                </div>\r\n            </Tabs>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TopAgencyClientTabs","import React, { useMemo } from 'react';\r\nimport { FaChartBar } from 'react-icons/fa';\r\nimport ApexChart from 'react-apexcharts';\r\n\r\nconst SalesChart = ({ salesData = [], chartRef }) => {\r\n    const chartOptions = useMemo(() => ({\r\n        plotOptions: {\r\n            bar: {\r\n                horizontal: false,\r\n                columnWidth: '30%',\r\n                borderRadius: 4,\r\n            },\r\n        },\r\n        colors: ['#4675bb'],\r\n        dataLabels: {\r\n            enabled: false,\r\n        },\r\n        stroke: {\r\n            show: true,\r\n            width: 2,\r\n            colors: ['transparent'],\r\n        },\r\n        xaxis: {\r\n            categories: salesData.length > 0 ? salesData[0]?.monthNames || [] : [],\r\n        },\r\n        fill: {\r\n            opacity: 0.9,\r\n        },\r\n        tooltip: {\r\n            y: {\r\n                formatter: (val) => `${val} Lakh`,\r\n            },\r\n        },\r\n    }), [salesData]);\r\n\r\n    return (\r\n        <div className=\"col-span-3 web-card dark:!bg-[#1f2639] !bg-[#fff] px-2 py-2  h-[380px]\">\r\n            <h6 className=\"pb-3 mt-3 flex items-center border-b border-gray-600\">\r\n                <FaChartBar className=\"mr-2\" size={23} />\r\n                Sales In Month <span className=\"text-xs ml-2\">[Lakh]</span>\r\n            </h6>\r\n            {salesData.length > 0 ? (\r\n                <ApexChart\r\n                    ref={chartRef}\r\n                    options={chartOptions}\r\n                    series={salesData}\r\n                    height=\"85%\"\r\n                    width=\"100%\"\r\n                    type=\"bar\"\r\n                />\r\n            ) : (\r\n                <p className=\"text-center text-gray-500 mt-10\">No sales data available</p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SalesChart;\r\n","import React, { useEffect, useRef, useState, useCallback } from 'react';\r\nimport { apiCallstoreprocedure } from 'services/CommonService';\r\nimport DashboardShortcutCards from 'views/Controls/Dashboard/DashboardShortcutCards';\r\nimport { DEAL_DASHBOARD_SHORTCUTS } from 'views/Controls/Dashboard/constants/dashboardShortcuts';\r\nimport { useSelector } from 'react-redux';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport DashboardHeader from 'views/Controls/Dashboard/DashboardHeader';\r\nimport DealDetailsDialog from 'views/Controls/DealDetailsDialog/DealDetailsDialog';\r\nimport { getRandomColorClass } from 'views/Billing/BillGeneration/dtat';\r\nimport ExpiringDeals from './component/ExpiringDeals';\r\nimport TopAgencyClientTabs from './component/TopAgencyClientTabs';\r\nimport SalesChart from './component/SalesChart';\r\n/* CONSTANTS */\r\nconst MONTHS = [\r\n  { id: '01', name: 'Jan' }, { id: '02', name: 'Feb' }, { id: '03', name: 'Mar' },\r\n  { id: '04', name: 'Apr' }, { id: '05', name: 'May' }, { id: '06', name: 'Jun' },\r\n  { id: '07', name: 'Jul' }, { id: '08', name: 'Aug' }, { id: '09', name: 'Sep' },\r\n  { id: '10', name: 'Oct' }, { id: '11', name: 'Nov' }, { id: '12', name: 'Dec' }\r\n];\r\n\r\n\r\n\r\nconst Deal = () => {\r\n  /* REDUX */\r\n  const chartRef = useRef(null);\r\n  const Channel = useSelector((state) => state.locale.selectedChannel);\r\n\r\n  /* STATES */\r\n  const [topClients, setTopClients] = useState([]);\r\n  const [topAgencies, setTopAgencies] = useState([]);\r\n  const [salesData, setSalesData] = useState([{ monthNames: [] }]);\r\n  const [expiringDeals, setExpiringDeals] = useState([]);\r\n  const [isDealDetailsDialogOpen, setIsDealDetailsDialogOpen] = useState(false);\r\n  const [selectedDeal, setSelectedDeal] = useState({ DealNumber: '', DealCode: '' });\r\n\r\n  /* HELPER FUNCTIONS */\r\n  const fetchData = useCallback(async () => {\r\n    if (!Channel) return;\r\n    const params = {\r\n      par_LocationCode: Channel.LocationCode,\r\n      par_ChannelCode: Channel.ChannelCode\r\n    };\r\n    try {\r\n      const [clientsRes, agenciesRes, salesRes, dealsRes] = await Promise.allSettled([\r\n        apiCallstoreprocedure('USP_DEAL_GetTopAgencyClient', { ...params, par_Flag: 'CLIENT' }),\r\n        apiCallstoreprocedure('USP_DEAL_GetTopAgencyClient', { ...params, par_Flag: 'AGENCY' }),\r\n        apiCallstoreprocedure('usp_Deal_GetMonthlySales', params),\r\n        apiCallstoreprocedure('USP_DEAL_GetExpiringDeal', params)\r\n      ]);\r\n      if (clientsRes.status === 'fulfilled' && clientsRes.value?.data) {\r\n        const setTagColorForClient = clientsRes.value.data.map((item) => ({ color: getRandomColorClass(), ...item }));\r\n        setTopClients(setTagColorForClient);\r\n      } else {\r\n        console.error('Failed to fetch Top Clients:', clientsRes.reason);\r\n      }\r\n      if (agenciesRes.status === 'fulfilled' && agenciesRes.value?.data) {\r\n        const setTagColorForAgencies = agenciesRes.value.data.map((item) => ({ color: getRandomColorClass(), ...item }));\r\n        setTopAgencies(setTagColorForAgencies);\r\n\r\n      } else {\r\n        console.error('Failed to fetch Top Agencies:', agenciesRes.reason);\r\n      }\r\n      if (salesRes.status === 'fulfilled' && salesRes.value?.data) {\r\n        setSalesData([\r\n          {\r\n            name: 'Revenue',\r\n            data: salesRes.value.data.map(item => item.TotalSalesAmount),\r\n            monthNames: salesRes.value.data.map(item => getMonthName(item.SalesMonth)).filter(Boolean)\r\n          }\r\n        ]);\r\n      } else {\r\n        console.error('Failed to fetch Sales Data:', salesRes.reason);\r\n      }\r\n      if (dealsRes.status === 'fulfilled') {\r\n        if (dealsRes.value?.status === 204) {\r\n          setExpiringDeals([]);\r\n        } else if (dealsRes.value?.status === 200) {\r\n          setExpiringDeals(dealsRes.value.data.slice(0, 3));\r\n        }\r\n      } else {\r\n        console.error('Failed to fetch Expiring Deals:', dealsRes.reason);\r\n        if (dealsRes.reason?.response?.status === 404) {\r\n          openNotification('warning', 'Deal Not Found');\r\n        }\r\n        setExpiringDeals([]);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Unexpected error in fetchData:', error);\r\n    }\r\n  }, [Channel]);\r\n\r\n  const handleShowDetails = (deal) => {\r\n    setSelectedDeal({ DealNumber: deal.DealNumber, DealCode: deal.DealCode });\r\n    setIsDealDetailsDialogOpen(true);\r\n  };\r\n\r\n  const getMonthName = (id) => MONTHS.find((m) => m.id === id)?.name || null;\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [fetchData]);\r\n\r\n  useEffect(() => {\r\n    if (chartRef.current?.chart) {\r\n      chartRef.current.chart.windowResizeHandler();\r\n    }\r\n  }, [salesData]);\r\n\r\n  return (\r\n    <div>\r\n      <DashboardHeader Name=\"Deal Dashboard\" Page=\"Deal\" Links=\"Deal\" />\r\n      <div className={`grid grid-cols-${DEAL_DASHBOARD_SHORTCUTS.length} gap-4`}>\r\n        <DashboardShortcutCards shortcuts={DEAL_DASHBOARD_SHORTCUTS} />\r\n      </div>\r\n      <div className=\"grid grid-cols-9 gap-4\">\r\n        <ExpiringDeals deals={expiringDeals} onShowDetails={handleShowDetails} />\r\n        <TopAgencyClientTabs topAgencies={topAgencies} topClients={topClients} />\r\n        <SalesChart salesData={salesData} chartRef={chartRef} />\r\n      </div>\r\n      {isDealDetailsDialogOpen && (\r\n        <DealDetailsDialog\r\n          isDialogOpen={isDealDetailsDialogOpen}\r\n          setIsDialogOpen={setIsDealDetailsDialogOpen}\r\n          dealNumber={selectedDeal.DealNumber}\r\n          dealCode={selectedDeal.DealCode}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default Deal;\r\n"],"names":["date","Name","calculateTimeLeft","useCallback","now","Date","targetTime","setHours","setTargetTime","difference","days","Math","floor","hours","minutes","seconds","timeLeft","setTimeLeft","useState","useEffect","timer","setInterval","clearInterval","timeUnits","unit","value","className","map","progression","progressExtraProps","useMemo","color","size","percent","deals","onShowDetails","navigate","useNavigate","dispatch","useDispatch","dots","infinite","length","speed","slidesToShow","slidesToScroll","item","index","onClick","setContent","DealCode","title","shape","icon","CurrencySymbol","TotalAmount","toLocaleString","AgencyName","CountdownTimer","DealPeriodToDate","ProgressionBar","round","BalanceAmount","data","keyS","name","style","borderBottom","height","borderStyle","placement","slice","width","whiteSpace","overflow","textOverflow","TabNav","TabList","TabContent","Tabs","topAgencies","topClients","borderRadius","padding","defaultValue","salesData","chartRef","chartOptions","plotOptions","bar","horizontal","columnWidth","colors","dataLabels","enabled","stroke","show","xaxis","categories","monthNames","fill","opacity","tooltip","y","formatter","val","ref","options","series","type","MONTHS","id","useRef","Channel","useSelector","state","locale","selectedChannel","setTopClients","setTopAgencies","setSalesData","expiringDeals","setExpiringDeals","isDealDetailsDialogOpen","setIsDealDetailsDialogOpen","selectedDeal","setSelectedDeal","DealNumber","fetchData","async","params","par_LocationCode","LocationCode","par_ChannelCode","ChannelCode","clientsRes","agenciesRes","salesRes","dealsRes","Promise","allSettled","apiCallstoreprocedure","par_Flag","status","setTagColorForClient","getRandomColorClass","console","error","reason","setTagColorForAgencies","TotalSalesAmount","getMonthName","SalesMonth","filter","Boolean","response","openNotification","find","m","current","chart","windowResizeHandler","DashboardHeader","Page","Links","DEAL_DASHBOARD_SHORTCUTS","DashboardShortcutCards","shortcuts","deal","DealDetailsDialog","isDialogOpen","setIsDialogOpen","dealNumber","dealCode"],"sourceRoot":""}