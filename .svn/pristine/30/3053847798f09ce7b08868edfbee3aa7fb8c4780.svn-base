"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[4372],{26297:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(1413),n=s(2803),r=s(72791),i=s(11308),c=s(96361),l=s(46657),u=s(60364),o=s(4621),d=s(32640),m=s(80184);const h=()=>{const e=(0,u.useSelector)((e=>e.auth.session.token)),t=(0,r.useRef)(0);function s(e,t){n.Am.push((0,m.jsx)(n.P_,{closable:!0,type:t,duration:1e3,title:t.charAt(0).toUpperCase()+t.slice(1),children:e}))}const[h,b]=(0,r.useState)(""),[f,x]=(0,r.useState)(!1),[N,p]=(0,r.useState)(""),[g,U]=(0,r.useState)(!1),[v,y]=(0,r.useState)(),A=(0,r.useRef)(null),[S,j]=(0,r.useState)();(0,r.useEffect)((()=>{t.current=t.current+1,1==t.current&&(async e=>{const t=[...(await(0,i.e5)()).data].reverse().map(((e,t)=>(0,a.Z)((0,a.Z)({},e),{},{serialNumber:t+1})));j(t)})()}),[]);const w=t=>{console.log("Unit",S);const a=[...S];let n=a[t];n.IsActive=1==n.IsActive?0:1,(0,i.uA)(n,e).then((e=>204==e.status?(console.log(e),s("Data Already Exists.","warning"),null):(200==e.status&&s("Data Updated Succesfully","success"),e.json()))).then((e=>{e.serialNumber=n.serialNumber,e.IsActive=n.IsActive,e.UnitNumber=n.UnitNumber,e.ShortName=n.ShortName,a[t]=e,j(a),s("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},I=[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"UnitNumber",header:"UnitNumber",width:"20%"}];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.F,{ref:A}),(0,m.jsx)(o.Q,{group:"declarative",visible:g,onHide:()=>U(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{w(v)}}),(0,m.jsx)(n.Zb,{header:(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("div",{children:(0,m.jsx)("span",{className:"flex items-center",children:(0,m.jsx)(c.Z,{ModuleText:"Programming",Component:"Unit"})})}),(0,m.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}}),(0,m.jsx)("div",{})]}),headerExtra:(0,d.W)(N,p,x,f,(()=>{if(h){const t={UnitNumber:h,ShortName:h.substring(0,2),IsActive:1};(0,i.fs)(t,e).then((e=>{204==e.status&&s("Data Already Exists.","warning"),200==e.status&&(t.serialNumber=S.length+1,j((e=>[...e,t])),s("Data Added Succesfully","success")),b(""),x(!1)})).catch((e=>{console.log(e)}))}else s("Kindly Enter Unit In Sec","danger")}),h,b,"Unit",S,I),bodyClass:"text-center",children:(0,m.jsx)(d.Z,{data:S,onRowEditComplete:t=>{let a=[...S],{newData:n,index:r}=t;a[r].UnitNumber=n.UnitNumber,a[r].IsActive=n.IsActive,n.UnitNumber&&(0,i.uA)(n,e).then((e=>204==e.status?(s("Data Already Exists.","warning"),null):(200==e.status&&s("Data Updated Succesfully","success"),e.json()))).then((e=>{a[r]=e,a[r].serialNumber=n.serialNumber,a[r].UnitNumber=n.UnitNumber,a[r].IsActive=n.IsActive,j(a),s("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},globalFilter:N,dataKey:"UnitID",columns:I,setyup:y,scrollHeight:"70vh",setVisible:U})})]})}}}]);
//# sourceMappingURL=4372.14266323.chunk.js.map