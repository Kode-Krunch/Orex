{"version":3,"file":"static/js/3664.c0dd8c13.chunk.js","mappings":"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","sources":["views/Controls/Dashboard/LineBifurcationCard.js","views/Controls/Loader.js","views/NTC/Ntc.js"],"sourcesContent":["import { Progress } from 'components/ui';\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { FaChevronLeft, FaChevronRight } from 'react-icons/fa';\r\nimport { CurrencyFormatter } from '../GLOBALFUNACTION';\r\n\r\nfunction LineBifurcationCard({\r\n  title,\r\n  total,\r\n  data,\r\n  setCurrentDate,\r\n  currentDate,\r\n}) {\r\n  //Constant\r\n\r\n  const handlePreviousMonth = () => {\r\n    const previousMonth = new Date(currentDate);\r\n    previousMonth.setDate(previousMonth.getDate() - 1);\r\n    previousMonth.setMonth(previousMonth.getMonth());\r\n    setCurrentDate(previousMonth);\r\n  };\r\n  const handleNextMonth = () => {\r\n    const nextMonth = new Date(currentDate);\r\n    nextMonth.setDate(nextMonth.getDate() + 1);\r\n    nextMonth.setMonth(nextMonth.getMonth());\r\n    setCurrentDate(nextMonth);\r\n  };\r\n\r\n  const color = [\r\n    { color: 'blue-500' },\r\n    { color: 'yellow-500' },\r\n    { color: 'green-500' },\r\n    { color: 'red-500' },\r\n  ];\r\n  return (\r\n    <div className=\"h-full flex flex-col\">\r\n      <h4 className=\"mb-4\">{title}</h4>\r\n\r\n      <div className=\"flex justify-between items-center col-span-3 mb-2\">\r\n        <div\r\n          className=\"p-2 rounded hover:bg-sky-700  cursor-pointer\"\r\n          onClick={handlePreviousMonth}\r\n        >\r\n          <FaChevronLeft />\r\n        </div>\r\n        <div className=\"flex mb-0 mt-0\">\r\n          <p\r\n            style={{\r\n              fontSize: 16,\r\n              // color: 'wheat',\r\n              fontWeight: '600',\r\n            }}\r\n            className=\"dark:!text-amber-400 !text-amber-400 \"\r\n          >\r\n            {currentDate.toLocaleDateString('en-US', {\r\n              weekday: 'long',\r\n            })}\r\n          </p>\r\n\r\n          <p\r\n            style={{\r\n              fontSize: 16,\r\n              fontWeight: '600',\r\n              marginLeft: 5,\r\n            }}\r\n            className=\"dark:!text-gray-400 !text-gray-600\"\r\n          >\r\n            ,{' '}\r\n            {currentDate.toLocaleDateString('en-US', {\r\n              day: 'numeric',\r\n            })}{' '}\r\n            {currentDate.toLocaleDateString('en-US', {\r\n              year: 'numeric',\r\n              month: 'long',\r\n            })}\r\n          </p>\r\n        </div>\r\n        <div\r\n          className=\"p-2 rounded hover:bg-sky-700  cursor-pointer\"\r\n          onClick={handleNextMonth}\r\n        >\r\n          <FaChevronRight />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grow overflow-hidden hover:overflow-y-scroll mt-2\">\r\n        {data.map((curData, index) => (\r\n          <div className={index !== 0 ? 'mt-5' : ''}>\r\n            <div className=\"flex items-center mb-2\">\r\n              <h6 className=\"text-sm\">\r\n                {<CurrencyFormatter amountString={curData.RevenueAmount} />}\r\n              </h6>\r\n              <p\r\n                className=\"ml-2 font-regular\"\r\n                style={{ fontSize: 13, color: '#9B9B9B' }}\r\n              >\r\n                ({curData.FieldType})\r\n              </p>\r\n            </div>\r\n            <Progress\r\n              percent={(curData.RevenueAmount * total.value) / 100}\r\n              color={color[index]?.color}\r\n              customInfo={<></>}\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"flex items-baseline mb-1 mt-2\">\r\n        <h6\r\n          style={{ color: 'rgba(255, 255, 255, 0.8)' }}\r\n          className=\"font-semibold text-xl\"\r\n        >\r\n          {<CurrencyFormatter amountString={total.value} />}\r\n        </h6>\r\n        <p\r\n          className=\"ml-2 font-regular text-sm\"\r\n          style={{ color: 'rgba(255, 255, 255, 0.8)' }}\r\n        >\r\n          ({total.label})\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LineBifurcationCard;\r\n","import { Spinner } from 'components/ui';\r\nimport React from 'react';\r\n\r\nfunction Loader({ showLoader }) {\r\n  return (\r\n    <>\r\n      {showLoader ? (\r\n        <div className=\"dialog-overlay flex justify-center items-center z-50\">\r\n          <Spinner size=\"3.25rem\" />\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { LuCalendarCheck2 } from 'react-icons/lu';\r\nimport ApexChart from 'react-apexcharts';\r\nimport DashboardShortcutCards from 'views/Controls/Dashboard/DashboardShortcutCards';\r\nimport LineBifurcationCard from 'views/Controls/Dashboard/LineBifurcationCard';\r\nimport DashboardHeader from 'views/Controls/Dashboard/DashboardHeader';\r\nimport { apiCallstoreprocedure } from 'services/CommonService';\r\nimport { Month, TW_COLORS } from 'views/Controls/Dashboard/constants/tw_colors';\r\nimport { NTC_DASHBOARD_SHORTCUTS } from 'views/Controls/Dashboard/constants/dashboardShortcuts';\r\nimport { format } from 'date-fns';\r\nimport Loader from 'views/Controls/Loader';\r\nimport { FaChevronLeft, FaChevronRight } from 'react-icons/fa';\r\n\r\nconst getWeekRange = (startDate) => {\r\n  const start = new Date(startDate);\r\n  const end = new Date(start);\r\n\r\n  // Set end to the last day of the week (Saturday)\r\n  end.setDate(start.getDate() + (6 - start.getDay()));\r\n\r\n  // Format dates as \"YYYY-MM-DD\"\r\n  const formatDate = (date) => date.toISOString().split('T')[0];\r\n\r\n  return {\r\n    start: formatDate(start),\r\n    end: formatDate(end),\r\n  };\r\n};\r\nconst mapMonthIdToName = (id, RevenueYear) =>\r\n  Month.find((m) => m.id === id)?.name + '-' + RevenueYear || null;\r\n\r\nconst Ntc = () => {\r\n  const sDate = new Date();\r\n  sDate.setDate(sDate.getDate());\r\n  const [currentDate, setCurrentDate] = useState(sDate);\r\n\r\n  const currentWeekStart = new Date(\r\n    sDate.setDate(sDate.getDate() - sDate.getDay()),\r\n  );\r\n\r\n  const [showLoader, setShowLoader] = useState(false);\r\n  const [weekRange, setWeekRange] = useState(\r\n    getWeekRange(currentWeekStart.toISOString().split('T')[0]),\r\n  );\r\n\r\n  const goToNextWeek = () => {\r\n    const newStart = new Date(weekRange.start);\r\n    newStart.setDate(newStart.getDate() + 7);\r\n    setWeekRange(getWeekRange(newStart.toISOString().split('T')[0]));\r\n  };\r\n\r\n  const goToPreviousWeek = () => {\r\n    const newStart = new Date(weekRange.start);\r\n    newStart.setDate(newStart.getDate() - 7);\r\n    setWeekRange(getWeekRange(newStart.toISOString().split('T')[0]));\r\n  };\r\n\r\n  const channel = useSelector((state) => state.locale.selectedChannel);\r\n  const [bookingsChart, setBookingsChart] = useState({\r\n    options: {},\r\n    series: [],\r\n  });\r\n  const [inventoryLeftChart, setInventoryLeftChart] = useState({\r\n    options: {},\r\n    series: [],\r\n  });\r\n  const [todaysSummaryCard, setTodaysSummaryCard] = useState({\r\n    title: '',\r\n    total: {},\r\n    data: [],\r\n  });\r\n  useEffect(() => {\r\n    GetRevenueData();\r\n  }, [currentDate, channel]);\r\n\r\n  const GetRevenueData = async () => {\r\n    const { data: todaySummaryData } = await apiCallstoreprocedure(\r\n      'GetTodayRevenueSummary',\r\n      {\r\n        LocationCode: channel.LocationCode,\r\n        ChannelCode: channel.ChannelCode,\r\n        par_NTCFlag: 1,\r\n        ScheduleDate: currentDate,\r\n      },\r\n    );\r\n\r\n    const totalRevenueData = todaySummaryData.find(\r\n      (item) => item.FieldType === 'Total Revenue',\r\n    );\r\n    const summaryData = todaySummaryData.filter(\r\n      (item) => item.FieldType !== 'Total Revenue',\r\n    );\r\n\r\n    setTodaysSummaryCard({\r\n      title: `Today's Summary`,\r\n      total: {\r\n        label: `Total Revenue`,\r\n        value: totalRevenueData?.RevenueAmount || 'N/A',\r\n      },\r\n      data: summaryData,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setShowLoader(true);\r\n      try {\r\n        const { data: monthlyBookedData, status: todayBookStatus } =\r\n          await apiCallstoreprocedure('GetMonthlyBookedRevenue', {\r\n            LocationCode: channel.LocationCode,\r\n            ChannelCode: channel.ChannelCode,\r\n            par_NTCFlag: 1,\r\n          });\r\n\r\n        if (todayBookStatus == 204) {\r\n          setBookingsChart({\r\n            options: {},\r\n            series: [],\r\n          });\r\n          setInventoryLeftChart({\r\n            options: {},\r\n            series: [],\r\n          });\r\n          setShowLoader(false);\r\n          return;\r\n        }\r\n\r\n        const monthNames = monthlyBookedData\r\n          .map((item) => mapMonthIdToName(item.RevenueMonth, item.RevenueYear))\r\n          .filter(Boolean);\r\n        const revenueData = monthlyBookedData.map((item) => item.BookedRevenue);\r\n\r\n        setBookingsChart({\r\n          options: {\r\n            tooltip: { y: { formatter: (val) => `${val} Lakhs` } },\r\n            chart: {\r\n              toolbar: { show: false },\r\n              dropShadow: {\r\n                enabled: true,\r\n                color: '#000',\r\n                top: 18,\r\n                left: 7,\r\n                blur: 10,\r\n                opacity: 0.2,\r\n              },\r\n              zoom: { enabled: false },\r\n            },\r\n            xaxis: { categories: monthNames, axisTicks: { show: false } },\r\n            stroke: { curve: 'smooth' },\r\n            dataLabels: {\r\n              enabled: false,\r\n              style: { color: TW_COLORS.gray['400'], fontWeight: 400 },\r\n              background: { borderColor: TW_COLORS.gray['400'] },\r\n            },\r\n            legend: { show: true, markers: { strokeWidth: 0 } },\r\n          },\r\n          series: [{ name: 'Bookings', data: revenueData }],\r\n        });\r\n        setShowLoader(false);\r\n        const { data: inventoryData, status: todaySummaryStatus } =\r\n          await apiCallstoreprocedure('GetBookvsAvailableInvStatus', {\r\n            LocationCode: channel.LocationCode,\r\n            ChannelCode: channel.ChannelCode,\r\n            par_NTCFlag: 1,\r\n            par_FromTelecastDate: weekRange.start,\r\n            par_ToTelecastDate: weekRange.end,\r\n          });\r\n\r\n        if (todaySummaryStatus == 204) {\r\n          setInventoryLeftChart({\r\n            options: {},\r\n            series: [],\r\n          });\r\n          return;\r\n        }\r\n\r\n        const extractDays = (data) =>\r\n          data.map((item) => format(new Date(item.ScheduleDate), 'dd-MMM'));\r\n\r\n        setInventoryLeftChart({\r\n          options: {\r\n            chart: { stacked: true, toolbar: { show: false } },\r\n            plotOptions: {\r\n              bar: {\r\n                columnWidth: '40%',\r\n                horizontal: false,\r\n                borderRadius: 4,\r\n                borderRadiusApplication: 'end',\r\n                borderRadiusWhenStacked: 'last',\r\n              },\r\n            },\r\n            dataLabels: {\r\n              enabled: false,\r\n              style: { color: TW_COLORS.gray['300'], fontWeight: 400 },\r\n            },\r\n            xaxis: {\r\n              categories: extractDays(inventoryData),\r\n              axisTicks: { show: false },\r\n            },\r\n            legend: { markers: { strokeWidth: 0 } },\r\n          },\r\n          series: [\r\n            {\r\n              name: 'Booked',\r\n              data: inventoryData.map((item) => item.ConsumedInventory),\r\n              color: '#b69f15',\r\n            },\r\n            {\r\n              name: 'Available',\r\n              data: inventoryData.map((item) => item.BalanceInventory),\r\n              color: '#4675bb',\r\n            },\r\n          ],\r\n        });\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n        setShowLoader(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [channel, weekRange]);\r\n\r\n  const bookingsChartRef = useRef(null);\r\n  const inventoryLeftChartRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (bookingsChartRef.current && inventoryLeftChartRef.current) {\r\n      bookingsChartRef.current.chart.windowResizeHandler();\r\n      inventoryLeftChartRef.current.chart.windowResizeHandler();\r\n    }\r\n  }, [bookingsChart, inventoryLeftChart, channel]);\r\n\r\n  return (\r\n    <>\r\n      <Loader showLoader={showLoader} />\r\n      <DashboardHeader Name={'NTC Dashboard'} Page={'NTC'} Links={'Ntc'} />\r\n\r\n      <div className={`grid grid-cols-${NTC_DASHBOARD_SHORTCUTS.length} gap-4`}>\r\n        <DashboardShortcutCards shortcuts={NTC_DASHBOARD_SHORTCUTS} />\r\n      </div>\r\n      <div className=\"grid grid-cols-9 gap-4\">\r\n        <div className=\"col-span-3 web-card pb-1 pt-3.5 mb-0 px-2 dark:!bg-[#1f2639] !bg-[#fff] \">\r\n          <h4\r\n            className=\"pb-3 flex items-center px-2 dark:!text-gray-400 !text-black\"\r\n            style={{ borderBottom: '1px solid #595959' }}\r\n          >\r\n            <LuCalendarCheck2 className=\"mr-2\" size={23} /> Bookings\r\n          </h4>\r\n          <p className=\"mt-3 pl-4 dark:!text-gray-400 !text-black\">\r\n            {bookingsChart.series[0]?.data.length} months\r\n          </p>\r\n          <ApexChart\r\n            ref={bookingsChartRef}\r\n            options={bookingsChart.options}\r\n            series={bookingsChart.series}\r\n            type=\"line\"\r\n            width=\"100%\"\r\n          />\r\n        </div>\r\n        <div className=\"col-span-3 web-card p-3.5 h-full  mb-0 dark:!bg-[#1f2639] !bg-[#fff]\">\r\n          <LineBifurcationCard\r\n            title={todaysSummaryCard.title}\r\n            total={todaysSummaryCard.total}\r\n            data={todaysSummaryCard.data}\r\n            setCurrentDate={setCurrentDate}\r\n            currentDate={currentDate}\r\n          />\r\n        </div>\r\n        <div className=\"col-span-3 web-card pt-3.5 pb-1 mb-0 dark:!bg-[#1f2639] !bg-[#fff]\">\r\n          <h4 className=\"px-3.5\">Inventory</h4>\r\n\r\n          <div className=\"flex justify-between items-center col-span-3 mb-2 px-4\">\r\n            <div\r\n              className=\"p-2 rounded bg-black dark:bg-sky-700  hover:bg-sky-700  cursor-pointer\"\r\n              onClick={goToPreviousWeek}\r\n            >\r\n              <FaChevronLeft />\r\n            </div>\r\n\r\n            <div\r\n              className=\"p-2 rounded bg-black  dark:bg-sky-700  hover:bg-sky-700  cursor-pointer\"\r\n              onClick={goToNextWeek}\r\n            >\r\n              <FaChevronRight />\r\n            </div>\r\n          </div>\r\n          <ApexChart\r\n            ref={inventoryLeftChartRef}\r\n            options={inventoryLeftChart.options}\r\n            series={inventoryLeftChart.series}\r\n            type=\"bar\"\r\n            width=\"100%\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Ntc;\r\n"],"names":["title","total","data","setCurrentDate","currentDate","color","className","onClick","previousMonth","Date","setDate","getDate","setMonth","getMonth","style","fontSize","fontWeight","toLocaleDateString","weekday","marginLeft","day","year","month","nextMonth","map","curData","index","CurrencyFormatter","amountString","RevenueAmount","FieldType","percent","value","customInfo","label","showLoader","size","getWeekRange","startDate","start","end","getDay","formatDate","date","toISOString","split","sDate","useState","currentWeekStart","setShowLoader","weekRange","setWeekRange","channel","useSelector","state","locale","selectedChannel","bookingsChart","setBookingsChart","options","series","inventoryLeftChart","setInventoryLeftChart","todaysSummaryCard","setTodaysSummaryCard","useEffect","GetRevenueData","async","todaySummaryData","apiCallstoreprocedure","LocationCode","ChannelCode","par_NTCFlag","ScheduleDate","totalRevenueData","find","item","summaryData","filter","monthlyBookedData","status","todayBookStatus","monthNames","id","RevenueYear","Month","m","name","mapMonthIdToName","RevenueMonth","Boolean","revenueData","BookedRevenue","tooltip","y","formatter","val","chart","toolbar","show","dropShadow","enabled","top","left","blur","opacity","zoom","xaxis","categories","axisTicks","stroke","curve","dataLabels","TW_COLORS","background","borderColor","legend","markers","strokeWidth","inventoryData","todaySummaryStatus","par_FromTelecastDate","par_ToTelecastDate","extractDays","format","stacked","plotOptions","bar","columnWidth","horizontal","borderRadius","borderRadiusApplication","borderRadiusWhenStacked","ConsumedInventory","BalanceInventory","error","console","fetchData","bookingsChartRef","useRef","inventoryLeftChartRef","current","windowResizeHandler","Name","Page","Links","NTC_DASHBOARD_SHORTCUTS","shortcuts","borderBottom","length","ref","type","width","newStart"],"sourceRoot":""}