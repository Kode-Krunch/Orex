/*! For license information please see 5244.0bb2d164.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[5244],{14509:(e,t,n)=>{n.d(t,{Z:()=>b});var s=n(1413),a=n(45987),o=n(72791),l=n(81694),r=n.n(l),i=n(52007),c=n.n(i),d=n(81358),u=n(60676),m=n(45743),h=n(53388),x=n(66364),g=n.n(x),f=n(42854),v=n.n(f),p=n(26181),C=n.n(p),j=n(58617),N=n(80184);const S=["asElement","className","disabled","invalid","prefix","size","suffix","textArea","type","style","unstyle","field","form"],y=o.forwardRef(((e,t)=>{var n,l;const{asElement:i,className:c,disabled:x,invalid:f,prefix:p,size:y,suffix:b,textArea:w,type:E,style:I,unstyle:k,field:z,form:D}=e,F=(0,a.Z)(e,S),[R,A]=(0,o.useState)(0),[T,M]=(0,o.useState)(0),[O,L]=(0,o.useState)(!1),[Z,U]=(0,o.useState)(e.value||""),{themeColor:V,controlSize:B,primaryColorLevel:H,direction:P}=(0,d.ZR)(),q=null===(n=(0,u.cI)())||void 0===n?void 0:n.size,J=null===(l=(0,m.J2)())||void 0===l?void 0:l.size,K=y||J||q||B;var W;"value"in e&&(F.value="undefined"===typeof(W=e.value)||null===W?"":W,delete F.defaultValue);const _=(0,o.useMemo)((()=>{let e=!1;if(!g()(D)){const{touched:t,errors:n}=D,s=C()(t,null===z||void 0===z?void 0:z.name),a=C()(n,null===z||void 0===z?void 0:z.name);e=s&&a}return"boolean"===typeof f&&(e=f),e}),[D,f,z]),G="input-".concat(K," h-").concat(h.WS[K]),Y="focus:ring-".concat(V,"-").concat(H," focus-within:ring-").concat(V,"-").concat(H," focus-within:border-").concat(V,"-").concat(H," focus:border-").concat(V,"-").concat(H),X="input-wrapper ".concat(p||b?c:""),Q=r()("input",!w&&G,!_&&Y,p||b?"":c,x&&"input-disabled",_&&"input-invalid",w&&"input-textarea"),$=(0,o.useRef)(),ee=(0,o.useRef)(),te=(0,o.useRef)(),ne=(0,o.useRef)();(0,o.useEffect)((()=>{(()=>{var e,t;if(!$.current&&!ee.current)return;const n=null===$||void 0===$||null===(e=$.current)||void 0===e?void 0:e.offsetWidth,s=null===ee||void 0===ee||null===(t=ee.current)||void 0===t?void 0:t.offsetWidth;v()(n)&&v()(s)||(n&&A(n),s&&M(s))})()}),[p,b]),(0,o.useEffect)((()=>{if("webkitSpeechRecognition"in window){const t=new window.webkitSpeechRecognition;t.continuous=!1,t.interimResults=!1,t.lang="en-US",t.onresult=t=>{const n=t.results[0][0].transcript;if(U(n),null!==z&&void 0!==z&&z.onChange)z.onChange({target:{value:n,name:z.name}});else{if(te.current){te.current.value=n;const e=new Event("input",{bubbles:!0});te.current.dispatchEvent(e)}e.onChange&&e.onChange({target:{value:n,name:null===z||void 0===z?void 0:z.name}})}L(!1)},t.onend=()=>{L(!1)},t.onerror=e=>{L(!1)},ne.current=t}}),[z,e.onChange]);const se=e=>.0625*e,ae=(0,s.Z)((0,s.Z)({className:k?"":Q,disabled:x,type:E,ref:te,value:Z,onChange:t=>{U(t.target.value),null!==z&&void 0!==z&&z.onChange&&z.onChange(t),e.onChange&&e.onChange(t)}},z),F),oe=(0,N.jsx)("textarea",(0,s.Z)({style:I},ae)),le=(0,N.jsxs)("div",{className:"relative flex items-center",children:[(0,N.jsx)(i,(0,s.Z)({style:(0,s.Z)((0,s.Z)((0,s.Z)({},(()=>{const e="".concat(se(R)+1,"rem"),t="".concat(se(T)+1,"rem");let n={};return"ltr"===P&&(p&&(n.paddingLeft=e),b&&(n.paddingRight=t)),"rtl"===P&&(p&&(n.paddingRight=e),b&&(n.paddingLeft=t)),n})()),I),{},{paddingRight:b?"2.5rem":void 0})},ae)),"text"==E&&(0,N.jsx)(j.Vel,{className:r()("absolute right-3 text-xl cursor-pointer",{"text-blue-500":O}),onClick:()=>{ne.current&&(L(!0),ne.current.start())}})]});return w?oe:p||b?(0,N.jsxs)("span",{className:X,children:[p?(0,N.jsx)("div",{className:"input-suffix-start",ref:e=>$.current=e,children:p}):null,le,b?(0,N.jsx)("div",{className:"input-suffix-end",ref:e=>ee.current=e,children:b}):null]}):le}));y.propTypes={asElement:c().string,type:c().string,className:c().string,size:c().oneOf([h.zf.LG,h.zf.SM,h.zf.MD]),value:c().any,invalid:c().bool,suffix:c().oneOfType([c().string,c().node]),prefix:c().oneOfType([c().string,c().node]),unstyle:c().bool,onChange:c().func},y.defaultProps={type:"text",asElement:"input",className:"",unstyle:!1};const b=y},44630:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(72791);const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;const[t,n]=(0,s.useState)("");return(0,s.useEffect)((()=>{if(t){let t=setTimeout((()=>n("")),e);return()=>{clearTimeout(t)}}}),[t]),[t,n]}},83659:(e,t,n)=>{n.d(t,{U:()=>w,Z:()=>E});var s=n(72791),a=n(2803),o=n(36996),l=n(48080),r=n(58617),i=n(60364),c=(n(33155),n(51314)),d=n(25146),u=n(39126),m=n(46513),h=n(56355),x=n(25763),g=n(41578),f=n(9494),v=n(80184);const{Tr:p,Th:C,Td:j,THead:N,TBody:S,Sorter:y}=a.iA,b=[{value:10,label:"10 / page"},{value:20,label:"20 / page"},{value:30,label:"30 / page"},{value:40,label:"40 / page"},{value:50,label:"50 / page"}],w=(e,t,n)=>{const s={};if(e.forEach((e=>{e.accessorKey&&(s[e.accessorKey]=e.header)})),Array.isArray(t))(0,d.J)(!1,!1,0,0,!0,t,n,e,!1);else{const a=t.getCoreRowModel().rows.map((e=>{const t={};return Object.keys(e.original).forEach((n=>{s[n]?t[s[n]]=e.original[n]:t[n]=e.original[n]})),t})),o=[...e,{header:"IsActive",accessorKey:"IsActive"}];(0,d.J)(!1,!1,0,0,!0,a,n,o,!1)}},E=e=>{let{data:t,columns:n,globalFilter:d,setGlobalFilter:E,seteditData:I,openDrawer:k,ExportName:z}=e;const D=(0,i.useSelector)((e=>e.theme.themeColor)),F=(0,i.useSelector)((e=>e.theme.mode)),[R,A]=(0,s.useState)([]),[T,M]=(0,s.useState)(!0),O=(0,o.b7)({data:t,columns:n,state:{columnFilters:R,globalFilter:d},onColumnFiltersChange:A,onGlobalFilterChange:E,globalFilterFn:function(e,t,n,s){const a=(0,m.O4)(e.getValue(t),n);return s({itemRank:a}),a.passed},getCoreRowModel:(0,l.sC)(),getFilteredRowModel:(0,l.vL)(),getSortedRowModel:(0,l.tj)(),getPaginationRowModel:(0,l.G_)(),getFacetedRowModel:(0,l.o6)(),getFacetedUniqueValues:(0,l.JG)(),getFacetedMinMaxValues:(0,l.HO)(),debugHeaders:!0,debugColumns:!1,debugTable:!0});(0,s.useEffect)((()=>{t.length>0&&M(!1)}),[]);return(0,v.jsxs)("div",{className:"root-container",children:[(0,v.jsxs)(a.iA,{className:"table",children:[(0,v.jsx)(N,{className:"border-b-1 ",style:{borderColor:D,height:"4%"},variant:"solid",children:O.getHeaderGroups().map((e=>(0,v.jsxs)(p,{className:"tr3",children:[(0,v.jsx)(C,{className:"dark"==F?"srno th":"srno th Light",style:{textAlign:"Center"},children:(0,v.jsx)("h6",{className:"dark"==F?"capitalize  text-xs":"capitalize   text-xs Light",children:"Sr."})}),e.headers.map((e=>{var t;return(0,v.jsx)(C,{colSpan:e.colSpan,style:{width:null===(t=e.column.columnDef.headStyle)||void 0===t?void 0:t.width},children:(0,v.jsx)("h6",{className:"capitalize text-xs",children:e.isPlaceholder?null:(0,v.jsxs)("div",{className:e.column.getCanSort()?"cursor-pointer select-none ":"",onClick:e.column.getToggleSortingHandler(),children:[(0,o.ie)(e.column.columnDef.header,e.getContext()),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(y,{sort:e.column.getIsSorted()}),(0,v.jsx)("div",{className:"cursor-all-scroll ".concat(e.column.getIsResizing()?"isResizing":""),onMouseDown:e.getResizeHandler(),onTouchStart:e.getResizeHandler()})]})]})})},e.id)})),"ExchangeMaster"==z||z.includes("Retrieved Spots")||z.includes("Matched Spots")||z.includes("Missed Spots")||z.includes("All Spots")||z.includes("Imported Spots")||z.includes("Bill Spots")||""===z?null:(0,v.jsx)(C,{className:"actions ",children:(0,v.jsx)("center",{className:"capitalize text-center font-bold ",children:"Actions"})})]},e.id)))}),T?(0,v.jsx)(c.Z,{columns:3,rows:5}):(0,v.jsx)(S,{className:"tbody",children:O.getRowModel().rows.map(((e,t)=>{var n;const s=O.getState().pagination.pageIndex*O.getState().pagination.pageSize+t+1;return(0,v.jsxs)(p,{className:"tr",children:[(0,v.jsx)(j,{className:"dark"==F?"text-xs  srno td":"text-xs  srno tdLight",style:{textAlign:"Center"},children:s}),e.getVisibleCells().map((e=>{var t;return(0,v.jsx)(j,{className:"dark"==F?"text-xs  font-medium  td":"text-xs   font-medium  tdLight",style:{width:null===(t=e.column.columnDef.cellStyle)||void 0===t?void 0:t.width},children:(0,v.jsx)("p",{className:"text-xs",children:(0,o.ie)(e.column.columnDef.cell,e.getContext())})},e.id)})),"ExchangeMaster"==z||z.includes("Retrieved Spots")||z.includes("Matched Spots")||z.includes("Missed Spots")||z.includes("All Spots")||z.includes("Imported Spots")||z.includes("Bill Spots")||""===z?null:z.includes("Credit/Debit Note Bills")?(0,v.jsx)(j,{className:"dark"==F?"text-xs font-medium  td !w-max":"text-xs font-medium  tdLight ",children:(0,v.jsx)("center",{children:(0,v.jsx)(a.u,{title:"Generate ".concat(e.original.noteType.label," Note"),children:(0,v.jsx)(a.zx,{className:"btnEdit",size:"xs",icon:(0,v.jsx)(u.HlX,{}),onClick:()=>{I(e.original)}})})})}):z.includes("Credit/Debit Notes Edit")?(0,v.jsx)(j,{className:"dark"==F?"text-xs font-medium  td ":"text-xs font-medium  tdLight ",children:(0,v.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,v.jsx)(a.u,{title:"View Note",children:(0,v.jsx)(a.zx,{size:"xs",icon:(0,v.jsx)(h.z5B,{})})}),(0,v.jsx)(a.u,{title:"Download Note",children:(0,v.jsx)(a.zx,{size:"xs",icon:(0,v.jsx)(g.HXz,{})})}),""===e.original.IRNNumber&&""===e.original.QRCODE&&(0,v.jsx)(a.u,{title:"Edit Note",children:(0,v.jsx)(a.zx,{size:"xs",icon:(0,v.jsx)(x.LBv,{}),onClick:()=>{I(e.original)}})})]})}):(0,v.jsx)(j,{className:"dark"==F?"text-xs font-medium actions td ":"text-xs font-medium  actions tdLight ",children:(0,v.jsxs)("center",{children:[(0,v.jsx)(a.zx,{className:"btnEdit",size:"xs",icon:(0,v.jsx)(r._vs,{}),onClick:()=>{I(e.original),k(e.original)}}),"SpotBooking"==z&&(null===(n=e.original.BookingCode)||void 0===n?void 0:n.startsWith("uns"))&&(0,v.jsx)(a.zx,{className:"btnEdit ml-2",size:"xs",icon:(0,v.jsx)(r.fMW,{}),onClick:async()=>{try{const t=await(0,f.apiCallstoreprocedure)("USP_DELETE_TEMPBooking",{par_BookingNumber:e.original.BookingNumber});console.log(t)}catch(t){console.error("Error calling stored procedure:",t)}}})]})})]},e.id)}))})]}),(0,v.jsxs)("div",{className:"bottom-actions-container",children:[(null===t||void 0===t?void 0:t.length)>10&&(0,v.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,v.jsx)(a.tl,{pageSize:O.getState().pagination.pageSize,currentPage:O.getState().pagination.pageIndex+1,total:t.length,onChange:e=>{O.setPageIndex(e-1)}}),(0,v.jsxs)("div",{className:"flex items-center justify-end mt-1",children:[(0,v.jsx)(a.zx,{variant:"solid",className:"mr-2",onClick:()=>{w(n,O,z)},style:{width:130},block:!0,size:"sm",icon:(0,v.jsx)(r.H_7,{}),children:"Export"}),t.length>10?(0,v.jsx)("div",{style:{minWidth:130},children:(0,v.jsx)(a.Ph,{size:"sm",isSearchable:!1,value:b.filter((e=>e.value===O.getState().pagination.pageSize)),options:b,onChange:e=>{return t=e.value,void O.setPageSize(Number(t));var t}})}):null]})]}),(0,v.jsx)("div",{className:"flex  justify-start mt-2",children:(0,v.jsxs)("h1",{className:"text-xs  font-light",children:["Records : ",null===t||void 0===t?void 0:t.length]})})]})]})}},88449:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(2803),a=n(78820),o=n(80184);const l=e=>{let{onSaveClick:t,onCancel:n,BtnSaveTxt:l="Save",BtnCancelTxt:r="Discard"}=e;return(0,o.jsxs)("div",{className:"text-left w-full flex",children:[(0,o.jsx)(s.zx,{size:"sm",className:"mr-2",onClick:n,children:r}),(0,o.jsx)(s.zx,{size:"sm",className:"mr-2",variant:"solid",onClick:t,icon:(0,o.jsx)(a.JMf,{}),children:l})]})}},25146:(e,t,n)=>{n.d(t,{J:()=>r});var s=n(1413),a=(n(72791),n(25415)),o=n(64802),l=n(81320);const r=(e,t,n,r,i,c,d,u,m)=>{if(0===c.length)return void(0,l.openNotification)("info","No data to export");const h=c.map((e=>(0,s.Z)({},e))),x={};u.forEach((e=>{e.accessorKey&&(console.log(e.accessorKey),console.log(x[e.accessorKey]),x[e.accessorKey]=e.header)}));const g=h.map((e=>{const t={};return Object.keys(e).forEach((n=>{x[n]?t[x[n]]=e[n]:t[n]=e[n]})),t})),f=Object.keys(x).length>0?Object.keys(x).map((e=>x[e])):[],v=(f.map((e=>({header:e,key:e}))),new a.Workbook),p=v.addWorksheet(d);for(let s=0;s<r;s++)p.addRow([]);const C=[];for(let s=0;s<n;s++)C.push("");if(C.push(...f),p.addRow(C),e){p.getRow(r+1).font={bold:!0,size:10}}if(i){const e=p.getRow(r+1);e.font={bold:!0,size:12},e.eachCell((e=>{e.border={top:{style:"medium"},left:{style:"medium"},bottom:{style:"medium"},right:{style:"medium"}},m||(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"009dff"}})}))}if(g.forEach((e=>{const t=[];for(let a=0;a<n;a++)t.push("");f.forEach((n=>{t.push(e[n]||"")}));const s=p.addRow(t);s.font={size:10},s.eachCell(((t,n)=>{t.value instanceof Date&&(t.value=new Date(Date.UTC(t.value.getFullYear(),t.value.getMonth(),t.value.getDate()))),m&&e.EventDefaultBackColor&&(t.fill={type:"pattern",pattern:"solid",fgColor:{argb:e.EventDefaultBackColor.substring(1)}}),m&&e.EventDefaultFrontColor&&(t.font={color:{argb:e.EventDefaultFrontColor.substring(1)}}),i&&(t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}})}))})),p.columns.forEach((e=>{let t=10;e.eachCell((e=>{const n=(e.value||"").toString().length;t=Math.max(t,n)})),e.width=Math.min(30,t+2)})),p.views=[{state:"frozen",xSplit:n,ySplit:r+1,topLeftCell:"A".concat(r+2)}],t){const e=c.length+r+100,t=u.length>0?u.length+100:100;for(let n=1;n<=e;n++){const e=p.getRow(n);for(let n=1;n<=t;n++){const t=e.getCell(n);t.value=t.value||"",t.border={top:{style:"thin",color:{argb:"000000"}},left:{style:"thin",color:{argb:"000000"}},bottom:{style:"thin",color:{argb:"000000"}},right:{style:"thin",color:{argb:"000000"}}}}}}v.xlsx.writeBuffer().then((e=>{(0,o.saveAs)(new Blob([e]),"".concat(d,".xlsx"))}))}},96361:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(79139),a=n(60364),o=n(11087),l=n(80184);const r=e=>{let{ModuleText:t="Admin",Component:n,links:r}=e;(0,a.useSelector)((e=>e.auth.session.currentRouteKey));const i=(0,a.useSelector)((e=>e.base.common.currentRouteTitle));console.log(i);const{title:c,Moduletitle:d}=(0,a.useSelector)((e=>e.auth.user));return(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xl font-medium",children:i}),(0,l.jsxs)(s.Breadcrumbs,{style:{marginLeft:"-15px",width:"auto"},children:[(0,l.jsx)(o.rU,{to:"/home",className:"opacity-60 text-xs",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})}),(0,l.jsx)(o.rU,{to:"/".concat("SALES ADMIN"===d?"SalesAdmin":d),className:"opacity-60 text-xs",children:(0,l.jsx)("span",{children:d})}),(0,l.jsx)(o.rU,{to:"#",className:"text-xs",children:(0,l.jsx)("span",{children:i})})]})]})}},5244:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var s=n(1413),a=n(72791),o=n(2803),l=n(11308),r=n(58617),i=n(92506),c=n(81724),d=n(60364),u=n(81320),m=n(54748),h=n(80184);const x=c.Ry().shape({ChannelCode:c.Z_().required(" Required"),FormName:c.Z_().min(1,"Too Short!").max(50,"Too Long!").required(" Required"),EventTypeCode:c.Z_().min(1,"Too Short!").max(50,"Too Long!").required("Required"),Initial:c.Z_().min(1,"Too Short!").max(6,"Too Long!").required(" Required"),NoOfDigit:c.Z_().min(1,"Too Short!").max(2,"Too Long!").required("Kindly Enter No. of digits"),Seperator:c.Z_().max(2,"Too Long!"),CurrentCount:c.Z_().matches(/^[0-9]+$/,"Only numeric characters are allowed").min(1,"Too Short!").max(8,"Too Long!").required("Required"),IsActive:c.Z_().required(" Required")}),g=(0,a.forwardRef)(((e,t)=>{var n,s,r,c;const{onDrawerClose:g,editData:f,setMessage:v,setlog:p,channel:C,Event:j,Formname:N,getEventTypeCode:S,setform:y}=e,b=(0,d.useSelector)((e=>e.auth.session.token));return console.log(f),(0,a.useEffect)((()=>{console.log(f.FormName),S(f.FormName)}),[f.Id]),(0,h.jsx)("div",{children:(0,h.jsx)(i.J9,{innerRef:t,initialValues:{Id:f.Id||"",LocationCode:(null===(n=f.locations)||void 0===n?void 0:n.LocationCode)||"",ChannelCode:(null===(s=f.Channel)||void 0===s?void 0:s.ChannelCode)||"",ChannelCodeString:(null===(r=f.locations)||void 0===r?void 0:r.LocationCode)+"-"+(null===(c=f.Channel)||void 0===c?void 0:c.ChannelCode)||"",FormName:f.FormName||"",EventTypeCode:f.EventTypeCode||"",Initial:f.Initial||"",Seperator:f.Seperator||"",NoOfDigit:f.NoOfDigit||"",CurrentCount:f.CurrentCount||"",IsActive:(f.IsActive,!0)},validationSchema:x,onSubmit:(e,t)=>{let{resetForm:n,setSubmitting:s}=t;console.log(e),setTimeout((()=>{f.Id?new Promise(((t,n)=>{s(!1),(async(e,t)=>{try{const n=await(0,l.Y7)(e,t);if(200===n.status)return p("success"),void v("Data Updated Successfully");if(204===n.status)return void(0,u.openNotification)("danger","Data Already Exists.")}catch(n){if(500===n.response.status)return p("error"),void v("Server Error.")}})(e,b).then((e=>{g(0,0),t(e)})).catch((e=>{n(e)}))})):new Promise(((t,n)=>{(async(e,t)=>{try{const n=await(0,l.UT)(e,t);if(200===n.status)return p("success"),void v("Data Inserted Successfully.");if(204===n.status)return void(0,u.openNotification)("danger","Data Already Exists.")}catch(n){if(500===n.response.status)return p("error"),void v("Server Error.")}})(e,b).then((e=>{g(0,0),t(e)})).catch((e=>{n(e)}))})),n()}),400)},children:e=>{let{values:t,touched:n,errors:s,setFieldValue:a}=e;return(0,h.jsx)(i.l0,{children:(0,h.jsxs)(o.Yb,{children:[(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,h.jsx)("div",{className:"col-span-1",children:(0,h.jsx)(o.xJ,{asterisk:!0,label:"Channel",invalid:s.ChannelCode&&n.ChannelCode,errorMessage:s.ChannelCode,children:(0,h.jsx)(i.gN,{size:"sm",name:"ChannelCodeString",children:e=>{let{field:n,form:s}=e;return(0,h.jsx)(o.Ph,{field:n,form:s,isDisabled:!!f.Id,placeholder:"Select",options:C,value:C.filter((e=>e.value==t.ChannelCodeString)),onChange:e=>{s.setFieldValue("ChannelCode",e.ChannelCode),s.setFieldValue("LocationCode",e.LocationCode),s.setFieldValue(n.name,e.value)}})}})})}),(0,h.jsx)("div",{className:"col-span-1",children:(0,h.jsx)(o.xJ,{asterisk:!0,label:"Form Name",invalid:s.FormName&&n.FormName,errorMessage:s.FormName,children:(0,h.jsx)(i.gN,{size:"sm",name:"FormName",children:e=>{let{field:n,form:s}=e;return(0,h.jsx)(o.Ph,{field:n,form:s,isDisabled:!!f.Id,placeholder:"Select",options:N,value:N.filter((e=>e.value===t.FormName)),onChange:e=>{S(null===e||void 0===e?void 0:e.value),s.setFieldValue(n.name,null===e||void 0===e?void 0:e.value)}})}})})}),(0,h.jsx)("div",{className:"col-span-1",children:(0,h.jsx)(o.xJ,{asterisk:!0,label:"Event Type",invalid:s.EventTypeCode&&n.EventTypeCode,errorMessage:s.EventTypeCode,children:(0,h.jsx)(i.gN,{size:"sm",name:"EventTypeCode",children:e=>{let{field:n,form:s}=e;return(0,h.jsx)(o.Ph,{field:n,isDisabled:!!f.Id,form:s,placeholder:"Select",options:j,value:j.filter((e=>e.value==t.EventTypeCode)),onChange:e=>s.setFieldValue(n.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,h.jsx)("div",{className:"col-span-1",children:(0,h.jsx)(o.xJ,{asterisk:!0,label:"Initial",invalid:s.Initial&&n.Initial,errorMessage:s.Initial,children:(0,h.jsx)(i.gN,{size:"sm",type:"Initial",maxlength:"6",autoComplete:"off",name:"Initial",placeholder:"Initial",component:o.II,onChange:e=>{const t=e.target.value;(0,m.WQ)(t)&&a("Initial",t)}})})}),(0,h.jsx)("div",{className:"col-span-1",children:(0,h.jsx)(o.xJ,{label:"Seperator",invalid:s.Seperator&&n.Seperator,errorMessage:s.Seperator,children:(0,h.jsx)(i.gN,{name:"Seperator",children:e=>{let{field:t,form:n}=e;return(0,h.jsx)(o.II,{focused:!0,maxlength:"4",size:"sm",form:n,field:t,name:"Seperator",placeholder:"Seperator /-",onChange:e=>{const s=e.target.value.replace(/[^a-zA-Z0-9/-]/g,"");n.setFieldValue(t.name,s)}})}})})}),(0,h.jsx)("div",{className:"col-span-1",children:(0,h.jsx)(o.xJ,{asterisk:!0,label:"No. of Digits",invalid:s.NoOfDigit&&n.NoOfDigit,errorMessage:s.NoOfDigit,children:(0,h.jsx)(i.gN,{name:"NoOfDigit",children:e=>{let{field:t,form:n}=e;return(0,h.jsx)(o.II,{focused:!0,size:"sm",form:n,field:t,name:"NoOfDigit",placeholder:"No. Of Digit",onChange:e=>{const s=e.target.value.replace(/\D/g,"");"0"===s&&(s="1"),s<16&&(n.setFieldValue(t.name,s),n.setFieldValue("CurrentCount","")),""==s&&(n.setFieldValue(t.name,""),n.setFieldValue("CurrentCount",""))}})}})})}),(0,h.jsx)("div",{className:"col-span-1",children:(0,h.jsx)(o.xJ,{asterisk:!0,label:"Current Count",invalid:s.CurrentCount&&n.CurrentCount,errorMessage:s.CurrentCount,children:(0,h.jsx)(i.gN,{name:"CurrentCount",children:e=>{let{field:n,form:s}=e;return(0,h.jsx)(o.II,{focused:!0,maxlength:t.NoOfDigit,size:"sm",form:s,field:n,name:"CurrentCount",placeholder:"Current Count",onChange:e=>{const t=e.target.value.replace(/\D/g,"");t&&s.setFieldValue(n.name,t),""==t&&s.setFieldValue(n.name,"")}})}})})}),(0,h.jsx)("div",{className:"col-span-1",children:(0,h.jsx)(o.xJ,{label:"Status",invalid:s.IsActive&&n.IsActive,errorMessage:s.IsActive,children:(0,h.jsx)("div",{children:(0,h.jsx)(i.gN,{size:"sm",name:"IsActive",component:o.T5})})})})]}),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{className:"col-span-1",children:(0,h.jsx)("h1",{children:t.Initial+t.Seperator+t.CurrentCount.toString().padStart(t.NoOfDigit,"0")})})]})})}})})}));var f=n(44630),v=n(83659),p=n(96361),C=n(88449),j=n(14509);const N=(e,t,n)=>(0,h.jsxs)("span",{className:"flex items-center",children:[(0,h.jsx)("span",{className:"mr-1   font-semibold",children:(0,h.jsx)(j.Z,{value:null!==t&&void 0!==t?t:"",className:" solid",placeholder:"Search all columns...",size:"sm",onChange:e=>{/^[0-9a-zA-Z\s]*$/.test(e.target.value)&&n(e.target.value)}})}),(0,h.jsx)("span",{className:"mr-1 font-semibold",children:(0,h.jsx)(o.zx,{block:!0,variant:"solid",size:"sm",icon:(0,h.jsx)(r.yEd,{}),onClick:()=>e(),children:"Create HouseID"})})]}),S=()=>{const[e,t]=(0,a.useState)(!1),[n,i]=(0,a.useState)([""]),[c,u]=(0,a.useState)(""),[m,x]=(0,a.useState)([""]),j=(0,d.useSelector)((e=>e.auth.session.token)),[S,y]=(0,f.Z)(),[b,w]=(0,a.useState)(""),E=(0,a.useRef)(),I=(0,d.useSelector)((e=>e.auth.session.LoginId)),k={1:"bg-emerald-500",0:"bg-red-500"},[z,D]=(0,a.useState)([]),[F,R]=(0,a.useState)([]),[A,T]=(0,a.useState)([]);(0,a.useEffect)((()=>{(async e=>{const t=(await(0,l.bu)(I)).data.map((e=>({value:e.LocationCode+"-"+e.ChannelCode,label:e.LocationName+"-"+e.ChannelName,LocationCode:e.LocationCode,ChannelCode:e.ChannelCode})));D(t)})(),(async e=>{const t=(await(0,l.ji)(void 0)).data.filter((e=>"Content Segment"===e.FormName||"Promo Master"===e.FormName||"Commercial Master"===e.FormName||"Song Master"===e.FormName||"NTC Master"===e.FormName)).map((e=>({value:e.FormName,label:e.FormName})));console.log("formattedOptions",t),T(t)})()}),[]);const M=(0,a.useMemo)((()=>[{header:"Channel",accessorKey:"Channel.ChannelName",cell:e=>{var t,n;const s=e.row.original;return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(o.Ct,{className:k[s.IsActive]}),(0,h.jsxs)("span",{className:"ml-2 rtl:mr-2 ",children:[null===(t=s.locations)||void 0===t?void 0:t.LocationName,"-",null===(n=s.Channel)||void 0===n?void 0:n.ChannelName]})]})})}},{header:"Screen",accessorKey:"FormName"},{header:"Current Count",accessorKey:"CurrentCount"},{header:"Format",accessorKey:"Format"}]),[]);(0,a.useEffect)((()=>{(async e=>{const t=(await(0,l.N9)(void 0)).data.map((e=>{const t=(0,s.Z)({},e);return Object.keys(t).forEach((e=>{"number"===typeof t[e]&&(t[e]=t[e].toString())})),console.log("newItem",t),t}));t.forEach((e=>{const t=e.CurrentCount.toString().padStart(e.NoOfDigit,"0");e.Format=e.Initial+e.Seperator+t})),console.log("resp.data",t),x(t)})()}),[]);const O=()=>{t(!0)},L=async(e,n)=>{t(!1);const a=(await(0,l.N9)(n)).data.map((e=>{const t=(0,s.Z)({},e);return Object.keys(t).forEach((e=>{"number"===typeof t[e]&&(t[e]=t[e].toString())})),t}));a.forEach((e=>{const t=e.CurrentCount.toString().padStart(e.NoOfDigit,"0");e.Format=e.Initial+e.Seperator+t})),console.log("resp.data",a),x(a),i([""])};return(0,h.jsxs)(h.Fragment,{children:[S&&(0,h.jsx)(o.bZ,{className:"mb-4",type:b,showIcon:!0,children:S}),(0,h.jsx)(o.Zb,{header:(0,h.jsx)(p.Z,{Component:"HouseID Configuration"}),headerExtra:N(O,c,u),className:"flex flex-col h-[87vh]",bodyClass:"grow",children:(0,h.jsx)(v.Z,{data:m,columns:M,globalFilter:c,setGlobalFilter:u,seteditData:i,openDrawer:O,ExportName:"HouseID Configuration"})}),(0,h.jsx)(o.dy,{title:n.DesignationName?(0,h.jsxs)("p",{className:"text-xl font-medium   flex ",children:[(0,h.jsx)("center",{children:(0,h.jsx)(o.zx,{size:"xs",variant:"twoTone",icon:(0,h.jsx)(r._vs,{})})}),"\xa0\xa0 HouseID Configuration"]}):(0,h.jsxs)("p",{className:"text-xl font-medium  flex ",children:[(0,h.jsx)("center",{children:(0,h.jsx)(o.zx,{size:"xs",variant:"\r .",icon:(0,h.jsx)(r.yEd,{})})}),"\xa0\xa0HouseID Configuration"]}),isOpen:e,onClose:L,onRequestClose:L,width:window.screen.width>400?window.screen.width/3:window.screen.width/1.5,footer:(0,h.jsx)(C.Z,{onCancel:L,onSaveClick:()=>{var e;null===(e=E.current)||void 0===e||e.submitForm()}}),children:(0,h.jsx)(g,{ref:E,onDrawerClose:L,editData:n,setMessage:y,setlog:w,Event:F,channel:z,Formname:A,getEventTypeCode:async e=>{"Commercial Master"==e&&(e=851),"Promo Master"==e&&(e=972),"Content Segment"==e&&(e=864),"Song Master"==e&&(e=1020),"NTC Master"==e&&(e=1106);const t=(await(0,l.Lx)(e,j)).data.map((e=>({value:e.value,label:e.text})));R(t)},setform:T})})]})}},33155:()=>{},46513:(e,t,n)=>{n.d(t,{O4:()=>g});var s=n(1413);const a={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},o=Object.keys(a).join("|"),l=new RegExp(o,"g");const r=7,i=6,c=5,d=4,u=3,m=2,h=1,x=0;function g(e,t,n){var s;if((n=n||{}).threshold=null!=(s=n.threshold)?s:h,!n.accessors){const s=f(e,t,n);return{rankedValue:e,rank:s,accessorIndex:-1,accessorThreshold:n.threshold,passed:s>=n.threshold}}const a=function(e,t){const n=[];for(let s=0,a=t.length;s<a;s++){const a=t[s],o=j(a),l=p(e,a);for(let e=0,t=l.length;e<t;e++)n.push({itemValue:l[e],attributes:o})}return n}(e,n.accessors),o={rankedValue:e,rank:x,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let l=0;l<a.length;l++){const e=a[l];let s=f(e.itemValue,t,n);const{minRanking:r,maxRanking:i,threshold:c=n.threshold}=e.attributes;s<r&&s>=h?s=r:s>i&&(s=i),s=Math.min(s,i),s>=c&&s>o.rank&&(o.rank=s,o.passed=!0,o.accessorIndex=l,o.accessorThreshold=c,o.rankedValue=e.itemValue)}return o}function f(e,t,n){return e=v(e,n),(t=v(t,n)).length>e.length?x:e===t?r:(e=e.toLowerCase())===(t=t.toLowerCase())?i:e.startsWith(t)?c:e.includes(" ".concat(t))?d:e.includes(t)?u:1===t.length?x:function(e){let t="";return e.split(" ").forEach((e=>{e.split("-").forEach((e=>{t+=e.substr(0,1)}))})),t}(e).includes(t)?m:function(e,t){let n=0,s=0;function a(e,t,s){for(let a=s,o=t.length;a<o;a++){if(t[a]===e)return n+=1,a+1}return-1}function o(e){const s=1/e,a=n/t.length;return h+a*s}const l=a(t[0],e,0);if(l<0)return x;s=l;for(let r=1,i=t.length;r<i;r++){s=a(t[r],e,s);if(!(s>-1))return x}return o(s-l)}(e,t)}function v(e,t){let{keepDiacritics:n}=t;return e="".concat(e),n||(e=e.replace(l,(e=>a[e]))),e}function p(e,t){let n=t;"object"===typeof t&&(n=t.accessor);const s=n(e);return null==s?[]:Array.isArray(s)?s:[String(s)]}const C={maxRanking:1/0,minRanking:-1/0};function j(e){return"function"===typeof e?C:(0,s.Z)((0,s.Z)({},C),e)}}}]);
//# sourceMappingURL=5244.0bb2d164.chunk.js.map