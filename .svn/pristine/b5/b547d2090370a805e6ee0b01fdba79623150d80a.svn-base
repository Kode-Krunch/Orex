{"version":3,"file":"static/js/7198.ed87482c.chunk.js","mappings":"8MAiBA,QAfA,SAAgB,GAA+B,IAA/B,YAAEA,EAAW,KAAEC,EAAI,MAAEC,GAAO,EAC1C,OACE,iBACEC,UAAU,8HACVC,QAASJ,EACTK,MAAO,CAAEC,SAAU,UAAW,WAE9B,iBAAMH,UAAU,2FAA0F,SACvGF,KAEH,0BAAOC,MAGb,E,gDCgFA,QAjFA,WAEE,MAAMK,GAAUC,EAAAA,EAAAA,cAAaC,GAAUA,EAAMC,OAAOC,mBAG9C,KACJC,EAAI,KACJC,EAAI,kBACJC,EAAiB,oBACjBC,EAAmB,8BACnBC,IACEC,EAAAA,EAAAA,YAAWC,EAAAA,GAGTC,GAAcC,EAAAA,EAAAA,QAAO,OAG3BC,EAAAA,EAAAA,YAAU,KACRC,SAASC,iBAAiB,YAAaC,GAChC,KACLF,SAASG,oBAAoB,YAAaD,EAAe,IAE1D,CAACL,IAGJ,MAAMnB,EAAe0B,IACnB,IACMA,IAAWC,EAAAA,sBAAAA,UACbC,EAAAA,EAAAA,IACEhB,EACAI,EAA8Ba,eAC9B,IAAId,GAAqBe,OAAO,IAE3BJ,IAAWC,EAAAA,sBAAAA,WAClBI,EAAAA,EAAAA,GAAc,IAAIhB,GAAqBe,OAAO,GAAIjB,EAAMN,EAI5D,CAHE,MAAOyB,IACPC,EAAAA,EAAAA,kBAAiB,SAAU,wBAC3BC,QAAQF,MAAMA,EAChB,GAGIR,EAAkBW,IACtB,IACMhB,EAAYiB,UAAYjB,EAAYiB,QAAQC,SAASF,EAAMG,SAC7DxB,GAAmByB,IAAS,kBACvBA,GAAS,IACZ,CAACC,EAAAA,aAAAA,SAAqB,kBACjBD,EAAUC,EAAAA,aAAAA,SAAoB,IACjCC,mBAAmB,OAM3B,CAFE,MAAOT,GACPE,QAAQF,MAAMA,EAChB,GAGF,OACE,UAAC,KAAI,CACH7B,UAAU,kEACVuC,UAAU,cACVrC,MAAO,CAAEsC,UAAW,yBAA0BC,SAAU,SACxDC,IAAK1B,EAAY,WAEjB,cAAGhB,UAAU,wBAAuB,qBACpC,iBAAKA,UAAU,sDAAqD,WAClE,SAAC,EAAM,CACLH,YAAa,IAAMA,EAAY2B,EAAAA,sBAAAA,UAC/B1B,MAAM,SAAC,MAAY,CAACE,UAAU,cAC9BD,MAAM,cAER,SAAC,EAAM,CACLF,YAAa,IAAMA,EAAY2B,EAAAA,sBAAAA,UAC/B1B,MAAM,SAAC,MAAY,CAACE,UAAU,cAC9BD,MAAM,kBAKhB,C","sources":["views/Scheduling/Scheduler/components/SchedulingArea/components/Dropdowns/ExportDowpdown/Format.js","views/Scheduling/Scheduler/components/SchedulingArea/components/Dropdowns/ExportDowpdown/ExportDropdown.js"],"sourcesContent":["import React from 'react';\r\n\r\nfunction Format({ handleClick, icon, title }) {\r\n  return (\r\n    <div\r\n      className=\"border-b border-t border-gray-600 py-1.5 px-3 flex items-center gap-2 hover:bg-gray-600 hover:cursor-pointer transition-all\"\r\n      onClick={handleClick}\r\n      style={{ textWrap: 'nowrap' }}\r\n    >\r\n      <span className=\"h-8 w-8 rounded-full bg-gray-600 border border-gray-700 flex items-center justify-center\">\r\n        {icon}\r\n      </span>\r\n      <span>{title}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Format;\r\n","import { Card } from 'components/ui';\r\nimport React, { useContext, useEffect, useRef } from 'react';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport {\r\n  exportFormatTypesEnum,\r\n  featuresEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport Format from './Format';\r\nimport { PiExportBold } from 'react-icons/pi';\r\nimport { handleExport } from '../../Toolbar/utils/utils';\r\nimport { exportFormat2 } from '../../Toolbar/utils/playoutExportUtils/format2';\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction ExportDropdown() {\r\n  /* REDUX */\r\n  const channel = useSelector((state) => state.locale.selectedChannel);\r\n\r\n  /* CONTEXT */\r\n  const {\r\n    page,\r\n    date,\r\n    setActiveFeatures,\r\n    schedulingTableData,\r\n    schedulingTableManagedColumns,\r\n  } = useContext(SchedulerContext);\r\n\r\n  /* HOOKS */\r\n  const dropdownRef = useRef(null);\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    document.addEventListener('mousedown', closeDropDowns);\r\n    return () => {\r\n      document.removeEventListener('mousedown', closeDropDowns);\r\n    };\r\n  }, [dropdownRef]);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleClick = (format) => {\r\n    try {\r\n      if (format === exportFormatTypesEnum.FORMAT_1)\r\n        handleExport(\r\n          page,\r\n          schedulingTableManagedColumns.visibleColumns,\r\n          [...schedulingTableData].splice(1),\r\n        );\r\n      else if (format === exportFormatTypesEnum.FORMAT_2)\r\n        exportFormat2([...schedulingTableData].splice(1), date, channel);\r\n    } catch (error) {\r\n      openNotification('danger', 'Something went wrong');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const closeDropDowns = (event) => {\r\n    try {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setActiveFeatures((prevState) => ({\r\n          ...prevState,\r\n          [featuresEnum.EXPORT]: {\r\n            ...prevState[featuresEnum.EXPORT],\r\n            isDropdownVisible: false,\r\n          },\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      className=\"!bg-gray-700 text-white mt-2 absolute left-1/2 top-full z-[100]\"\r\n      bodyClass=\"px-0 pt-1.5\"\r\n      style={{ boxShadow: '#000000cc 0px 0px 10px', minWidth: '14rem' }}\r\n      ref={dropdownRef}\r\n    >\r\n      <p className=\"text-base mb-1.5 px-3\">Export</p>\r\n      <div className=\"h-[30vh] overflow-scroll no-scrollbar flex flex-col\">\r\n        <Format\r\n          handleClick={() => handleClick(exportFormatTypesEnum.FORMAT_1)}\r\n          icon={<PiExportBold className=\"text-base\" />}\r\n          title=\"Format 1\"\r\n        />\r\n        <Format\r\n          handleClick={() => handleClick(exportFormatTypesEnum.FORMAT_2)}\r\n          icon={<PiExportBold className=\"text-base\" />}\r\n          title=\"Format 2\"\r\n        />\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default ExportDropdown;\r\n"],"names":["handleClick","icon","title","className","onClick","style","textWrap","channel","useSelector","state","locale","selectedChannel","page","date","setActiveFeatures","schedulingTableData","schedulingTableManagedColumns","useContext","SchedulerContext","dropdownRef","useRef","useEffect","document","addEventListener","closeDropDowns","removeEventListener","format","exportFormatTypesEnum","handleExport","visibleColumns","splice","exportFormat2","error","openNotification","console","event","current","contains","target","prevState","featuresEnum","isDropdownVisible","bodyClass","boxShadow","minWidth","ref"],"sourceRoot":""}