{"version":3,"file":"static/js/9595.93fccfee.chunk.js","mappings":"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","sources":["views/Scheduling/Scheduler/components/SchedulingArea/components/ChangeProgram/components/ChangeProgramDialog/ProgramSummary.js","views/Scheduling/Scheduler/components/SchedulingArea/components/ChangeProgram/components/ChangeProgramDialog/ChangeProgramDialog.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport { rowDataTypesEnum } from 'views/Scheduling/Scheduler/enum';\r\n\r\nfunction ProgramSummary({ programData, type }) {\r\n  /* STATES */\r\n  const [segments, setSegments] = useState([]);\r\n  const [promos, setPromos] = useState([]);\r\n  const [commercials, setCommercials] = useState([]);\r\n  const [songs, setSongs] = useState([]);\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    try {\r\n      if (programData.length > 0) {\r\n        let promos = [];\r\n        let commercials = [];\r\n        let songs = [];\r\n        let segments = [];\r\n        for (let index = 0; index < programData.length; index++) {\r\n          if (programData[index].F_C_S_P === rowDataTypesEnum.PROMO) {\r\n            promos.push(programData[index]);\r\n          } else if (\r\n            programData[index].F_C_S_P === rowDataTypesEnum.COMMERCIAL\r\n          ) {\r\n            commercials.push(programData[index]);\r\n          } else if (programData[index].F_C_S_P === rowDataTypesEnum.SONG) {\r\n            songs.push(programData[index]);\r\n          } else if (programData[index].F_C_S_P === rowDataTypesEnum.SEGMENT) {\r\n            segments.push(programData[index]);\r\n          }\r\n        }\r\n        setPromos(promos);\r\n        setCommercials(commercials);\r\n        setSongs(songs);\r\n        setSegments(segments);\r\n      }\r\n    } catch (error) {\r\n      openNotification(\r\n        'danger',\r\n        'Something went wrong while fetching program info',\r\n      );\r\n      console.error(error);\r\n    }\r\n  }, [programData]);\r\n\r\n  return (\r\n    <>\r\n      {programData.length > 0 && (\r\n        <div className=\"w-full h-full\">\r\n          <div className=\"text-base font-semibold text-white mb-3\">\r\n            {type === 'existingProgram' ? 'Existing Program' : 'New Program'}\r\n          </div>\r\n          <div className=\"rounded-md border border-gray-700\">\r\n            <div\r\n              className=\"p-2 text-[0.95rem] font-semibold text-gray-200 rounded-t-md text-ellipsis overflow-hidden whitespace-nowrap\"\r\n              style={{ background: 'rgb(41, 52, 69)' }}\r\n            >\r\n              {programData[0].Event_Name}\r\n            </div>\r\n            <div className=\"flex flex-col gap-2 p-2 h-[45vh] overflow-y-auto\">\r\n              {segments.map((segment, index) => (\r\n                <div\r\n                  key={index}\r\n                  className={`flex gap-2 items-center p-2 ${\r\n                    index !== segment.length - 1 && 'border-b border-b-gray-700'\r\n                  }`}\r\n                >\r\n                  <div className=\"h-2 w-2 bg-gray-600  rounded-full\"></div>\r\n                  <span className=\"text-gray-200 text-sm text-ellipsis overflow-hidden whitespace-nowrap\">\r\n                    {segment.Event_Name}\r\n                  </span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"flex mt-4 p-2 rounded-md\"\r\n            style={{ background: 'rgb(41, 52, 69)' }}\r\n          >\r\n            <div className=\"flex flex-col justify-center items-center border-r border-gray-600 pr-3 pl-1\">\r\n              <p className=\"font-semibold text-lg text-gray-200\">\r\n                {promos.length}\r\n              </p>\r\n              <p className=\"text-gray-300\">Promos</p>\r\n            </div>\r\n            <div className=\"flex flex-col justify-center items-center border-r border-gray-600 px-3\">\r\n              <p className=\"font-semibold text-lg text-gray-200\">\r\n                {commercials.length}\r\n              </p>\r\n              <p className=\"text-gray-300\">Commercials</p>\r\n            </div>\r\n            <div className=\"flex flex-col justify-center items-center border-r border-gray-600 px-3\">\r\n              <p className=\"font-semibold text-lg text-gray-200\">\r\n                {songs.length}\r\n              </p>\r\n              <p className=\"text-gray-300\">Songs</p>\r\n            </div>\r\n            <div className=\"flex flex-col justify-center items-center px-3\">\r\n              <p className=\"font-semibold text-lg text-gray-200\">\r\n                {segments.length}\r\n              </p>\r\n              <p className=\"text-gray-300\">Segments</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ProgramSummary;\r\n","import { Button, Dialog } from 'components/ui';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport ProgramSummary from './ProgramSummary';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport {\r\n  operationTypesEnum,\r\n  rowDataTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport { getProgramSchedule } from '../../../../utils/utils';\r\n\r\nfunction ChangeProgramDialog({\r\n  isOpen,\r\n  setIsOpen,\r\n  clickedProgram,\r\n  setClickedProgram,\r\n}) {\r\n  /* CONTEXT */\r\n  const { schedulingTableData, secondaryTableData, executeOperation } =\r\n    useContext(SchedulerContext);\r\n\r\n  /* STATES */\r\n  const [clickedProgramSchedule, setClickedProgramSchedule] = useState([]);\r\n  const [newProgramSchedule, setNewProgramSchedule] = useState([]);\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    try {\r\n      if (\r\n        isOpen &&\r\n        clickedProgram &&\r\n        schedulingTableData &&\r\n        secondaryTableData\r\n      ) {\r\n        setClickedProgramSchedule(\r\n          getProgramSchedule(schedulingTableData, clickedProgram),\r\n        );\r\n        setNewProgramSchedule(\r\n          getProgramSchedule(\r\n            secondaryTableData,\r\n            secondaryTableData.filter(\r\n              (row) =>\r\n                row.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION &&\r\n                row.FPC_Time === clickedProgram.FPC_Time,\r\n            )[0],\r\n          ),\r\n        );\r\n      }\r\n    } catch (error) {\r\n      openNotification(\r\n        'danger',\r\n        'Something went wrong while fetching program info',\r\n      );\r\n    }\r\n  }, [isOpen, clickedProgram, schedulingTableData, secondaryTableData]);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleReplace = () => {\r\n    try {\r\n      executeOperation({\r\n        operation: operationTypesEnum.REPLACE_PROGRAM,\r\n        clickedProgram,\r\n        clickedProgramSchedule,\r\n        newProgramSchedule,\r\n      });\r\n      handleClose();\r\n      openNotification('success', 'Programs replaced successfully');\r\n    } catch (error) {\r\n      openNotification(\r\n        'danger',\r\n        'Something went wrong while replacing the program',\r\n      );\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setClickedProgram(null);\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      isOpen={isOpen}\r\n      width={'60%'}\r\n      onClose={handleClose}\r\n      onRequestClose={handleClose}\r\n      contentClassName=\"!my-8\"\r\n    >\r\n      <div className=\"flex flex-col h-full justify-between\">\r\n        <h5 className=\"mb-4 pb-2 border-b border-b-gray-700\">\r\n          Replace Program\r\n        </h5>\r\n        <div className=\"flex\">\r\n          <div className=\"w-1/2 border-r border-r-gray-700 pr-3\">\r\n            <ProgramSummary\r\n              programData={clickedProgramSchedule}\r\n              type=\"existingProgram\"\r\n            />\r\n          </div>\r\n          <div className=\"w-1/2 pl-3 h-full\">\r\n            <ProgramSummary\r\n              programData={newProgramSchedule}\r\n              type=\"newProgram\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"text-right mt-6\">\r\n          <Button\r\n            variant=\"solid\"\r\n            onClick={handleReplace}\r\n            disabled={\r\n              clickedProgramSchedule.length === 0 ||\r\n              newProgramSchedule.length === 0\r\n            }\r\n          >\r\n            Replace\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default ChangeProgramDialog;\r\n"],"names":["programData","type","segments","setSegments","useState","promos","setPromos","commercials","setCommercials","songs","setSongs","useEffect","length","index","F_C_S_P","rowDataTypesEnum","push","error","openNotification","console","className","style","background","Event_Name","map","segment","isOpen","setIsOpen","clickedProgram","setClickedProgram","schedulingTableData","secondaryTableData","executeOperation","useContext","SchedulerContext","clickedProgramSchedule","setClickedProgramSchedule","newProgramSchedule","setNewProgramSchedule","getProgramSchedule","filter","row","FPC_Time","handleClose","width","onClose","onRequestClose","contentClassName","variant","onClick","operation","operationTypesEnum","disabled"],"sourceRoot":""}