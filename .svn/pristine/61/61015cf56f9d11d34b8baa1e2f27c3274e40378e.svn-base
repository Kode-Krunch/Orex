"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[9046,7676,5682],{44630:(e,s,a)=>{a.d(s,{Z:()=>n});var t=a(72791);const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;const[s,a]=(0,t.useState)("");return(0,t.useEffect)((()=>{if(s){let s=setTimeout((()=>a("")),e);return()=>{clearTimeout(s)}}}),[s]),[s,a]}},45682:(e,s,a)=>{a.r(s),a.d(s,{default:()=>l});var t=a(2803),n=(a(72791),a(80184));const l=function(e){let{showLoader:s}=e;return(0,n.jsx)(n.Fragment,{children:s?(0,n.jsx)("div",{className:"dialog-overlay flex justify-center items-center z-50",children:(0,n.jsx)(t.$j,{size:"3.25rem"})}):(0,n.jsx)(n.Fragment,{})})}},48160:(e,s,a)=>{a.d(s,{Z:()=>d});var t=a(1413),n=a(72791),l=a(11308),o=a(2803),i=a(60364),r=a(80184);const d=function(e){let{ticketData:s,setTicketData:a}=e;console.log("ticketData",s);const d=["bg-rose-500","bg-indigo-500","bg-blue-500","bg-amber-400"];(0,n.useEffect)((()=>{const e=s.map((e=>{var a,n,l,o;return(0,t.Z)((0,t.Z)({},e),{},{value:"".concat(null===(a=s[0])||void 0===a?void 0:a.LocationCode,"-").concat(null===(n=s[0])||void 0===n?void 0:n.ChannelCode),label:"".concat(null===(l=s[0])||void 0===l?void 0:l.LocationName,"-").concat(null===(o=s[0])||void 0===o?void 0:o.ChannelName)})}));console.log("updatedData",e),a(e)}),[]);const[c,m]=(0,n.useState)([]),[p,u]=(0,n.useState)([]),x=(0,i.useSelector)((e=>e.auth.session.LoginId));return(0,n.useEffect)((()=>{(async e=>{const a=await(0,l.bu)(x);console.log("LocationCode*",a),console.log("ticketDataLocationCode",s);const t=a.data.filter((e=>!s.some((s=>e.LocationCode+"-"+e.ChannelCode===s.LocationCode+"-"+s.ChannelCode)))).map(((e,s)=>({ChannelName:e.ChannelName,ChannelCode:e.ChannelCode,ColorClass:d[s%d.length],LocationCode:e.LocationCode,value:e.ChannelCode+"-"+e.LocationCode,label:e.LocationName+"-"+e.ChannelName})));console.log("updatedData",t),m(t),u(t)})()}),[s]),(0,r.jsx)("div",{className:"py-4 ",children:(0,r.jsx)("div",{children:(0,r.jsxs)("div",{children:[s.length>0?s.map(((e,t)=>(0,r.jsx)(o.Vp,{className:"mr-2 rtl:ml-2 mb-2",prefix:!0,prefixClass:e.ColorClass,onClose:()=>(e=>{const t=s.filter((s=>s.value!==e)),n=p.find((s=>s.value===e));a(t),m([...c,n])})(e.value),children:e.label},t))):null,(0,r.jsx)(o.Lt,{renderTitle:(0,r.jsx)(o.Vp,{showCloseButton:!1,className:"border-dashed cursor-pointer mr-2 rtl:ml-2",children:"Map Channel"}),placement:"bottom-end",children:c.map(((e,t)=>(0,r.jsx)(o.Lt.Item,{onSelect:()=>(e=>{const t=c.filter((s=>s.value!==e.value));m(t),a([...s,e])})(e),eventKey:t,children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(o.Ct,{innerClass:null===e||void 0===e?void 0:e.ColorClass}),(0,r.jsx)("span",{className:"ml-2 rtl:mr-2",children:null===e||void 0===e?void 0:e.label})]})},t)))})]})})})}},13515:(e,s,a)=>{a.d(s,{Z:()=>f});var t=a(1413),n=a(72791),l=a(41026),o=a(2803),i=a(67388),r=a(56355),d=a(81320),c=a(60364),m=a(36064),p=a(45682),u=a(25123),x=a(80184);const{Tr:h,Th:C,Td:v,THead:g,TBody:j}=l.Z,N=[{name:"Select"},{name:"StarCast Type"},{name:"StarCast"},{name:"Action"}],f=e=>{let{setMapStarcast:s,sMapStarcast:a,isEditMode:f,GetContents:S,path:y}=e;const{Content:b}=(0,c.useSelector)((e=>e.base.common)),{LOADERCHECK:I,STARCAST:T}=(0,c.useSelector)((e=>e.locale)),[E,A]=(0,n.useState)(null),[D,R]=(0,n.useState)(null),[P,w]=(0,n.useState)([]),[L,z]=(0,n.useState)([]),[M,k]=(0,n.useState)([]),[G,F]=(0,n.useState)(!1),V=(0,c.useDispatch)();(0,n.useEffect)((()=>{Z()}),[T]);const Z=async()=>{if(T&&T.star){V((0,m.kf)(!0));const e=await(0,i.apiStarcastmasterDrop)(5),a=T.star.map((s=>{const a=e.data.find((e=>e.StarCastName===s));return{StarCastTypeCode:5,StarCastTypeName:"Star",StarCastName:s,StarCastCode:a?a.StarCastCode:null}}));s(a),V((0,m.kf)(!1))}};(0,n.useEffect)((()=>{(async()=>{const e=(await(0,i.apiGetStarCastTypemaster)()).data.map((e=>({value:e.StarCastTypeCode,label:e.StarCastTypeName})));w(e)})()}),[I]);return(0,x.jsxs)("div",{children:[(0,x.jsx)(p.default,{showLoader:I}),(0,x.jsxs)("div",{className:"grid grid-cols-10 gap-2 mb-4",children:[(0,x.jsxs)("div",{className:"col-span-4",children:[(0,x.jsx)("h6",{className:"mb-2",children:"StarCast Type"}),(0,x.jsx)(o.Ph,{options:P,value:E,onChange:e=>{A(e),z([]),R(null),(async e=>{const s=(await(0,i.apiStarcastmasterDrop)(e)).data.map((e=>({value:e.StarCastCode,label:e.StarCastName})));z(s)})(e.value)}})]}),(0,x.jsxs)("div",{className:"col-span-4",children:[(0,x.jsx)("h6",{className:"mb-2",children:"StarCast"}),(0,x.jsx)(o.Ph,{options:L,value:D,onChange:e=>R(e)})]}),(0,x.jsx)("div",{className:"col-span-1",children:(0,x.jsx)(o.zx,{size:"sm",onClick:()=>{if(!E||!D)return void(0,d.openNotification)("danger","Select Star Cast And Type");if(a.some((e=>e.StarCastName===D.label)))return void(0,d.openNotification)("danger","StarCast Already Exist");const e={StarCastCode:D.value,StarCastName:D.label,StarCastTypeCode:E.value,StarCastTypeName:E.label};s([...a,e]),R(null)},type:"button",className:"mt-8",children:"Add"})})]}),0===a.length?(0,x.jsx)("div",{className:"flex justify-center",children:(0,x.jsx)("h4",{children:"No Record Found"})}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.zx,{size:"sm",onClick:()=>{const e=a.filter(((e,s)=>!M.includes(s)));s(e),k([]),F(!1)},type:"button",className:"mb-4",disabled:0===M.length,children:"Delete Selected"}),(0,x.jsxs)(l.Z,{compact:!0,style:{height:"auto"},children:[(0,x.jsx)(g,{children:(0,x.jsxs)(h,{children:[(0,x.jsx)(C,{style:{textAlign:"center"},children:(0,x.jsx)(o.XZ,{checked:G,onChange:()=>{k(G?[]:a.map(((e,s)=>s))),F(!G)}})}),N.slice(1).map(((e,s)=>(0,x.jsx)(C,{style:{textAlign:"center",textTransform:"capitalize"},children:e.name},s)))]})}),(0,x.jsx)(j,{children:a.map(((e,t)=>(0,x.jsxs)(h,{style:{border:"1px solid #E3E5EB"},children:[(0,x.jsx)(v,{style:{border:"1px solid #E3E5EB",textAlign:"center"},children:(0,x.jsx)(o.XZ,{checked:M.includes(t),onChange:()=>(e=>{const s=M.includes(e)?M.filter((s=>s!==e)):[...M,e];k(s)})(t)})}),(0,x.jsx)(v,{style:{border:"1px solid #E3E5EB",textAlign:"center"},children:e.StarCastTypeName}),(0,x.jsx)(v,{style:{border:"1px solid #E3E5EB",textAlign:"center"},children:e.StarCastName}),(0,x.jsx)(v,{style:{border:"1px solid #E3E5EB",textAlign:"center"},children:(0,x.jsx)(o.zx,{type:"button",shape:"circle",style:{fontSize:"14px"},size:"xs",onClick:()=>{const e=a.filter(((e,s)=>s!==t));s(e)},icon:(0,x.jsx)(r.AMf,{})})})]},t)))})]})]}),f&&0!==a.length&&(0,x.jsx)("div",{className:"flex justify-start mt-4",children:(0,x.jsx)(o.zx,{size:"sm",onClick:async()=>{const e=a.map((e=>(0,t.Z)((0,t.Z)({},e),{},{ContentCode:b.ContentCode})));try{const s=await(0,i.apiPostContenStarCast)(b.ContentCode,e);200===s.status?(S("/EventTeamPlaner"==y||"EventTeamPlaner"==y?1:0),(0,d.openNotification)("success","Data Updated Successfully"),setTimeout((()=>V((0,u.fs)(!1))),500)):s.data.msg}catch(s){(0,d.openNotification)("danger","Somthing Went Wrong"),setTimeout((()=>V((0,u.fs)(!1))),500)}},type:"button",className:"mb-4",children:"Save"})})]})}},1680:(e,s,a)=>{a.r(s),a.d(s,{CLIENT:()=>t,CLIENTWiseUploadPath:()=>n});const t={LOCAL:"LOCAL",INDIA_SPORTS:"INDIA SPORTS TV",USA_Forbes:"Forbes",FOOD_INDIA:"India Food Food",FOOD_USA:"USA Food Food INT",SWAMI:"INDIA SWAMI FILMS",GEC:"GEC CHANNEL",USA_GEC:"USA GEC CHANNEL",INDIA_GEC:"INDIA GEC CHANNEL",NEWS:"NEWS CHANNEL",USA_NEWS:"NEWS CHANNEL USA",BeIN_Sports:"BeIN Sports",MASST_INDIA:"INDIA MASST",ASIANET:"INDIA ASIANET CINEMA",INDIAMYMOVIES:"INDIA MY MOVIES",ANI_PLUS:"SINGAPORE ANI PLUS",SATHIYAM_TV:"INDIA SATHIYAM TV"},n={USA_Forbes:"/playlist",ASIANET:"/video/volume1/playlist"}},57676:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});a(72791);var t=a(2803),n=a(54748),l=a(67388),o=a(60364),i=a(36064),r=a(80184);const d=e=>{let{precent:s}=e;return(0,r.jsx)("div",{children:(0,r.jsx)("h3",{style:{fontSize:15},className:"pppp",children:s})})},c=e=>{let{first:s,values:a,onDialogClose:c,setPreviewSource:m,setcontentratings:p,Rating:u}=e;const x=(0,o.useDispatch)();return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4    mt-1  ",children:[(0,r.jsx)("div",{className:"col-span-2 ",children:(0,r.jsxs)("div",{style:{marginTop:10,marginLeft:30},children:[(0,r.jsx)("h3",{children:null===s||void 0===s?void 0:s.Title}),(0,r.jsx)("br",{}),(0,r.jsx)("p",{children:null===s||void 0===s?void 0:s.Plot})]})}),(0,r.jsx)("div",{className:"col-span-1 mt-1 ",style:{marginLeft:40},children:(0,r.jsx)("img",{src:null===s||void 0===s?void 0:s.Poster,height:100,width:100})})]}),(0,r.jsxs)("div",{className:"grid grid-rows-7 grid-flow-col gap-2",children:[(0,r.jsx)("div",{className:"col-span-2",children:(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,r.jsx)("div",{className:"rows-span-1 flex justify-center",children:(0,r.jsxs)("div",{style:{marginTop:"20px"},children:[(0,r.jsx)(t.Ex,{variant:"circle",percent:10*(null===s||void 0===s?void 0:s.imdbRating),width:60,className:"flex justify-center",strokeWidth:10,customInfo:(0,r.jsx)(d,{precent:null===s||void 0===s?void 0:s.imdbRating})}),(0,r.jsx)("center",{children:"Ratings"})]})}),(0,r.jsx)("div",{className:"rows-span-1 flex justify-center",children:(0,r.jsxs)("div",{style:{marginTop:"20px",width:100},children:[(0,r.jsxs)("center",{children:[(0,r.jsx)("p",{className:"text-xl",children:null===s||void 0===s?void 0:s.imdbVotes}),(0,r.jsx)("h3",{style:{fontSize:15},className:"pppp",children:"Votes"})]}),(0,r.jsx)("p",{className:"text-xl",children:(0,r.jsx)(t.Ex,{color:"blue-500",percent:100,showInfo:!1,size:"sm"})})]})}),(0,r.jsx)("div",{className:"rows-span-1 flex justify-center",children:(0,r.jsxs)("div",{style:{marginTop:"20px",width:100},children:[(0,r.jsxs)("center",{children:[(0,r.jsx)("p",{className:"text-xl",children:null===s||void 0===s?void 0:s.BoxOffice}),(0,r.jsx)("h3",{style:{fontSize:15},className:"pppp",children:"Box Office"})]}),(0,r.jsx)("p",{className:"text-xl",children:(0,r.jsx)(t.Ex,{color:"blue-500",percent:100,showInfo:!1,size:"sm"})})]})}),(0,r.jsx)("div",{className:"col-span-1 flex justify-center",children:(0,r.jsxs)("div",{style:{marginTop:"20px",width:100},children:[(0,r.jsxs)("center",{children:[(0,r.jsx)("p",{className:"text-xl",children:null===s||void 0===s?void 0:s.Year}),(0,r.jsx)("h3",{style:{fontSize:15},className:"pppp",children:"Year"})]}),(0,r.jsx)("p",{className:"text-xl",children:(0,r.jsx)(t.Ex,{color:"blue-500",percent:100,showInfo:!1,size:"sm"})})]})}),(0,r.jsx)("div",{className:"col-span-4 flex justify-center",children:(0,r.jsx)("div",{style:{marginTop:"10px"},children:(0,r.jsx)(t.Zb,{children:(0,r.jsxs)("center",{className:"text-5xl cursor-pointer",children:[(0,r.jsx)("h4",{children:"Cast Name"}),(0,r.jsx)("p",{className:"text-lg",children:null===s||void 0===s?void 0:s.Actors})]})})})})]})}),(0,r.jsx)("div",{className:"row-span-3",children:(0,r.jsxs)("div",{style:{marginTop:"10px",width:200,marginLeft:"80px"},children:[(0,r.jsx)("h3",{style:{fontSize:15,textTransform:"uppercase"},className:"pkk",children:"Initial Released"}),(0,r.jsx)("p",{className:"text-sm",style:{marginTop:"-5px"},children:null===s||void 0===s?void 0:s.Released}),(0,r.jsx)("br",{}),(0,r.jsx)("h3",{style:{fontSize:15,textTransform:"uppercase"},className:"pkk",children:"Length"}),(0,r.jsx)("p",{className:"text-sm",style:{marginTop:"-5px"},children:null===s||void 0===s?void 0:s.Runtime}),(0,r.jsx)("br",{}),(0,r.jsx)("h3",{style:{fontSize:15,textTransform:"uppercase"},className:"pkk",children:"Director"}),(0,r.jsx)("p",{className:"text-sm",style:{marginTop:"-5px"},children:null===s||void 0===s?void 0:s.Director}),(0,r.jsx)("br",{}),(0,r.jsx)("h3",{style:{fontSize:15,textTransform:"uppercase"},className:"pkk",children:"Genre"}),(0,r.jsx)("p",{className:"text-sm",style:{marginTop:"-5px"},children:null===s||void 0===s?void 0:s.Genre})]})})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(t.zx,{variant:"solid",size:"sm",onClick:()=>(()=>{var e;const t={star:(e=null===s||void 0===s?void 0:s.Actors)?e.split(", "):[],Director:null===s||void 0===s?void 0:s.Director};(async e=>{await(0,l.apiPOSTSTAR)(t),x((0,i.kf)(!0)),x((0,i.Ie)(t))})(),m(null===s||void 0===s?void 0:s.Poster),a.EPGContentName=null===s||void 0===s?void 0:s.Title,a.ContentName=null===s||void 0===s?void 0:s.Title,a.FPCReleaseDate=(0,n.jM)(null===s||void 0===s?void 0:s.Released),a.Synopsis=null===s||void 0===s?void 0:s.Plot,a.GenericSynopsis=null===s||void 0===s?void 0:s.Plot;const o=(null===s||void 0===s?void 0:s.Title.split(" ")).map((e=>e.charAt(0).toUpperCase())).join("");a.ShortName=o;const r=(null===s||void 0===s?void 0:s.Runtime.replace(/\bmin\b/g,"").trim()).replace(/\s/g,"");a.SlotDuration=r,console.log("Internet",s);const d=s.Ratings.flatMap((e=>{let a;return a="Internet Movie Database"===e.Source?u.filter((e=>2==e.RatingCompanyCode)):u.filter((s=>s.RatingCompanyName===e.Source)),0===a.length?[]:a.map((a=>{let t;if("Internet Movie Database"===e.Source&&2===a.RatingCompanyCode)t={RatingCompanyCode:a.RatingCompanyCode,Rating:parseFloat(e.Value.split("/")[0]),OutofRatingScale:10,TotalVoters:parseInt(s.imdbVotes.replace(/,/g,""),10)};else{if(3!==a.RatingCompanyCode)return null;t={RatingCompanyCode:a.RatingCompanyCode,Rating:10*Number(parseFloat(e.Value.split("/")[0]))/100,OutofRatingScale:10,TotalVoters:10*Number(parseFloat(e.Value.split("/")[0]))/100==0?0:parseInt(s.imdbVotes.replace(/,/g,""),10)}}return t}))}));p(d),c()})(),children:"Import Data"})})]})}},59046:(e,s,a)=>{a.r(s),a.d(s,{default:()=>ae});var t=a(1413),n=a(2803),l=a(11308),o=a(92506),i=a(81724),r=a(86836),d=a(67388),c=a(60364),m=a(58617),p=a(72791),u=a(57689),x=a(11087),h=a(41026),C=a(56355),v=a(85880),g=a(81320),j=a(80184);const{Tr:N,Th:f,Td:S,THead:y,TBody:b}=h.Z,I=[{name:"Season No"},{name:"Start Episode"},{name:"End Episode"},{name:"Action"}],T=e=>{n.Am.push((0,j.jsx)(n.P_,{title:"Required",type:e,children:"All Fields Are Required"}))},E=e=>{let{Season:s,setSeason:a,ContentTypeValue:t}=e;const[l,o]=(0,p.useState)(""),[i,r]=(0,p.useState)(""),[d,c]=(0,p.useState)(""),[m,u]=(0,p.useState)(null),[x,E]=(0,p.useState)(null),A=(e,t)=>{const n=[...s];n[e]=t,a(n)};return console.log(s),(0,p.useEffect)((()=>{0==(null===t||void 0===t?void 0:t.EpisodeSpecific)?(o(1),r(1),c(1)):(o(""),r(""),c(""))}),[t]),(0,j.jsx)("div",{children:(0,j.jsxs)(h.Z,{style:{border:"3px solid #E3E5EB"},compact:!0,children:[(0,j.jsx)(y,{children:(0,j.jsx)(N,{style:{border:"1px solid #E3E5EB"},children:I.map(((e,s)=>(0,j.jsx)(f,{children:e.name},s)))})}),(0,j.jsxs)(b,{children:[null==x&&(0,j.jsxs)(N,{children:[(0,j.jsx)(S,{children:(0,j.jsx)(n.II,{size:"xs",value:l,disabled:0==(null===t||void 0===t?void 0:t.EpisodeSpecific)&&!0,onChange:e=>{const a=e.target.value;if(/^[0-9]*$/.test(a)){const e=s.some((e=>e.Season===a));if("0"==a||0==a)return void o("");e&&"0"!=a||o(a.slice(0,5))}}})}),(0,j.jsx)(S,{children:(0,j.jsx)(n.II,{value:i,size:"xs",disabled:0==(null===t||void 0===t?void 0:t.EpisodeSpecific)&&!0,onChange:e=>{const s=e.target.value;"0"!=s&&0!=s?/^[0-9]*$/.test(s)&&r(s.slice(0,5)):r("")},onBlur:e=>{const s=e.target.value;parseInt(d)&&parseInt(d)<parseInt(s)&&((0,g.openNotification)("warning","End Episode Cannot be less then Start Episode"),c(""))}})}),(0,j.jsx)(S,{children:(0,j.jsx)(n.II,{value:d,size:"xs",disabled:0==(null===t||void 0===t?void 0:t.EpisodeSpecific)&&!0,onChange:e=>{const s=e.target.value;"0"!=s&&0!=s?""===s?c(""):/^[0-9]*$/.test(s)&&c(s.slice(0,5)):c("")},onBlur:e=>{const s=e.target.value;parseInt(i)&&parseInt(s)<parseInt(i)&&((0,g.openNotification)("warning","End Episode Cannot be less then Start Episode"),c(""))}})}),(0,j.jsx)(S,{children:0==(null===t||void 0===t?void 0:t.EpisodeSpecific)?null:(0,j.jsx)(n.zx,{size:"xs",onClick:()=>(()=>{if(l&&i&&d){const e={Season:l,Start:i,End:d};a([...s,e])}else T("danger");o(""),r(""),c("")})(),type:"button",children:"Add"})})]}),s.map(((e,t)=>(0,j.jsxs)(N,{style:{border:"1px solid #E3E5EB"},className:"fontsetting",children:[(0,j.jsx)(S,{style:{border:"1px solid #E3E5EB"},children:m===t?(0,j.jsx)(n.II,{size:"xs",value:l,onChange:e=>{const a=e.target.value;if("0"!=a&&0!=a){if(/^[0-9]*$/.test(a)){s.some((e=>e.Season===a))||o(a.slice(0,5))}}else o("")}}):e.Season}),(0,j.jsx)(S,{style:{border:"1px solid #E3E5EB"},children:m===t?(0,j.jsx)(n.II,{value:i,size:"xs",onChange:e=>{const s=e.target.value;"0"!=s&&0!=s?/^[0-9]*$/.test(s)&&r(s.slice(0,5)):r("")}}):e.Start}),(0,j.jsx)(S,{style:{border:"1px solid #E3E5EB"},children:m===t?(0,j.jsx)(n.II,{value:d,size:"xs",onChange:e=>{const s=e.target.value;"0"!=s&&0!=s?""===s?c(""):/^[0-9]*$/.test(s)&&parseInt(s)>=parseInt(i)&&c(s.slice(0,5)):c("")}}):e.End}),(0,j.jsx)(S,{style:{border:"1px solid #E3E5EB"},children:m===t?(0,j.jsxs)("div",{className:"flex",children:[(0,j.jsx)(n.zx,{type:"button",size:"xs",shape:"circle",onClick:()=>(e=>{if(l&&i&&d){const t=[...s];t[e]={Season:l,Start:i,End:d},a(t),o(""),r(""),c(""),u(null),E(null)}else T("danger")})(t),icon:(0,j.jsx)(C.ZNz,{})}),"\xa0",(0,j.jsx)(n.zx,{type:"button",size:"xs",shape:"circle",onClick:()=>(e=>{u(null),E(null),o(""),r(""),c(""),A(e,x)})(t),icon:(0,j.jsx)(v.Fk5,{})})]}):(0,j.jsxs)("div",{className:"flex",children:[(0,j.jsx)(n.zx,{type:"button",size:"xs",shape:"circle",onClick:()=>((e,t)=>{E(t),o(t.Season),r(t.Start),c(t.End),u(e),a(s.map(((s,a)=>a===e?{Season:"",Start:"",End:""}:s)))})(t,e),icon:(0,j.jsx)(C.w2e,{})}),"\xa0",(0,j.jsx)(n.zx,{type:"button",shape:"circle",size:"xs",onClick:()=>{const e=s.filter(((e,s)=>s!==t));a(e)},icon:(0,j.jsx)(C.AMf,{})})]})})]},t)))]})]})})};var A=a(48160),D=a(74569),R=a.n(D),P=a(57676);const{Tr:w,Th:L,Td:z,THead:M,TBody:k}=h.Z,G=[{name:"Season No"},{name:"Episode No"},{name:"Remark"},{name:"Action"}];console.log();const F=e=>{let{detail:s,setContentdetail:a}=e;const[t,l]=(0,p.useState)(""),[o,i]=(0,p.useState)(""),[r,d]=(0,p.useState)(""),[c,m]=(0,p.useState)(null),[u,x]=(0,p.useState)(),N=(e,t)=>{const n=[...s];n[e]=t,a(n)};return(0,j.jsx)("div",{children:(0,j.jsxs)(h.Z,{compact:!0,children:[(0,j.jsx)(M,{children:(0,j.jsx)(w,{children:G.map(((e,s)=>(0,j.jsx)(L,{children:e.name},s)))})}),(0,j.jsxs)(k,{children:[(0,j.jsxs)(w,{children:[(0,j.jsx)(z,{children:(0,j.jsx)(n.II,{size:"xs",value:t,onChange:e=>{const s=e.target.value;if(/^[0-9]*$/.test(s)){const e=!1;if("0"==s||0==s)return void l("");e&&"0"!=s||l(s.slice(0,5))}}})}),(0,j.jsx)(z,{children:(0,j.jsx)(n.II,{value:r,size:"xs",onChange:e=>{const s=e.target.value;"0"!=s&&0!=s?/^[0-9]*$/.test(s)&&d(s.slice(0,5)):d("")}})}),(0,j.jsx)(z,{children:(0,j.jsx)(n.II,{value:o,size:"xs",maxLength:"200",onChange:e=>i(e.target.value)})}),(0,j.jsx)(z,{children:(0,j.jsx)(n.zx,{size:"xs",onClick:()=>(()=>{if(!t||!o||!r)return void(0,g.openNotification)("danger","All fields are required");if(s.some((e=>e.Season===t&&e.Start===r)))return void(0,g.openNotification)("danger","This season and episode combination already exists!");const e={Season:t,End:o,Start:r};a([...s,e]),l(""),i(""),d("")})(),children:"Add"})})]}),s.map(((e,p)=>(0,j.jsxs)(w,{style:{border:"1px solid #E3E5EB"},children:[(0,j.jsx)(z,{style:{border:"1px solid #E3E5EB"},children:c===p?(0,j.jsx)(n.II,{size:"xs",value:t,onChange:e=>{const s=e.target.value;if("0"!=s&&0!=s){if(/^[0-9]*$/.test(s)){!1||l(s.slice(0,5))}}else l("")}}):e.Season}),(0,j.jsx)(z,{style:{border:"1px solid #E3E5EB"},children:c===p?(0,j.jsx)(n.II,{value:r,size:"xs",onChange:e=>{const s=e.target.value;"0"!=s&&0!=s?/^[0-9]*$/.test(s)&&d(s.slice(0,5)):d("")}}):e.Start}),(0,j.jsx)(z,{style:{border:"1px solid #E3E5EB"},children:c===p?(0,j.jsx)(n.II,{value:o,maxLength:"200",size:"xs",onChange:e=>i(e.target.value)}):e.End}),(0,j.jsx)(z,{style:{border:"1px solid #E3E5EB"},children:c===p?(0,j.jsxs)("div",{className:"flex",children:[(0,j.jsx)(n.zx,{type:"button",shape:"circle",variant:"plain",size:"xs",onClick:()=>(e=>{if(!t||!r||!o)return void(0,g.openNotification)("danger","All fields are required");if(s.some(((s,a)=>a!==e&&s.Season===t&&s.Start===r)))return void(0,g.openNotification)("danger","This season and episode combination already exists!");const n=[...s];n[e]={Season:t,Start:r,End:o},a(n),l(""),d(""),i(""),m(null)})(p),icon:(0,j.jsx)(C.ZNz,{})}),"\xa0",(0,j.jsx)(n.zx,{type:"button",size:"xs",shape:"circle",onClick:()=>(e=>{m(null),N(e,u)})(p),icon:(0,j.jsx)(v.Fk5,{})})]}):(0,j.jsxs)("div",{className:"flex",children:[(0,j.jsx)(n.zx,{type:"button",size:"xs",onClick:()=>((e,t)=>{m(e),x(t),m(e),a(s.map(((s,a)=>a===e?{Season:"",Start:"",End:""}:s)))})(p,e),icon:(0,j.jsx)(C.w2e,{})}),(0,j.jsx)(n.zx,{type:"button",shape:"circle",variant:"plain",size:"xs",onClick:()=>{const e=s.filter(((e,s)=>s!==p));a(e)},icon:(0,j.jsx)(C.AMf,{})})]})})]},p)))]})]})})};var V=a(54748),Z=a(1680);const _=e=>{let{touched:s,errors:a,values:t,detail:l,setContentdetail:i,AspectRatio:r,onDialogClose1:m}=e;const[u,x]=(0,p.useState)([]),h=(0,c.useSelector)((e=>e.locale.selectedChannel));return(0,p.useEffect)((()=>{(async e=>{const s=(await(0,d.apiGetvideotypdrop)(void 0)).data.map((e=>({value:e.VideoTypeCode,label:e.VideoTypeName})));x(s)})()}),[]),(0,j.jsxs)("div",{children:[(0,j.jsxs)(n.Yb,{children:[(0,j.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-2 ",children:[(0,j.jsx)("div",{className:"col-span-1",children:(0,j.jsx)(n.lm,{label:"Synopsis",invalid:a.Synopsis&&s.Synopsis,errorMessage:a.Synopsis,children:(0,j.jsx)(o.gN,{type:"Synopsis",autoComplete:"off",name:"Synopsis",textArea:!0,placeholder:"Synopsis",component:n.II})})}),(0,j.jsx)("div",{className:"col-span-1",children:(0,j.jsx)(n.lm,{label:"Generic Synopsis",invalid:a.GenericSynopsis&&s.GenericSynopsis,errorMessage:a.GenericSynopsis,children:(0,j.jsx)(o.gN,{type:"GenericSynopsis",autoComplete:"off",name:"GenericSynopsis",textArea:!0,placeholder:"Generic Synopsis",component:n.II})})}),(0,j.jsx)("div",{className:"col-span-1",children:(0,j.jsx)(n.lm,{label:"EPG Name",invalid:a.EPGContentName&&s.EPGContentName,errorMessage:a.EPGContentName,children:(0,j.jsx)(o.gN,{type:"text",autoComplete:"off",maxLength:"50",name:"EPGContentName",placeholder:"ContentName",component:n.II})})}),(0,j.jsx)("div",{className:"col-span-1",children:(0,j.jsx)(n.lm,{label:"Meta Data",invalid:a.MetaData&&s.MetaData,errorMessage:a.MetaData,children:(0,j.jsx)(o.gN,{type:"MetaData",autoComplete:"off",name:"MetaData",maxLength:"100",placeholder:"Meta Data",component:n.II})})})]}),(0,j.jsxs)("div",{className:"grid grid-cols-8 md:grid-cols-8 gap-2",children:[(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.lm,{asterisk:!0,label:"Video Type",invalid:a.VideoType&&s.VideoType,errorMessage:a.VideoType,style:{width:"250px"},children:(0,j.jsx)(o.gN,{size:"sm",name:"VideoType",style:{width:"250px"},children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.Ph,{style:{width:"250px"},field:s,form:a,options:u,value:u.filter((e=>e.value==t.VideoType)),onChange:e=>a.setFieldValue(s.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.lm,{asterisk:!0,label:"Aspect Ratio",invalid:a.AspectRatio&&s.AspectRatio,errorMessage:a.AspectRatio,style:{width:"250px"},children:(0,j.jsx)(o.gN,{size:"sm",name:"AspectRatio",style:{width:"250px"},children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.Ph,{style:{width:"250px"},field:s,form:a,options:r,value:r.filter((e=>e.value==t.AspectRatio)),onChange:e=>a.setFieldValue(s.name,null===e||void 0===e?void 0:e.value)})}})})}),Z.CLIENT.USA_Forbes!=h.label&&(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.lm,{label:"Default Seg Duration",invalid:a.DefaultSegDur&&s.DefaultSegDur,errorMessage:a.DefaultSegDur,children:(0,j.jsx)(o.gN,{size:"sm",name:"DefaultSegDur",placeholder:"Default Seg",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.II,{field:s,form:a,size:"sm",value:t.DefaultSegDur,onChange:e=>{const t=e.target.value,n=t.split("").map(((e,s)=>(0!==s||/^[0-2]$/.test(e))&&(1!==s||"2"!==t[0]||/^[0-4]$/.test(e))&&(3!==s||/^[0-5]$/.test(e))&&(4!==s||"2"!==t[0]||/^[0-9]$/.test(e))&&(6!==s||/^[0-5]$/.test(e))&&(7!==s||"2"!==t[0]||/^[0-9]$/.test(e))&&(9!==s||/^[0-2]$/.test(e))&&(10!==s||"2"!==t[0]||/^[0-4]$/.test(e))?2===s&&":"!==e||5===s&&":"!==e||8===s&&":"!==e?":":e||"":"0")).join("").slice(0,11);a.setFieldValue(s.name,n)}})}})})}),Z.CLIENT.USA_Forbes!=h.label&&(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.lm,{label:"Default Segment No.",invalid:a.DefaultSeg&&s.DefaultSeg,errorMessage:a.DefaultSeg,children:(0,j.jsx)(o.gN,{size:"sm",name:"DefaultSeg",placeholder:"Default Seg No",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.II,{field:s,form:a,maxLength:"2",size:"sm",value:t.DefaultSeg,onChange:e=>{const t=e.target.value;(0,V.n1)(t)&&a.setFieldValue(s.name,t)}})}})})})]}),(0,j.jsxs)("div",{className:"grid grid-cols-5 gap-2",children:[(0,j.jsx)("div",{style:{marginTop:"-10px"},children:(0,j.jsx)(n.lm,{className:"mb-5",label:Z.CLIENT.ANI_PLUS==h.label?"Is Special Ep":"Is B&W",invalid:a.Colored&&s.Colored,errorMessage:a.Colored,children:(0,j.jsx)(o.gN,{name:"Colored",component:n.T5})})}),Z.CLIENT.USA_Forbes!=h.label&&(0,j.jsx)("div",{style:{marginTop:"-10px"},children:(0,j.jsx)(n.lm,{label:"Is Live",invalid:a.Recorded&&s.Recorded,errorMessage:a.Recorded,children:(0,j.jsx)(o.gN,{name:"Recorded",component:n.T5})})}),(0,j.jsx)(n.lm,{label:" ",invalid:a.IsGroup&&s.IsGroup,errorMessage:a.IsGroup,children:(0,j.jsx)(o.gN,{name:"IsGroup",component:n.XZ,children:"Is Event Name"})}),(0,j.jsx)(n.lm,{label:" ",invalid:a.IsRODP&&s.IsRODP,errorMessage:a.IsRODP,children:(0,j.jsx)(o.gN,{name:"IsRODP",component:n.XZ,children:"Ignore RODP Spots"})}),(0,j.jsx)(n.lm,{label:" ",invalid:a.AllowOverBooking&&s.AllowOverBooking,errorMessage:a.AllowOverBooking,children:(0,j.jsx)(o.gN,{name:"AllowOverBooking",component:n.XZ,children:"Allow OverBooking"})})]})]}),(0,j.jsx)(n.Zb,{header:"Episode Restrictions",children:(0,j.jsx)(F,{setContentdetail:i,detail:l})}),(0,j.jsx)("div",{className:"flex justify-end",children:(0,j.jsx)(n.zx,{size:"sm",variant:"solid",className:"mt-2",onClick:()=>m("e",t),children:"Ok"})})]})};var O=a(73728),B=a(13515),q=a(44630),U=a(76053),H=a(41578),$=a(3479),J=a(45682),W=a(41795),X=a(9494);let Y="https://cloudbats.planetcast.in/download.jpg";const K=i.Ry().shape({ContentName:i.Z_().min(1,"Too Short!").max(50,"Too Long!").required("Content Name Required"),ShortName:i.Z_().required("ShortName Required "),ContentTypeCode:i.Z_().required("ContentType Required "),Audience:i.Z_().required("Audience Required "),ClassificationCode:i.Z_().required("Classification Required "),LanguageCode:i.Z_().required("Language Required "),FPCReleaseDate:i.Z_().required("ReleaseDate Required "),SlotDuration:i.Z_().required("Dur in mins Required "),GenreCode:i.Z_().required("Genre Required"),SubGenreCode:i.Z_().required("SubGenre Required"),CensorshipCode:i.Z_().required("Censorship Required "),ERPCode:i.Z_().min(1,"Too Short!").max(20,"Too Long!"),IsActive:i.Z_().required("IsActives Required")}),Q=[{value:1,label:"EPISODIC"},{value:2,label:"NONEPISODIC"}],ee=[{value:"",label:"Data Not Found"}],se=["bg-rose-500","bg-indigo-500","bg-blue-500","bg-amber-400"],ae=()=>{const e=(0,u.s0)(),{state:s}=(0,u.TH)(),a=(0,c.useSelector)((e=>e.locale.selectedChannel)),i=(0,c.useSelector)((e=>e.base.common.Path)),h=(0,c.useSelector)((e=>e.auth.session.token)),C=(0,c.useSelector)((e=>e.auth.session.Username)),v=(0,c.useSelector)((e=>e.auth.session.ChannelSetting)),[N,f]=(0,p.useState)([]),[S,y]=(0,p.useState)(),[b,I]=(0,p.useState)([]),[T,D]=(0,p.useState)([]),[w,L]=(0,p.useState)([]),[z,M]=(0,p.useState)([]),[k,G]=(0,p.useState)([]),[F,ae]=(0,p.useState)([]),[te,ne]=(0,p.useState)(!1),[le,oe]=(0,p.useState)(!1),[ie,re]=(0,p.useState)(!1),[de,ce]=(0,p.useState)([]),[me,pe]=(0,p.useState)(""),[ue,xe]=(0,p.useState)([]),[he,Ce]=(0,p.useState)([]),[ve,ge]=(0,p.useState)([]),[je,Ne]=(0,p.useState)([]),[fe,Se]=(0,p.useState)({}),[ye,be]=(0,p.useState)([a].map(((e,s)=>({ColorClass:se[s%se.length],LocationCode:e.LocationCode,LocationName:e.LocationName,ChannelName:e.ChannelName,ChannelCode:e.ChannelCode})))),[Ie,Te]=(0,p.useState)([]),[Ee,Ae]=(0,q.Z)(),[De,Re]=(0,q.Z)(),[Pe,we]=(0,p.useState)([]),[Le,ze]=(0,p.useState)(!1),[Me,ke]=(0,p.useState)([]),[Ge,Fe]=(0,p.useState)(Y),Ve=(e,s)=>{ne(!1)},Ze=(e,s)=>{oe(!1)};(0,p.useEffect)((()=>{const e=Pe.filter((e=>10===e.OutofRatingScale&&0!==e.Rating)),s=e.reduce(((e,s)=>e+s.Rating),0),a=e.length>0?s/e.length:0,t=Number(a.toFixed(1));ze(t)}),[Pe]);const _e=(e,s,a)=>e.map((e=>({value:e[s],label:e[a]})));(0,p.useEffect)((()=>{(async()=>{re(!0);try{const[e,s,t,n,o,i,r,c,m,p]=await Promise.all([(0,d.apiGetRatingcompanymaster)(),(0,d.apiGetAspectratiomasterdrop)(),(0,d.apiGetContentTypemaster)(),(0,d.apiGetviewmasterdrop)(),(0,d.apiGetTXVersionmasterDrop)(),(0,l.Hq)(),(0,d.apiGetCensorshipmaster)(),(0,d.apiGetGenremaster)(),(0,d.apiGetSubGenremaster)(),Z.CLIENT.USA_Forbes!==a.label?(0,d.apiGetSuppliermaster)():Promise.resolve({data:[]})]);ge(e.data);const u=_e(s.data,"AspectRatioCode","AspectRatio");Ne(u);const x=t.data.sort(((e,s)=>e.ContentTypeName.localeCompare(s.ContentTypeName))).map((e=>({value:e.ContentTypeCode,label:e.ContentTypeName,EpisodeSpecific:e.EpisodeSpecific})));console.log("contentTypeOptions",x),f(x);const h=_e(n.data,"ViewCode","ViewName");ke(h);const C=_e(o.data,"TXVersionCode","TXVersionName");M(C);const v=p.data.length?_e(p.data,"SupplierCode","SupplierName"):[];G(v);const g=i.data.sort(((e,s)=>e.LanguageName.localeCompare(s.LanguageName))).map((e=>({value:e.LanguageCode,label:e.LanguageName})));I(g);const j=_e(r.data,"CensorshipCode","CensorshipName");ae(j);const N=c.data.sort(((e,s)=>e.GenreName.localeCompare(s.GenreName))).map((e=>({value:e.GenreCode,label:e.GenreName})));D(N);const S=m.data.sort(((e,s)=>e.SubGenreName.localeCompare(s.SubGenreName))).map((e=>({value:e.SubGenreCode,label:e.SubGenreName})));if(L(S),console.log(a),a.ChannelName!==Z.CLIENT.USA_Forbes){const e=await(0,X.apiCallstoreprocedure)("USP_GetPromosListusingPromotype",{ChannelCode:a.ChannelCode,LocationCode:a.LocationCode,PromoTypeCode:"19"});if(e&&Array.isArray(e.data)&&e.data.length>0){const s=e.data.sort(((e,s)=>e.PromoCaption.localeCompare(s.PromoCaption))).map((e=>({value:e.PromoCode,label:e.PromoCaption})));Se(s)}}console.log("channel",a.label)}catch(e){console.error("Error fetching data:",e)}finally{re(!1)}})()}),[]);const Oe=()=>{oe(!0)},Be=async e=>{try{let s={method:"get",maxBodyLength:1/0,url:"https://www.omdbapi.com/?s=".concat(e.ContentName,"&apikey=4374994a"),headers:{}};const a=await R().request(s);if("False"===a.data.Response)return pe(!0),void setTimeout((()=>pe(!1)),3e3);const t=a.data.Search,n=[],l=t.map((e=>{const s={method:"get",maxBodyLength:1/0,url:"https://www.omdbapi.com/?i=".concat(e.imdbID,"&apikey=4374994a"),headers:{}};return R().request(s)})),o=await Promise.all(l);for(const e of o)"False"!==e.data.Response&&n.push(e.data);console.log("allMovieDetails",n),ce(n),ne(!0),pe(!1)}catch(s){console.error("Error fetching movie data:",s),pe(!0),setTimeout((()=>pe(!1)),3e3)}},qe=(e,s)=>{let a=!0;const t=["image/jpeg","image/png"];if(e)for(const n of e)t.includes(n.type)||(a="Please upload a .jpeg or .png file!"),n.size>=5e6&&(a="Uploaded image cannot more than 500kb!");return a};return(0,j.jsxs)("div",{children:[(0,j.jsx)(J.default,{showLoader:ie}),me?(0,j.jsx)(n.bZ,{type:"info",title:"Alert!",showIcon:!0,children:"Movie not Found"}):null,(0,j.jsx)(o.J9,{initialValues:{ContentCode:"",ContentName:"",ShortName:"",ERPCode:"",ContentTypeCode:"",LanguageCode:"",ClassificationCode:"",FPCReleaseDate:"",SlotDuration:"",GenreCode:"",SubGenreCode:"",CensorshipCode:"",TxTypeName:[],SupplierName:[],DefaultSeg:"",Audience:"",Synopsis:"",GenericSynopsis:"",ERPContentName:"",MetaData:"",VideoType:2,AspectRatio:1,DefaultSegDur:"",InHouse:"",Colored:"",Recorded:"",IsGroup:"/addEventTeamPlaner"==i&&!0,IsRODP:"",Content_Image:Ge,AllowOverBooking:"",PromoCode:"",IsActive:(null===s||void 0===s||s.editData.IsActive,!0)},validationSchema:K,onSubmit:n=>{setTimeout((()=>{null!==s&&void 0!==s&&s.editData.ContentCode||new Promise(((s,l)=>{(async(s,n)=>{if(re(!0),s.Content_Image&&a.label==Z.CLIENT.MASST_INDIA){const e=new FormData;e.append("image",s.Content_Image),e.append("folderName",a.ChannelName);try{const s=await R().post("http://103.14.97.155:3050/upload",e,{headers:{"Content-Type":"multipart/form-data"}});console.log("Upload successful:",s.data.url),Y=s.data.url}catch(m){var l;return void(0,g.openNotification)("warning",(null===(l=m.response)||void 0===l?void 0:l.data.message)||"Image upload failed")}}if(!(ye.length>0||ue.length>0||he.length>0||Ie.length>0))return re(!1),void(0,g.openNotification)("danger","Kindly Enter Required Field");if(s.InHouse&&0===s.SupplierName.length)return re(!1),void(0,g.openNotification)("danger","Kindly Enter Supplier Name");try{var o,r;const l=Z.CLIENT.USA_Forbes===a.label,c=(0,t.Z)((0,t.Z)({content:{ContentName:s.ContentName||"",ShortName:s.ShortName||"",ERPCode:s.ERPCode||"",ContentTypeCode:s.ContentTypeCode||"",ClassificationCode:s.ClassificationCode||"",ViewCode:s.Audience||"",LanguageCode:s.LanguageCode||"",CensorshipCode:s.CensorshipCode||"",BlackWhite:s.Colored?1:0,InHouseOutHouse:s.InHouse?1:0,FPCReleaseDate:s.FPCReleaseDate||null,SlotDuration:Number(s.SlotDuration||0),Synopsis:s.Synopsis||"",GroupName:"/addEventTeamPlaner"===i||s.IsGroup?1:0,IsSubProgram:0,IsEpRestriction:0,IsRecorded:l?0:s.Recorded?1:0,AllowOverBooking:s.AllowOverBooking?1:0,IgnoreRODPSpots:s.IsRODP?1:0,GenreCode:s.GenreCode||"",SubGenreCode:s.SubGenreCode||"",AspectRatio:(null===(o=s.AspectRatio)||void 0===o?void 0:o.toString())||"",SD:0,HD:0,UHD:0,IsGeneric:0,EPGContentName:s.ERPContentName||s.ContentName||"",GenericSynopsis:s.GenericSynopsis||"",ApprovedStatus:s.IsActive?1:0,AppRejRemark:s.DefaultSeg||"",Content_Image:a.label==Z.CLIENT.MASST_INDIA?Y:Ge,MetaData:s.MetaData||"",TxMasterCode:null===(r=s.TxTypeName[0])||void 0===r?void 0:r.value,VideoTypeCode:s.VideoType||"",IsActive:s.IsActive?1:0,DefaultSegDur:l?(0,g.formatDurationHHMMSSFF)(Number(v[0].FramePerSec),60*Number(s.SlotDuration)):s.DefaultSegDur||"",DefaultSeg:l?1:s.DefaultSeg||0,PromoCode:s.PromoCode?s.PromoCode:0}},Ie.length>0&&{starcast:Ie.map((e=>({StarCastTypeCode:e.StarCastTypeCode,StarCastCode:e.StarCastCode})))}),{},{contenttxversion:s.TxTypeName.map((e=>({TxVersionCode:e.value,IsActive:1}))),contentepsrestriction:ue.map((e=>({ContentTypeCode:s.ContentTypeCode,SeasonNo:Number(e.Season),EpisodeNo:Number(e.Start),Reason:e.End,IsActive:1}))),contentlocchnlmap:ye.map((e=>({LocationCode:e.LocationCode,ChannelCode:e.ChannelCode,IsActive:1}))),cepsmapping:0===(null===S||void 0===S?void 0:S.EpisodeSpecific)?[{SeasonNo:1,StartEpisode:1,EndEpisodes:1,IsActive:1}]:he.map((e=>({SeasonNo:Number(e.Season),StartEpisode:Number(e.Start),EndEpisodes:Number(e.End),IsActive:1}))),contentratings:Pe},s.SupplierName.length>0&&{CntentSuppliermap:s.SupplierName.map((e=>({SupplierCode:e.value,IsActive:1})))});console.log("mergedData",c);const m=await(0,d.PostContent)(c,n);if(204===m.status)(0,g.openNotification)("danger","Data Already Exists.");else if(200===m.status){(0,g.openNotification)("success","Data Added Successfully");const t=Z.CLIENT.USA_Forbes===a.label?"/templatemaster":"/addEventTeamPlaner"===i?"/EventTeamPlaner":"/ContentMaster";await(0,d.apisendnotification)({NotificationId:(Math.random()+1).toString(36).substring(7),user_ids:[10],message:s.ContentName+" Content Added.",image:"",type:"1",location:"Content Added.",locationLabel:C,Status:"1",isGroup:1,Ispriority:1,readed:0}),e(t)}}catch(m){var c;500===(null===(c=m.response)||void 0===c?void 0:c.status)&&(0,g.openNotification)("danger","Server Error.")}finally{re(!1)}})(n,h).then((e=>{s(e)})).catch((e=>{l(e)}))}))}),400)},children:e=>{let{values:t,touched:l,errors:d}=e;return(0,j.jsxs)(o.l0,{children:[(0,j.jsx)(n.Vq,{isOpen:te,width:800,contentClassName:"mt-6",onClose:Ve,onRequestClose:Ve,children:(0,j.jsx)(W.d,{value:de,numVisible:5,showThumbnails:!0,thumbnailsPosition:"top",className:"h-full ",item:e=>(0,j.jsx)("div",{className:"flex flex-row md:flex-row gap-4 items-start ",children:(0,j.jsx)("div",{className:"flex-1",children:(0,j.jsx)(P.default,{first:e,values:t,onDialogClose:Ve,setPreviewSource:Fe,setcontentratings:we,Rating:ve})})}),thumbnail:e=>(0,j.jsx)("div",{className:"text-sm",children:(0,j.jsx)("img",{src:e.Poster,alt:e.Title,style:{width:120}})})})}),(0,j.jsx)(n.Zb,{header:Z.CLIENT.USA_Forbes==a.label?"Template Master":"Content Master",children:(0,j.jsx)("div",{className:"inline-flex flex-wrap xl:flex gap-2",children:(0,j.jsxs)(n.Yb,{children:[(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,j.jsxs)(n.Zb,{children:[(0,j.jsx)(o.gN,{size:"sm",type:"ContentCode",autoComplete:"off",name:"ContentCode",placeholder:"ContentCode name",component:n.II,hidden:!0}),(0,j.jsxs)("div",{className:"grid grid-cols-6 md:grid-cols-6 gap-2",children:[(0,j.jsx)("div",{className:"col-span-4",children:(0,j.jsx)(n.xJ,{asterisk:!0,label:a.label==Z.CLIENT.USA_Forbes?"Template":"Content",invalid:d.ContentName&&l.ContentName,errorMessage:d.ContentName,children:(0,j.jsx)(o.gN,{type:"text",autoComplete:"off",name:"ContentName",size:"sm",maxLength:"50",placeholder:a.label==Z.CLIENT.USA_Forbes?"Template":"Content",component:n.II})})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.zx,{className:"mt-7",variant:"solid",size:"sm",disabled:""==t.ContentName,icon:(0,j.jsx)(m.O6C,{}),type:"button",onClick:()=>Be(t),children:"Search In IMDb"})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.xJ,{asterisk:!0,label:"Short Name",invalid:d.ShortName&&l.ShortName,errorMessage:d.ShortName,children:(0,j.jsx)(o.gN,{type:"ShortName",autoComplete:"off",name:"ShortName",size:"sm",placeholder:"Short Name",component:n.II,maxLength:"8"})})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.xJ,{asterisk:!0,label:"Content Type",invalid:d.ContentTypeCode&&l.ContentTypeCode,errorMessage:d.ContentTypeCode,children:(0,j.jsx)(o.gN,{size:"sm",name:"ContentTypeCode",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.Ph,{field:s,form:a,options:N,value:N.length>0?N.filter((e=>e.value===t.ContentTypeCode)):ee.filter((e=>e.value===t.ReportingTo)),onChange:e=>{y(e),0==(null===e||void 0===e?void 0:e.EpisodeSpecific)?a.setFieldValue("ClassificationCode",2):a.setFieldValue("ClassificationCode",1),a.setFieldValue(s.name,null===e||void 0===e?void 0:e.value)}})}})})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.xJ,{label:"ERP Code",invalid:d.ERPCode&&l.ERPCode,errorMessage:d.ERPCode,children:(0,j.jsx)(o.gN,{name:"ERPCode",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.II,{size:"sm",placeholder:"ERPCode",maxLength:"20",field:s,form:a,value:t.ERPCode,onChange:e=>{const t=e.target.value;/^[a-zA-Z0-9]*$/.test(t)&&a.setFieldValue(s.name,t)}})}})})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.xJ,{asterisk:!0,label:"Classification",invalid:d.ClassificationCode&&l.ClassificationCode,errorMessage:d.ClassificationCode,children:(0,j.jsx)(o.gN,{name:"ClassificationCode",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.Ph,{field:s,form:a,isDisabled:!0,options:Q,value:Q.filter((e=>e.value===t.ClassificationCode)),onChange:e=>a.setFieldValue(s.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.xJ,{asterisk:!0,label:"Audience",invalid:d.Audience&&l.Audience,errorMessage:d.Audience,children:(0,j.jsx)(o.gN,{name:"Audience",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.Ph,{field:s,form:a,options:Me,value:Me.filter((e=>e.value===t.Audience)),onChange:e=>a.setFieldValue(s.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.xJ,{asterisk:!0,label:"Dur In Mins.",invalid:d.SlotDuration&&l.SlotDuration,errorMessage:d.SlotDuration,children:(0,j.jsx)(o.gN,{name:"SlotDuration",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.II,{size:"sm",placeholder:"SlotDuration",field:s,form:a,value:t.SlotDuration,onChange:e=>{const t=e.target.value;/^[0-9]*$/.test(t)&&a.setFieldValue(s.name,t.slice(0,3))}})}})})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.xJ,{asterisk:!0,label:"Censorship",invalid:d.CensorshipCode&&l.CensorshipCode,errorMessage:d.CensorshipCode,children:(0,j.jsx)(o.gN,{name:"CensorshipCode",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.Ph,{field:s,form:a,options:F,value:F.length>0?F.filter((e=>e.value===t.CensorshipCode)):ee.filter((e=>e.value===t.ReportingTo)),onChange:e=>a.setFieldValue(s.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.xJ,{asterisk:!0,label:"Release Date",invalid:d.FPCReleaseDate&&l.FPCReleaseDate,errorMessage:d.FPCReleaseDate,children:(0,j.jsx)(o.gN,{name:"FPCReleaseDate",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.Mt,{size:"sm",field:s,form:a,name:"FPCReleaseDate",value:(0,V.Gu)(t.FPCReleaseDate)?new Date(t.FPCReleaseDate):"",placeholder:"Select Date",onChange:e=>{a.setFieldValue("FPCReleaseDate",e)}})}})})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.xJ,{asterisk:!0,label:"Language",invalid:d.LanguageCode&&l.LanguageCode,errorMessage:d.LanguageCode,children:(0,j.jsx)(o.gN,{size:"sm",name:"LanguageCode",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.Ph,{field:s,form:a,options:b,value:b.length>0?b.filter((e=>e.value===t.LanguageCode)):ee.filter((e=>e.value===t.ReportingTo)),onChange:e=>a.setFieldValue(s.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.xJ,{asterisk:!0,label:"Genre",invalid:d.GenreCode&&l.GenreCode,errorMessage:d.GenreCode,children:(0,j.jsx)(o.gN,{size:"sm",name:"GenreCode",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.Ph,{field:s,form:a,options:T,value:T.length>0?T.filter((e=>e.value===t.GenreCode)):ee.filter((e=>e.value===t.ReportingTo)),onChange:e=>a.setFieldValue(s.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.xJ,{asterisk:!0,label:"SubGenre",invalid:d.SubGenreCode&&l.SubGenreCode,errorMessage:d.SubGenreCode,children:(0,j.jsx)(o.gN,{size:"sm",name:"SubGenreCode",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.Ph,{field:s,form:a,options:w,value:w.length>0?w.filter((e=>e.value===t.SubGenreCode)):ee.filter((e=>e.value===t.ReportingTo)),onChange:e=>a.setFieldValue(s.name,null===e||void 0===e?void 0:e.value)})}})})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(n.xJ,{label:"TX Type Name",asterisk:!0,invalid:d.TxTypeName&&l.TxTypeName,errorMessage:d.TxTypeName,children:(0,j.jsx)(o.gN,{name:"TxTypeName",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.Ph,{isMulti:!0,componentAs:r.Z,field:s,form:a,options:z,value:t.TxTypeName,onChange:e=>{console.log(s.name,e),a.setFieldValue(s.name,e)}})}})})}),(0,j.jsx)("div",{className:"col-span-1",children:(0,j.jsx)(n.xJ,{label:"Is OutHouse",invalid:d.InHouse&&l.InHouse,errorMessage:d.InHouse,children:(0,j.jsx)(o.gN,{name:"InHouse",component:n.T5})})}),(0,j.jsx)("div",{className:"col-span-5",children:t.InHouse&&Z.CLIENT.USA_Forbes!==a.label&&(0,j.jsx)("div",{children:(0,j.jsx)(n.xJ,{label:"Supplier Name",asterisk:!0,invalid:d.SupplierName&&l.SupplierName,errorMessage:d.SupplierName,children:(0,j.jsx)(o.gN,{name:"SupplierName",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.Ph,{isMulti:!0,componentAs:r.Z,field:s,form:a,options:k,value:t.SupplierName,onChange:e=>{a.setFieldValue(s.name,e)}})}})})})}),(0,j.jsx)("div",{className:"col-span-6",children:Z.CLIENT.ANI_PLUS===a.label&&(0,j.jsx)("div",{children:(0,j.jsx)(n.xJ,{label:"Parenting Rating Disclaimers ",asterisk:!0,invalid:d.PromoCode&&l.PromoCode,errorMessage:d.PromoCode,children:(0,j.jsx)(o.gN,{name:"PromoCode",children:e=>{let{field:s,form:a}=e;return(0,j.jsx)(n.Ph,{field:s,form:a,value:w.length>0?w.filter((e=>e.value===t.PromoCode)):ee.filter((e=>e.value===t.ReportingTo)),options:fe,onChange:e=>{a.setFieldValue(s.name,e.value)}})}})})})}),(0,j.jsx)("div",{className:"col-span-3",children:(0,j.jsx)(n.xJ,{label:"Content Image",invalid:d.Content_Image&&l.Content_Image,errorMessage:d.Content_Image,children:(0,j.jsx)(o.gN,{name:"Content_Image",children:e=>{let{field:s,form:t}=e;return(0,j.jsx)("div",{style:{display:"grid"},children:(0,j.jsx)(n.gq,{uploadLimit:1,beforeUpload:qe,showList:!1,onChange:e=>{const n=e[0];if(n){const e=new FileReader;e.readAsDataURL(n),e.onloadend=()=>{t.setFieldValue(s.name,n),t.setFieldValue(s.name,a.label==Z.CLIENT.MASST_INDIA?n:e.result)}}else t.setFieldValue(s.name,""),Fe("")},children:(0,j.jsx)("div",{className:"border-dashed border-gray-500 border-2 p-3 rounded-lg w-full hover:cursor-pointer mt-1",children:Ge?(0,j.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)(n.u,{title:"Click to upload logo",children:(0,j.jsx)("img",{src:Ge,alt:"Preview",className:"hover:opacity-80",style:{height:"150px",width:"auto"}})}),(0,j.jsx)(n.u,{title:"Remove Logo",className:"relative",wrapperClass:"absolute -top-3 -right-3",children:(0,j.jsx)(n.zx,{shape:"circle",size:"xs",variant:"solid",color:"red-500",icon:(0,j.jsx)(U.nfZ,{}),type:"button",onClick:e=>{e.stopPropagation(),t.setFieldValue(s.name,""),Fe("")}})})]})}):(0,j.jsx)("div",{className:"h-28 flex items-center justify-center w-full",children:(0,j.jsxs)(n.u,{title:"Click to upload logo",wrapperClass:"flex flex-col items-center justify-center",children:[(0,j.jsx)(O.Z30,{size:25}),(0,j.jsx)("p",{className:"text-xs mt-1 opacity-60 dark:text-white",children:"Support: jpeg, png, bmp, svg"}),(0,j.jsx)("p",{className:" text-xs mt-1 opacity-60 dark:text-white",children:"(Max 1MB)"})]})})})})})}})})})]})]}),(0,j.jsxs)(n.Zb,{children:[De&&(0,j.jsx)(n.bZ,{className:"mb-4",type:"danger",showIcon:!0,children:"Please Select Video Type and Aspect Ratio"}),(0,j.jsxs)("div",{className:"flex items-center justify-between mb-2 mr-2 ml-2",children:[(0,j.jsx)("h6",{children:"Add Synopsis"}),(0,j.jsx)(H.W26,{size:25}),(0,j.jsxs)(n.zx,{onClick:()=>Oe(),variant:"solid",size:"xs",icon:(0,j.jsx)($._2y,{}),type:"button",children:["Add Synopsis"," "]})]}),Ee&&(0,j.jsx)(n.bZ,{className:"mb-4",type:"danger",showIcon:!0,children:"Kindly Select Channel"}),(0,j.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,j.jsx)("div",{className:"col-span-1",children:(0,j.jsxs)(n.Zb,{header:(0,j.jsx)("p",{className:"contentmasthead",children:"Rating"}),children:[(0,j.jsx)("div",{className:"flex justify-start items-center",children:(0,j.jsxs)("p",{style:{color:"white",fontSize:16,fontWeight:600},className:"flex",children:["Average Rating"," ",(0,j.jsxs)("p",{className:"flex ml-2",children:[Le," ",(0,j.jsx)("p",{className:"ml-1 filled",children:"\u2605"})]})]})}),(0,j.jsxs)("div",{style:{height:"150px",overflow:"auto"},children:[(0,j.jsx)("div",{style:{height:1,width:"100%",background:"#e6dcdc7a"},className:"mt-5"}),ve&&ve.map(((e,s)=>{var a;const t=Pe.filter((s=>s.RatingCompanyCode===e.RatingCompanyCode)),n=t.length>0;return console.log(null===(a=t[0])||void 0===a?void 0:a.TotalVoters),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[(0,j.jsxs)("div",{className:"flex justify-left ml-5 items-center",children:[(0,j.jsx)("img",{src:e.RatingCompanyLogo,height:60,width:60,alt:e.RatingCompanyName}),(0,j.jsxs)("p",{className:"ml-2 font-xl font-extrabold",children:[" ",e.RatingCompanyName]})]}),(0,j.jsx)("div",{className:"flex justify-end items-center",children:(0,j.jsxs)("div",{className:"mr-10 flex items-center",children:[(0,j.jsx)("h5",{className:"mr-1",style:{color:"gold",marginTop:"-5"},children:"\u2605"}),(0,j.jsx)("span",{className:"mr-2",style:{color:"gold"},children:n&&t[0].Rating}),n&&(0,j.jsxs)("span",{children:[" ","(",(0,g.abbreviateNumberE)(t[0].TotalVoters),")"]})]})})]}),(0,j.jsx)("div",{style:{height:1,width:"100%",background:"#e6dcdc7a"},className:"mt-2 mb-2"})]},s)}))]})]})}),(0,j.jsx)("div",{className:"col-span-1",children:(0,j.jsxs)(n.Zb,{style:{border:Ee?"1px solid red":""},header:(0,j.jsxs)("p",{className:"contentmasthead",children:[" ","Channel & Season Mapping"]}),children:[(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(A.Z,{ticketData:ye,setTicketData:be})}),(0,j.jsx)("div",{className:"col-span-2",children:(0,j.jsx)(E,{setSeason:Ce,Season:he,ContentTypeValue:S})})]})}),(0,j.jsx)("div",{className:"col-span-1",children:(0,j.jsx)(n.Zb,{header:(0,j.jsx)("p",{className:"contentmasthead",children:" StarCast"}),children:(0,j.jsx)(B.Z,{setMapStarcast:Te,sMapStarcast:Ie,isEditMode:!1,GetContents:"",path:""})})})]})]}),(0,j.jsx)(n.Vq,{isOpen:le,width:1e3,onClose:e=>Ze(),onRequestClose:e=>Ze(),children:(0,j.jsx)("div",{children:(0,j.jsx)(_,{editData:null===s||void 0===s?void 0:s.editData,touched:l,errors:d,values:t,setContentdetail:xe,detail:ue,AspectRatio:je,onDialogClose1:Ze})})})]}),(0,j.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,j.jsx)(n.xJ,{label:"IsActive",invalid:d.IsActive&&l.IsActive,errorMessage:d.IsActive,children:(0,j.jsx)("div",{children:(0,j.jsx)(o.gN,{name:"IsActive",component:n.T5})})})}),(0,j.jsx)("br",{}),(0,j.jsx)(n.xJ,{children:(0,j.jsxs)("div",{className:"flex ",children:[ye.length>0&&t.VideoType>0?(0,j.jsx)(n.zx,{variant:"solid",type:"submit",children:"Submit"}):(0,j.jsx)(n.zx,{variant:"solid",type:"button",onClick:()=>{0==ye.length?Ae(!0):Ae(!1),0==t.VideoType?Re(!0):Re(!1)},children:"Save"}),"\xa0",(0,j.jsx)(x.rU,{to:Z.CLIENT.USA_Forbes==a.label?"/templatemaster":"/addEventTeamPlaner"==i?"/EventTeamPlaner":"/ContentMaster",children:(0,j.jsx)(n.zx,{type:"button",children:"Discard"})})]})})]})})})]})}})]})}}}]);
//# sourceMappingURL=9046.e602f586.chunk.js.map