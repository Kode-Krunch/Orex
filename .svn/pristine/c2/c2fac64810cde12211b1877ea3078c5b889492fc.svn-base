"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[513],{20513:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var n=t(1413),l=t(2803),a=t(72791),r=t(60364),c=t(81320),i=t(54689),o=t(91615),d=t(21260),h=t(80184);const u=function(e){let{isDialogOpen:s,setIsDialogOpen:t}=e;const u=(0,r.useSelector)((e=>e.locale.selectedChannel)),{setShowLoader:x,executeOperation:f}=(0,a.useContext)(o.Z),[m,p]=(0,a.useState)([]),[g,j]=(0,a.useState)(null),[S,w]=(0,a.useState)({start:null,end:null}),N=(0,a.useRef)(null);(0,a.useEffect)((()=>{(async()=>{try{s&&0===m.length&&(x(!0),p(await(0,i.at)(u)),x(!1))}catch(e){(0,c.openNotification)("danger","Something went wrong while retrieving Auto Shuffle Template"),x(!1),console.error(e)}})()}),[s]),(0,a.useEffect)((()=>{try{if(null===N.current)return;const e=()=>N.current.selectionStart=N.current.selectionEnd;N.current.addEventListener("select",e,!1)}catch(e){console.error(e)}}),[N.current]);const v=()=>{try{j(null),w({start:null,end:null}),t(!1)}catch(e){console.error(e)}};return(0,h.jsxs)(l.Vq,{isOpen:s,onClose:v,onRequestClose:v,children:[(0,h.jsx)("h5",{className:"mb-4",children:"Auto Shuffle"}),(0,h.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("p",{className:"mb-1 text-white",children:["Template ",(0,h.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,h.jsx)(l.Ph,{placeholder:"Select",options:m,size:"sm",onChange:e=>j(e),value:g})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("p",{className:"mb-1 text-white",children:["Start Time ",(0,h.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,h.jsx)(l.MG,{size:"sm",onChange:e=>w((0,n.Z)((0,n.Z)({},S),{},{start:e})),disabled:!g})]}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("p",{className:"mb-1 text-white",children:["End Time ",(0,h.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,h.jsx)(l.MG,{size:"sm",onChange:e=>w((0,n.Z)((0,n.Z)({},S),{},{end:e})),disabled:!g||!S.start})]})]})]}),(0,h.jsx)("div",{className:"text-right mt-6",children:(0,h.jsx)(l.zx,{variant:"solid",disabled:!g||!S.start||!S.end,onClick:async()=>{try{x(!0),await f({operation:d.operationTypesEnum.PROMO_AUTO_SHUFFLE,time:S,promoShuffleTemplate:g}),v(),x(!1),(0,c.openNotification)("success","Auto shuffled events successfully")}catch(e){console.log(e),(0,c.openNotification)("danger","Something went wrong while shuffling"),x(!1)}},children:"Shuffle"})})]})}}}]);
//# sourceMappingURL=513.c9079f7d.chunk.js.map