{"version":3,"file":"static/js/3899.a6da96f6.chunk.js","mappings":"wYAGA,MAAMA,EAAQC,EAAQ,OAGfC,eAAeC,EAA2BC,GAC/C,OAAOC,EAAAA,EAAAA,UAAqB,CAC1BC,IAAK,yBACLC,OAAQ,MACRH,QAEJ,CACOF,eAAeM,EAAoBJ,EAAMK,EAAGC,GACjD,OAAOL,EAAAA,EAAAA,UAAqB,CAC1BC,IAAI,uCAAD,OAAyCG,EAAC,kBAAUC,GACvDH,OAAQ,MACRH,QAEJ,CAEA,MAAMO,EAAqB,CAACC,EAAOC,IAC1B,IAAIC,SAAQ,CAACC,EAASC,KAC3B,IAAIZ,EAAOa,KAAKC,UAAU,CACxBC,mBAAoBP,EAAMO,mBAC1BC,wBAAyBR,EAAMQ,wBAC/BC,SAAUT,EAAMS,SAAW,EAAI,IAG7BC,EAAS,CACXf,OAAQ,OACRgB,cAAeC,IACflB,IAAKmB,EAAAA,EAAAA,UAAsB,yBAC3BC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYd,IAE3BT,KAAMA,GAGRJ,EACG4B,QAAQN,GACRO,MAAMC,IACLf,EAAQe,EAAS,IAElBC,OAAOC,IACNhB,EAAOgB,EAAO,GACd,IAIFC,EAAoB,CAACrB,EAAOC,IACzB,IAAIC,SAAQ,CAACC,EAASC,KAC3B,IAAIZ,EAAOa,KAAKC,UAAU,CACxBC,mBAAoBP,EAAMO,mBAC1BC,wBAAyBR,EAAMQ,wBAC/BC,SAAUT,EAAMS,SAAW,EAAI,IAG7BC,EAAS,CACXf,OAAQ,MACRgB,cAAeC,IACflB,IACEmB,EAAAA,EAAAA,UAAmB,gCACMb,EAAMsB,oBACjCR,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYd,IAE3BT,KAAMA,GAGRJ,EACG4B,QAAQN,GACRO,MAAMC,IACLf,EAAQe,EAAS,IAElBC,OAAOC,IACNhB,EAAOgB,EAAO,GACd,IAID9B,eAAeiC,EAAuB/B,GAC3C,OAAOC,EAAAA,EAAAA,UAAqB,CAC1BC,IAAI,mCAAD,OAAqCF,EAAKgC,aAAY,wBAAgBhC,EAAKiC,YAAW,kBAAUjC,EAAKM,MAAK,qBAAaN,EAAKkC,SAAQ,mBAAWlC,EAAKmC,QACvJhC,OAAQ,OAEZ,CAEOL,eAAesC,EAAcpC,EAAMqC,GACxC,OAAOpC,EAAAA,EAAAA,UAAqB,CAC1BC,IAAI,yBAAD,OAA2BF,EAAKM,MAAK,yBAAiBN,EAAKgC,aAAY,wBAAgBhC,EAAKiC,aAC/F9B,OAAQ,MACRH,QAEJ,CAEOF,eAAewC,EACpBC,EACAC,EACAC,EACAC,EACAC,EACAV,EACAD,EACAY,EACAC,EACAC,EACAC,GAEA,OAAO9C,EAAAA,EAAAA,UAAqB,CAC1BC,IAAI,iDAAD,OAAmDqC,EAAO,kBAAUC,EAAK,uBAAeC,EAAU,0BAAkBC,EAAa,wBAAgBT,EAAW,yBAAiBD,EAAY,yBAAiBW,EAAY,yBAAiBC,EAAU,EAAI,EAAC,6BAClOC,EAAgB,kBAAUC,EAAS,sBAAcC,GACxE5C,OAAQ,OAEZ,CASOL,eAAekD,EACpBC,EACAC,EACAC,EACAnB,EACAC,EACA3B,GAEA,OAAOL,EAAAA,EAAAA,UAAqB,CAC1BC,IAAI,kDAAD,OAAoD8B,EAAY,wBAAgBC,EAAW,uBAAeiB,EAAeE,MAAK,sBAAcH,EAAcG,MAAK,qBAAaD,EAAmBE,SAAQ,kBAAU/C,GACpNH,OAAQ,OAEZ,CAEOL,eAAewD,EACpBL,EACAC,EACAlB,EACAC,EACA3B,GAEA,OAAOL,EAAAA,EAAAA,UAAqB,CAC1BC,IAAI,kDAAD,OAAoD8B,EAAY,wBAAgBC,EAAW,uBAAeiB,EAAc,sBAAcD,EAAa,kBAAU3C,GAChKH,OAAQ,OAEZ,CACA,MAAMoD,EAAiB,CAACvD,EAAMS,IACrB,IAAIC,SAAQ,CAACC,EAASC,KAC3B,IAAIM,EAAS,CACXf,OAAQ,OACRgB,cAAeC,IACflB,IAAKmB,EAAAA,EAAAA,UAAsB,qBAC3BC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYd,IAE3BT,KAAMA,GAERwD,QAAQC,IAAIvC,EAAOhB,KACnBN,EACG4B,QAAQN,GACRO,MAAMC,IACLf,EAAQe,EAAS,IAElBC,OAAOC,IACNhB,EAAOgB,EAAO,GACd,IAIF8B,EAAgB,CAAC1D,EAAMS,EAAO4B,IAC3B,IAAI3B,SAAQ,CAACC,EAASC,KAC3B,IAAIM,EAAS,CACXf,OAAQ,MACRgB,cAAeC,IACflB,IAAKmB,EAAAA,EAAAA,UAAmB,4BAAwBgB,GAChDf,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYd,IAE3BT,KAAMA,GAGRJ,EACG4B,QAAQN,GACRO,MAAMC,IACLf,EAAQe,EAAS,IAElBC,OAAOC,IACNhB,EAAOgB,EAAO,GACd,IAID9B,eAAe6D,EAAmB3D,GACvC,OAAOC,EAAAA,EAAAA,UAAqB,CAC1BC,IAAK,wBACLC,OAAQ,MACRH,QAEJ,CAUOF,eAAe8D,EAAuB5D,GAC3C,OAAOC,EAAAA,EAAAA,UAAqB,CAC1BC,IAAK,gCACLC,OAAQ,MACRH,QAEJ,CAEOF,eAAe+D,EAAyB7D,GAC7C,OAAOC,EAAAA,EAAAA,UAAqB,CAC1BC,IAAK,uBACLC,OAAQ,MACRH,QAEJ,CACA,MAAM8D,EAAkB,CAACC,EAAKtD,IACrBuD,MAAM3C,EAAAA,EAAAA,UAAmB,sBAA0B,CACxDlB,OAAQ,OACRmB,QAAS,CACP2C,OAAQ,mBACR1C,cAAc,UAAD,OAAYd,GACzB,eAAgB,oBAElByD,KAAMrD,KAAKC,UAAU,CACnBqD,iBAAkBJ,EAAII,iBACtBlD,SAAU8C,EAAI9C,aAKdmD,EAAqB,CAACL,EAAKtD,IACxBuD,MACL3C,EAAAA,EAAAA,UAAmB,8BAA0B0C,EAAIM,kBACjD,CACElE,OAAQ,MACRmB,QAAS,CACP2C,OAAQ,mBACR1C,cAAc,UAAD,OAAYd,GACzB,eAAgB,oBAElByD,KAAMrD,KAAKC,UAAU,CACnBqD,iBAAkBJ,EAAII,iBACtBlD,SAAU8C,EAAI9C,aAMfnB,eAAewE,EAAiBtE,GACrC,OAAOC,EAAAA,EAAAA,UAAqB,CAC1BC,IAAK,eACLC,OAAQ,MACRH,QAEJ,CACA,MAAMuE,EAAU,CAACR,EAAKtD,IACbuD,MAAM3C,EAAAA,EAAAA,UAAmB,cAAkB,CAChDlB,OAAQ,OACRmB,QAAS,CACP2C,OAAQ,mBACR1C,cAAc,UAAD,OAAYd,GACzB,eAAgB,oBAElByD,KAAMrD,KAAKC,UAAU,CACnB0D,YAAaT,EAAIS,YACjBC,UAAWV,EAAIU,UACfC,QAASX,EAAIW,QACbzD,SAAU8C,EAAI9C,aAKd0D,EAAa,CAACZ,EAAKtD,IAChBuD,MAAM3C,EAAAA,EAAAA,UAAmB,sBAAkB0C,EAAIa,UAAY,CAChEzE,OAAQ,MACRmB,QAAS,CACP2C,OAAQ,mBACR1C,cAAc,UAAD,OAAYd,GACzB,eAAgB,oBAElByD,KAAMrD,KAAKC,UAAU,CACnB0D,YAAaT,EAAIS,YACjBC,UAAWV,EAAIU,UACfC,QAASX,EAAIW,QACbzD,SAAU8C,EAAI9C,aAKbnB,eAAe+E,EAAgB7E,GACpC,OAAOC,EAAAA,EAAAA,UAAqB,CAC1BC,IAAK,cACLC,OAAQ,MACRH,QAEJ,CAEOF,eAAegF,EAAO9E,GAC3B,OAAOC,EAAAA,EAAAA,UAAqB,CAC1BC,IAAK,cACLC,OAAQ,OACRH,QAEJ,CAEOF,eAAeiF,EAAU/E,EAAMgF,GACpC,OAAO/E,EAAAA,EAAAA,UAAqB,CAC1BC,IAAI,cAAD,OAAgB8E,GACnB7E,OAAQ,MACRH,QAEJ,CAEA,MAAMiF,EAAwB,CAACC,EAAMC,EAAS1E,KAC5C,IACE,OAAOR,EAAAA,EAAAA,UAAqB,CAC1BE,OAAQ,MACRD,IAAI,kCAAD,OAAoCiF,EAAQnD,aAAY,wBAAgBmD,EAAQlD,YAAW,wBAAgBiD,GAC9G5D,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYd,KAK/B,CAFE,MAAO2E,GACP,MAAM,IAAIC,MAAMD,EAClB,GAGIE,EAAmC,CAACC,EAAUC,EAAQL,EAAS1E,KACnE,IACE,OAAOR,EAAAA,EAAAA,UAAqB,CAC1BE,OAAQ,MACRD,IAAI,8CAAD,OAAgDiF,EAAQnD,aAAY,wBAAgBmD,EAAQlD,YAAW,qBAAasD,EAAQ,mBAAWC,GAC1IlE,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYd,KAK/B,CAFE,MAAO2E,GACP,MAAM,IAAIC,MAAMD,EAClB,GAEIK,EAA2B3F,MAAOE,EAAMmF,EAAS1E,KACrD,IACE,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,IAAIM,EAAS,CACXf,OAAQ,OACRgB,cAAeC,IACflB,IACEmB,EAAAA,EAAAA,UAAmB,yCACe8D,EAAQnD,aAAY,wBAAgBmD,EAAQlD,aAChFX,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYd,IAE3BT,KAAMA,GAERJ,EACG4B,QAAQN,GACRO,MAAMC,IACLf,EAAQe,EAAS,IAElBC,OAAOC,IACNhB,EAAOgB,EAAO,GACd,GAIR,CAFE,MAAOwD,GACP,MAAMA,CACR,GA2BIM,EAAwB,CAACC,EAAYR,EAAS1E,KAClD,IACE,OAAOR,EAAAA,EAAAA,UAAqB,CAC1BE,OAAQ,MACRD,IAAI,mDAAD,OAAqDiF,EAAQnD,aAAY,wBAAgBmD,EAAQlD,YAAW,uBAAe0D,GAC9HrE,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYd,KAK/B,CAFE,MAAO2E,GACP,MAAM,IAAIC,MAAMD,EAClB,GAGIQ,EAAsC,CAACC,EAAepF,KAC1D,IACE,OAAOR,EAAAA,EAAAA,UAAqB,CAC1BE,OAAQ,MACRD,IAAI,uDAAD,OAAyD2F,GAC5DvE,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYd,KAK/B,CAFE,MAAO2E,GACP,MAAM,IAAIC,MAAMD,EAClB,GAGIU,EAA8B,CAACC,EAAUF,EAAepF,KAC5D,IAGE,OAFA+C,QAAQC,IAAIsC,GAEL9F,EAAAA,EAAAA,UAAqB,CAC1BE,OAAQ,MACRD,IAAI,4DAAD,OAA8D2F,EAAa,uBAAeE,EAASC,KAAI,qBAAaD,EAASE,SAAQ,qBAAaF,EAASG,YAC9J5E,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYd,KAK/B,CAFE,MAAO2E,GACP,MAAM,IAAIC,MAAMD,EAClB,E,4KC1bF,MAAMe,EAAU,CACd,CAAEC,MAAO,eAAgBC,OAAQ,MAAOC,MAAO,QAC/C,CAAEF,MAAO,UAAWC,OAAQ,UAAWC,MAAO,QA8LhD,EA3LkB,KAEhB,MAAM7F,GAAQ8F,EAAAA,EAAAA,cAAaC,GAAUA,EAAMC,KAAKC,QAAQjG,SAGjDkG,EAASC,IAAcC,EAAAA,EAAAA,UAAS,KAChCC,EAAQC,IAAaF,EAAAA,EAAAA,WAAS,IAC9BG,EAAcC,IAAmBJ,EAAAA,EAAAA,UAAS,KAC1CK,EAASC,IAAcN,EAAAA,EAAAA,WAAS,IAChCO,EAAKC,IAAUR,EAAAA,EAAAA,aACfS,EAAKC,IAAUV,EAAAA,EAAAA,YAGhBW,GAAQC,EAAAA,EAAAA,QAAO,OAGrBC,EAAAA,EAAAA,YAAU,KACR,WACE,MACMC,EAAyB,WADT9C,EAAAA,EAAAA,OACqB7E,MACxC4H,UACAC,KAAI,CAACC,EAAUC,KAAK,kBAChBD,GAAQ,IACXE,aAAcD,EAAQ,MAE1BR,EAAOI,EACR,EATD,EASI,GACH,IAGH,MA4DMM,EAAgBF,IACpB,MAAMG,EAAa,IAAIZ,GACvB,IAAIvD,EAAMmE,EAAWH,GACrBhE,EAAI9C,SAA2B,GAAhB8C,EAAI9C,SAAgB,EAAI,GACvC8D,EAAAA,EAAAA,IAAUhB,EAAKA,EAAIiB,SAChBvD,MAAMC,GACkB,KAAnBA,EAASyG,QACXC,EAAiB,uBAAwB,WAClC,MAEF1G,EAAS2G,SAEjB5G,MAAMzB,IAELA,EAAKgI,aAAejE,EAAIiE,aACxBhI,EAAKiB,SAAW8C,EAAI9C,SACpBjB,EAAK2G,QAAU5C,EAAI4C,QAEnBuB,EAAWH,GAAS/H,EACpBuH,EAAOW,GACPE,EAAiB,2BAA4B,UAAU,IAExDzG,OAAOyD,IACN5B,QAAQC,IAAI2B,EAAM,GAClB,EAGN,SAASgD,EAAiBE,EAAKC,GAC7BC,EAAAA,GAAAA,MACE,SAAC,KAAY,CACXC,UAAQ,EACRzC,KAAMuC,EACNG,SAAU,IACVC,MAAOJ,EAAGK,OAAO,GAAGC,cAAgBN,EAAGO,MAAM,GAAG,SAE/CR,IAGP,CAEA,OACE,iCACE,SAAC,IAAK,CAACS,IAAKvB,KACZ,SAAC,IAAa,CACZwB,MAAM,cACN9B,QAASA,EACT+B,OAAQ,IAAM9B,GAAW,GACzB+B,QAAQ,oCACR7C,OAAO,eACP8C,KAAK,6BACLC,OAtDS,KACbnB,EAAab,EAAI,KAuDf,SAAC,KAAI,CACHf,QACE,iBAAKgD,UAAU,uBAAsB,WACnC,0BACE,iBAAMA,UAAU,oBAAmB,UACjC,SAAC,IAAW,CAACC,WAAW,cAAcC,UAAW,aAGrD,gBACEF,UAAU,6BACVG,MAAO,CAAEC,WAAY,WAGvB,sBAGJC,aAAaA,EAAAA,EAAAA,GACX1C,EACAC,EACAF,EACAD,GA1Ga,KACnB,GAAIH,EAAS,CACX,MAAMgD,EAAY,CAChBhD,QAASA,EACT1F,SAAU,IAEZ6D,EAAAA,EAAAA,IAAO6E,EAAWlJ,GACfgB,MAAMC,IACL,GAAuB,KAAnBA,EAASyG,OAEX,OADAC,EAAiB,uBAAwB,WAClC,KAEc,KAAnB1G,EAASyG,SACXwB,EAAU3B,aAAeV,EAAIsC,OAAS,EACtCrC,GAAQsC,GAAY,IAAIA,EAASF,KAEjCvB,EAAiB,yBAA0B,YAE7CxB,EAAW,IACXG,GAAU,EAAM,IAEjBpF,OAAOyD,IAEN5B,QAAQC,IAAI2B,EAAM,GAExB,MACEgD,EAAiB,wBAAyB,SAC5C,GAiFMzB,EACAC,EACA,MACAU,EACAnB,GAEF2D,UAAU,cAAa,UAEvB,SAAC,IAAoB,CACnB9J,KAAMsH,EACNyC,kBAhJmBC,IACzB,IAAIC,EAAO,IAAI3C,IACX,QAAE4C,EAAO,MAAEnC,GAAUiC,EACpBE,EAAQvD,UAGbsD,EAAKlC,GAASmC,GACdnF,EAAAA,EAAAA,IAAUmF,EAASA,EAAQlF,SACxBvD,MAAMC,IACL,GAAwB,MAApBA,EAASyG,OACX8B,EAAKlC,GAASrG,EAAS1B,KACvBiK,EAAKlC,GAAOC,aAAekC,EAAQlC,aACnCT,EAAO0C,GACP7B,EAAiB,2BAA4B,eACxC,IAAuB,KAAnB1G,EAASyG,OAElB,OADAC,EAAiB,uBAAwB,WAClC,KAEPA,EAAiB,uBAAwB,SAC3C,KAEDzG,OAAOyD,IACN5B,QAAQC,IAAI2B,EAAM,IAClB,EA0HE4B,aAAcA,EACdmD,QAAQ,UACRhE,QAASA,EACTkB,OAAQA,EACR+C,aAAa,OACbjD,WAAYA,QAGf,C","sources":["services/SalesAdminService.js","views/Billing/TaxMaster/TaxMaster.js"],"sourcesContent":["import appConfig from 'configs/app.config';\r\nimport ApiService from './ApiService';\r\nimport { data } from 'autoprefixer';\r\nconst axios = require('axios');\r\nconst APIURL = process.env.APIURL;\r\n\r\nexport async function apiGetCommercialtypemaster(data) {\r\n  return ApiService.fetchData({\r\n    url: '/commercialtypemaster/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nexport async function apispotcancellation(data, i, IsNTC) {\r\n  return ApiService.fetchData({\r\n    url: `/spotcancellation/?CancelRemarkCode=${i}&IsNTC=${IsNTC}`,\r\n    method: 'put',\r\n    data,\r\n  });\r\n}\r\n\r\nconst Postcommercialtype = (param, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let data = JSON.stringify({\r\n      CommercialTypeName: param.CommercialTypeName,\r\n      CommercialTypeShortName: param.CommercialTypeShortName,\r\n      IsActive: param.IsActive ? 1 : 0,\r\n    });\r\n\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/commercialtypemaster/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst Putcommercialtype = (param, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let data = JSON.stringify({\r\n      CommercialTypeName: param.CommercialTypeName,\r\n      CommercialTypeShortName: param.CommercialTypeShortName,\r\n      IsActive: param.IsActive ? 1 : 0,\r\n    });\r\n\r\n    let config = {\r\n      method: 'put',\r\n      maxBodyLength: Infinity,\r\n      url:\r\n        appConfig.apiPrefix +\r\n        `/commercialtypemaster/${param.CommercialTypeCode}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nexport async function apiGetCommercialmaster(data) {\r\n  return ApiService.fetchData({\r\n    url: `/commercialmaster/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&IsNTC=${data.IsNTC}&fromdate=${data.FromDate}&todate=${data.ToDate}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetBooking(data, id) {\r\n  return ApiService.fetchData({\r\n    url: `/bookingmaster/?IsNTC=${data.IsNTC}&LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}`,\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiUSP_SA_RO_SpotSchedule(\r\n  From_DT,\r\n  To_DT,\r\n  DealNumber,\r\n  BookingNumber,\r\n  ScheduleDate,\r\n  ChannelCode,\r\n  LocationCode,\r\n  checked,\r\n  BookingRefNumber,\r\n  IsNTCPage,\r\n  Brand,\r\n) {\r\n  return ApiService.fetchData({\r\n    url: `/spotschedule/USP_SA_RO_SpotSchedule/?From_DT=${From_DT}&To_DT=${To_DT}&DealNumber=${DealNumber}&BookingNumber=${BookingNumber}&ChannelCode=${ChannelCode}&LocationCode=${LocationCode}&ScheduleDate=${ScheduleDate}&IsMakeGoodRO=${checked ? 1 : 0\r\n      }&BookingRefNumber=${BookingRefNumber}&IsNTC=${IsNTCPage}&BrandCode=${Brand}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetCommercialmasterdrop() {\r\n  return ApiService.fetchData({\r\n    url: '/commercialmaster/drop/',\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetCommercialClientBrandwisedro2p(\r\n  selectedBrand,\r\n  selectedClient,\r\n  selectedCommercial,\r\n  LocationCode,\r\n  ChannelCode,\r\n  IsNTC,\r\n) {\r\n  return ApiService.fetchData({\r\n    url: `/commercialmaster/get_Commercial/?LocationCode=${LocationCode}&ChannelCode=${ChannelCode}&ClientCode=${selectedClient.value}&BrandCode=${selectedBrand.value}&DurInSec=${selectedCommercial.DurInSec}&IsNTC=${IsNTC}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetCommercialClientBrandwisedrop(\r\n  selectedBrand,\r\n  selectedClient,\r\n  LocationCode,\r\n  ChannelCode,\r\n  IsNTC,\r\n) {\r\n  return ApiService.fetchData({\r\n    url: `/commercialmaster/get_Commercial/?LocationCode=${LocationCode}&ChannelCode=${ChannelCode}&ClientCode=${selectedClient}&BrandCode=${selectedBrand}&IsNTC=${IsNTC}`,\r\n    method: 'get',\r\n  });\r\n}\r\nconst Postcommercial = (data, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/commercialmaster/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n    console.log(config.url);\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst Putcommercial = (data, token, id) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'put',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + `/commercialmaster/${id}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nexport async function apiGetPositionDrop(data) {\r\n  return ApiService.fetchData({\r\n    url: '/positionmaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetYearDrop(data) {\r\n  return ApiService.fetchData({\r\n    url: '/yearmaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetSpotPositionDrop(data) {\r\n  return ApiService.fetchData({\r\n    url: '/spotpositiontypemaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetCancelRemarkMaster(data) {\r\n  return ApiService.fetchData({\r\n    url: '/cancelremarkmaster/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nconst AddCancelremark = (row, token) => {\r\n  return fetch(appConfig.apiPrefix + `/cancelremarkmaster`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      CancelRemarkName: row.CancelRemarkName,\r\n      IsActive: row.IsActive,\r\n    }),\r\n  });\r\n};\r\n\r\nconst UpdateCancelremark = (row, token) => {\r\n  return fetch(\r\n    appConfig.apiPrefix + `/cancelremarkmaster/${row.CancelRemarkCode}`,\r\n    {\r\n      method: 'PUT',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        CancelRemarkName: row.CancelRemarkName,\r\n        IsActive: row.IsActive,\r\n      }),\r\n    },\r\n  );\r\n};\r\n\r\nexport async function apiGetYearMaster(data) {\r\n  return ApiService.fetchData({\r\n    url: '/yearmaster/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nconst AddYear = (row, token) => {\r\n  return fetch(appConfig.apiPrefix + `/yearmaster`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      Description: row.Description,\r\n      StartDate: row.StartDate,\r\n      EndDate: row.EndDate,\r\n      IsActive: row.IsActive,\r\n    }),\r\n  });\r\n};\r\n\r\nconst UpdateYear = (row, token) => {\r\n  return fetch(appConfig.apiPrefix + `/yearmaster/${row.Yearcode}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      Description: row.Description,\r\n      StartDate: row.StartDate,\r\n      EndDate: row.EndDate,\r\n      IsActive: row.IsActive,\r\n    }),\r\n  });\r\n};\r\n\r\nexport async function apiGetTaxMaster(data) {\r\n  return ApiService.fetchData({\r\n    url: '/taxmaster/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function AddTax(data) {\r\n  return ApiService.fetchData({\r\n    url: '/taxmaster/',\r\n    method: 'post',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function UpdateTax(data, TaxCode) {\r\n  return ApiService.fetchData({\r\n    url: `/taxmaster/${TaxCode}`,\r\n    method: 'put',\r\n    data,\r\n  });\r\n}\r\n\r\nconst apiGetTrafficDayClose = (date, channel, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/trafficdayclose/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}&traficmonth=${date}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst apiGetTrafficDayCloseByDateRange = (fromdate, todate, channel, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/trafficdayclose/asperfromto/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}&fromdate=${fromdate}&todate=${todate}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\nconst apiCreateTrafficDayClose = async (data, channel, token) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'post',\r\n        maxBodyLength: Infinity,\r\n        url:\r\n          appConfig.apiPrefix +\r\n          `/trafficdayclose/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        data: data,\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst apiPUTBookingStatusChange = (data, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'put',\r\n      maxBodyLength: Infinity,\r\n      url:\r\n        appConfig.apiPrefix + `/bookingdetails/bookingchange/?BookingStatus=E`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst apiGetBookingByClient = (clientCode, channel, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/bookingmaster/getbookingbyclient/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}&ClientCode=${clientCode}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst apiGetBookingActivityForBookingCode = (bookingNumber, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/bookingactivity/get_bookingactivity/?BookingNumber=${bookingNumber}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst apiGet_BookinActivityByDate = (activity, bookingNumber, token) => {\r\n  try {\r\n    console.log(activity);\r\n\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/bookingactivity/get_bookingactivitybydate?BookingNumber=${bookingNumber}&ChangeType=${activity.type}&ChangeOn=${activity.dateTime}&ChangeBy=${activity.executerId}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\nexport {\r\n  Postcommercialtype,\r\n  Putcommercialtype,\r\n  AddCancelremark,\r\n  UpdateCancelremark,\r\n  AddYear,\r\n  UpdateYear,\r\n  Putcommercial,\r\n  Postcommercial,\r\n  apiGetTrafficDayClose,\r\n  apiCreateTrafficDayClose,\r\n  apiPUTBookingStatusChange,\r\n  apiGetBookingByClient,\r\n  apiGetBookingActivityForBookingCode,\r\n  apiGet_BookinActivityByDate,\r\n  apiGetTrafficDayCloseByDateRange,\r\n};\r\n","import { Card, Notification, toast as toa } from 'components/ui';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { apiGetTaxMaster, UpdateTax, AddTax } from 'services/SalesAdminService';\r\nimport HeaderExtra from 'views/Controls/HeaderExtra';\r\nimport { Toast } from 'primereact/toast';\r\nimport { useSelector } from 'react-redux';\r\nimport { ConfirmDialog } from 'primereact/confirmdialog';\r\nimport DisplaytablewithEdit, {\r\n  headerExtra,\r\n} from 'views/Controls/DisplaytablewithEdit';\r\n\r\n/* CONSTANTS */\r\nconst columns = [\r\n  { field: 'serialNumber', header: 'Sr.', width: '0.5%' },\r\n  { field: 'TaxName', header: 'TaxName', width: '20%' },\r\n];\r\n\r\nconst TaxMaster = () => {\r\n  /* REDUX */\r\n  const token = useSelector((state) => state.auth.session.token);\r\n\r\n  /*STATES */\r\n  const [TaxName, setTaxName] = useState('');\r\n  const [addnew, setaddnew] = useState(false);\r\n  const [globalFilter, setGlobalFilter] = useState('');\r\n  const [visible, setVisible] = useState(false);\r\n  const [yup, setyup] = useState();\r\n  const [Tax, setTax] = useState();\r\n\r\n  /* HOOKS */\r\n  const toast = useRef(null);\r\n\r\n  /* USE EFFECTS */\r\n  useEffect(() => {\r\n    (async () => {\r\n      const respTax = await apiGetTaxMaster();\r\n      const reversedTaxWithNumbers = [...respTax.data]\r\n        .reverse()\r\n        .map((category, index) => ({\r\n          ...category,\r\n          serialNumber: index + 1,\r\n        }));\r\n      setTax(reversedTaxWithNumbers);\r\n    })();\r\n  }, []);\r\n\r\n  /* EVENT HANDLERS */\r\n  const onRowEditComplete = (e) => {\r\n    let _Tax = [...Tax];\r\n    let { newData, index } = e;\r\n    if (!newData.TaxName) {\r\n      return;\r\n    }\r\n    _Tax[index] = newData;\r\n    UpdateTax(newData, newData.TaxCode)\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          _Tax[index] = response.data;\r\n          _Tax[index].serialNumber = newData.serialNumber;\r\n          setTax(_Tax);\r\n          closeAfter2000ms('Data Updated Succesfully', 'success');\r\n        } else if (response.status == 204) {\r\n          closeAfter2000ms('Data Already Exists.', 'warning');\r\n          return null;\r\n        } else {\r\n          closeAfter2000ms('Something went wrong', 'danger');\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const addNewRecord = () => {\r\n    if (TaxName) {\r\n      const newRecord = {\r\n        TaxName: TaxName,\r\n        IsActive: 1,\r\n      };\r\n      AddTax(newRecord, token)\r\n        .then((response) => {\r\n          if (response.status == 204) {\r\n            closeAfter2000ms('Data Already Exists.', 'warning');\r\n            return null;\r\n          }\r\n          if (response.status == 200) {\r\n            newRecord.serialNumber = Tax.length + 1;\r\n            setTax((prevTax) => [...prevTax, newRecord]);\r\n            // show('Data Added Successfully')\r\n            closeAfter2000ms('Data Added Succesfully', 'success');\r\n          }\r\n          setTaxName('');\r\n          setaddnew(false);\r\n        })\r\n        .catch((error) => {\r\n          // handle error\r\n          console.log(error);\r\n        });\r\n    } else {\r\n      closeAfter2000ms('Kindly Enter Tax Name', 'danger');\r\n    }\r\n  };\r\n\r\n  const accept = () => {\r\n    toggleSwitch(yup);\r\n  };\r\n\r\n  const toggleSwitch = (index) => {\r\n    const updatedTax = [...Tax];\r\n    let row = updatedTax[index];\r\n    row.IsActive = row.IsActive == 1 ? 0 : 1;\r\n    UpdateTax(row, row.TaxCode)\r\n      .then((response) => {\r\n        if (response.status == 204) {\r\n          closeAfter2000ms('Data Already Exists.', 'warning');\r\n          return null;\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        // handle successful response\r\n        data.serialNumber = row.serialNumber;\r\n        data.IsActive = row.IsActive;\r\n        data.TaxName = row.TaxName;\r\n\r\n        updatedTax[index] = data;\r\n        setTax(updatedTax);\r\n        closeAfter2000ms('Data Updated Succesfully', 'success');\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  function closeAfter2000ms(mes, ty) {\r\n    toa.push(\r\n      <Notification\r\n        closable\r\n        type={ty}\r\n        duration={1000}\r\n        title={ty.charAt(0).toUpperCase() + ty.slice(1)}\r\n      >\r\n        {mes}\r\n      </Notification>,\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Toast ref={toast} />\r\n      <ConfirmDialog\r\n        group=\"declarative\"\r\n        visible={visible}\r\n        onHide={() => setVisible(false)}\r\n        message=\"Are you sure you want to proceed?\"\r\n        header=\"Confirmation\"\r\n        icon=\"pi pi-exclamation-triangle\"\r\n        accept={accept}\r\n      />\r\n      <Card\r\n        header={\r\n          <div className=\"flex justify-between\">\r\n            <div>\r\n              <span className=\"flex items-center\">\r\n                <HeaderExtra ModuleText=\"Programming\" Component={'Tax'} />\r\n              </span>\r\n            </div>\r\n            <div\r\n              className=\"flex flex-col items-center\"\r\n              style={{ marginLeft: '-20%' }}\r\n            ></div>\r\n\r\n            <div></div>\r\n          </div>\r\n        }\r\n        headerExtra={headerExtra(\r\n          globalFilter,\r\n          setGlobalFilter,\r\n          setaddnew,\r\n          addnew,\r\n          addNewRecord,\r\n          TaxName,\r\n          setTaxName,\r\n          'Tax',\r\n          Tax,\r\n          columns,\r\n        )}\r\n        bodyClass=\"text-center\"\r\n      >\r\n        <DisplaytablewithEdit\r\n          data={Tax}\r\n          onRowEditComplete={onRowEditComplete}\r\n          globalFilter={globalFilter}\r\n          dataKey=\"TaxCode\"\r\n          columns={columns}\r\n          setyup={setyup}\r\n          scrollHeight=\"70vh\"\r\n          setVisible={setVisible}\r\n        />\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TaxMaster;\r\n"],"names":["axios","require","async","apiGetCommercialtypemaster","data","ApiService","url","method","apispotcancellation","i","IsNTC","Postcommercialtype","param","token","Promise","resolve","reject","JSON","stringify","CommercialTypeName","CommercialTypeShortName","IsActive","config","maxBodyLength","Infinity","appConfig","headers","Authorization","request","then","response","catch","errors","Putcommercialtype","CommercialTypeCode","apiGetCommercialmaster","LocationCode","ChannelCode","FromDate","ToDate","apiGetBooking","id","apiUSP_SA_RO_SpotSchedule","From_DT","To_DT","DealNumber","BookingNumber","ScheduleDate","checked","BookingRefNumber","IsNTCPage","Brand","apiGetCommercialClientBrandwisedro2p","selectedBrand","selectedClient","selectedCommercial","value","DurInSec","apiGetCommercialClientBrandwisedrop","Postcommercial","console","log","Putcommercial","apiGetPositionDrop","apiGetSpotPositionDrop","apiGetCancelRemarkMaster","AddCancelremark","row","fetch","Accept","body","CancelRemarkName","UpdateCancelremark","CancelRemarkCode","apiGetYearMaster","AddYear","Description","StartDate","EndDate","UpdateYear","Yearcode","apiGetTaxMaster","AddTax","UpdateTax","TaxCode","apiGetTrafficDayClose","date","channel","error","Error","apiGetTrafficDayCloseByDateRange","fromdate","todate","apiCreateTrafficDayClose","apiGetBookingByClient","clientCode","apiGetBookingActivityForBookingCode","bookingNumber","apiGet_BookinActivityByDate","activity","type","dateTime","executerId","columns","field","header","width","useSelector","state","auth","session","TaxName","setTaxName","useState","addnew","setaddnew","globalFilter","setGlobalFilter","visible","setVisible","yup","setyup","Tax","setTax","toast","useRef","useEffect","reversedTaxWithNumbers","reverse","map","category","index","serialNumber","toggleSwitch","updatedTax","status","closeAfter2000ms","json","mes","ty","toa","closable","duration","title","charAt","toUpperCase","slice","ref","group","onHide","message","icon","accept","className","ModuleText","Component","style","marginLeft","headerExtra","newRecord","length","prevTax","bodyClass","onRowEditComplete","e","_Tax","newData","dataKey","scrollHeight"],"sourceRoot":""}