{"version":3,"file":"static/js/7463.f5773d74.chunk.js","mappings":"qPAUA,MAkFA,EAlFkB,KAChB,MAAOA,EAASC,IAAcC,EAAAA,EAAAA,WAAS,IAChCC,EAAuBC,IAA4BF,EAAAA,EAAAA,UAAS,IAC7DG,GAAUC,EAAAA,EAAAA,cAAaC,GAAUA,EAAMC,KAAKC,QAAQJ,WAE1DK,EAAAA,EAAAA,YAAU,KACR,OAACC,IACCV,GAAW,GACX,MAAMW,QAAaC,EAAAA,EAAAA,IAAmBR,GACtCJ,GAAW,GACXG,EAAyBU,EAAyBF,EAAKG,KAAKA,MAC7D,EALD,EAKI,GACH,IAGH,MAAMD,EAA4BE,IAChC,IACE,MAAMC,EAAuB,CAAC,EAS9B,OARAD,EAAcE,SAASC,IACrB,MAAMC,EAAOD,EAAaE,iBAAiBC,MAAM,KAAK,GAClDF,KAAQH,EACVA,EAAqBG,GAAMG,KAAKJ,GAEhCF,EAAqBG,GAAQ,CAACD,EAChC,IAEKF,CAGT,CAFE,MAAOO,GACPC,QAAQD,MAAMA,EAChB,GAGF,OACE,UAAC,KAAS,YACR,SAAC,UAAM,CAACE,WAAY1B,KACpB,gBAAK2B,UAAU,mBAAkB,UAC/B,UAAC,KAAI,CAACA,UAAU,aAAY,WAC1B,eAAIA,UAAU,OAAM,2BACpB,gBAAKA,UAAU,kDAAiD,SAC7DC,OAAOC,KAAK1B,GAAuB2B,KAAI,CAACV,EAAMW,KAE3C,iBAAKJ,UAAU,gBAAe,WAC5B,gBACEA,UAAS,oGACG,IAAVI,GAAe,QACd,UAEFC,EAAAA,EAAAA,IAAcZ,KAEhBjB,EAAsBiB,GAAMU,KAAI,CAACX,EAAcY,KAC9C,iBACEJ,UAAS,qBACG,IAAVI,EAAc,OAAS,OAAM,oCACI,WAEnC,SAAC,KAAM,CAACE,MAAM,SAASC,MAAM,SAAC,MAAa,OAC3C,iBAAKP,UAAU,6BAA4B,WACzC,iBAAKA,UAAU,oCAAmC,WAChD,cAAGA,UAAU,wCAAuC,SACjDR,EAAagB,iBAEhB,cAAGR,UAAU,UAAS,UACnBS,EAAAA,EAAAA,IACC,IAAIC,KAAKlB,EAAaE,kBACtB,iBAIN,uBAAIF,EAAamB,gCAUzB,C,oFCvEhB,QAdA,SAAgB,GAAiB,IAAjB,WAAEZ,GAAY,EAC5B,OACE,8BACGA,GACC,gBAAKC,UAAU,uDAAsD,UACnE,SAAC,KAAO,CAACY,KAAK,eAGhB,yBAIR,C,4ECQO,SAASP,EAAcQ,GAS5B,OAPgB,IAAIH,KAAKG,GAIKC,mBAAmB,QADjC,CAAEC,KAAM,UAAWC,MAAO,OAAQC,IAAK,WAKzD,CACO,MAAMC,EAAiB,CAACzB,EAAM0B,KACnC,IAAK1B,GAAQ2B,MAAM,IAAIV,KAAKjB,EAAO,aAAa4B,WAC9C,OAAO,KAGT,MAAMC,GAAO,mCACNH,GAAM,CAAEI,QAAS,UACjBJ,GAAM,CAAEF,IAAK,aACbE,GAAM,CAAEH,MAAO,WACfG,GAAM,CAAEJ,KAAM,YAGrB,OAAO,IAAIS,KAAKC,eAAe,QAASH,GAASb,OAAO,IAAIC,KAAKjB,EAAO,aAAa,C","sources":["views/ActiveLog/ActiveLog.js","views/Controls/Loader.js","views/Programming/general.js"],"sourcesContent":["import { AdaptableCard, Container } from 'components/shared';\r\nimport { Avatar, Card } from 'components/ui';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { formatDateYMD } from 'views/Programming/general';\r\nimport { format } from 'date-fns';\r\nimport { apiGetNotification } from 'services/MasterService';\r\nimport { useSelector } from 'react-redux';\r\nimport Loader from 'views/Controls/Loader';\r\nimport { HiOutlineBell } from 'react-icons/hi';\r\n\r\nconst ActiveLog = () => {\r\n  const [loading, setloading] = useState(false);\r\n  const [dateWiseNotifications, setDateWiseNotifications] = useState([]);\r\n  const LoginId = useSelector((state) => state.auth.session.LoginId);\r\n\r\n  useEffect(() => {\r\n    (async (values) => {\r\n      setloading(true);\r\n      const resp = await apiGetNotification(LoginId);\r\n      setloading(false);\r\n      setDateWiseNotifications(getDateWiseNotificaitons(resp.data.data));\r\n    })();\r\n  }, []);\r\n\r\n  /* HELPER FUNCTIONS */\r\n  const getDateWiseNotificaitons = (notifications) => {\r\n    try {\r\n      const groupedNotifications = {};\r\n      notifications.forEach((notification) => {\r\n        const date = notification.NotificationDate.split('T')[0];\r\n        if (date in groupedNotifications) {\r\n          groupedNotifications[date].push(notification);\r\n        } else {\r\n          groupedNotifications[date] = [notification];\r\n        }\r\n      });\r\n      return groupedNotifications;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Loader showLoader={loading} />\r\n      <div className=\"grid grid-cols-5\">\r\n        <Card className=\"col-span-3\">\r\n          <h4 className=\"mb-6\">Activity Log</h4>\r\n          <div className=\"max-h-[90vh] overflow-y-auto pr-3 flex flex-col\">\r\n            {Object.keys(dateWiseNotifications).map((date, index) => {\r\n              return (\r\n                <div className=\"flex flex-col\">\r\n                  <div\r\n                    className={`font-semibold uppercase text-[0.95rem] text-gray-300 sticky -top-px bg-gray-800 z-10 pb-3 ${\r\n                      index !== 0 && 'mt-6'\r\n                    }`}\r\n                  >\r\n                    {formatDateYMD(date)}\r\n                  </div>\r\n                  {dateWiseNotifications[date].map((notification, index) => (\r\n                    <div\r\n                      className={`flex gap-4 ${\r\n                        index === 0 ? 'pt-2' : 'pt-5'\r\n                      } pb-4 border-b border-b-gray-700`}\r\n                    >\r\n                      <Avatar shape=\"circle\" icon={<HiOutlineBell />} />\r\n                      <div className=\"flex flex-col gap-2 w-full\">\r\n                        <div className=\"flex justify-between items-center\">\r\n                          <p className=\"font-semibold text-base text-gray-300\">\r\n                            {notification.locationLabel}\r\n                          </p>\r\n                          <p className=\"text-xs\">\r\n                            {format(\r\n                              new Date(notification.NotificationDate),\r\n                              'hh:mm a',\r\n                            )}\r\n                          </p>\r\n                        </div>\r\n                        <p>{notification.message}</p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ActiveLog;\r\n","import { Spinner } from 'components/ui';\r\nimport React from 'react';\r\n\r\nfunction Loader({ showLoader }) {\r\n  return (\r\n    <>\r\n      {showLoader ? (\r\n        <div className=\"dialog-overlay flex justify-center items-center z-50\">\r\n          <Spinner size=\"3.25rem\" />\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","import { Card } from 'components/ui';\r\n\r\nexport const details = (item) => {\r\n  return (\r\n    <Card>\r\n      <div className=\"flex items-center gap-4\">\r\n        <div>\r\n          <div className=\"flex gap-1.5 items-end mb-2\">\r\n            <h5 className=\"font-bold leading-none\">{item.ContentName}</h5>\r\n            {/* <p className=\"font-semibold\">Episode {item.EpisodeNo}</p> */}\r\n          </div>\r\n          <p className=\"flex items-center gap-1\">\r\n            <span>Season {item.SeasonNo}</span>\r\n          </p>\r\n          <p className=\"font-semibold flex items-center gap-1\">\r\n            <span>Episode {item.EpisodeNo}</span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport function formatDateYMD(dateStr) {\r\n  // Parse the date string into a Date object\r\n  const dateObj = new Date(dateStr);\r\n\r\n  // Format the date using locale-aware formatting options\r\n  const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n  const formattedDate = dateObj.toLocaleDateString('en-US', options);\r\n\r\n  // Return the formatted date\r\n  return formattedDate;\r\n}\r\nexport const formatDateWDMY = (date, is) => {\r\n  if (!date || isNaN(new Date(date + 'T00:00:00').getTime())) {\r\n    return null;\r\n  }\r\n\r\n  const options = {\r\n    ...(!is && { weekday: 'long' }),\r\n    ...(!is && { day: 'numeric' }),\r\n    ...(!is && { month: 'short' }),\r\n    ...(!is && { year: 'numeric' }),\r\n  };\r\n\r\n  return new Intl.DateTimeFormat('en-GB', options).format(new Date(date + 'T00:00:00'));\r\n};\r\n\r\n\r\nexport function formatTime(timeStr) {\r\n  // Parse the time string into a Date object\r\n  const dateObj = new Date(`1970-01-01T${timeStr}:00`);\r\n\r\n  // Get the hours and minutes\r\n  const hours = dateObj.getHours();\r\n  const minutes = dateObj.getMinutes();\r\n\r\n  // Determine the meridian (AM or PM)\r\n  const meridian = hours >= 12 ? 'PM' : 'AM';\r\n\r\n  // Format the hours in 12-hour format\r\n  const formattedHours = hours % 12 || 12; // Handle 00:00 as 12:00 AM\r\n\r\n  // Return the formatted time string\r\n  return `${formattedHours}:${minutes.toString().padStart(2, '0')} ${meridian}`;\r\n}\r\nexport function getDates(fpcnew) {\r\n  let dates = [];\r\n  let res = '';\r\n  let part2 = '';\r\n\r\n  fpcnew.forEach((data) => {\r\n    console.log(data);\r\n\r\n    let days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n    days.forEach((day) => {\r\n      res = data[day].split('|');\r\n      part2 = res[1];\r\n      if (part2.trim() == '-5963868') {\r\n        dates.push(new Date('2024-02-' + res[0]));\r\n      }\r\n    });\r\n  });\r\n  return dates;\r\n}\r\n"],"names":["loading","setloading","useState","dateWiseNotifications","setDateWiseNotifications","LoginId","useSelector","state","auth","session","useEffect","async","resp","apiGetNotification","getDateWiseNotificaitons","data","notifications","groupedNotifications","forEach","notification","date","NotificationDate","split","push","error","console","showLoader","className","Object","keys","map","index","formatDateYMD","shape","icon","locationLabel","format","Date","message","size","dateStr","toLocaleDateString","year","month","day","formatDateWDMY","is","isNaN","getTime","options","weekday","Intl","DateTimeFormat"],"sourceRoot":""}