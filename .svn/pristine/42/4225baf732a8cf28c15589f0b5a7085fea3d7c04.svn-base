(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[9838,5682],{28179:(e,t,a)=>{"use strict";a.d(t,{$H:()=>o,$o:()=>D,Bo:()=>w,D_:()=>T,Eg:()=>b,JN:()=>N,M0:()=>m,ND:()=>r,OY:()=>l,SR:()=>p,Sd:()=>g,U2:()=>k,U3:()=>v,XV:()=>x,fU:()=>C,fy:()=>y,fz:()=>I,g7:()=>E,h:()=>u,iH:()=>c,ih:()=>z,jS:()=>S,kP:()=>d,ko:()=>h,m1:()=>f,mg:()=>A,pc:()=>_,qm:()=>j});var s=a(54048),n=a(46152);a(60630);const i=a(74569);async function o(e){return n.Z.fetchData({url:"/commercialtypemaster/",method:"get",data:e})}async function r(e,t,a){return n.Z.fetchData({url:"/spotcancellation/?CancelRemarkCode=".concat(t,"&IsNTC=").concat(a),method:"put",data:e})}const l=(e,t)=>new Promise(((a,n)=>{let o=JSON.stringify({CommercialTypeName:e.CommercialTypeName,CommercialTypeShortName:e.CommercialTypeShortName,IsActive:e.IsActive?1:0}),r={method:"post",maxBodyLength:1/0,url:s.Z.apiPrefix+"/commercialtypemaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:o};i.request(r).then((e=>{a(e)})).catch((e=>{n(e)}))})),c=(e,t)=>new Promise(((a,n)=>{let o=JSON.stringify({CommercialTypeName:e.CommercialTypeName,CommercialTypeShortName:e.CommercialTypeShortName,IsActive:e.IsActive?1:0}),r={method:"put",maxBodyLength:1/0,url:s.Z.apiPrefix+"/commercialtypemaster/".concat(e.CommercialTypeCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:o};i.request(r).then((e=>{a(e)})).catch((e=>{n(e)}))}));async function d(e){return n.Z.fetchData({url:"/commercialmaster/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode,"&IsNTC=").concat(e.IsNTC,"&fromdate=").concat(e.FromDate,"&todate=").concat(e.ToDate),method:"get"})}async function m(e,t){return n.Z.fetchData({url:"/bookingmaster/?IsNTC=".concat(e.IsNTC,"&LocationCode=").concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),method:"get",data:e})}async function x(e,t,a,s,i,o,r,l,c,d,m){return n.Z.fetchData({url:"/spotschedule/USP_SA_RO_SpotSchedule/?From_DT=".concat(e,"&To_DT=").concat(t,"&DealNumber=").concat(a,"&BookingNumber=").concat(s,"&ChannelCode=").concat(o,"&LocationCode=").concat(r,"&ScheduleDate=").concat(i,"&IsMakeGoodRO=").concat(l?1:0,"&BookingRefNumber=").concat(c,"&IsNTC=").concat(d,"&BrandCode=").concat(m),method:"get"})}async function h(e,t,a,s,i,o){return n.Z.fetchData({url:"/commercialmaster/get_Commercial/?LocationCode=".concat(s,"&ChannelCode=").concat(i,"&ClientCode=").concat(t.value,"&BrandCode=").concat(e.value,"&DurInSec=").concat(a.DurInSec,"&IsNTC=").concat(o),method:"get"})}async function u(e,t,a,s,i){return n.Z.fetchData({url:"/commercialmaster/get_Commercial/?LocationCode=".concat(a,"&ChannelCode=").concat(s,"&ClientCode=").concat(t,"&BrandCode=").concat(e,"&IsNTC=").concat(i),method:"get"})}const p=(e,t)=>new Promise(((a,n)=>{let o={method:"post",maxBodyLength:1/0,url:s.Z.apiPrefix+"/commercialmaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};console.log(o.url),i.request(o).then((e=>{a(e)})).catch((e=>{n(e)}))})),f=(e,t,a)=>new Promise(((n,o)=>{let r={method:"put",maxBodyLength:1/0,url:s.Z.apiPrefix+"/commercialmaster/".concat(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};i.request(r).then((e=>{n(e)})).catch((e=>{o(e)}))}));async function g(e){return n.Z.fetchData({url:"/positionmaster/drop/",method:"get",data:e})}async function j(e){return n.Z.fetchData({url:"/spotpositiontypemaster/drop/",method:"get",data:e})}async function y(e){return n.Z.fetchData({url:"/cancelremarkmaster/",method:"get",data:e})}const N=(e,t)=>fetch(s.Z.apiPrefix+"/cancelremarkmaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({CancelRemarkName:e.CancelRemarkName,IsActive:e.IsActive})}),b=(e,t)=>fetch(s.Z.apiPrefix+"/cancelremarkmaster/".concat(e.CancelRemarkCode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({CancelRemarkName:e.CancelRemarkName,IsActive:e.IsActive})});async function v(e){return n.Z.fetchData({url:"/yearmaster/",method:"get",data:e})}const C=(e,t)=>fetch(s.Z.apiPrefix+"/yearmaster",{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({Description:e.Description,StartDate:e.StartDate,EndDate:e.EndDate,IsActive:e.IsActive})}),w=(e,t)=>fetch(s.Z.apiPrefix+"/yearmaster/".concat(e.Yearcode),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({Description:e.Description,StartDate:e.StartDate,EndDate:e.EndDate,IsActive:e.IsActive})});async function S(e){return n.Z.fetchData({url:"/taxmaster/",method:"get",data:e})}async function D(e){return n.Z.fetchData({url:"/taxmaster/",method:"post",data:e})}async function k(e,t){return n.Z.fetchData({url:"/taxmaster/".concat(t),method:"put",data:e})}const I=(e,t,a)=>{try{return n.Z.fetchData({method:"get",url:"/trafficdayclose/?LocationCode=".concat(t.LocationCode,"&ChannelCode=").concat(t.ChannelCode,"&traficmonth=").concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}catch(s){throw new Error(s)}},T=(e,t,a,s)=>{try{return n.Z.fetchData({method:"get",url:"/trafficdayclose/asperfromto/?LocationCode=".concat(a.LocationCode,"&ChannelCode=").concat(a.ChannelCode,"&fromdate=").concat(e,"&todate=").concat(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}})}catch(i){throw new Error(i)}},A=async(e,t,a)=>{try{return new Promise(((n,o)=>{let r={method:"post",maxBodyLength:1/0,url:s.Z.apiPrefix+"/trafficdayclose/?LocationCode=".concat(t.LocationCode,"&ChannelCode=").concat(t.ChannelCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:e};i.request(r).then((e=>{n(e)})).catch((e=>{o(e)}))}))}catch(n){throw n}},z=(e,t,a)=>{try{return n.Z.fetchData({method:"get",url:"/bookingmaster/getbookingbyclient/?LocationCode=".concat(t.LocationCode,"&ChannelCode=").concat(t.ChannelCode,"&ClientCode=").concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}catch(s){throw new Error(s)}},E=(e,t)=>{try{return n.Z.fetchData({method:"get",url:"/bookingactivity/get_bookingactivity/?BookingNumber=".concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}catch(a){throw new Error(a)}},_=(e,t,a)=>{try{return console.log(e),n.Z.fetchData({method:"get",url:"/bookingactivity/get_bookingactivitybydate?BookingNumber=".concat(t,"&ChangeType=").concat(e.type,"&ChangeOn=").concat(e.dateTime,"&ChangeBy=").concat(e.executerId),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}})}catch(s){throw new Error(s)}}},45682:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(2803),n=(a(72791),a(80184));const i=function(e){let{showLoader:t}=e;return(0,n.jsx)(n.Fragment,{children:t?(0,n.jsx)("div",{className:"dialog-overlay flex justify-center items-center z-50",children:(0,n.jsx)(s.$j,{size:"3.25rem"})}):(0,n.jsx)(n.Fragment,{})})}},69556:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Ne});var s=a(1413),n=a(81721),i=a(72791),o=a(60488),r=a(2803),l=a(7692);const c=i.createContext();var d=a(43235);const m="client",x="booking",h="SCHEDULE",u="REPLACE",p="RESCHEDULE",f="BULKDROP",g="DROPRESCHEDULE",j="MAKEGOOD",y="MAKEGOODRESCHEDULE",N="CANCEL",b="FINALLOGCREATE",v="DROP",C="BILL";var w=a(39126),S=a(27450),D=a(80184);const k=function(){const{setIsSearchDialogOpen:e,setSearchType:t,formState:a,staticInfo:s}=(0,i.useContext)(c),[n,o]=(0,i.useState)(!1),h=a=>{try{e(!0),t(a)}catch(s){console.error(s)}};return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{children:"Client"}),(0,D.jsx)(r.u,{title:a.client?"Edit Client":"Select Client",wrapperClass:"w-full",children:(0,D.jsxs)("div",{className:"w-full text-gray-200 flex justify-between items-center gap-2 bg-gray-700 p-2 rounded-md hover:bg-gray-600 hover:cursor-pointer transition-all",onClick:()=>h(m),children:[a.client?(0,D.jsx)("p",{className:"font-semibold w-[90%]",children:a.client.label}):(0,D.jsx)("p",{className:"w-[90%] text-gray-300",children:"Select"}),(0,D.jsx)(l.y1O,{className:"text-lg grow"})]})})]}),(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{children:"Booking"}),(0,D.jsx)(r.u,{title:a.booking?"Edit Booking":"Select Booking",wrapperClass:"w-full",children:a.client?(0,D.jsxs)("div",{className:"w-full flex justify-between items-center gap-2 bg-gray-700 p-2 rounded-md hover:bg-gray-600 hover:cursor-pointer transition-all text-gray-200",onClick:()=>h(x),children:[a.booking?(0,D.jsx)("p",{className:"font-semibold w-[90%]",children:a.booking.label}):(0,D.jsx)("p",{className:"w-[90%] text-gray-300",children:"Select"}),(0,D.jsx)(l.y1O,{className:"text-lg grow"})]}):(0,D.jsx)("div",{className:"w-full flex justify-between items-center gap-2 bg-gray-700 p-2 rounded-md hover:bg-gray-600 transition-all hover:cursor-not-allowed text-gray-500",children:"Select"})})]}),s&&(0,D.jsxs)(D.Fragment,{children:[s.agency&&(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{children:"Agency"}),(0,D.jsx)("p",{className:"font-semibold  dark:text-gray-100  text-black",children:s.agency.agencyName})]}),s.deal&&(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{children:"Deal"}),(0,D.jsxs)("div",{className:"flex gap-3",children:[(0,D.jsx)("p",{className:"font-semibold  dark:text-gray-100  text-black text-[16px]",children:s.deal.dealCode}),(0,D.jsx)(r.u,{title:"Show Details",children:(0,D.jsx)(r.zx,{shape:"circle",icon:(0,D.jsx)(w.DpK,{className:"text-xs"}),size:"xs",className:"!h-5 !w-5",onClick:()=>o(!0)})})]})]}),s.bookingDuration&&(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{children:"Booking Duration"}),(0,D.jsxs)("p",{className:"font-semibold  dark:text-gray-100  text-black",children:[(0,d.WU)(new Date(s.bookingDuration.startDate),"dd-MMM-yyyy")," ","to"," ",(0,d.WU)(new Date(s.bookingDuration.endDate),"dd-MMM-yyyy")]})]})]})]}),s.deal&&(0,D.jsx)(S.Z,{isDialogOpen:n,setIsDialogOpen:o,dealNumber:s.deal.dealNumber,dealCode:s.deal.dealCode})]})},I=e=>{let{children:t}=e;const[a,s]=(0,i.useState)(!1),[n,o]=(0,i.useState)(null),[r,l]=(0,i.useState)({client:null,booking:null}),[d,m]=(0,i.useState)(null),[x,h]=(0,i.useState)({}),[u,p]=(0,i.useState)([]),[f,g]=(0,i.useState)(null),[j,y]=(0,i.useState)(!1);return(0,D.jsx)(c.Provider,{value:{isSearchDialogOpen:a,searchType:n,formState:r,searchResult:d,staticInfo:x,datewiseActivities:u,activityInfoData:f,showLoader:j,setIsSearchDialogOpen:s,setSearchType:o,setFormState:l,setSearchResult:m,setStaticInfo:h,setDatewiseActivities:p,setActivityInfoData:g,setShowLoader:y,resetPage:()=>{try{s(!1),o(null),l({client:null,booking:null}),m(null),h({}),p([]),g(null),y(!1)}catch(e){console.log(e)}}},children:t})};var T=a(58617),A=a(81694),z=a.n(A),E=a(96263),_=a.n(E),L=a(23532);const B=function(e){let{value:t,label:a,keyWord:s,handleClick:n}=e;const{textTheme:i}=(0,L.Z)();return(0,D.jsxs)("div",{className:z()("flex items-center justify-between rounded-lg p-3.5 cursor-pointer user-select","bg-gray-50 dark:bg-gray-700/60 hover:bg-gray-100 dark:hover:bg-gray-700/90"),onClick:n,children:[(0,D.jsx)("div",{className:"flex items-center",children:(0,D.jsx)("div",{className:"text-gray-900 dark:text-gray-300",children:(0,D.jsx)(_(),{autoEscape:!0,highlightClassName:z()(i,"underline bg-transparent font-semibold dark:text-white"),searchWords:[s],textToHighlight:a})})}),(0,D.jsx)(T.MOd,{className:"text-lg"})]},t)};var O=a(34786),F=a(81320),Z=a(28179),P=a(60364);const R=function(){const e=(0,P.useSelector)((e=>e.locale.selectedChannel)),t=(0,P.useSelector)((e=>e.auth.session.token)),{isSearchDialogOpen:a,setIsSearchDialogOpen:n,searchType:o,setSearchType:l,searchResult:d,setSearchResult:h,formState:u,setFormState:p,staticInfo:f,setStaticInfo:g,setShowLoader:j}=(0,i.useContext)(c),[y,N]=(0,i.useState)([]),[b,v]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{try{if(a){if(j(!0),o===m){const e=await(0,O.Q8)();200===e.status?h(e.data):204===e.status?h([]):(0,F.openNotification)("danger","Unable to fetch clients. Server responded ".concat(e.status))}else if(o===x){const a=await(0,Z.ih)(u.client.value,e,t);200===a.status?h(a.data):204===a.status?h([]):(0,F.openNotification)("danger","Unable to fetch clients. Server responded ".concat(a.status))}j(!1)}}catch(s){j(!1),(0,F.openNotification)("danger","Something went wrong while fetching ".concat(o)),console.error(s)}})()}),[a]),(0,i.useEffect)((()=>{try{Array.isArray(d)&&(0===b.length?N(Object.assign([],d).splice(0,3)):o===m?N(d.filter((e=>e.ClientName.toLowerCase().includes(b.toLowerCase())))):o===x&&N(d.filter((e=>e.BookingCode.toLowerCase().includes(b.toLowerCase())))))}catch(e){console.error(e)}}),[d,b,o]);const C=()=>{try{n(!1),l(null),v(""),N(d.splice(0,3))}catch(e){console.error(e)}},w=e=>{try{o===m?p({booking:null,client:{value:e.ClientCode,label:e.ClientName}}):o===x&&(p((0,s.Z)((0,s.Z)({},u),{},{booking:{value:e.BookingNumber,label:e.BookingCode}})),g((0,s.Z)((0,s.Z)({},f),{},{deal:{dealCode:e.DealCode,dealNumber:e.DealNumber},agency:{agencyName:e.AgencyName,agencyCode:e.AgencyCode}}))),C()}catch(t){console.error(t)}};return(0,D.jsx)(r.Vq,{contentClassName:"p-0",isOpen:a,closable:!1,onRequestClose:C,children:(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:"px-4 flex items-center justify-between border-b border-gray-200 dark:border-gray-600",children:[(0,D.jsxs)("div",{className:"flex items-center",children:[(0,D.jsx)(T.O6C,{className:"text-xl"}),(0,D.jsx)("input",{value:b,className:"ring-0 outline-none block w-full p-4 text-base bg-transparent text-gray-900 dark:text-gray-100",placeholder:"Search ".concat(o===m?"Client":"Booking"),onChange:e=>v(e.target.value),autoFocus:!0})]}),(0,D.jsx)(r.zx,{size:"xs",onClick:C,children:"Esc"})]}),(0,D.jsx)("div",{className:"py-6 px-5 max-h-[550px] overflow-y-auto flex flex-col gap-4",children:y.length>0?(0,D.jsxs)(D.Fragment,{children:[0===b.length&&(0,D.jsxs)("h6",{children:["Recent"," ",o===m?"Clients":"Bookings"]}),o===m?y.map((e=>(0,D.jsx)(B,{label:e.ClientName,keyWord:b,handleClick:()=>w(e)},e.ClientCode))):y.map((e=>(0,D.jsx)(B,{label:e.BookingCode,keyWord:b,handleClick:()=>w(e)},e.BookingNumber)))]}):(0,D.jsx)("div",{className:"my-10 text-center text-base",children:b.length>0?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("span",{children:"No results for "}),(0,D.jsxs)("span",{className:"heading-text",children:["'",b,"'"]})]}):(0,D.jsx)("span",{children:"No results"})})})]})})};var U=a(19129);const W=function(e){let{activity:t}=e;const{activityInfoData:a,setActivityInfoData:s}=(0,i.useContext)(c);return(0,D.jsx)(r.TY.Item,{media:(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-emerald-600",children:(0,D.jsx)(U.ujk,{className:"dark:text-white text-black",size:"md"})}),className:"px-2 transition-all ".concat(t.id===(null===a||void 0===a?void 0:a.id)?"dark:bg-gray-700 bg-gray-100 rounded-md py-2 mb-1":""),children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[t.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has scheduled "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border ".concat(t.id!==(null===a||void 0===a?void 0:a.id)?"border-gray-700":"border-gray-600"," rounded-full"),children:[(0,D.jsx)(r.Ct,{className:"bg-emerald-500"}),(0,D.jsxs)("span",{className:"font-semibold  dark:text-gray-100 text-black",children:[t.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(t.dateTime),"hh:mm a")}),t.id!==(null===a||void 0===a?void 0:a.id)&&(0,D.jsx)(r.u,{title:"Show Info",children:(0,D.jsx)(r.zx,{shape:"circle",icon:(0,D.jsx)(w.DpK,{className:"text-xs"}),size:"xs",className:"!h-5 !w-5",onClick:()=>s(t)})})]})})},M=[{spots:60,prevSpot:"Colgate Max Fresh",newSpot:"Colgate Strong Teeth"},{spots:60,prevSpot:"Dabur Lal Toothpaste",newSpot:"Dabur Amla Hair Oil"}];const q=function(e){let{activity:t}=e;const{activityInfoData:a,setActivityInfoData:s}=(0,i.useContext)(c);return(0,D.jsxs)(r.TY.Item,{media:(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-amber-600",children:(0,D.jsx)(T.Iz7,{className:"text-white",size:"md"})}),className:"px-2 transition-all ".concat(t.id===(null===a||void 0===a?void 0:a.id)?"bg-gray-700 rounded-md py-2 mb-1":""),children:[(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsx)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:t.executerName}),(0,D.jsx)("span",{className:"mx-2",children:"has replaced "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border ".concat(t.id!==(null===a||void 0===a?void 0:a.id)?"border-gray-700":"border-gray-600"," rounded-full"),children:[(0,D.jsx)(r.Ct,{className:"bg-amber-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[t.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 rtl:mr-3",children:(0,d.WU)(new Date(t.dateTime),"hh:mm a")})]}),(0,D.jsx)(r.Zb,{className:"mt-4",bodyClass:"flex flex-col gap-1 p-3 min-h-[4rem] justify-center",children:M.map(((e,n)=>(0,D.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,D.jsx)(r.Ct,{className:"bg-gray-500",badgeStyle:{height:"6px",width:"6px"}}),(0,D.jsxs)("p",{children:[(0,D.jsx)("span",{className:"font-semibold text-gray-300",children:e.spots})," ","spots of"," ",(0,D.jsx)("span",{className:"font-semibold text-gray-300",children:e.prevSpot})," ","has been replaced with"," ",(0,D.jsx)("span",{className:"font-semibold text-gray-300 mr-3",children:e.newSpot}),t.id!==(null===a||void 0===a?void 0:a.id)&&(0,D.jsx)(r.u,{title:"Show Info",children:(0,D.jsx)(r.zx,{shape:"circle",icon:(0,D.jsx)(w.DpK,{className:"text-xs"}),size:"xs",className:"!h-5 !w-5",onClick:()=>s(t)})})]},n)]})))})]})};const K=function(e){let{activity:t}=e;const{activityInfoData:a,setActivityInfoData:s}=(0,i.useContext)(c);return(0,D.jsx)(r.TY.Item,{media:(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-amber-600",children:(0,D.jsx)(U.jWx,{className:"text-white",size:"md"})}),className:"px-2 transition-all ".concat(t.id===(null===a||void 0===a?void 0:a.id)?"bg-gray-700 rounded-md py-2 mb-1":""),children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[t.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has rescheduled "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border ".concat(t.id!==(null===a||void 0===a?void 0:a.id)?"border-gray-700":"border-gray-600"," rounded-full"),children:[(0,D.jsx)(r.Ct,{className:"bg-amber-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[t.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(t.dateTime),"hh:mm a")}),t.id!==(null===a||void 0===a?void 0:a.id)&&(0,D.jsx)(r.u,{title:"Show Info",children:(0,D.jsx)(r.zx,{shape:"circle",icon:(0,D.jsx)(w.DpK,{className:"text-xs"}),size:"xs",className:"!h-5 !w-5",onClick:()=>s(t)})})]})})};const G=function(e){let{activity:t}=e;const{activityInfoData:a,setActivityInfoData:s}=(0,i.useContext)(c);return(0,D.jsx)(r.TY.Item,{media:(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-red-600",children:(0,D.jsx)(U.Nj3,{className:"text-white",size:"md"})}),className:"px-2 transition-all ".concat(t.id===(null===a||void 0===a?void 0:a.id)?"bg-gray-700 rounded-md py-2 mb-1":""),children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[t.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has bulk dropped "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border ".concat(t.id!==(null===a||void 0===a?void 0:a.id)?"border-gray-700":"border-gray-600"," rounded-full"),children:[(0,D.jsx)(r.Ct,{className:"bg-red-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[t.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(t.dateTime),"hh:mm a")}),t.id!==(null===a||void 0===a?void 0:a.id)&&(0,D.jsx)(r.u,{title:"Show Info",children:(0,D.jsx)(r.zx,{shape:"circle",icon:(0,D.jsx)(w.DpK,{className:"text-xs"}),size:"xs",className:"!h-5 !w-5",onClick:()=>s(t)})})]})})};const Y=function(e){let{activity:t}=e;const{activityInfoData:a,setActivityInfoData:s}=(0,i.useContext)(c);return(0,D.jsx)(r.TY.Item,{media:(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-amber-600",children:(0,D.jsx)(U.jWx,{className:"text-white",size:"md"})}),className:"px-2 transition-all ".concat(t.id===(null===a||void 0===a?void 0:a.id)?"bg-gray-700 rounded-md py-2 mb-1":""),children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[t.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has drop rescheduled "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border ".concat(t.id!==(null===a||void 0===a?void 0:a.id)?"border-gray-700":"border-gray-600"," rounded-full"),children:[(0,D.jsx)(r.Ct,{className:"bg-amber-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[t.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(t.dateTime),"hh:mm a")}),t.id!==(null===a||void 0===a?void 0:a.id)&&(0,D.jsx)(r.u,{title:"Show Info",children:(0,D.jsx)(r.zx,{shape:"circle",icon:(0,D.jsx)(w.DpK,{className:"text-xs"}),size:"xs",className:"!h-5 !w-5",onClick:()=>s(t)})})]})})};const Q=function(e){let{activity:t}=e;const{activityInfoData:a,setActivityInfoData:s}=(0,i.useContext)(c);return(0,D.jsx)(r.TY.Item,{media:(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-red-600",children:(0,D.jsx)(U.c9g,{className:"text-white",size:"md"})}),className:"px-2 transition-all ".concat(t.id===(null===a||void 0===a?void 0:a.id)?"bg-gray-700 rounded-md py-2 mb-1":""),children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[t.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has cancelled "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border ".concat(t.id!==(null===a||void 0===a?void 0:a.id)?"border-gray-700":"border-gray-600"," rounded-full"),children:[(0,D.jsx)(r.Ct,{className:"bg-red-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[t.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(t.dateTime),"hh:mm a")}),t.id!==(null===a||void 0===a?void 0:a.id)&&(0,D.jsx)(r.u,{title:"Show Info",children:(0,D.jsx)(r.zx,{shape:"circle",icon:(0,D.jsx)(w.DpK,{className:"text-xs"}),size:"xs",className:"!h-5 !w-5",onClick:()=>s(t)})})]})})};var J=a(16856);const H=function(e){let{activity:t}=e;const{activityInfoData:a,setActivityInfoData:s}=(0,i.useContext)(c);return(0,D.jsx)(r.TY.Item,{media:(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-emerald-600",children:(0,D.jsx)(J.r4W,{className:"text-white",size:"md"})}),className:"px-2 transition-all ".concat(t.id===(null===a||void 0===a?void 0:a.id)?"bg-gray-700 rounded-md py-2 mb-1":""),children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[t.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has created "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border ".concat(t.id!==(null===a||void 0===a?void 0:a.id)?"border-gray-700":"border-gray-600"," rounded-full"),children:[(0,D.jsx)(r.Ct,{className:"bg-emerald-500"}),(0,D.jsx)("span",{className:"font-semibold text-gray-100",children:"Final Log"})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(t.dateTime),"hh:mm a")}),t.id!==(null===a||void 0===a?void 0:a.id)&&(0,D.jsx)(r.u,{title:"Show Info",children:(0,D.jsx)(r.zx,{shape:"circle",icon:(0,D.jsx)(w.DpK,{className:"text-xs"}),size:"xs",className:"!h-5 !w-5",onClick:()=>s(t)})})]})})};const $=function(e){let{activity:t,droppedFrom:a}=e;const{activityInfoData:s,setActivityInfoData:n}=(0,i.useContext)(c);return(0,D.jsx)(r.TY.Item,{media:(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-red-600",children:(0,D.jsx)(U.Nj3,{className:"text-white",size:"md"})}),className:"px-2 transition-all ".concat(t.id===(null===s||void 0===s?void 0:s.id)?"bg-gray-700 rounded-md py-2 mb-1":""),children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[t.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has dropped "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border ".concat(t.id!==(null===s||void 0===s?void 0:s.id)?"border-gray-700":"border-gray-600"," rounded-full"),children:[(0,D.jsx)(r.Ct,{className:"bg-red-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[t.spots," Spots"]})]}),(0,D.jsx)("span",{className:"mx-2",children:"from "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border border-gray-700 rounded-full",children:[(0,D.jsx)(r.Ct,{className:"bg-red-500"}),(0,D.jsx)("span",{className:"font-semibold text-gray-100",children:a})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(t.dateTime),"hh:mm a")}),t.id!==(null===s||void 0===s?void 0:s.id)&&(0,D.jsx)(r.u,{title:"Show Info",children:(0,D.jsx)(r.zx,{shape:"circle",icon:(0,D.jsx)(w.DpK,{className:"text-xs"}),size:"xs",className:"!h-5 !w-5",onClick:()=>n(t)})})]})})};const V=function(e){let{activity:t}=e;const{activityInfoData:a,setActivityInfoData:s}=(0,i.useContext)(c);return(0,D.jsx)(r.TY.Item,{media:(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-blue-600",children:(0,D.jsx)(J.xJv,{className:"text-white",size:"md"})}),className:"px-2 transition-all ".concat(t.id===(null===a||void 0===a?void 0:a.id)?"bg-gray-700 rounded-md py-2 mb-1":""),children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[t.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has billed "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border ".concat(t.id!==(null===a||void 0===a?void 0:a.id)?"border-gray-700":"border-gray-600"," rounded-full"),children:[(0,D.jsx)(r.Ct,{className:"bg-blue-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[t.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(t.dateTime),"hh:mm a")}),t.id!==(null===a||void 0===a?void 0:a.id)&&(0,D.jsx)(r.u,{title:"Show Info",children:(0,D.jsx)(r.zx,{shape:"circle",icon:(0,D.jsx)(w.DpK,{className:"text-xs"}),size:"xs",className:"!h-5 !w-5",onClick:()=>s(t)})})]})})};const X=function(e){let{activity:t}=e;const{activityInfoData:a,setActivityInfoData:s}=(0,i.useContext)(c);return(0,D.jsx)(r.TY.Item,{media:(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-red-600",children:(0,D.jsx)(U.c9g,{className:"text-white",size:"md"})}),className:"px-2 transition-all ".concat(t.id===(null===a||void 0===a?void 0:a.id)?"bg-gray-700 rounded-md py-2 mb-1":""),children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[t.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has makegood "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border ".concat(t.id!==(null===a||void 0===a?void 0:a.id)?"border-gray-700":"border-gray-600"," rounded-full"),children:[(0,D.jsx)(r.Ct,{className:"bg-red-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[t.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(t.dateTime),"hh:mm a")}),t.id!==(null===a||void 0===a?void 0:a.id)&&(0,D.jsx)(r.u,{title:"Show Info",children:(0,D.jsx)(r.zx,{shape:"circle",icon:(0,D.jsx)(w.DpK,{className:"text-xs"}),size:"xs",className:"!h-5 !w-5",onClick:()=>s(t)})})]})})};const ee=function(e){let{activity:t}=e;const{activityInfoData:a,setActivityInfoData:s}=(0,i.useContext)(c);return(0,D.jsx)(r.TY.Item,{media:(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-amber-600",children:(0,D.jsx)(U.jWx,{className:"text-white",size:"md"})}),className:"px-2 transition-all ".concat(t.id===(null===a||void 0===a?void 0:a.id)?"bg-gray-700 rounded-md py-2 mb-1":""),children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[t.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has makegood rescheduled "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border ".concat(t.id!==(null===a||void 0===a?void 0:a.id)?"border-gray-700":"border-gray-600"," rounded-full"),children:[(0,D.jsx)(r.Ct,{className:"bg-amber-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[t.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(t.dateTime),"hh:mm a")}),t.id!==(null===a||void 0===a?void 0:a.id)&&(0,D.jsx)(r.u,{title:"Show Info",children:(0,D.jsx)(r.zx,{shape:"circle",icon:(0,D.jsx)(w.DpK,{className:"text-xs"}),size:"xs",className:"!h-5 !w-5",onClick:()=>s(t)})})]})})};const te=function(e){let{datewiseActivities:t}=e;return(0,D.jsx)(D.Fragment,{children:t.length>0?(0,D.jsx)("div",{className:"h-[90vh] overflow-y-auto no-scrollbar flex flex-col mt-1",children:t.map(((e,t)=>(0,D.jsxs)("div",{className:"flex flex-col",children:[(0,D.jsx)("div",{className:"px-2 font-semibold uppercase dark:text-white  text-black sticky -top-px dark:!bg-gray-800  !bg-transparent  z-10 pb-3",children:(0,d.WU)(new Date(e.date),"EEE, d MMM yyyy")}),(0,D.jsx)(r.TY,{className:"grow overflow-auto",children:e.activities.map((e=>{switch(e.type){case h:return(0,D.jsx)(W,{activity:e});case u:return(0,D.jsx)(q,{activity:e});case p:return(0,D.jsx)(K,{activity:e});case f:return(0,D.jsx)(G,{activity:e});case g:return(0,D.jsx)(Y,{activity:e});case j:return(0,D.jsx)(X,{activity:e});case y:return(0,D.jsx)(ee,{activity:e});case N:return(0,D.jsx)(Q,{activity:e});case b:return(0,D.jsx)(H,{activity:e});case v:return(0,D.jsx)($,{activity:e,droppedFrom:"Commercial Scheduling"});case C:return(0,D.jsx)(V,{activity:e})}}))})]},"".concat(e.date,"-").concat(t))))}):(0,D.jsx)("div",{className:"h-full border rounded-lg border-gray-700",children:(0,D.jsx)("div",{className:"h-full flex justify-center items-center",children:"No activities to show"})})})};var ae=a(84373),se=a(9494),ne=a(93673);const ie={groupBy:!1,manageColumns:!1};const oe=function(){const{activityInfoData:e,setActivityInfoData:t,formState:a,setShowLoader:s}=(0,i.useContext)(c),[n,o]=(0,i.useState)([]),[l,m]=(0,i.useState)([]),[x,h]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{if(e&&a&&a.booking){s(!0);const e=await(0,se.apiCallstoreprocedure)("GetBookingDetaillByBookingNumber",{BookingNumber:a.booking.value});if(200===e.status){o(e.data);const t=Object.keys(e.data[0]).map((e=>({accessorKey:e,header:e})));m(t)}else 204!==e.status&&(0,F.openNotification)("danger","Something went wrong while fetching additional information");s(!1)}}catch(t){s(!1),(0,F.openNotification)("danger","Something went wrong while fetching additional information"),console.error(t)}})()}),[e,a]),(0,D.jsxs)("div",{className:"flex flex-col gap-3 grow",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,D.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-emerald-600",children:(0,D.jsx)(U.ujk,{className:"text-white",size:"md"})}),(0,D.jsx)("div",{children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[e.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has scheduled "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border border-gray-700 rounded-full",children:[(0,D.jsx)(r.Ct,{className:"bg-emerald-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[e.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(e.dateTime),"hh:mm a")})]})})]}),(0,D.jsx)(r.u,{title:"Close Info",children:(0,D.jsx)(r.zx,{size:"xs",icon:(0,D.jsx)(ae.QAE,{}),onClick:()=>{try{t(null),o([]),m([]),h([])}catch(e){console.error(e)}}})})]}),(0,D.jsx)("div",{className:"h-[90vh] overflow-y-auto no-scrollbar",children:n.length>0?(0,D.jsx)("div",{className:"-mt-2",children:(0,D.jsx)(ne.Z,{tableData:n,tableName:"scheduledActivityAddtionalInfoTable",originalColumns:l,managedColumns:x,setManagedColumns:h,exportFile:!1,columnsToFormatInINR:[],toolbarOptions:ie,externalGlobalFilter:""})}):(0,D.jsx)("div",{className:"h-full rounded-md border border-gray-700 flex justify-center items-center",children:"No additional infomation to show"})})]})};const re=function(){const{activityInfoData:e,setActivityInfoData:t,formState:a,setShowLoader:s}=(0,i.useContext)(c),[n,o]=(0,i.useState)([]),[l,m]=(0,i.useState)([]),[x,h]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{if(e&&a&&a.booking){s(!0);const t=await(0,Z.pc)(e,a.booking.value);if(200===t.status){o(t.data);const e=Object.keys(t.data[0]).map((e=>({accessorKey:e,header:e})));m(e)}else 204!==t.status&&(0,F.openNotification)("danger","Something went wrong while fetching additional information");s(!1)}}catch(t){s(!1),(0,F.openNotification)("danger","Something went wrong while fetching additional information"),console.error(t)}})()}),[e,a]),(0,D.jsxs)("div",{className:"flex flex-col gap-3 grow",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,D.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-amber-600",children:(0,D.jsx)(T.Iz7,{className:"text-white",size:"md"})}),(0,D.jsx)("div",{children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[e.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has replaced "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border border-gray-700 rounded-full",children:[(0,D.jsx)(r.Ct,{className:"bg-amber-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[e.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(e.dateTime),"hh:mm a")})]})})]}),(0,D.jsx)(r.u,{title:"Close Info",children:(0,D.jsx)(r.zx,{size:"xs",icon:(0,D.jsx)(ae.QAE,{}),onClick:()=>{try{t(null),o([]),m([]),h([])}catch(e){console.error(e)}}})})]}),(0,D.jsx)("div",{className:"h-[90vh] overflow-y-auto no-scrollbar",children:n.length>0?(0,D.jsx)("div",{className:"-mt-2",children:(0,D.jsx)(ne.Z,{tableData:n,tableName:"replacedActivityAddtionalInfoTable",originalColumns:l,managedColumns:x,setManagedColumns:h,exportFile:!1,columnsToFormatInINR:[],toolbarOptions:ie,externalGlobalFilter:""})}):(0,D.jsx)("div",{className:"h-full rounded-md border border-gray-700 flex justify-center items-center",children:"No additional infomation to show"})})]})};const le=function(){const{activityInfoData:e,setActivityInfoData:t,formState:a,setShowLoader:s}=(0,i.useContext)(c),[n,o]=(0,i.useState)([]),[l,m]=(0,i.useState)([]),[x,h]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{if(e&&a&&a.booking){s(!0);const t=await(0,Z.pc)(e,a.booking.value);if(200===t.status){o(t.data);const e=Object.keys(t.data[0]).map((e=>({accessorKey:e,header:e})));m(e)}else 204!==t.status&&(0,F.openNotification)("danger","Something went wrong while fetching additional information");s(!1)}}catch(t){s(!1),(0,F.openNotification)("danger","Something went wrong while fetching additional information"),console.error(t)}})()}),[e,a]),(0,D.jsxs)("div",{className:"flex flex-col gap-3 grow",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,D.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-amber-600",children:(0,D.jsx)(U.jWx,{className:"text-white",size:"md"})}),(0,D.jsx)("div",{children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[e.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has rescheduled "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border border-gray-700 rounded-full",children:[(0,D.jsx)(r.Ct,{className:"bg-amber-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[e.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(e.dateTime),"hh:mm a")})]})})]}),(0,D.jsx)(r.u,{title:"Close Info",children:(0,D.jsx)(r.zx,{size:"xs",icon:(0,D.jsx)(ae.QAE,{}),onClick:()=>{try{t(null),o([]),m([]),h([])}catch(e){console.error(e)}}})})]}),(0,D.jsx)("div",{className:"h-[90vh] overflow-y-auto no-scrollbar",children:n.length>0?(0,D.jsx)("div",{className:"-mt-2",children:(0,D.jsx)(ne.Z,{tableData:n,tableName:"rescheduledActivityAddtionalInfoTable",originalColumns:l,managedColumns:x,setManagedColumns:h,exportFile:!1,columnsToFormatInINR:[],toolbarOptions:ie,externalGlobalFilter:""})}):(0,D.jsx)("div",{className:"h-full rounded-md border border-gray-700 flex justify-center items-center",children:"No additional infomation to show"})})]})};const ce=function(){const{activityInfoData:e,setActivityInfoData:t,formState:a,setShowLoader:s}=(0,i.useContext)(c),[n,o]=(0,i.useState)([]),[l,m]=(0,i.useState)([]),[x,h]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{if(e&&a&&a.booking){s(!0);const t=await(0,Z.pc)(e,a.booking.value);if(200===t.status){o(t.data);const e=Object.keys(t.data[0]).map((e=>({accessorKey:e,header:e})));m(e)}else 204!==t.status&&(0,F.openNotification)("danger","Something went wrong while fetching additional information");s(!1)}}catch(t){s(!1),(0,F.openNotification)("danger","Something went wrong while fetching additional information"),console.error(t)}})()}),[e,a]),(0,D.jsxs)("div",{className:"flex flex-col gap-3 grow",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,D.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-red-600",children:(0,D.jsx)(U.Nj3,{className:"text-white",size:"md"})}),(0,D.jsx)("div",{children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[e.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has bulk dropped "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border border-gray-700 rounded-full",children:[(0,D.jsx)(r.Ct,{className:"bg-red-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[e.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(e.dateTime),"hh:mm a")})]})})]}),(0,D.jsx)(r.u,{title:"Close Info",children:(0,D.jsx)(r.zx,{size:"xs",icon:(0,D.jsx)(ae.QAE,{}),onClick:()=>{try{t(null),o([]),m([]),h([])}catch(e){console.error(e)}}})})]}),(0,D.jsx)("div",{className:"h-[90vh] overflow-y-auto no-scrollbar",children:n.length>0?(0,D.jsx)("div",{className:"-mt-2",children:(0,D.jsx)(ne.Z,{tableData:n,tableName:"bulkDroppedActivityAddtionalInfoTable",originalColumns:l,managedColumns:x,setManagedColumns:h,exportFile:!1,columnsToFormatInINR:[],toolbarOptions:ie,externalGlobalFilter:""})}):(0,D.jsx)("div",{className:"h-full rounded-md border border-gray-700 flex justify-center items-center",children:"No additional infomation to show"})})]})};const de=function(){const{activityInfoData:e,setActivityInfoData:t,formState:a,setShowLoader:s}=(0,i.useContext)(c),[n,o]=(0,i.useState)([]),[l,m]=(0,i.useState)([]),[x,h]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{if(e&&a&&a.booking){s(!0);const t=await(0,Z.pc)(e,a.booking.value);if(200===t.status){o(t.data);const e=Object.keys(t.data[0]).map((e=>({accessorKey:e,header:e})));m(e)}else 204!==t.status&&(0,F.openNotification)("danger","Something went wrong while fetching additional information");s(!1)}}catch(t){s(!1),(0,F.openNotification)("danger","Something went wrong while fetching additional information"),console.error(t)}})()}),[e,a]),(0,D.jsxs)("div",{className:"flex flex-col gap-3 grow",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,D.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-amber-600",children:(0,D.jsx)(U.jWx,{className:"text-white",size:"md"})}),(0,D.jsx)("div",{children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[e.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has drop rescheduled "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border border-gray-700 rounded-full",children:[(0,D.jsx)(r.Ct,{className:"bg-amber-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[e.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(e.dateTime),"hh:mm a")})]})})]}),(0,D.jsx)(r.u,{title:"Close Info",children:(0,D.jsx)(r.zx,{size:"xs",icon:(0,D.jsx)(ae.QAE,{}),onClick:()=>{try{t(null),o([]),m([]),h([])}catch(e){console.error(e)}}})})]}),(0,D.jsx)("div",{className:"h-[90vh] overflow-y-auto no-scrollbar",children:n.length>0?(0,D.jsx)("div",{className:"-mt-2",children:(0,D.jsx)(ne.Z,{tableData:n,tableName:"dropRescheduledActivityAddtionalInfoTable",originalColumns:l,managedColumns:x,setManagedColumns:h,exportFile:!1,columnsToFormatInINR:[],toolbarOptions:ie,externalGlobalFilter:""})}):(0,D.jsx)("div",{className:"h-full rounded-md border border-gray-700 flex justify-center items-center",children:"No additional infomation to show"})})]})};const me=function(){const{activityInfoData:e,setActivityInfoData:t,formState:a,setShowLoader:s}=(0,i.useContext)(c),[n,o]=(0,i.useState)([]),[l,m]=(0,i.useState)([]),[x,h]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{if(e&&a&&a.booking){s(!0);const t=await(0,se.apiCallstoreprocedure)("USP_Audit_LogDetail",{BookingNumber:a.booking.value,ChangeBy:e.executerId,ChangeOn:e.dateTime,ChangeType:e.type});if(200===t.status){o(t.data);const e=Object.keys(t.data[0]).map((e=>({accessorKey:e,header:e})));m(e)}else 204!==t.status&&(0,F.openNotification)("danger","Something went wrong while fetching additional information");s(!1)}}catch(t){s(!1),(0,F.openNotification)("danger","Something went wrong while fetching additional information"),console.error(t)}})()}),[e,a]),(0,D.jsxs)("div",{className:"flex flex-col gap-3 grow",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,D.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-red-600",children:(0,D.jsx)(U.c9g,{className:"text-white",size:"md"})}),(0,D.jsx)("div",{children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[e.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has cancelled "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border border-gray-700 rounded-full",children:[(0,D.jsx)(r.Ct,{className:"bg-red-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[e.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(e.dateTime),"hh:mm a")})]})})]}),(0,D.jsx)(r.u,{title:"Close Info",children:(0,D.jsx)(r.zx,{size:"xs",icon:(0,D.jsx)(ae.QAE,{}),onClick:()=>{try{t(null),o([]),m([]),h([])}catch(e){console.error(e)}}})})]}),(0,D.jsx)("div",{className:"h-[90vh] overflow-y-auto no-scrollbar",children:n.length>0?(0,D.jsx)("div",{className:"-mt-2",children:(0,D.jsx)(ne.Z,{tableData:n,tableName:"cancelledActivityAddtionalInfoTable",originalColumns:l,managedColumns:x,setManagedColumns:h,exportFile:!1,columnsToFormatInINR:[],toolbarOptions:ie,externalGlobalFilter:""})}):(0,D.jsx)("div",{className:"h-full rounded-md border border-gray-700 flex justify-center items-center",children:"No additional infomation to show"})})]})};const xe=function(){const{activityInfoData:e,setActivityInfoData:t,formState:a,setShowLoader:s}=(0,i.useContext)(c),[n,o]=(0,i.useState)([]),[l,m]=(0,i.useState)([]),[x,h]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{if(e&&a&&a.booking){s(!0);const t=await(0,Z.pc)(e,a.booking.value);if(200===t.status){o(t.data);const e=Object.keys(t.data[0]).map((e=>({accessorKey:e,header:e})));m(e)}else 204!==t.status&&(0,F.openNotification)("danger","Something went wrong while fetching additional information");s(!1)}}catch(t){s(!1),(0,F.openNotification)("danger","Something went wrong while fetching additional information"),console.error(t)}})()}),[e,a]),(0,D.jsxs)("div",{className:"flex flex-col gap-3 grow",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,D.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-emerald-600",children:(0,D.jsx)(J.r4W,{className:"text-white",size:"md"})}),(0,D.jsx)("div",{children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[e.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has created "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border border-gray-700 rounded-full",children:[(0,D.jsx)(r.Ct,{className:"bg-emerald-500"}),(0,D.jsx)("span",{className:"font-semibold text-gray-100",children:"Final Log"})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(e.dateTime),"hh:mm a")})]})})]}),(0,D.jsx)(r.u,{title:"Close Info",children:(0,D.jsx)(r.zx,{size:"xs",icon:(0,D.jsx)(ae.QAE,{}),onClick:()=>{try{t(null),o([]),m([]),h([])}catch(e){console.error(e)}}})})]}),(0,D.jsx)("div",{className:"h-[90vh] overflow-y-auto no-scrollbar",children:n.length>0?(0,D.jsx)("div",{className:"-mt-2",children:(0,D.jsx)(ne.Z,{tableData:n,tableName:"finalLogCreatedActivityAddtionalInfoTable",originalColumns:l,managedColumns:x,setManagedColumns:h,exportFile:!1,columnsToFormatInINR:[],toolbarOptions:ie,externalGlobalFilter:""})}):(0,D.jsx)("div",{className:"h-full rounded-md border border-gray-700 flex justify-center items-center",children:"No additional infomation to show"})})]})};const he=function(){const{activityInfoData:e,setActivityInfoData:t,formState:a,setShowLoader:s}=(0,i.useContext)(c),[n,o]=(0,i.useState)([]),[l,m]=(0,i.useState)([]),[x,h]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{if(e&&a&&a.booking){s(!0);const t=await(0,Z.pc)(e,a.booking.value);if(200===t.status){o(t.data);const e=Object.keys(t.data[0]).map((e=>({accessorKey:e,header:e})));m(e)}else 204!==t.status&&(0,F.openNotification)("danger","Something went wrong while fetching additional information");s(!1)}}catch(t){s(!1),(0,F.openNotification)("danger","Something went wrong while fetching additional information"),console.error(t)}})()}),[e,a]),(0,D.jsxs)("div",{className:"flex flex-col gap-3 grow",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,D.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-red-600",children:(0,D.jsx)(U.Nj3,{className:"text-white",size:"md"})}),(0,D.jsx)("div",{children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[e.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has dropped "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border border-gray-700 rounded-full",children:[(0,D.jsx)(r.Ct,{className:"bg-red-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[e.spots," Spots"]})]}),(0,D.jsx)("span",{className:"mx-2",children:"from "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border border-gray-700 rounded-full",children:[(0,D.jsx)(r.Ct,{className:"bg-red-500"}),(0,D.jsx)("span",{className:"font-semibold text-gray-100",children:"Commercial Scheduling"})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(e.dateTime),"hh:mm a")})]})})]}),(0,D.jsx)(r.u,{title:"Close Info",children:(0,D.jsx)(r.zx,{size:"xs",icon:(0,D.jsx)(ae.QAE,{}),onClick:()=>{try{t(null),o([]),m([]),h([])}catch(e){console.error(e)}}})})]}),(0,D.jsx)("div",{className:"h-[90vh] overflow-y-auto no-scrollbar",children:n.length>0?(0,D.jsx)("div",{className:"-mt-2",children:(0,D.jsx)(ne.Z,{tableData:n,tableName:"droppedActivityAddtionalInfoTable",originalColumns:l,managedColumns:x,setManagedColumns:h,exportFile:!1,columnsToFormatInINR:[],toolbarOptions:ie,externalGlobalFilter:""})}):(0,D.jsx)("div",{className:"h-full rounded-md border border-gray-700 flex justify-center items-center",children:"No additional infomation to show"})})]})};const ue=function(){const{activityInfoData:e,setActivityInfoData:t,formState:a,setShowLoader:s}=(0,i.useContext)(c),[n,o]=(0,i.useState)([]),[l,m]=(0,i.useState)([]),[x,h]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{if(e&&a&&a.booking){s(!0);const t=await(0,Z.pc)(e,a.booking.value);if(200===t.status){o(t.data);const e=Object.keys(t.data[0]).map((e=>({accessorKey:e,header:e})));m(e)}else 204!==t.status&&(0,F.openNotification)("danger","Something went wrong while fetching additional information");s(!1)}}catch(t){s(!1),(0,F.openNotification)("danger","Something went wrong while fetching additional information"),console.error(t)}})()}),[e,a]),(0,D.jsxs)("div",{className:"flex flex-col gap-3 grow",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,D.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-blue-600",children:(0,D.jsx)(J.xJv,{className:"text-white",size:"md"})}),(0,D.jsx)("div",{children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[e.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has billed "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border border-gray-700 rounded-full",children:[(0,D.jsx)(r.Ct,{className:"bg-blue-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[e.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(e.dateTime),"hh:mm a")})]})})]}),(0,D.jsx)(r.u,{title:"Close Info",children:(0,D.jsx)(r.zx,{size:"xs",icon:(0,D.jsx)(ae.QAE,{}),onClick:()=>{try{t(null),o([]),m([]),h([])}catch(e){console.error(e)}}})})]}),(0,D.jsx)("div",{className:"h-[90vh] overflow-y-auto no-scrollbar",children:n.length>0?(0,D.jsx)("div",{className:"-mt-2",children:(0,D.jsx)(ne.Z,{tableData:n,tableName:"billedActivityAddtionalInfoTable",originalColumns:l,managedColumns:x,setManagedColumns:h,exportFile:!1,columnsToFormatInINR:[],toolbarOptions:ie,externalGlobalFilter:""})}):(0,D.jsx)("div",{className:"h-full rounded-md border border-gray-700 flex justify-center items-center",children:"No additional infomation to show"})})]})};const pe=function(){const{activityInfoData:e,setActivityInfoData:t,formState:a,setShowLoader:s}=(0,i.useContext)(c),[n,o]=(0,i.useState)([]),[l,m]=(0,i.useState)([]),[x,h]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{if(e&&a&&a.booking){s(!0);const t=await(0,Z.pc)(e,a.booking.value);if(200===t.status){o(t.data);const e=Object.keys(t.data[0]).map((e=>({accessorKey:e,header:e})));m(e)}else 204!==t.status&&(0,F.openNotification)("danger","Something went wrong while fetching additional information");s(!1)}}catch(t){s(!1),(0,F.openNotification)("danger","Something went wrong while fetching additional information"),console.error(t)}})()}),[e,a]),(0,D.jsxs)("div",{className:"flex flex-col gap-3 grow",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,D.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-red-600",children:(0,D.jsx)(U.c9g,{className:"text-white",size:"md"})}),(0,D.jsx)("div",{children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[e.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has makegood "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border border-gray-700 rounded-full",children:[(0,D.jsx)(r.Ct,{className:"bg-red-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[e.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(e.dateTime),"hh:mm a")})]})})]}),(0,D.jsx)(r.u,{title:"Close Info",children:(0,D.jsx)(r.zx,{size:"xs",icon:(0,D.jsx)(ae.QAE,{}),onClick:()=>{try{t(null),o([]),m([]),h([])}catch(e){console.error(e)}}})})]}),(0,D.jsx)("div",{className:"h-[90vh] overflow-y-auto no-scrollbar",children:n.length>0?(0,D.jsx)("div",{className:"-mt-2",children:(0,D.jsx)(ne.Z,{tableData:n,tableName:"makegoodActivityAddtionalInfoTable",originalColumns:l,managedColumns:x,setManagedColumns:h,exportFile:!1,columnsToFormatInINR:[],toolbarOptions:ie,externalGlobalFilter:""})}):(0,D.jsx)("div",{className:"h-full rounded-md border border-gray-700 flex justify-center items-center",children:"No additional infomation to show"})})]})};const fe=function(){const{activityInfoData:e,setActivityInfoData:t,formState:a,setShowLoader:s}=(0,i.useContext)(c),[n,o]=(0,i.useState)([]),[l,m]=(0,i.useState)([]),[x,h]=(0,i.useState)([]);return(0,i.useEffect)((()=>{(async()=>{try{if(e&&a&&a.booking){s(!0);const t=await(0,Z.pc)(e,a.booking.value);if(200===t.status){o(t.data);const e=Object.keys(t.data[0]).map((e=>({accessorKey:e,header:e})));m(e)}else 204!==t.status&&(0,F.openNotification)("danger","Something went wrong while fetching additional information");s(!1)}}catch(t){s(!1),(0,F.openNotification)("danger","Something went wrong while fetching additional information"),console.error(t)}})()}),[e,a]),(0,D.jsxs)("div",{className:"flex flex-col gap-3 grow",children:[(0,D.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,D.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,D.jsx)(r.qE,{size:33,shape:"circle",className:"!bg-amber-600",children:(0,D.jsx)(U.jWx,{className:"text-white",size:"md"})}),(0,D.jsx)("div",{children:(0,D.jsxs)("p",{className:"my-1 flex items-center flex-wrap",children:[(0,D.jsxs)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:[e.executerName," "]}),(0,D.jsx)("span",{className:"mx-2",children:"has makegood rescheduled "}),(0,D.jsxs)("div",{className:"flex gap-2 items-center py-1 px-2 border border-gray-700 rounded-full",children:[(0,D.jsx)(r.Ct,{className:"bg-amber-500"}),(0,D.jsxs)("span",{className:"font-semibold text-gray-100",children:[e.spots," Spots"]})]}),(0,D.jsx)("span",{className:"ml-3 mr-3",children:(0,d.WU)(new Date(e.dateTime),"hh:mm a")})]})})]}),(0,D.jsx)(r.u,{title:"Close Info",children:(0,D.jsx)(r.zx,{size:"xs",icon:(0,D.jsx)(ae.QAE,{}),onClick:()=>{try{t(null),o([]),m([]),h([])}catch(e){console.error(e)}}})})]}),(0,D.jsx)("div",{className:"h-[90vh] overflow-y-auto no-scrollbar",children:n.length>0?(0,D.jsx)("div",{className:"-mt-2",children:(0,D.jsx)(ne.Z,{tableData:n,tableName:"makegoodRescheduledActivityAddtionalInfoTable",originalColumns:l,managedColumns:x,setManagedColumns:h,exportFile:!1,columnsToFormatInINR:[],toolbarOptions:ie,externalGlobalFilter:""})}):(0,D.jsx)("div",{className:"h-full rounded-md border border-gray-700 flex justify-center items-center",children:"No additional infomation to show"})})]})};const ge=function(){const{activityInfoData:e}=(0,i.useContext)(c);return(0,D.jsx)("div",{className:"min-h-full flex flex-col",children:e.type===h?(0,D.jsx)(oe,{}):e.type===u?(0,D.jsx)(re,{}):e.type===p?(0,D.jsx)(le,{}):e.type===f?(0,D.jsx)(ce,{}):e.type===g?(0,D.jsx)(de,{}):e.type===j?(0,D.jsx)(pe,{}):e.type===y?(0,D.jsx)(fe,{}):e.type===N?(0,D.jsx)(me,{}):e.type===b?(0,D.jsx)(xe,{}):e.type===v?(0,D.jsx)(he,{}):e.type===C?(0,D.jsx)(ue,{}):(0,D.jsx)("div",{className:"h-full flex justify-between items-center",children:"No additional infomation to show"})})};var je=a(45682);function ye(){const e=(0,P.useSelector)((e=>e.locale.selectedChannel)),{formState:t,datewiseActivities:a,setDatewiseActivities:r,staticInfo:l,setStaticInfo:d,activityInfoData:m,showLoader:x,setShowLoader:p,resetPage:f}=(0,i.useContext)(c);(0,i.useEffect)((()=>{try{(0,o.Dh)()}catch(e){console.error(e)}}),[]),(0,i.useEffect)((()=>{try{f()}catch(e){console.error(e)}}),[e]),(0,i.useEffect)((()=>{(async()=>{try{if(t.client&&t.booking){p(!0);const e=await(0,Z.g7)(t.booking.value);200===e.status?(r(g(e.data)),d((0,s.Z)((0,s.Z)({},l),{},{bookingDuration:{startDate:e.data.BookingStartDate,endDate:e.data.BookingEndDate}}))):204===e.status?console.error("No activities to show"):(0,F.openNotification)("danger","Unable to fetch activities. Server responded ".concat(e.status)),p(!1)}}catch(e){p(!1),(0,F.openNotification)("danger","Something went wrong while fetching activities"),console.error(e)}})()}),[t]);const g=e=>{try{let t=[{type:h,executerName:e.AddedBy,spots:e.bookingCount,dateTime:e.AddedOn,id:"".concat(e.AddedBy,"-").concat(e.AddedOn,"-0")}];e.BookingData.forEach(((a,n)=>{let i={type:a.ChangeType,executerName:a.Addedby,executerId:a.ChangeBy,spots:a.Count,dateTime:a.ChangeOn,id:"".concat(e.AddedBy,"-").concat(e.ChangeOn,"-").concat(n+1)};a.ChangeType===u&&(i=(0,s.Z)((0,s.Z)({},i),{},{additionalInfo:[{spots:a.Count,prevSpot:a.PreviousSpot,newSpot:a.NewSpot}]})),t.push(i)}));const a=j(t);return y(a,t)}catch(t){throw t}},j=e=>{try{const t=new Set;return e.forEach((e=>{const a=e.dateTime.split("T")[0];t.add(a)})),Array.from(t)}catch(t){throw t}},y=(e,t)=>{try{const a=[];return e.forEach((e=>{const s=t.filter((t=>t.dateTime.includes(e)));a.push({date:e,activities:s})})),a}catch(a){throw a}};return(0,D.jsxs)(n.W2,{className:"min-h-full",children:[(0,D.jsx)(n.lG,{bordered:!1,className:"h-full",bodyClass:"h-full",children:(0,D.jsxs)("div",{className:"flex gap-4 min-h-full",children:[(0,D.jsxs)("div",{className:"".concat(m?"w-[15%]":"w-[22%]"," transition-all"),children:[(0,D.jsx)("h4",{className:"mb-4",children:"Activity Log"}),(0,D.jsx)(k,{})]}),(0,D.jsx)("div",{className:"".concat(m?"w-[85%]":"w-[78%]"," transition-all"),children:m?(0,D.jsxs)("div",{className:"flex gap-4",children:[(0,D.jsx)("div",{className:"w-1/2 border-r border-r-gray-700 pr-4",children:(0,D.jsx)(te,{datewiseActivities:a})}),(0,D.jsx)("div",{className:"w-1/2",children:(0,D.jsx)(ge,{})})]}):(0,D.jsx)(te,{datewiseActivities:a})})]})}),(0,D.jsx)(R,{}),(0,D.jsx)(je.default,{showLoader:x})]})}const Ne=function(){return(0,D.jsx)(I,{children:(0,D.jsx)(ye,{})})}},60488:(e,t,a)=>{"use strict";a.d(t,{Dh:()=>u,SE:()=>h,SU:()=>j,a1:()=>d,aP:()=>c,f$:()=>p,rp:()=>x,yw:()=>f});var s=a(1413),n=(a(81320),a(72791)),i=a(56355),o=a(2803),r=a(80184);const l=e=>e.split(":").map((e=>e.padStart(2,"0"))).join(":").substring(0,11);function c(e){let t=0;const a=[];return e.forEach((e=>{"NTC"!==e.F_C_S_P&&t++;const n=(0,s.Z)((0,s.Z)({},e),{},{PrimaryID:t});a.push(n)})),a}function d(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"CM",i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0,c="00:00:00:00",d=i||"00:00:00:00";return e.map(((e,x)=>{if(o&&"NTC"===e.F_C_S_P&&"DTM"===e.NtcTypeName)return e;if("NTC"===e.F_C_S_P||"BR"===e.F_C_S_P)return e.OffsetStartTime?(0,s.Z)((0,s.Z)({},e),{},{Start_Time:e.OffsetStartTime,Tel_Time:e.OffsetStartTime}):(0,s.Z)((0,s.Z)({},e),{},{Start_Time:"00:00:00:00",Tel_Time:"00:00:00:00",OffsetStartTime:"00:00:00:00"});let h=d;if(t)return"CT"!==e.F_C_S_P?e.F_C_S_P===n&&a||"NTC"===e.F_C_S_P||"BR"===e.F_C_S_P?(d=l(d),(0,s.Z)((0,s.Z)({},e),{},{Start_Time:d,Tel_Time:d})):(h=m(d,c,r),c=e.Duration,h=l(h),d=l(h),(0,s.Z)((0,s.Z)({},e),{},{Start_Time:h,Tel_Time:h})):(d=e.FPC_Time+":00:00",c=e.Duration,h=l(h),d=l(d),(0,s.Z)((0,s.Z)({},e),{},{Start_Time:d,Tel_Time:d}));if(0===x)d=i||e.Start_Time,c=e.Duration;else{if(h=m(d,c,r),h=l(h),d=l(h),"NTC"===e.F_C_S_P&&a||"BR"===e.F_C_S_P)return(0,s.Z)((0,s.Z)({},e),{},{Start_Time:d,Tel_Time:d});c=e.Duration,h=l(h),d=l(h)}return(0,s.Z)((0,s.Z)({},e),{},{Start_Time:h,Tel_Time:h})}))}const m=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:24;try{const s=60,n=60,i=24,[o,r,l,c]=e.split(":").map(Number),[d,m,x,h]=t.split(":").map(Number);let u=c+h,p=Math.floor(u/a);u%=a;let f=l+x+p,g=Math.floor(f/s);f%=s;let j=r+m+g,y=Math.floor(j/n);j%=n;let N=o+d+y;N%=i;return String(N).padStart(2,"0")+":"+String(j).padStart(2,"0")+":"+String(f).padStart(2,"0")+":"+String(u).padStart(2,"0")}catch(s){throw s}};function x(e){let t=0;return e.forEach((e=>{const[a,s,n,i]=e.CommercialDuration.split(":").map((e=>parseInt(e)));t+=3600*a+60*s+n+i/30})),t}function h(){document.getElementsByClassName("stacked-side-nav")[0].classList.add("hidden");document.getElementsByClassName("footer")[0].classList.add("hidden")}function u(){var e,t;const a=document.getElementsByClassName("stacked-side-nav-secondary")[0];void 0!=a&&(null===a||void 0===a||a.classList.add("hidden")),null===(e=document.getElementById("rightIndicator"))||void 0===e||e.classList.remove("hidden"),null===(t=document.getElementById("leftIndicator"))||void 0===t||t.classList.add("hidden")}function p(){var e,t;const a=document.getElementsByClassName("stacked-side-nav-secondary")[0];void 0!=a&&(null===a||void 0===a||a.classList.remove("hidden")),null===(e=document.getElementById("leftIndicator"))||void 0===e||e.classList.remove("hidden"),null===(t=document.getElementById("rightIndicator"))||void 0===t||t.classList.add("hidden")}const f=(e,t)=>e.map((e=>{let a=(0,s.Z)({},e);return"S"===a.F_C_S_P||a.F_C_S_P,"NTC"===a.F_C_S_P?(a.PrimaryID=t.PrimaryID,a.SeasonNo=t.SeasonNo,a.Ep_No=t.Ep_No,a.ContentCode=t.ContentCode,a.BreakNumber=t.BreakNumber,a.SeasonNo=t.SeasonNo,a.FPC_ID=t.FPC_ID):"CM"===a.F_C_S_P?(a.PrimaryID=t.PrimaryID,a.SeasonNo=t.SeasonNo,a.Ep_No=t.Ep_No,a.ContentCode=t.ContentCode,a.BreakNumber=t.BreakNumber,a.SeasonNo=t.SeasonNo,a.FPC_ID=t.FPC_ID,a.ScheduleTime=t.ScheduleTime):(a.SeasonNo=t.SeasonNo,a.Ep_No=t.Ep_No,a.ContentCode=t.ContentCode,a.BreakNumber=t.BreakNumber,a.SeasonNo=t.SeasonNo,a.FPC_ID=t.FPC_ID),a.SequenceNo=t.SequenceNo,a.Start_Time="00:00:00:00",a})),g=e=>{const t=Math.floor(e/60),a=e%60;return"".concat(String(t).padStart(2,"0"),":").concat(String(a).padStart(2,"0"))};const j=e=>{let{Progress:t,PromoSchdulingSave:a,openNotification:s}=e;const[l,c]=(0,n.useState)(0),[d,m]=(0,n.useState)(0),[x,h]=(0,n.useState)(0),[u,p]=(0,n.useState)(!1),f=(0,n.useRef)(!0),[j,y]=(0,n.useState)(!1),[N,b]=(0,n.useState)(""),v=e=>{let{percent:t}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{onClick:()=>{y(!0)},style:{cursor:"pointer"},children:(0,r.jsx)("p",{style:{marginTop:"5px",fontSize:"12px",color:"white"},children:g(d)})}),(0,r.jsx)("p",{style:{cursor:"pointer",color:"white",marginLeft:"10px"},onClick:()=>{p(!u)},children:u?(0,r.jsx)(i.Wh,{}):(0,r.jsx)(i.gmG,{})})]})};(0,n.useEffect)((()=>{C(10)}),[]),(0,n.useEffect)((()=>{let e;return u&&d>0?e=setInterval((()=>{m((e=>Math.max(e-1,0))),c((e=>{const t=100-d/(x||1)*100;return Math.min(t,100)}))}),1e3):0===d&&u&&(a(),s("info"),m(x)),()=>clearInterval(e)}),[u,d,x]),(0,n.useEffect)((()=>{f.current&&(f.current=!1)}),[d]);const C=e=>{const t=parseInt(e,10);if(!isNaN(t)&&t>0){const e=60*t;m(e),h(e),c(0),p(!0)}},w=e=>{console.log("onDialogClose",e),y(!1)};return(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(o.Vq,{isOpen:j,width:300,height:200,onClose:w,onRequestClose:w,children:(0,r.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,r.jsx)("h5",{className:"mb-4",children:"Set Timer"}),(0,r.jsx)("div",{className:"flex align-center",children:(0,r.jsx)(o.II,{maxLength:"2",value:N,onChange:e=>{const t=e.target.value;(/^\d{0,2}$/.test(t)||""===t)&&b(t)}})}),(0,r.jsxs)("div",{className:"text-right mt-6",children:[(0,r.jsx)(o.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"solid",onClick:()=>{C(N),w()},children:"Set"}),(0,r.jsx)(o.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"solid",onClick:w,children:"Cancel"})]})]})}),(0,r.jsx)("div",{className:"flex",style:{width:"120px"},children:(0,r.jsx)(t,{variant:"circle",className:"mx-6",size:"sm",width:50,percent:l,customInfo:(0,r.jsx)(v,{percent:l})})})]})}},987:(e,t,a)=>{"use strict";a.d(t,{v:()=>o});var s=a(72791),n=a(15036);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},i.apply(this,arguments)}var o=s.memo(s.forwardRef((function(e,t){var a=n.A.getPTI(e);return s.createElement("svg",i({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),s.createElement("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"}))})));o.displayName="ChevronDownIcon"},88170:(e,t,a)=>{"use strict";a.d(t,{X:()=>o});var s=a(72791),n=a(15036);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},i.apply(this,arguments)}var o=s.memo(s.forwardRef((function(e,t){var a=n.A.getPTI(e);return s.createElement("svg",i({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),s.createElement("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"}))})));o.displayName="ChevronRightIcon"},72950:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{}}]);
//# sourceMappingURL=9838.650a64f9.chunk.js.map