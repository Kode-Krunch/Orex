"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[7602],{25187:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var a=t(1413),n=t(2803),i=t(72791),l=t(11308),o=t(96361),c=t(46657),r=t(60364),u=t(4621),d=t(32640),m=t(80184);const g=()=>{const e=(0,r.useSelector)((e=>e.auth.session.token)),s=(0,i.useRef)(0);function t(e,s){n.Am.push((0,m.jsx)(n.P_,{closable:!0,type:s,duration:1e3,title:s.charAt(0).toUpperCase()+s.slice(1),children:e}))}const[g,h]=(0,i.useState)(""),[N,f]=(0,i.useState)(""),[D,x]=(0,i.useState)(!1),[S,p]=(0,i.useState)(""),[v,b]=(0,i.useState)(!1),[y,A]=(0,i.useState)(),j=(0,i.useRef)(null),[w,I]=(0,i.useState)();(0,i.useEffect)((()=>{s.current=s.current+1,1==s.current&&(async e=>{const s=[...(await(0,l.vG)()).data].reverse().map(((e,s)=>(0,a.Z)((0,a.Z)({},e),{},{serialNumber:s+1})));I(s)})()}),[]);const C=s=>{console.log("Designation",w);const a=[...w];let n=a[s];n.IsActive=1==n.IsActive?0:1,(0,l.yL)(n,e).then((e=>204==e.status?(console.log(e),t("Data Already Exists.","warning"),null):200==e.status?(t("Data Updated Successfull","success"),null):e.json())).then((e=>{e.serialNumber=n.serialNumber,e.IsActive=n.IsActive,e.DesignationName=n.DesignationName,e.ShortName=n.ShortName,a[s]=e,I(a),t("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},E=[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"DesignationName",header:"DesignationName",width:"20%"},{field:"ShortName",header:"ShortName",width:"20%"}];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.F,{ref:j}),(0,m.jsx)(u.Q,{group:"declarative",visible:v,onHide:()=>b(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{C(y)}}),(0,m.jsx)(n.Zb,{header:(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("div",{children:(0,m.jsx)("span",{className:"flex items-center",children:(0,m.jsx)(o.Z,{ModuleText:"Programming",Component:"Designation"})})}),(0,m.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}}),(0,m.jsx)("div",{})]}),headerExtra:(0,d.W)(S,p,x,D,(()=>{if(g){const s={DesignationName:g,ShortName:g.substring(0,2),IsActive:1};(0,l.LF)(s,e).then((e=>{204==e.status&&t("Data Already Exists.","warning"),200==e.status&&(s.serialNumber=w.length+1,I((e=>[...e,s])),t("Data Added Succesfully","success")),h(""),f(""),x(!1)})).catch((e=>{console.log(e)}))}else t("Kindly Enter Designation Name","danger")}),g,h,N,f,"Designation",w,E),bodyClass:"text-center",children:(0,m.jsx)(d.Z,{data:w,onRowEditComplete:s=>{let a=[...w],{newData:n,index:i}=s;console.log(n),a[i].DesignationName=n.DesignationName,a[i].ShortName=n.ShortName,a[i].IsActive=n.IsActive,n.DesignationName&&(console.log("_Designation",a),(0,l.yL)(n,e).then((e=>204==e.status?(console.log(e),t("Data Already Exists.","warning"),null):200==e.status?(t("Data Updated Successfull","success"),null):e.json())).then((e=>{console.log(e),console.log(n.serialNumber),a[i]=e,a[i].serialNumber=n.serialNumber,a[i].DesignationName=n.DesignationName,a[i].ShortName=n.ShortName,a[i].IsActive=n.IsActive,I(a),t("Data Updated Succesfully","success")})).catch((e=>{console.log(e)})))},globalFilter:S,dataKey:"DesignationCode",columns:E,setyup:A,scrollHeight:"70vh",setVisible:b})})]})}}}]);
//# sourceMappingURL=7602.a49d6529.chunk.js.map