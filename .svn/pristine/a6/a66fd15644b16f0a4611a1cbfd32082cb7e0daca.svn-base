{"version":3,"file":"static/js/6591.3086d4a6.chunk.js","mappings":"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","sources":["services/SalesAdminService.js","views/Controls/CommercialTypeDropNew.js","views/Controls/DealDeatilsGlobel.js","views/Salesadmin/BookingMaster/DateRangeInputs.js","views/Salesadmin/BookingMaster/BookingMaster.js","../node_modules/primereact/icons/chevrondown/index.esm.js","../node_modules/primereact/icons/chevronright/index.esm.js","../node_modules/primereact/icons/times/index.esm.js","../node_modules/primereact/portal/portal.esm.js","../node_modules/primereact/ripple/ripple.esm.js"],"sourcesContent":["import appConfig from 'configs/app.config';\r\nimport ApiService from './ApiService';\r\nimport { data } from 'autoprefixer';\r\nconst axios = require('axios');\r\nconst APIURL = process.env.APIURL;\r\n\r\nexport async function apiGetCommercialtypemaster(data) {\r\n  return ApiService.fetchData({\r\n    url: '/commercialtypemaster/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nexport async function apispotcancellation(data, i, IsNTC) {\r\n  return ApiService.fetchData({\r\n    url: `/spotcancellation/?CancelRemarkCode=${i}&IsNTC=${IsNTC}`,\r\n    method: 'put',\r\n    data,\r\n  });\r\n}\r\n\r\nconst Postcommercialtype = (param, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let data = JSON.stringify({\r\n      CommercialTypeName: param.CommercialTypeName,\r\n      CommercialTypeShortName: param.CommercialTypeShortName,\r\n      IsActive: param.IsActive ? 1 : 0,\r\n    });\r\n\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/commercialtypemaster/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst Putcommercialtype = (param, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let data = JSON.stringify({\r\n      CommercialTypeName: param.CommercialTypeName,\r\n      CommercialTypeShortName: param.CommercialTypeShortName,\r\n      IsActive: param.IsActive ? 1 : 0,\r\n    });\r\n\r\n    let config = {\r\n      method: 'put',\r\n      maxBodyLength: Infinity,\r\n      url:\r\n        appConfig.apiPrefix +\r\n        `/commercialtypemaster/${param.CommercialTypeCode}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nexport async function apiGetCommercialmaster(data) {\r\n  return ApiService.fetchData({\r\n    url: `/commercialmaster/?LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}&IsNTC=${data.IsNTC}&fromdate=${data.FromDate}&todate=${data.ToDate}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetBooking(data, id) {\r\n  return ApiService.fetchData({\r\n    url: `/bookingmaster/?IsNTC=${data.IsNTC}&LocationCode=${data.LocationCode}&ChannelCode=${data.ChannelCode}`,\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiUSP_SA_RO_SpotSchedule(\r\n  From_DT,\r\n  To_DT,\r\n  DealNumber,\r\n  BookingNumber,\r\n  ScheduleDate,\r\n  ChannelCode,\r\n  LocationCode,\r\n  checked,\r\n  BookingRefNumber,\r\n  IsNTCPage,\r\n  Brand,\r\n) {\r\n  return ApiService.fetchData({\r\n    url: `/spotschedule/USP_SA_RO_SpotSchedule/?From_DT=${From_DT}&To_DT=${To_DT}&DealNumber=${DealNumber}&BookingNumber=${BookingNumber}&ChannelCode=${ChannelCode}&LocationCode=${LocationCode}&ScheduleDate=${ScheduleDate}&IsMakeGoodRO=${checked ? 1 : 0\r\n      }&BookingRefNumber=${BookingRefNumber}&IsNTC=${IsNTCPage}&BrandCode=${Brand}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetCommercialmasterdrop() {\r\n  return ApiService.fetchData({\r\n    url: '/commercialmaster/drop/',\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetCommercialClientBrandwisedro2p(\r\n  selectedBrand,\r\n  selectedClient,\r\n  selectedCommercial,\r\n  LocationCode,\r\n  ChannelCode,\r\n  IsNTC,\r\n) {\r\n  return ApiService.fetchData({\r\n    url: `/commercialmaster/get_Commercial/?LocationCode=${LocationCode}&ChannelCode=${ChannelCode}&ClientCode=${selectedClient.value}&BrandCode=${selectedBrand.value}&DurInSec=${selectedCommercial.DurInSec}&IsNTC=${IsNTC}`,\r\n    method: 'get',\r\n  });\r\n}\r\n\r\nexport async function apiGetCommercialClientBrandwisedrop(\r\n  selectedBrand,\r\n  selectedClient,\r\n  LocationCode,\r\n  ChannelCode,\r\n  IsNTC,\r\n) {\r\n  return ApiService.fetchData({\r\n    url: `/commercialmaster/get_Commercial/?LocationCode=${LocationCode}&ChannelCode=${ChannelCode}&ClientCode=${selectedClient}&BrandCode=${selectedBrand}&IsNTC=${IsNTC}`,\r\n    method: 'get',\r\n  });\r\n}\r\nconst Postcommercial = (data, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'post',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + '/commercialmaster/',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n    console.log(config.url);\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst Putcommercial = (data, token, id) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'put',\r\n      maxBodyLength: Infinity,\r\n      url: appConfig.apiPrefix + `/commercialmaster/${id}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nexport async function apiGetPositionDrop(data) {\r\n  return ApiService.fetchData({\r\n    url: '/positionmaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetYearDrop(data) {\r\n  return ApiService.fetchData({\r\n    url: '/yearmaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetSpotPositionDrop(data) {\r\n  return ApiService.fetchData({\r\n    url: '/spotpositiontypemaster/drop/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function apiGetCancelRemarkMaster(data) {\r\n  return ApiService.fetchData({\r\n    url: '/cancelremarkmaster/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nconst AddCancelremark = (row, token) => {\r\n  return fetch(appConfig.apiPrefix + `/cancelremarkmaster`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      CancelRemarkName: row.CancelRemarkName,\r\n      IsActive: row.IsActive,\r\n    }),\r\n  });\r\n};\r\n\r\nconst UpdateCancelremark = (row, token) => {\r\n  return fetch(\r\n    appConfig.apiPrefix + `/cancelremarkmaster/${row.CancelRemarkCode}`,\r\n    {\r\n      method: 'PUT',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        CancelRemarkName: row.CancelRemarkName,\r\n        IsActive: row.IsActive,\r\n      }),\r\n    },\r\n  );\r\n};\r\n\r\nexport async function apiGetYearMaster(data) {\r\n  return ApiService.fetchData({\r\n    url: '/yearmaster/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\nconst AddYear = (row, token) => {\r\n  return fetch(appConfig.apiPrefix + `/yearmaster`, {\r\n    method: 'POST',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      Description: row.Description,\r\n      StartDate: row.StartDate,\r\n      EndDate: row.EndDate,\r\n      IsActive: row.IsActive,\r\n    }),\r\n  });\r\n};\r\n\r\nconst UpdateYear = (row, token) => {\r\n  return fetch(appConfig.apiPrefix + `/yearmaster/${row.Yearcode}`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      Accept: 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({\r\n      Description: row.Description,\r\n      StartDate: row.StartDate,\r\n      EndDate: row.EndDate,\r\n      IsActive: row.IsActive,\r\n    }),\r\n  });\r\n};\r\n\r\nexport async function apiGetTaxMaster(data) {\r\n  return ApiService.fetchData({\r\n    url: '/taxmaster/',\r\n    method: 'get',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function AddTax(data) {\r\n  return ApiService.fetchData({\r\n    url: '/taxmaster/',\r\n    method: 'post',\r\n    data,\r\n  });\r\n}\r\n\r\nexport async function UpdateTax(data, TaxCode) {\r\n  return ApiService.fetchData({\r\n    url: `/taxmaster/${TaxCode}`,\r\n    method: 'put',\r\n    data,\r\n  });\r\n}\r\n\r\nconst apiGetTrafficDayClose = (date, channel, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/trafficdayclose/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}&traficmonth=${date}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst apiGetTrafficDayCloseByDateRange = (fromdate, todate, channel, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/trafficdayclose/asperfromto/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}&fromdate=${fromdate}&todate=${todate}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\nconst apiCreateTrafficDayClose = async (data, channel, token) => {\r\n  try {\r\n    return new Promise((resolve, reject) => {\r\n      let config = {\r\n        method: 'post',\r\n        maxBodyLength: Infinity,\r\n        url:\r\n          appConfig.apiPrefix +\r\n          `/trafficdayclose/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}`,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        data: data,\r\n      };\r\n      axios\r\n        .request(config)\r\n        .then((response) => {\r\n          resolve(response);\r\n        })\r\n        .catch((errors) => {\r\n          reject(errors);\r\n        });\r\n    });\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst apiPUTBookingStatusChange = (data, token) => {\r\n  return new Promise((resolve, reject) => {\r\n    let config = {\r\n      method: 'put',\r\n      maxBodyLength: Infinity,\r\n      url:\r\n        appConfig.apiPrefix + `/bookingdetails/bookingchange/?BookingStatus=E`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      data: data,\r\n    };\r\n    axios\r\n      .request(config)\r\n      .then((response) => {\r\n        resolve(response);\r\n      })\r\n      .catch((errors) => {\r\n        reject(errors);\r\n      });\r\n  });\r\n};\r\n\r\nconst apiGetBookingByClient = (clientCode, channel, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/bookingmaster/getbookingbyclient/?LocationCode=${channel.LocationCode}&ChannelCode=${channel.ChannelCode}&ClientCode=${clientCode}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst apiGetBookingActivityForBookingCode = (bookingNumber, token) => {\r\n  try {\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/bookingactivity/get_bookingactivity/?BookingNumber=${bookingNumber}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\n\r\nconst apiGet_BookinActivityByDate = (activity, bookingNumber, token) => {\r\n  try {\r\n    console.log(activity);\r\n\r\n    return ApiService.fetchData({\r\n      method: 'get',\r\n      url: `/bookingactivity/get_bookingactivitybydate?BookingNumber=${bookingNumber}&ChangeType=${activity.type}&ChangeOn=${activity.dateTime}&ChangeBy=${activity.executerId}`,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  } catch (error) {\r\n    throw new Error(error);\r\n  }\r\n};\r\nexport {\r\n  Postcommercialtype,\r\n  Putcommercialtype,\r\n  AddCancelremark,\r\n  UpdateCancelremark,\r\n  AddYear,\r\n  UpdateYear,\r\n  Putcommercial,\r\n  Postcommercial,\r\n  apiGetTrafficDayClose,\r\n  apiCreateTrafficDayClose,\r\n  apiPUTBookingStatusChange,\r\n  apiGetBookingByClient,\r\n  apiGetBookingActivityForBookingCode,\r\n  apiGet_BookinActivityByDate,\r\n  apiGetTrafficDayCloseByDateRange,\r\n};\r\n","import { Select } from 'components/ui';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport React from 'react';\r\n\r\n// const handleInputChange = (e) => {\r\n//     const { name, value } = e.target\r\n//     setFormState((prevFormState) => ({\r\n//         ...prevFormState,\r\n//         [name]: value,\r\n//     }))\r\n// }\r\nconst CommercialTypeDropNew = ({\r\n  selected,\r\n  setSelected,\r\n  List,\r\n  name,\r\n  handleCommercialTypeChange,\r\n  // DEFAULT_COMMERCIAL_TYPE_CODE\r\n  byagecy,\r\n}) => {\r\n  const ContentDemo = [{ value: '', label: 'Data Not Found' }];\r\n\r\n  return (\r\n    <div className=\"card flex flex-column align-items-center  h-9\">\r\n      <Select\r\n        size=\"sm\"\r\n        className=\"mb-4 w-full\"\r\n        placeholder=\"Select\"\r\n        options={List}\r\n        // isDisabled={DEFAULT_COMMERCIAL_TYPE_CODE == 11 ? true : false}\r\n        value={\r\n          List !== null\r\n            ? List.filter((option) => option.value == selected)\r\n            : ContentDemo.filter((option) => option.value)\r\n        }\r\n        onChange={(selectedOption) => {\r\n          if (name == 'CommercialType' || name == 'NTCTypeCode') {\r\n            handleCommercialTypeChange(selectedOption.value);\r\n          }\r\n          if (name == 'brand') {\r\n            setSelected((prevFormState) => ({\r\n              ...prevFormState,\r\n              Commercial: [],\r\n            }));\r\n          }\r\n          setSelected((prevFormState) => ({\r\n            ...prevFormState,\r\n            epNo: selectedOption.end,\r\n          }));\r\n          setSelected((prevFormState) => ({\r\n            ...prevFormState,\r\n            [name]: selectedOption.value,\r\n          }));\r\n          if (byagecy) {\r\n            byagecy(selectedOption.value);\r\n          }\r\n          // setSelected(selectedOption) // Call the callback with the selected option\r\n        }}\r\n      ></Select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommercialTypeDropNew;\r\n","import React from 'react';\r\nimport { Checkbox, Table, Tag } from 'components/ui';\r\nimport { FaRegEye } from 'react-icons/fa';\r\nimport { FORMATDATE_FOR_EVERY } from './GLOBALFUNACTION';\r\nimport { useSelector } from 'react-redux';\r\nconst { Tr, Th, Td, THead, TBody } = Table;\r\nexport const DealMasterGlobel = ({ DealData, }) => {\r\n  return (\r\n    <div className=\"mt-2\">\r\n      <div className=\"grid grid-cols-5 gap-4\">\r\n        <div className=\"col-span-1\">\r\n          <span\r\n            style={{\r\n              fontSize: 18,\r\n              lineHeight: 1.5,\r\n              fontWeight: 400,\r\n              opacity: 0.8,\r\n            }}\r\n          >\r\n            Agency & Booking\r\n          </span>\r\n          <h6\r\n            style={{\r\n              color: 'rgba(255, 255, 255, 0.8)',\r\n              fontWeight: 400,\r\n              fontSize: 16,\r\n              lineHeight: 1.5,\r\n            }}\r\n          >\r\n            {' '}\r\n            {DealData?.AgencyName}\r\n          </h6>{' '}\r\n          <Tag prefix prefixClass=\"bg-emerald-500\" showCloseButton={false}>\r\n            <h6\r\n              style={{\r\n                color: 'rgba(255, 255, 255, 0.8)',\r\n                fontWeight: 400,\r\n                fontSize: 16,\r\n                lineHeight: 1.5,\r\n              }}\r\n            >\r\n              {DealData?.BookingCode}\r\n            </h6>\r\n          </Tag>\r\n        </div>\r\n        <div className=\"col-span-1\">\r\n          <span\r\n            style={{\r\n              fontSize: 18,\r\n              lineHeight: 1.5,\r\n              fontWeight: 400,\r\n              opacity: 0.8,\r\n            }}\r\n          >\r\n            {' '}\r\n            Advertiser\r\n          </span>\r\n          <h6\r\n            style={{\r\n              color: 'rgba(255, 255, 255, 0.8)',\r\n              fontWeight: 400,\r\n              fontSize: 16,\r\n              lineHeight: 1.5,\r\n            }}\r\n          >\r\n            {' '}\r\n            {DealData?.ClientName}\r\n          </h6>\r\n        </div>\r\n        <div className=\"col-span-1\">\r\n          <span\r\n            style={{\r\n              fontSize: 17,\r\n              lineHeight: 1.5,\r\n              fontWeight: 400,\r\n              opacity: 0.8,\r\n            }}\r\n          >\r\n            Start & End Date\r\n          </span>\r\n          <h6\r\n            style={{\r\n              color: 'rgba(255, 255, 255, 0.8)',\r\n              fontWeight: 500,\r\n              fontSize: 17,\r\n              lineHeight: 1.5,\r\n            }}\r\n          >\r\n            {FORMATDATE_FOR_EVERY(new Date(DealData?.DealPeriodFromDate))} ,\r\n          </h6>\r\n          <h6\r\n            style={{\r\n              color: 'rgba(255, 255, 255, 0.8)',\r\n              fontWeight: 500,\r\n              fontSize: 17,\r\n              lineHeight: 1.5,\r\n            }}\r\n          >\r\n            {FORMATDATE_FOR_EVERY(new Date(DealData?.DealPeriodToDate))}\r\n          </h6>\r\n        </div>\r\n        <div className=\"col-span-1\">\r\n          <span\r\n            style={{\r\n              fontSize: 17,\r\n              lineHeight: 1.5,\r\n              fontWeight: 400,\r\n              opacity: 0.8,\r\n            }}\r\n          >\r\n            Sales Person / Zone\r\n          </span>\r\n          <h6\r\n            style={{\r\n              color: 'rgba(255, 255, 255, 0.8)',\r\n              fontWeight: 500,\r\n              fontSize: 18,\r\n              lineHeight: 1.5,\r\n            }}\r\n          >\r\n            {' '}\r\n            {DealData?.Emp_FirstName} {DealData?.Emp_LastName}\r\n          </h6>\r\n          <h6\r\n            style={{\r\n              color: 'rgba(255, 255, 255, 0.8)',\r\n              fontWeight: 500,\r\n              fontSize: 18,\r\n              lineHeight: 1.5,\r\n            }}\r\n          >\r\n            {' '}\r\n            {DealData?.ZoneName}\r\n          </h6>\r\n        </div>\r\n        <div className=\"col-span-1 \">\r\n          <span\r\n            style={{\r\n              fontSize: 18,\r\n              lineHeight: 1.5,\r\n              fontWeight: 400,\r\n              opacity: 0.8,\r\n            }}\r\n          >\r\n            Amount ({DealData?.CurrencyName})\r\n          </span>\r\n          <h6\r\n            style={{\r\n              color: 'rgba(255, 255, 255, 0.8)',\r\n              fontWeight: 600,\r\n              fontSize: 34,\r\n              lineHeight: 1.5,\r\n            }}\r\n          >\r\n            {DealData?.CurrencySymbol}{' '}\r\n            {DealData?.TotalAmount.toLocaleString('en-IN')}\r\n          </h6>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const DealDeatilsGlobel = ({\r\n  DealDataDetails,\r\n  handleCheckboxChange,\r\n  DealData,\r\n  setmyid,\r\n  openDialog,\r\n  Deatils,\r\n  checkedItems,\r\n  IsNTCPage,\r\n}) => {\r\n  const currentHref = window.location.href; // Get the full URL\r\n  const hashPart = currentHref.split('#')[1]; // Get the part after the '#'\r\n  const spotBooking = hashPart ? hashPart.split('/')[1] : '';\r\n  const Channel = useSelector((state) => state.locale.selectedChannel);\r\n  return (\r\n    <div className=\"mt-5 mb-5\">\r\n      {DealDataDetails?.length > 0 && (\r\n        <Table compact>\r\n          <THead>\r\n            <Tr>\r\n              {!(spotBooking === 'RoImportDetails') && (\r\n                <Th style={{ textTransform: 'capitalize' }}>Action</Th>\r\n              )}\r\n              <Th style={{ textTransform: 'capitalize' }}>Type</Th>\r\n              <Th style={{ textTransform: 'capitalize' }}>NTC Type</Th>\r\n              <Th style={{ textTransform: 'capitalize' }}>Deal Description</Th>\r\n              <Th style={{ textTransform: 'capitalize' }}>Spot Type</Th>\r\n              <Th style={{ textTransform: 'capitalize' }}>Week Days </Th>\r\n              <Th style={{ textTransform: 'capitalize' }}>Rate</Th>\r\n              <Th style={{ textTransform: 'capitalize' }}>Total</Th>\r\n              <Th style={{ textTransform: 'capitalize' }}>Used</Th>\r\n              <Th style={{ textTransform: 'capitalize' }}>Balance</Th>\r\n              {/* <Th style={{ textTransform: 'capitalize' }}>Utilized</Th> */}\r\n              <Th style={{ textTransform: 'capitalize' }}>Total Amount</Th>\r\n              <Th style={{ textTransform: 'capitalize' }}> Used Amt</Th>\r\n              <Th style={{ textTransform: 'capitalize' }}>Balance Amt</Th>\r\n              {Deatils.length > 0 && (\r\n                <Th style={{ textTransform: 'capitalize' }}>View</Th>\r\n              )}\r\n            </Tr>\r\n          </THead>\r\n          <TBody>\r\n            {DealDataDetails?.map((item, index) => (\r\n              <Tr key={index} style={{ borderBottom: '1px solid #6d6a6a70' }}>\r\n                {!(spotBooking === 'RoImportDetails') && (\r\n                  <Td>\r\n                    <div className=\"flex items-center\">\r\n                      <div\r\n                        style={{\r\n                          height: 30,\r\n                          width: 5,\r\n                        }}\r\n                        className={`BorderIwant mr-3 ${item.DealLineItemTypeCode == 4 ? 'bg-lime-300' : null\r\n                          } ${item.DealLineItemTypeCode == 3 ? 'bg-rose-600' : null\r\n                          } ${item.DealLineItemTypeCode == 1 ? 'bg-teal-300' : null\r\n                          } ${item.DealLineItemTypeCode == 5\r\n                            ? 'bg-orange-200'\r\n                            : null\r\n                          } ${item.DealLineItemTypeCode == 6\r\n                            ? 'bg-orange-200'\r\n                            : null\r\n                          } ${item.DealLineItemTypeCode == 2 ? 'bg-cyan-300' : null\r\n                          }`}\r\n                      ></div>\r\n                      <Checkbox\r\n                        disabled={\r\n                          IsNTCPage == 1\r\n                            ? item.DealLineItemTypeCode != 4\r\n                            : item.ChannelCode == Channel.ChannelCode ? false : item.DealLineItemTypeCode == 4\r\n\r\n                        }\r\n                        checked={checkedItems.some(\r\n                          (checkedItem) => checkedItem.Id === index,\r\n                        )}\r\n                        onChange={(e) => handleCheckboxChange(item, e, index)}\r\n                      />\r\n                    </div>\r\n                  </Td>\r\n                )}\r\n                <Td style={{\r\n                  width: 30,\r\n                  whiteSpace: 'nowrap',\r\n                  overflow: 'hidden',\r\n                  textOverflow: 'ellipsis',\r\n                  textTransform: 'capitalize',\r\n                  textAlign: 'right',\r\n                }}>{item.DealLineItemTypeName}</Td>\r\n                <Td>{item.NTCTypeName ? item.NTCTypeName : ''}</Td>\r\n                <Td>\r\n                  {item.TimeBandCode != 0 && item.TimeBandName}\r\n                  {item.ContentCode != 0 && item.ContentName}\r\n                </Td>\r\n                <Td>{item.SpotTypeName}</Td>\r\n                <Td>{item.WeekdaysName}</Td>\r\n                <Td>\r\n                  {DealData?.CurrencySymbol}\r\n                  {item.Rate.toLocaleString('en-IN')}\r\n                </Td>\r\n                <Td>\r\n                  {item.TotalSpots != 0 && item.TotalSpots + 'Spots'}\r\n                  {item.Seconds != 0 && item.Seconds + 'Sec'}\r\n                  {item.NTCTotalSpots != 0 && item.NTCTotalSpots + 'Spots'}\r\n                </Td>\r\n                <Td>\r\n                  {[5, 6].includes(item.DealLineItemTypeCode)\r\n                    ? item.ConsumedSpots + 'Spots'\r\n                    : [1, 2, 3].includes(item.DealLineItemTypeCode)\r\n                      ? item.ConsumedSeconds + 'Sec'\r\n                      : [4].includes(item.DealLineItemTypeCode)\r\n                        ? item.NTCConsumedSpots + 'Spots'\r\n                        : null}\r\n                </Td>\r\n                <Td>\r\n                  {[5, 6].includes(item.DealLineItemTypeCode)\r\n                    ? item.BalancedSpots + 'Spots'\r\n                    : [1, 2, 3].includes(item.DealLineItemTypeCode)\r\n                      ? item.BalancedSeconds + 'Sec'\r\n                      : [4].includes(item.DealLineItemTypeCode)\r\n                        ? item.NTCBalanceSpots + 'Spots'\r\n                        : null}\r\n                </Td>\r\n                {/* <Td>\r\n                  <Progress\r\n                    customInfo={<>{ }</>}\r\n                    size=\"sm\"\r\n                    percent={(\r\n                      (Number(item.ConsumedAmount) / Number(item.Amount)) *\r\n                      100\r\n                    ).toFixed(1)}\r\n                  />\r\n                </Td> */}\r\n                <Td>\r\n                  {DealData?.CurrencySymbol}\r\n                  {item.Amount.toLocaleString('en-IN')}\r\n                </Td>\r\n                <Td>\r\n                  {DealData?.CurrencySymbol}\r\n                  {item.ConsumedAmount.toLocaleString('en-IN')}\r\n                </Td>\r\n                <Td>\r\n                  {DealData?.CurrencySymbol}\r\n                  {item.BalancedAmount.toLocaleString('en-IN')}\r\n                </Td>\r\n\r\n                {Deatils.length > 0 && (\r\n                  <Td\r\n                    onClick={() => {\r\n                      openDialog(item.DealLineItemNo);\r\n                    }}\r\n                    className=\"cursor-pointer\"\r\n                  >\r\n                    <FaRegEye size={20} />\r\n                  </Td>\r\n                )}\r\n              </Tr>\r\n            ))}\r\n          </TBody>\r\n        </Table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import { Button, Tooltip } from 'components/ui';\r\nimport { convertDateToYMD, isNumbers } from 'components/validators';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { IoMdInformationCircleOutline } from 'react-icons/io';\r\nimport { RxReset } from 'react-icons/rx';\r\nimport { openNotification } from 'views/Controls/GLOBALFUNACTION';\r\n\r\n\r\nconst removeKeysStartingWith = (obj, keyPrefix) => {\r\n  // Create a shallow copy of the object to avoid mutation\r\n  const newObj = { ...obj };\r\n\r\n  // Loop over all keys of the object\r\n  Object.keys(newObj).forEach(key => {\r\n    // If the key matches the prefix pattern, delete it\r\n    if (key.startsWith(keyPrefix)) {\r\n      delete newObj[key];\r\n    }\r\n  });\r\n\r\n  return newObj;\r\n};\r\nconst DateRangeInputs = ({\r\n  date1,\r\n  date2,\r\n  formState,\r\n  setFormState,\r\n  checkedItems,\r\n  CommercialMasterData,\r\n  setThe_data_I_want_To_Upload,\r\n  trafficDayList,\r\n  generateCustomArray\r\n}) => {\r\n\r\n\r\n  const formatDate = (date) => {\r\n    const options = { day: '2-digit' };\r\n    const day = new Intl.DateTimeFormat('en-US', options).format(date);\r\n    const month = date\r\n      .toLocaleString('en-US', { month: 'short' })\r\n      .substring(0, 3);\r\n    return `${day}-${month}`;\r\n  };\r\n  const formatDate2 = (date) => {\r\n    const options = { day: '2-digit' };\r\n    const day = new Intl.DateTimeFormat('en-US', options).format(date);\r\n    const month = date\r\n      .toLocaleString('en-US', { month: 'short' })\r\n      .substring(0, 3);\r\n    const year = date.toLocaleString('en-US', { year: 'numeric' });\r\n    return `${day}-${month}-${year}`;\r\n  };\r\n  const updateFormState = (newFormState, currentYear, currentDate, Name) => {\r\n    const updatedCopyFormState = {};\r\n    for (const key in newFormState) {\r\n      if (!key.endsWith('total') && key[0] !== 'Y') {\r\n        const parts = key.split('|');\r\n        if (parts.length >= 3) {\r\n          const [dealLineItemNo, commId, date] = parts;\r\n          const dateParts = date.split('-');\r\n          if (dateParts.length === 2) {\r\n            const [day, month] = dateParts;\r\n            const updatedKey = `${dealLineItemNo}|${commId}|${day}-${month}-${Name.split('-')[2]\r\n              }|${formState.MID}|${formState.position}`;\r\n            updatedCopyFormState[updatedKey] = newFormState[key];\r\n          }\r\n        }\r\n      }\r\n    }\r\n    for (const key in updatedCopyFormState) {\r\n      const value = updatedCopyFormState[key];\r\n      updatedCopyFormState[key] = `${key}|${value}`;\r\n    }\r\n\r\n    const stringFromArray = JSON.stringify(updatedCopyFormState).replace(\r\n      /[%{}]/g,\r\n      '',\r\n    );\r\n\r\n    setThe_data_I_want_To_Upload(stringFromArray);\r\n  };\r\n\r\n  const transformData = (data) => {\r\n    const result = {};\r\n    const { MID, position } = data;\r\n\r\n    // Iterate through keys of the data\r\n    Object.keys(data).forEach((key) => {\r\n      const parts = key.split('|');\r\n\r\n      // Ensure the key has the expected format\r\n      if (parts.length === 3) {\r\n        const prefix = parts[0]; // Y2 or 2\r\n        const datePart = parts[2]; // Extract the date part\r\n        const valuePart = data[key]; // Get the value directly\r\n\r\n        // Check if valuePart is a number, to avoid [object Object]\r\n        if (\r\n          typeof valuePart === 'number' ||\r\n          (typeof valuePart === 'object' &&\r\n            valuePart !== null &&\r\n            'total' in valuePart)\r\n        ) {\r\n          const valueToUse =\r\n            typeof valuePart === 'number' ? valuePart : valuePart.value;\r\n\r\n          // Prepare the new key and value\r\n\r\n          if (\r\n            (typeof prefix === 'string' &&\r\n              !prefix.includes('Y') &&\r\n              datePart !== 'total') ||\r\n            typeof prefix === 'number'\r\n          ) {\r\n            const newKey = `${prefix}|${parts[1]\r\n              }|${datePart}-${new Date().getFullYear()}|${MID}|${position}`;\r\n            const newValue = `${newKey}|${valueToUse}`;\r\n\r\n            // Assign to the result object\r\n            result[newKey] = newValue;\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    return result;\r\n  };\r\n  const handleChange = (\r\n    e,\r\n    DealLineItemNo,\r\n    commId,\r\n    DurInSec,\r\n    BalancedSeconds,\r\n    BalancedSpots,\r\n    NTCBalanceSpots,\r\n    currentDate,\r\n    DealLineItemTypeCode,\r\n    Name,\r\n  ) => {\r\n    const { value, name } = e.target;\r\n\r\n    const totalKey = name.split('|').slice(0, 2).join('|');\r\n    const limit = getLimit(\r\n      DealLineItemTypeCode,\r\n      NTCBalanceSpots,\r\n      BalancedSpots,\r\n      BalancedSeconds,\r\n    );\r\n\r\n    if (value !== '') {\r\n      const valueInInt = parseInt(value);\r\n\r\n      const totalConsumedBalance = calculateTotalConsumedBalance(\r\n        formState,\r\n        DealLineItemNo,\r\n      );\r\n      const totalValue = calculateTotalValuSep(formState, name);\r\n      const isWithinLimit =\r\n        DealLineItemTypeCode === 6 || DealLineItemTypeCode === 5 || DealLineItemTypeCode === 4\r\n          ? totalValue + valueInInt <= limit\r\n          : totalConsumedBalance + valueInInt * DurInSec <= limit;\r\n\r\n      if (isWithinLimit) {\r\n        updateFormStateWithNewValue(\r\n          name,\r\n          valueInInt,\r\n          DurInSec,\r\n          totalKey,\r\n          currentDate,\r\n          Name,\r\n        );\r\n      } else {\r\n        openNotification(\r\n          'info',\r\n          DealLineItemTypeCode === 6 || DealLineItemTypeCode === 5\r\n            ? 'Booking not allowed due to insufficient Spots.'\r\n            : 'Booking not allowed due to insufficient balance.',\r\n        );\r\n      }\r\n    } else {\r\n      removeFormStateEntry(name, totalKey, currentDate, Name);\r\n    }\r\n  };\r\n\r\n  // Helper Functions\r\n  const getLimit = (\r\n    DealLineItemTypeCode,\r\n    NTCBalanceSpots,\r\n    BalancedSpots,\r\n    BalancedSeconds,\r\n  ) => {\r\n    return DealLineItemTypeCode === 4\r\n      ? NTCBalanceSpots\r\n      : DealLineItemTypeCode === 5 || DealLineItemTypeCode === 6\r\n        ? BalancedSpots\r\n        : BalancedSeconds;\r\n  };\r\n\r\n  const calculateTotalConsumedBalance = (formState, DealLineItemNo) => {\r\n    const allRowsDataKeys = Object.keys(formState).filter(\r\n      (key) =>\r\n        key[1] === DealLineItemNo.toString() &&\r\n        key[0] === 'Y' &&\r\n        !key.includes('total'),\r\n    );\r\n\r\n    return allRowsDataKeys.reduce(\r\n      (total, key) => total + formState[key].total,\r\n      0,\r\n    );\r\n  };\r\n\r\n  const calculateTotalValue = (formState, totalKey) => {\r\n    const relevantKeys = Object.keys(formState).filter(\r\n      (key) => key.startsWith('Y' + totalKey) && !key.endsWith('|total'),\r\n    );\r\n\r\n    return relevantKeys.reduce((sum, key) => sum + formState[key].value, 0);\r\n  };\r\n  const calculateTotalValuSep = (formState, name) => {\r\n    const relevantKeys = Object.keys(formState).filter(\r\n      (key) =>\r\n        key.startsWith('Y') && !key.endsWith('|total') && key !== `Y${name}`, // Exclude this specific key\r\n    );\r\n    return relevantKeys.reduce((sum, key) => sum + formState[key].value, 0);\r\n  };\r\n\r\n  const updateFormStateWithNewValue = (\r\n    name,\r\n    valueInInt,\r\n    DurInSec,\r\n    totalKey,\r\n    currentDate,\r\n    Name,\r\n  ) => {\r\n    setFormState((prevFormState) => {\r\n      const newFormState = { ...prevFormState };\r\n      newFormState['Y' + name] = {\r\n        value: valueInInt,\r\n        date: Name,\r\n        total: valueInInt * DurInSec,\r\n      };\r\n      newFormState[name] = valueInInt;\r\n\r\n      const totalValue = calculateTotalValue(newFormState, totalKey);\r\n      newFormState[`${totalKey}|total`] = totalValue;\r\n\r\n      updateFormState(\r\n        newFormState,\r\n        currentDate.getFullYear(),\r\n        currentDate,\r\n        Name,\r\n      );\r\n\r\n      return newFormState;\r\n    });\r\n  };\r\n\r\n  const removeFormStateEntry = (name, totalKey, currentDate, Name) => {\r\n    if (name in formState) {\r\n      setFormState((prevFormState) => {\r\n        const newFormState = { ...prevFormState };\r\n        delete newFormState['Y' + name];\r\n        delete newFormState[name];\r\n\r\n        const totalValue = calculateTotalValue(newFormState, totalKey);\r\n        newFormState[`${totalKey}|total`] = totalValue;\r\n\r\n        updateFormState(\r\n          newFormState,\r\n          currentDate.getFullYear(),\r\n          currentDate,\r\n          Name,\r\n        );\r\n\r\n        return newFormState;\r\n      });\r\n    }\r\n  };\r\n\r\n  const inputGridRef = useRef([]);\r\n\r\n  const handleKeyDownNavigation = (e, rowIndex, dateFieldIndex, totalDays) => {\r\n    const currentInput = e.target;\r\n\r\n    // Cursor position\r\n    const cursorAtStart = currentInput.selectionStart === 0;\r\n    const cursorAtEnd =\r\n      currentInput.selectionStart === currentInput.value.length;\r\n\r\n    switch (e.key) {\r\n      case 'ArrowLeft':\r\n        if (dateFieldIndex > 0 && cursorAtStart) {\r\n          inputGridRef.current[rowIndex][dateFieldIndex - 1].focus();\r\n        }\r\n        break;\r\n      case 'ArrowRight':\r\n        if (dateFieldIndex < totalDays && cursorAtEnd) {\r\n          inputGridRef.current[rowIndex][dateFieldIndex + 1].focus();\r\n        }\r\n        break;\r\n      case 'ArrowUp':\r\n        if (rowIndex > 0) {\r\n          inputGridRef.current[rowIndex - 1][dateFieldIndex].focus();\r\n        }\r\n        break;\r\n      case 'ArrowDown':\r\n        if (rowIndex < totalRows) {\r\n          inputGridRef.current[rowIndex + 1][dateFieldIndex].focus();\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const createInputFields = (\r\n    DealLineItemNo,\r\n    BalancedSeconds,\r\n    BalancedSpots,\r\n    NTCBalanceSpots,\r\n    commId,\r\n    DurInSec,\r\n    weekendsdetail,\r\n    checkedItem,\r\n    rowIndex,\r\n    totalRows,\r\n  ) => {\r\n    const startDate = new Date(date1);\r\n    const endDate = new Date(date2);\r\n    const fields = [];\r\n\r\n    // If date is not active, skip creating input field for it\r\n    // if (!isActiveDate) {\r\n    //   continue;\r\n    // }\r\n    let dateFieldIndex = 0;\r\n    let totalDays = Math.floor(\r\n      (endDate.getTime() - startDate.getTime()) / (1000 * 60 * 60 * 24),\r\n    );\r\n    for (\r\n      let currentDate = new Date(startDate);\r\n      currentDate <= endDate;\r\n      currentDate.setDate(currentDate.getDate() + 1)\r\n    ) {\r\n      const currentDay = currentDate.getDay();\r\n      const isWeekendDay = weekendsdetail.some(\r\n        (weekend) => weekend.Day === currentDay,\r\n      );\r\n\r\n      // MYCODE\r\n      if (trafficDayList.length !== 0) {\r\n        const isActiveDate = trafficDayList.some(\r\n          (item) =>\r\n            item.date === convertDateToYMD(currentDate) && item.IsActive === 1,\r\n        );\r\n        if (!isActiveDate) {\r\n          continue;\r\n        }\r\n      }\r\n      // MYCODE\r\n\r\n      ((dateFieldIndex) => {\r\n        const fieldName = `${DealLineItemNo}|${commId}|${formatDate(\r\n          currentDate,\r\n        ).replace(/\\s+/g, '-')}`;\r\n        const Name1 = `${formatDate(currentDate).replace(/\\s+/g, '-')}`;\r\n        const Name = `${formatDate2(currentDate).replace(/\\s+/g, '-')}`;\r\n        fields.push(\r\n          <input\r\n            style={{\r\n              width: 45,\r\n              border: '1px solid rgb(75, 84, 97)',\r\n              color: 'rgb(246, 247, 250)',\r\n              height: 30,\r\n              borderRadius: '.375rem',\r\n              paddingLeft: 2,\r\n              marginRight: 2,\r\n              backgroundColor: !isWeekendDay ? '#5757578c' : 'initial',\r\n              textAlign: 'center',\r\n            }}\r\n            size=\"xs\"\r\n            key={currentDate.getDate()}\r\n            type=\"text\"\r\n            value={formState['Y' + fieldName]?.value || ''}\r\n            name={fieldName}\r\n            label={Name1}\r\n            disabled={!isWeekendDay}\r\n            data-index={`${rowIndex}-${dateFieldIndex}`}\r\n            onKeyDown={(e) =>\r\n              handleKeyDownNavigation(\r\n                e,\r\n                rowIndex,\r\n                dateFieldIndex,\r\n                totalDays,\r\n                totalRows,\r\n              )\r\n            }\r\n            ref={(el) => {\r\n              if (!inputGridRef.current[rowIndex]) {\r\n                inputGridRef.current[rowIndex] = [];\r\n              }\r\n              inputGridRef.current[rowIndex][dateFieldIndex] = el;\r\n            }}\r\n            onChange={(e) => {\r\n              if (isNumbers(e.target.value)) {\r\n                handleChange(\r\n                  e,\r\n                  DealLineItemNo,\r\n                  commId,\r\n                  DurInSec,\r\n                  BalancedSeconds,\r\n                  BalancedSpots,\r\n                  NTCBalanceSpots,\r\n                  currentDate,\r\n                  checkedItem.DealLineItemTypeCode,\r\n                  Name,\r\n                );\r\n              }\r\n            }}\r\n          />,\r\n        );\r\n      })(dateFieldIndex);\r\n      dateFieldIndex = dateFieldIndex + 1;\r\n    }\r\n    return fields;\r\n  };\r\n  // Extract start and end dates\r\n  const [result, setResult] = useState([]);\r\n  const [CheckConditionForCommId, setCheckConditionForCommId] = useState(false);\r\n  const [CommId, setCommId] = useState(0);\r\n  const [DealId, setDealId] = useState(0);\r\n  const [InsettedData, setInsettedData] = useState([]);\r\n  let rowIndex = 0;\r\n  let totalRows =\r\n    Array.isArray(checkedItems) && Array.isArray(CommercialMasterData)\r\n      ? checkedItems.length * CommercialMasterData.length\r\n      : [];\r\n\r\n  // Extract start and end dates\r\n  useEffect(() => {\r\n    const startDate = new Date(formState.datesrange[0]);\r\n    const endDate = new Date(formState.datesrange[1]);\r\n\r\n    const generateDateRange = (start, end) => {\r\n      const dates = [];\r\n      const currentDate = new Date(start);\r\n\r\n      while (currentDate <= end) {\r\n        dates.push(new Date(currentDate));\r\n        currentDate.setDate(currentDate.getDate() + 1);\r\n      }\r\n      return dates;\r\n    };\r\n    const newResult = {};\r\n    checkedItems.forEach((dealLineItem) => {\r\n      const yearKey = `Y${dealLineItem.DealLineItemNo}`;\r\n      newResult[yearKey] = {};\r\n\r\n      formState.Commercial?.forEach((item) => {\r\n        const commercialKey = item.value;\r\n        newResult[yearKey][commercialKey] = [];\r\n\r\n        const dates = generateDateRange(startDate, endDate);\r\n\r\n        dates.forEach((date) => {\r\n          const key = `${yearKey}|${commercialKey}|${formatDate(\r\n            new Date(date),\r\n          )}`;\r\n\r\n          if (formState[key]) {\r\n            newResult[yearKey][commercialKey].push({\r\n              [key]: formState[key].value,\r\n            });\r\n          } else {\r\n            newResult[yearKey][commercialKey].push({ [key]: '' });\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    setResult(newResult);\r\n  }, [formState]);\r\n  function checkArray(arr) {\r\n    // Check if the first three elements are numbers\r\n    const firstThreeAreNumbers = arr\r\n      .slice(0, 2)\r\n      .every((element) => !isNaN(element) && element !== '-');\r\n\r\n    // Check if there are any numbers after the third index\r\n    const hasNumbersAfterIndexThree = arr\r\n      .slice(2)\r\n      .some((element) => !isNaN(element) && element !== '-');\r\n\r\n    // Return false if the first three are numbers and there are numbers after index 3\r\n    return firstThreeAreNumbers && !hasNumbersAfterIndexThree;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (result) {\r\n      Object.keys(result).forEach((yearKey) => {\r\n        Object.keys(result[yearKey]).forEach((commercialCode) => {\r\n          let Temp_string = '';\r\n\r\n          result[yearKey][commercialCode].forEach((BookingValue) => {\r\n            Temp_string =\r\n              Temp_string +\r\n              (BookingValue[Object.keys(BookingValue)[0]] === ''\r\n                ? '-,'\r\n                : BookingValue[Object.keys(BookingValue)[0]] + ',');\r\n          });\r\n\r\n          const key = Object.keys(result[yearKey][commercialCode][0])[0];\r\n\r\n          // Extract '2' from the key\r\n          const number = key.split('|')[0][1];\r\n          if (\r\n            checkArray(Temp_string.split(',').filter((item) => item !== ''))\r\n          ) {\r\n            setCheckConditionForCommId(true);\r\n            setCommId(commercialCode);\r\n            setDealId(number);\r\n            setInsettedData(\r\n              Temp_string.split(',').filter(\r\n                (item) => item !== '' && item !== '-',\r\n              ),\r\n            );\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }, [result]);\r\n\r\n  return (\r\n    <div style={{ width: '100%', overflow: 'scroll' }} className=\"mt-5\">\r\n      {checkedItems.map((checkedItem, checkedIndex) => (\r\n        <div key={checkedIndex}>\r\n          <React.Fragment key={checkedIndex}>\r\n            {CommercialMasterData?.map((comm, commIndex) => {\r\n              const {\r\n                DealLineItemNo,\r\n                BalancedSeconds,\r\n                BalancedSpots,\r\n                NTCBalanceSpots,\r\n                weekendsdetail,\r\n                DealLineItemTypeCode,\r\n              } = checkedItem;\r\n              const jsx = (\r\n                <div key={`${checkedIndex}-${commIndex}`}>\r\n                  {checkedIndex === 0 && commIndex === 0 && (\r\n                    <div className=\"flex\" style={{ marginTop: 6 }}>\r\n                      <p style={{ width: 150, fontSize: '10px' }}>\r\n                        TimeBand/Program\r\n                      </p>\r\n                      <p style={{ width: 100, fontSize: '10px' }}>HouseID</p>\r\n                      <p style={{ width: 40, fontSize: '10px' }}>Dur</p>\r\n                      <p style={{ width: 60, fontSize: '10px' }}>Spots</p>\r\n                      <p style={{ width: 60, fontSize: '10px' }}>Total Dur</p>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex mt-1 items-center\">\r\n                    <p style={{ width: 150, fontSize: '11px', marginTop: 2 }}>\r\n                      {checkedItem.TimeBandName} {checkedItem.ContentName}\r\n                    </p>\r\n\r\n                    <Tooltip title={comm.CommercialCaption}>\r\n                      <p\r\n                        style={{\r\n                          width: 100,\r\n                          fontSize: '11px',\r\n                          marginTop: 2,\r\n                        }}\r\n                        className=\"flex items-center\"\r\n                      >\r\n                        {comm.VideoID}\r\n                        <IoMdInformationCircleOutline className=\"text-gray-200 ml-1 text-xs\" />\r\n                      </p>\r\n                    </Tooltip>\r\n\r\n                    <p style={{ width: 60, fontSize: '11px', marginTop: 2 }}>\r\n                      {comm.DurInSec}\r\n                    </p>\r\n                    <p style={{ width: 60, fontSize: '11px', marginTop: 2 }}>\r\n                      {formState[`${DealLineItemNo}|${comm.value}|total`] ||\r\n                        '0'}\r\n                    </p>\r\n                    <p style={{ width: 40, fontSize: '11px', marginTop: 2 }}>\r\n                      {(\r\n                        (formState[`${DealLineItemNo}|${comm.value}|total`] ||\r\n                          0) * comm.DurInSec\r\n                      ).toString()}\r\n                    </p>\r\n                    <div style={{ width: 70, marginTop: 2 }}>\r\n\r\n                      <div className=\"flex\">\r\n                        {/* <Tooltip title=\"Repeat Pattern\">\r\n                              <Button\r\n                                size=\"xs\"\r\n                                variant=\"twoTone\"\r\n                                icon={<PiRepeat />}\r\n                                onClick={() => {\r\n                                  if (!date1 || !date2 || !InsettedData.length)\r\n                                    return; // Guard clause\r\n\r\n                                  const startDate = new Date(date1);\r\n                                  const endDate = new Date(date2);\r\n                                  const updatedState = { ...formState };\r\n                                  let totalSum = 0;\r\n                                  const limit =\r\n                                    DealLineItemTypeCode === 4\r\n                                      ? NTCBalanceSpots\r\n                                      : BalancedSeconds;\r\n                                  const allRowsDataKeys = Object.keys(\r\n                                    formState,\r\n                                  ).filter(\r\n                                    (key) =>\r\n                                      key[1] === DealLineItemNo.toString() &&\r\n                                      key[0] === 'Y' &&\r\n                                      !key.includes('total'),\r\n                                  );\r\n                                  let totalConsumedBalance = 0;\r\n\r\n                                  allRowsDataKeys.forEach((key) => {\r\n                                    totalConsumedBalance +=\r\n                                      updatedState[key].total;\r\n                                  });\r\n\r\n                                  for (\r\n                                    let currentDate = new Date(startDate),\r\n                                      i = 0;\r\n                                    currentDate <= endDate;\r\n                                    currentDate.setDate(\r\n                                      currentDate.getDate() + 1,\r\n                                    ),\r\n                                      i++\r\n                                  ) {\r\n                                    const currentDay = currentDate.getDay();\r\n\r\n                                    const isWeekendDay = weekendsdetail.some(\r\n                                      (weekend) => weekend.Day === currentDay,\r\n                                    );\r\n                                    // Skip currentDay\r\n                                    if (!isWeekendDay) continue;\r\n                                    const formattedDate = formatDate(\r\n                                      currentDate,\r\n                                    ).replace(/\\s+/g, '-');\r\n\r\n                                    const fieldNameBase = `${DealLineItemNo}|${comm.value}|${formattedDate}`;\r\n\r\n                                    // Remove old keys\r\n                                    delete updatedState[fieldNameBase];\r\n                                    delete updatedState[`Y${fieldNameBase}`];\r\n                                    delete updatedState[\r\n                                      `${DealLineItemNo}|${comm.value}|total`\r\n                                    ];\r\n\r\n                                    // Calculate value and total\r\n                                    const value = Number(\r\n                                      InsettedData[i % InsettedData.length],\r\n                                    );\r\n                                    const total = value * comm.DurInSec;\r\n                                    totalSum += value;\r\n\r\n                                    if (totalSum * comm.DurInSec <= limit) {\r\n                                      // Update state if the condition is met\r\n                                      updatedState[`Y${fieldNameBase}`] = {\r\n                                        value,\r\n                                        date: formattedDate,\r\n                                        total,\r\n                                      };\r\n                                      updatedState[fieldNameBase] = value;\r\n                                      updatedState[\r\n                                        `${DealLineItemNo}|${comm.value}|total`\r\n                                      ] = totalSum;\r\n                                    } else {\r\n                                      updatedState[\r\n                                        `${DealLineItemNo}|${comm.value}|total`\r\n                                      ] = totalSum - value;\r\n\r\n                                      break;\r\n                                    }\r\n                                  }\r\n\r\n                                  // Update the form state\r\n                                  setFormState(updatedState);\r\n\r\n                                  const stringFromArray = JSON.stringify(\r\n                                    transformData(updatedState),\r\n                                  ).replace(/[%{}]/g, '');\r\n\r\n                                  setThe_data_I_want_To_Upload(stringFromArray);\r\n                                }}\r\n                              />\r\n                            </Tooltip> */}\r\n                        <Tooltip title=\"Reset Pattern\">\r\n                          <Button\r\n                            size=\"xs\"\r\n                            className=\"ml-2\"\r\n                            variant=\"twoTone\"\r\n                            icon={<RxReset />}\r\n                            onClick={() => {\r\n\r\n                              // if (!date1 || !date2 || !InsettedData.length)\r\n                              //   return; // Guard clause\r\n\r\n                              const startDate = new Date(date1);\r\n                              const endDate = new Date(date2);\r\n                              const updatedState = { ...formState };\r\n                              for (\r\n                                let currentDate = new Date(startDate),\r\n                                i = 0;\r\n                                currentDate <= endDate;\r\n                                currentDate.setDate(\r\n                                  currentDate.getDate() + 1,\r\n                                ),\r\n                                i++\r\n                              ) {\r\n                                const formattedDate = formatDate(\r\n                                  currentDate,\r\n                                ).replace(/\\s+/g, '-');\r\n                                const fieldNameBase = `${DealLineItemNo}|${comm.value}|${formattedDate}`;\r\n\r\n                                // Remove old keys\r\n                                delete updatedState[fieldNameBase];\r\n                                delete updatedState[`Y${fieldNameBase}`];\r\n                                delete updatedState[\r\n                                  `${DealLineItemNo}|${comm.value}|total`\r\n                                ];\r\n                              }\r\n                              const removeKey = removeKeysStartingWith(updatedState, `${DealLineItemNo}|${comm.value}|`);\r\n                              // Update the total field\r\n\r\n                              setCheckConditionForCommId(false);\r\n                              setCommId(0);\r\n                              setDealId(0);\r\n                              setInsettedData([]);\r\n                              setResult([]);\r\n\r\n                              setFormState(removeKey);\r\n                              const formattedString = generateCustomArray(removeKey)\r\n                                .map(obj => {\r\n                                  let key = Object.keys(obj)[0];\r\n                                  return `\"${key}\":\"${obj[key]}\"`;\r\n                                })\r\n                                .join(\",\");\r\n                              setThe_data_I_want_To_Upload(formattedString);\r\n                            }}\r\n                          />\r\n                        </Tooltip>\r\n                      </div>\r\n\r\n                    </div>\r\n                    <div\r\n                      className=\"flex items-center\"\r\n                      style={{\r\n                        maxWidth: window.innerWidth - 1200,\r\n                        marginTop: 2,\r\n                      }}\r\n                    >\r\n                      {createInputFields(\r\n                        DealLineItemNo,\r\n                        BalancedSeconds,\r\n                        BalancedSpots,\r\n                        NTCBalanceSpots,\r\n                        comm.value,\r\n                        comm.DurInSec,\r\n                        checkedItem.weekendsdetail,\r\n                        checkedItem,\r\n                        rowIndex,\r\n                        totalRows,\r\n                      ).map((inputField, inputIndex) => (\r\n                        <React.Fragment key={inputIndex}>\r\n                          <div>\r\n                            {checkedIndex === 0 && commIndex === 0 && (\r\n                              <p style={{ fontSize: '10px' }}>\r\n                                {inputField.props.label}\r\n                              </p>\r\n                            )}\r\n                            {inputField}\r\n                          </div>\r\n                        </React.Fragment>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n              rowIndex = rowIndex + 1;\r\n              return jsx;\r\n            })}\r\n          </React.Fragment>\r\n        </div>\r\n      ))}\r\n      <br />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DateRangeInputs;\r\n","import {\r\n  Button,\r\n  Card,\r\n  Checkbox,\r\n  DatePicker,\r\n  Dropdown,\r\n  Input,\r\n  Select,\r\n  Tabs,\r\n  Upload,\r\n} from 'components/ui';\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { apiGetBrandasperclient } from 'services/CreditcontrolService';\r\nimport {\r\n  DealDeatilsGlobel,\r\n  DealMasterGlobel,\r\n} from 'views/Controls/DealDeatilsGlobel';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport CommercialTypeDropNew from 'views/Controls/CommercialTypeDropNew';\r\nimport {\r\n  apiGetCommercialClientBrandwisedrop,\r\n  apiGetPositionDrop,\r\n  apiGetSpotPositionDrop,\r\n  apiGetTrafficDayCloseByDateRange,\r\n  apiUSP_SA_RO_SpotSchedule,\r\n} from 'services/SalesAdminService';\r\nimport DatePickerRange from 'components/ui/DatePicker/DatePickerRange';\r\nimport DateRangeInputs from './DateRangeInputs';\r\nimport { Container, StickyFooter } from 'components/shared';\r\nimport { setdateForm } from 'store/locale/localeSlice';\r\nimport SearchInputBooking from 'views/Controls/SearchInputBooking';\r\nimport { apiGetdealsearchdrop } from 'services/BookingService';\r\nimport {\r\n  apiCallforbookdeatil,\r\n  apiCallstoreprocedure_WithOutParamgg,\r\n  apiGetdealdetailId,\r\n  apidealmasterBYID,\r\n} from 'services/DealServices';\r\nimport { setDealData, setDealDataDetails } from 'store/auth/userSlice';\r\nimport { convertDateToYMD } from 'components/validators';\r\nimport {\r\n  FORMATDATE_FOR_EVERY,\r\n  formatDateToDDMMMYYYY,\r\n  generateMultiYearMonthOptions,\r\n  numberToINRFormat,\r\n  openNotification,\r\n  parseDurationE,\r\n  SEND_NOTIFICATION,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport dayjs from 'dayjs';\r\nimport ReportsTable from 'views/Controls/ReportsTable/ReportsTable';\r\nimport appConfig from 'configs/app.config';\r\nimport { VscRecord } from 'react-icons/vsc';\r\nimport HeaderExtra from 'views/Controls/HeaderExtra';\r\nimport { apiCallstoreprocedure } from 'services/CommonService';\r\nimport Loader from 'views/Controls/Loader';\r\nimport { HiOutlineHome, HiOutlineUser, HiOutlineArrowNarrowLeft } from 'react-icons/hi';\r\nimport { Dialog as Dialogg } from 'primereact/dialog';\r\nimport { FaRegSave } from 'react-icons/fa';\r\nconst { TabNav, TabList, TabContent } = Tabs;\r\nconst ToolbarOptionsBooking = { groupBy: true, manageColumns: true };\r\nconst daysOfWeek = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n\r\nfunction generateCustomArray(data) {\r\n  return Object.keys(data)\r\n    .filter(key => key.startsWith(\"Y\")) // Filter only date-related keys\r\n    .map(key => {\r\n      let [midRaw, commercialId] = key.split(\"|\");\r\n      let mid = midRaw.substring(1); // Extract MID from Yx\r\n      let { date, value } = data[key];\r\n\r\n      if (value > 0 && value !== null && value !== undefined) { // Ensure valid value\r\n        let newKey = `${mid}|${commercialId}|${date}|${data.MID}|${data.position}`;\r\n        return { [newKey]: `${newKey}|${value}` };\r\n      }\r\n      return null; // Skip invalid entries\r\n    })\r\n    .filter(Boolean); // Remove null values\r\n}\r\nconst ShowBookingFooter = ({ Deatils, onDialogClose, onDialogOk, DealData }) => {\r\n  const ChannelSetting = useSelector((state) => state.auth.session.ChannelSetting);\r\n  let totalDuration = 0;\r\n  let totalSpotAmount = 0;\r\n\r\n  Deatils.forEach(item => {\r\n    totalDuration += parseDurationE(Number(ChannelSetting[0].FramePerSec), item.Duration);\r\n    totalSpotAmount += item.SpotAmount;\r\n  });\r\n  return (\r\n    <div className='flex item-center justify-between'>\r\n      <div className=\"flex\">\r\n        {' '}\r\n        <div\r\n          className=\"mr-2 w-[150px]\"\r\n          style={{\r\n            backgroundColor: 'rgb(26, 36, 48)',\r\n            borderColor: 'rgb(75, 85, 99)',\r\n            padding: '0.50rem',\r\n            borderRadius: '10px',\r\n          }}\r\n        >\r\n          <div className=\" w-full\">\r\n            <div className=\"flex justify-between\">\r\n              <p>Total Amount</p>\r\n              <p className=\"dark:text-sky-500 text-xl font-normal\">\r\n                {DealData?.CurrencySymbol}\r\n              </p>\r\n            </div>\r\n            <h3>\r\n              {DealData?.CurrencySymbol}\r\n              {numberToINRFormat(totalSpotAmount)}\r\n            </h3>\r\n          </div>\r\n        </div>\r\n        <div className='mr-2 w-[150px]'\r\n          style={{\r\n            backgroundColor: 'rgb(26, 36, 48)',\r\n            borderColor: 'rgb(75, 85, 99)',\r\n            padding: '0.50rem',\r\n            borderRadius: '10px',\r\n          }}\r\n        >\r\n          <div className=\" w-full\">\r\n            <div className=\"flex justify-between\">\r\n              <p>Duration [MIN]</p>\r\n              <p className=\"dark:text-sky-500 text-xl font-normal\">\r\n                <VscRecord size={20} className=\"text-rose-700\" />\r\n              </p>\r\n            </div>\r\n            <h3 className=\"m-1\">{Math.round(totalDuration / 60)}</h3>\r\n          </div>\r\n        </div>\r\n        <div className='mr-2 w-[150px]'\r\n          style={{\r\n            backgroundColor: 'rgb(26, 36, 48)',\r\n            borderColor: 'rgb(75, 85, 99)',\r\n            padding: '0.50rem',\r\n            borderRadius: '10px',\r\n          }}\r\n        >\r\n          <div className=\" w-full\">\r\n            <div className=\"flex justify-between\">\r\n              <p>Spots Count</p>\r\n              <p className=\"dark:text-sky-500 text-xl font-normal\">\r\n                <VscRecord size={20} className=\"text-rose-700\" />\r\n              </p>\r\n            </div>\r\n            <h3 className=\"m-1\">{Deatils.length}</h3>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"text-right mt-6\">\r\n        <Button\r\n          className=\"ltr:mr-2 rtl:ml-2\"\r\n          variant=\"plain\"\r\n          onClick={onDialogClose}\r\n        >\r\n          Cancel\r\n        </Button>\r\n        <Button variant=\"solid\" onClick={onDialogOk}>\r\n          Okay\r\n        </Button>\r\n      </div></div>\r\n  )\r\n}\r\n\r\nconst BookingMaster = () => {\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        header: 'Commercial',\r\n        accessorKey: 'Commercial',\r\n      },\r\n      {\r\n        header: 'Schedule Date',\r\n        accessorKey: 'ScheduleDate',\r\n\r\n      },\r\n      {\r\n        header: 'Schedule Time',\r\n        accessorKey: 'ScheduleTime',\r\n      },\r\n      {\r\n        header: 'Content',\r\n        accessorKey: 'ContentName',\r\n      },\r\n      {\r\n        header: 'Break',\r\n        accessorKey: 'BreakNumber',\r\n      },\r\n      {\r\n        header: 'Position',\r\n        accessorKey: 'PositionNumber',\r\n      },\r\n      {\r\n        header: 'Spot',\r\n        accessorKey: 'SpotPosition',\r\n      },\r\n      {\r\n        header: 'Time Band',\r\n        accessorKey: 'TimeBand',\r\n      },\r\n      {\r\n        header: 'Spot Type',\r\n        accessorKey: 'SpotType',\r\n      },\r\n      {\r\n        header: 'Commercial',\r\n        accessorKey: 'Commercial',\r\n      },\r\n      {\r\n        header: 'VideoID',\r\n        accessorKey: 'VideoID',\r\n      },\r\n      {\r\n        header: 'Duration',\r\n        accessorKey: 'Duration',\r\n      },\r\n      {\r\n        header: 'Spot Rate',\r\n        accessorKey: 'SpotRate',\r\n        cell: (props) => {\r\n          const row = props.row.original;\r\n          return (\r\n            <div className=\"flex items-center\">\r\n              <span className=\"ml-2 rtl:mr-2 flex items-center\">\r\n                {DealData?.CurrencySymbol}{' '}\r\n                {row.SpotRate.toLocaleString('en-IN')}\r\n              </span>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        header: 'Spot Amount',\r\n        accessorKey: 'SpotAmount',\r\n        cell: (props) => {\r\n          const row = props.row.original;\r\n          return (\r\n            <div className=\"flex items-center\">\r\n              <span className=\"ml-2 rtl:mr-2 flex items-center\">\r\n                {DealData?.CurrencySymbol}{' '}\r\n                {row.SpotAmount.toLocaleString('en-IN')}\r\n              </span>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        header: 'Status',\r\n        accessorKey: 'BookingStatus',\r\n      },\r\n      {\r\n        header: 'SpotStatus',\r\n        accessorKey: 'SpotStatus',\r\n      },\r\n    ],\r\n    [],\r\n  );\r\n  const BookingDetailsColumn = useMemo(\r\n    () => [\r\n      {\r\n        header: 'Schedule Date',\r\n        accessorKey: 'ScheduleDate',\r\n\r\n      },\r\n      {\r\n        header: 'Commercial Caption',\r\n        accessorKey: 'CommercialCaption',\r\n\r\n      },\r\n      {\r\n        header: 'Commercial Dur',\r\n        accessorKey: 'CommercialDuration',\r\n      },\r\n      {\r\n        header: 'Amount',\r\n        accessorKey: 'TotalAmount',\r\n        cell: (props) => {\r\n          const row = props.row.original;\r\n          return (\r\n            <div className=\"flex items-center\">\r\n              <span className=\"ml-2 rtl:mr-2 flex items-center\">\r\n                {DealData?.CurrencySymbol}\r\n                {numberToINRFormat(\r\n                  Number(\r\n                    row.TotalAmount ||\r\n                    row.TotalSpot * row.Rate,\r\n                  ),\r\n                )}\r\n              </span>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        header: 'Schedule Spot',\r\n        accessorKey: 'AddedSpotCount',\r\n        cell: (props) => {\r\n          const row = props.row.original;\r\n          return (\r\n            <div className=\"flex items-center\">\r\n              <span className=\"ml-2 rtl:mr-2 flex items-center\">\r\n                {row.AddedSpotCount || row.SpotCount}\r\n              </span>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        header: 'Total Spot',\r\n        accessorKey: 'SpotCount',\r\n        cell: (props) => {\r\n          const row = props.row.original;\r\n          return (\r\n            <div className=\"flex items-center\">\r\n              <span className=\"ml-2 rtl:mr-2 flex items-center\">\r\n                {row.SpotCount || row.TotalSpot}\r\n              </span>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        header: 'Remark',\r\n        accessorKey: 'Remark',\r\n\r\n      },\r\n    ],\r\n    [],\r\n  );\r\n  const BookingDetailsColumnSummary = useMemo(\r\n    () => [\r\n      {\r\n        header: 'Schedule Date',\r\n        accessorKey: 'ScheduleDate',\r\n\r\n      },\r\n      {\r\n        header: 'Schedule Time',\r\n        accessorKey: 'ScheduleTime',\r\n      },\r\n      {\r\n        header: 'Content Name',\r\n        accessorKey: 'ContentName',\r\n      },\r\n      {\r\n        header: 'Commercial Caption',\r\n        accessorKey: 'CommercialCaption',\r\n      },\r\n      {\r\n        header: 'Brk',\r\n        accessorKey: 'BreakNumber',\r\n      },\r\n      {\r\n        header: 'BookingStatus',\r\n        accessorKey: 'BookingStatus',\r\n      },\r\n      {\r\n        header: 'SpotStatus',\r\n        accessorKey: 'SpotStatus',\r\n      },\r\n      {\r\n        header: 'TimeBand',\r\n        accessorKey: 'TimeBandName',\r\n      },\r\n      {\r\n        header: 'House ID',\r\n        accessorKey: 'HouseID',\r\n      },\r\n      {\r\n        header: 'Spot Rate',\r\n        accessorKey: 'SpotRate',\r\n        cell: (props) => {\r\n          const row = props.row.original;\r\n          return (\r\n            <div className=\"flex items-center\">\r\n              <span className=\"ml-2 rtl:mr-2 flex items-center\">\r\n                {DealData?.CurrencySymbol}\r\n                {numberToINRFormat(Number(row.SpotRate))}\r\n              </span>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        header: 'Spot Amount',\r\n        accessorKey: 'SpotAmount',\r\n        cell: (props) => {\r\n          const row = props.row.original;\r\n          return (\r\n            <div className=\"flex items-center\">\r\n              <span className=\"ml-2 rtl:mr-2 flex items-center\">\r\n                {DealData?.CurrencySymbol}\r\n                {numberToINRFormat(Number(row.SpotAmount))}\r\n              </span>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        header: 'Billed',\r\n        accessorKey: 'IsBilled',\r\n      },\r\n    ],\r\n    [],\r\n  );\r\n  const currentHref = window.location.href; // Get the full URL\r\n  const hashPart = currentHref.split('#')[1]; // Get the part after the '#'\r\n  const spotBooking = hashPart ? hashPart.split('/')[1] : ''; // Extract \"SpotBooking\"\r\n  const [currentTab, setCurrentTab] = useState('tab1');\r\n  const Path =\r\n    spotBooking === 'RoImportDetails'\r\n      ? 0\r\n      : spotBooking === 'BookingDetails'\r\n        ? 0\r\n        : 1;\r\n  const { Content } = useSelector((state) => state.base.common);\r\n  const Channel = useSelector((state) => state.locale.selectedChannel);\r\n  const { DealDataDetails, DealData } = useSelector((state) => state.auth.user);\r\n  console.log(DealDataDetails)\r\n  const currentDate = dayjs();\r\n  const dealPeriodFrom = dayjs(DealData?.DealPeriodFromDate);\r\n  const dealPeriodTo = dayjs(DealData?.DealPeriodToDate);\r\n  const [IsNTCPage, setIsNTCPage] = useState();\r\n  const [ManagedColumnBookings, setManagedColumnBookings] = useState([]);\r\n  const [ManagedColumnBookings2, setManagedColumnBookings2] = useState([]);\r\n  const [The_data_I_want_To_Upload, setThe_data_I_want_To_Upload] = useState();\r\n  const [SelectedItem, setSelectedItem] = useState(Content ? Content : []);\r\n  const [TableColumns, setTableColumns] = useState(columns);\r\n  const [checkedItems, setCheckedItems] = useState([]);\r\n  const [brand, setbrand] = useState([]);\r\n  const [position, setposition] = useState([]);\r\n  const [trafficDayList, setTrafficDayList] = useState([]);\r\n  const [dialogIsOpen, setIsOpen] = useState(false);\r\n  const [dialogIsOpen2, setIsOpen2] = useState(false);\r\n  const [showLoader, setShowLoader] = useState(false);\r\n  const [ScheduleButton, setScheduleButton] = useState(false);\r\n  const [spotposition, setspotposition] = useState([]);\r\n  const [commercial, setcommercial] = useState([]);\r\n  const [Dealdata2, setDealdata2] = useState([]);\r\n  const [checkboxList, setCheckboxList] = useState([])\r\n  const [checkboxListDay, setCheckboxListDay] = useState([])\r\n  const [checkboxListDD, setCheckboxListDD] = useState([])\r\n  const [checkboxListDDCom, setCheckboxListDDCom] = useState([])\r\n  const [checkboxListCommercial, setCheckboxListCommercial] = useState([])\r\n  const [valueInsert, setValueInsert] = useState('')\r\n  const [valueInsertDateRange, setValueInsertDateRange] = useState([null, null])\r\n  const [checkedAlternateDays, setCheckedAlternateDays] = useState(false)\r\n  const [formState, setFormState] = useState({\r\n    MID: 2,\r\n    position: 3,\r\n    brand: Content?.BrandMaster?.BrandCode,\r\n    datesrange: [],\r\n    Commercial: [],\r\n    date: new Date(),\r\n    BookingRefNumber: Content?.BookingRefNumber\r\n      ? Content?.BookingRefNumber\r\n      : '',\r\n  });\r\n\r\n  const [showSpotdata, setshowSpotdata] = useState({\r\n    BONUS: 0,\r\n    PAID: 0,\r\n    Drop: 0,\r\n    Cancelled: 0,\r\n    spotAmountSum: 0,\r\n    lengthof: 0,\r\n  });\r\n  const [collapse, setCollapse] = useState(false);\r\n  const [Data, setData] = useState([]);\r\n  // Check if current month is within the deal period\r\n  const isCurrentMonthInDealPeriod =\r\n    currentDate.isAfter(dealPeriodFrom.startOf('month')) &&\r\n    currentDate.isBefore(dealPeriodTo.endOf('month'));\r\n\r\n  const defaultMonth = isCurrentMonthInDealPeriod\r\n    ? currentDate.startOf('month').toDate()\r\n    : dealPeriodTo.toDate();\r\n\r\n  const disableCertainDate = (date) => {\r\n    if (trafficDayList.length !== 0) {\r\n      const formattedDate = dayjs(date).format('YYYY-MM-DD');\r\n      const dateObj = trafficDayList.find(\r\n        (item) => item.date === formattedDate,\r\n      );\r\n      if (dateObj && dateObj.IsActive === 1) {\r\n        return false; // Enable date\r\n      }\r\n      return true;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsNTCPage(Path);\r\n    if (DealData?.DealPeriodFromDate) {\r\n      (async () => {\r\n        const resp = await apiGetTrafficDayCloseByDateRange(\r\n          DealData?.DealPeriodFromDate,\r\n          DealData?.DealPeriodToDate,\r\n          Channel,\r\n          token,\r\n        );\r\n        if (resp.status == 204) {\r\n          setTrafficDayList([]);\r\n          return;\r\n        }\r\n        setTrafficDayList(resp.data);\r\n      })();\r\n    }\r\n  }, [Path, DealData]);\r\n  const navigate = useNavigate();\r\n\r\n  const onCheckboxChangeDay = (options) => {\r\n    setCheckboxListDay(options);\r\n\r\n  }\r\n  const onCheckboxChange = (options) => {\r\n    setCheckboxList(options);\r\n    setCheckboxListDD((previous) => {\r\n      const filteredPrevious = previous.filter((item) =>\r\n        options.includes(item.DealLineItemNo)\r\n      );\r\n      const newItems = DealDataDetails.filter((item) =>\r\n        options.includes(item.DealLineItemNo) &&\r\n        !filteredPrevious.some((existing) => existing.DealLineItemNo === item.DealLineItemNo)\r\n      );\r\n\r\n      // Return a single flat array of objects\r\n      return [...filteredPrevious, ...newItems];\r\n    });\r\n  }\r\n\r\n  const onCheckboxChangeCommercial = (options) => {\r\n    setCheckboxListCommercial(options);\r\n    setCheckboxListDDCom((previous) => {\r\n      const filteredPrevious = previous.filter((item) =>\r\n        options.includes(item.value)\r\n      );\r\n      const newItems = formState?.Commercial.filter(\r\n        (item) => options.includes(item.value) &&\r\n          !filteredPrevious.some((existing) => existing[0]?.value === item.value)\r\n      );\r\n      return [...filteredPrevious, ...newItems];\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Content.Channel?.ChannelCode) {\r\n      if (\r\n        !(\r\n          Content.Channel?.ChannelCode == Channel.ChannelCode &&\r\n          Content.locations?.LocationCode == Channel.LocationCode\r\n        )\r\n      ) {\r\n        navigate(\r\n          spotBooking === 'RoImportDetails'\r\n            ? '/RoImport'\r\n            : spotBooking === 'BookingDetails'\r\n              ? '/SpotBooking'\r\n              : '/NtcSpotBooking',\r\n        );\r\n      }\r\n    }\r\n  }, [Channel]);\r\n\r\n\r\n  const handleApply = () => {\r\n    if (!checkboxList.length || !checkboxListCommercial.length || !valueInsertDateRange[0] || !valueInsertDateRange[1] || !valueInsert) {\r\n      return openNotification(\"warning\", \"Please Select All Fields\");\r\n    }\r\n\r\n    const { MID, position, brand, datesrange, BookingRefNumber, Commercial, ...filteredArray } = formState;\r\n    const generateDateRange = (start, end) => {\r\n      let dates = [];\r\n      while (start <= end) {\r\n        dates.push(start.toLocaleDateString(\"en-GB\", { day: \"2-digit\", month: \"short\", year: \"numeric\" }).replace(/ /g, \"-\"));\r\n        start.setDate(start.getDate() + 1);\r\n      }\r\n      return dates;\r\n    };\r\n\r\n    const dateList = generateDateRange(valueInsertDateRange[0], valueInsertDateRange[1]);\r\n    const result = { ...filteredArray };\r\n\r\n    checkboxListDD.forEach(deal => {\r\n      let combinedTotal = 0;\r\n      const weekendNames = (deal.weekendsdetail || []).map(item => daysOfWeek[item.Day]);\r\n\r\n      checkboxListDDCom.forEach(commercial => {\r\n        dateList.forEach((dateStr, i) => {\r\n          const currentDate = new Date(dateStr);\r\n          const dayOfWeek = currentDate.toLocaleString(\"en-GB\", { weekday: \"long\" });\r\n          if (!weekendNames.includes(dayOfWeek) || (checkboxListDay.length && !checkboxListDay.includes(dayOfWeek))) return;\r\n          if (checkedAlternateDays && i % 2 !== 0) return;\r\n\r\n          const formattedDate = dateStr.split(\"-\").slice(0, 2).join(\"-\");\r\n          const key = `${deal.DealLineItemNo}|${commercial.value}|${formattedDate}`;\r\n          const valueKey = `Y${key}`;\r\n\r\n          const newTotal = valueInsert * commercial.DurInSec;\r\n          const maxAllowed = deal.DealLineItemTypeCode === 4 ? deal.NTCBalanceSpots : deal.BalancedSpots || deal.BalancedSeconds || 0;\r\n\r\n          if (combinedTotal + newTotal > maxAllowed) {\r\n            result[key] = 0;\r\n            result[valueKey] = { value: 0, date: dateStr, total: 0 };\r\n          } else {\r\n            result[key] = valueInsert;\r\n            result[valueKey] = { value: valueInsert, date: dateStr, total: newTotal };\r\n            combinedTotal += newTotal;\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    const totals = Object.keys(result).reduce((acc, key) => {\r\n      if (typeof result[key] === \"object\") {\r\n        const newKey = key.replace(/^Y/, \"\").split(\"|\").slice(0, 2).join(\"|\") + \"|total\";\r\n        acc[newKey] = (acc[newKey] || 0) + result[key].value;\r\n      }\r\n      return acc;\r\n    }, {});\r\n\r\n    const finalData = { MID, position, brand, datesrange, BookingRefNumber, Commercial, ...totals, ...result };\r\n    setFormState(finalData);\r\n    setThe_data_I_want_To_Upload(\r\n      generateCustomArray(finalData).map(obj => `\"${Object.keys(obj)[0]}\":\"${Object.values(obj)[0]}\"`).join(\",\")\r\n    );\r\n    setValueInsertDateRange({});\r\n  };\r\n  const onCollapse = () => {\r\n    setCollapse(!collapse);\r\n  };\r\n\r\n  const handleDelete = async (BookingCode) => {\r\n    try {\r\n      setIsOpen2(false);\r\n      const reps = await apiCallstoreprocedure('USP_DELETE_TEMPBooking', {\r\n        par_BookingNumber: BookingCode,\r\n      });\r\n\r\n      setData((prevData) =>\r\n        prevData.filter((item) => item.BookingCode !== BookingCode),\r\n      );\r\n    } catch (error) {\r\n      console.error('Error calling stored procedure:', error);\r\n    }\r\n  };\r\n\r\n  const [myid, setmyid] = useState();\r\n  useEffect(() => {\r\n    (async (values) => {\r\n      const resp = await apiCallforbookdeatil(\r\n        'GetBookingDetail',\r\n        Content?.BookingNumber,\r\n      );\r\n\r\n      //const resp = await apiGetclientmasterdropmaster(values)\r\n\r\n      const BONUS = resp.data.filter(\r\n        (item) => item.SpotType.toUpperCase() === 'BONUS',\r\n      ).length;\r\n      const PAID = resp.data.filter((item) =>\r\n        item.SpotType.toUpperCase() === 'PAID' && myid\r\n          ? item.DealLineItemNo === myid\r\n          : true,\r\n      ).length;\r\n      const Drop = resp.data.filter(\r\n        (item) => item.BookingStatus.toUpperCase() === 'E',\r\n      ).length;\r\n      const Cancelled = resp.data.filter(\r\n        (item) => item.BookingStatus.toUpperCase() === 'C',\r\n      ).length;\r\n      // Convert the result to a JSON string for better logging output\r\n\r\n      const result = resp.data\r\n        .filter((item) => (myid ? item.DealLineItemNo === myid : true))\r\n        .reduce(\r\n          (acc, item) => {\r\n            if (item.BookingStatus) {\r\n              acc.bookingStatusCount++;\r\n              acc.spotAmountSum +=\r\n                Number(item.SpotRate) * Number(parseDurationE(item.Duration));\r\n            }\r\n            return acc;\r\n          },\r\n          { bookingStatusCount: 0, spotAmountSum: 0 },\r\n        );\r\n\r\n      setshowSpotdata({\r\n        BONUS: BONUS,\r\n        PAID: PAID,\r\n        Drop: Drop,\r\n        Cancelled: Cancelled,\r\n        spotAmountSum: result?.spotAmountSum,\r\n        lengthof: resp.data.filter((item) =>\r\n          myid ? item.DealLineItemNo === myid : true,\r\n        ).length,\r\n      });\r\n\r\n      setDeatils(resp.data);\r\n\r\n      setSpotCopy(resp.data);\r\n    })();\r\n  }, [Content, myid]);\r\n\r\n  const handleCheckboxChange = (item, isChecked, index) => {\r\n\r\n    if (\r\n      item.BalancedSeconds > 0 ||\r\n      item.NTCBalanceSpots > 0 ||\r\n      item.BalancedSpots > 0\r\n    ) {\r\n      if (isChecked) {\r\n        // If checkbox is checked, add item to checkedItems array with reft: 1\r\n        setCheckedItems((prevItems) => [...prevItems, { ...item, Id: index }]);\r\n      } else {\r\n        // If checkbox is unchecked, remove item from checkedItems array\r\n        setCheckedItems((prevItems) =>\r\n          prevItems.filter((prevItem) => prevItem.Id !== index),\r\n        );\r\n      }\r\n    } else {\r\n      openNotification('warning', 'Over Booking Not Allowed');\r\n      setCheckedItems([]);\r\n    }\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    (async (values) => {\r\n      const resp = await apiGetPositionDrop(values);\r\n      const formattedOptions = resp.data.map((option) => ({\r\n        value: option.PositionCode,\r\n        label: option.PositionName,\r\n      }));\r\n      setposition(formattedOptions);\r\n    })();\r\n    (async (values) => {\r\n      const resp = await apiGetSpotPositionDrop(values);\r\n      const formattedOptions = resp.data.map((option) => ({\r\n        value: option.SpotPositionTypeCode,\r\n        label: option.SpotPositionTypeName,\r\n      }));\r\n      setspotposition(formattedOptions);\r\n    })();\r\n\r\n    (async (values) => {\r\n      let Parameters = {\r\n        LocationCode: Channel.LocationCode,\r\n        ChannelCode: Channel.ChannelCode,\r\n      };\r\n      const resp = await apiGetdealsearchdrop(Parameters, '%20');\r\n      // {\r\n      //     \"DealCode\": \"SB/2/2024/5/219\",\r\n      //     \"DealNumber\": 225,\r\n      //     \"ClientName\": \"Davis Fernandes\",\r\n      //     \"AgencyName\": \"test1\"\r\n      //   },\r\n      const formattedOptions = resp.data.map((option) => ({\r\n        value: option.DealNumber,\r\n        label:\r\n          option.DealCode +\r\n          ' | ' +\r\n          option.ClientName +\r\n          ' | ' +\r\n          option.AgencyName +\r\n          ' [' + formatDateToDDMMMYYYY(option.DealPeriodFromDate) + ' To ' + formatDateToDDMMMYYYY(option.DealPeriodToDate) + '] ',\r\n      }));\r\n      setDealdata2(formattedOptions);\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async (values) => {\r\n      try {\r\n        const Brand = await apiGetBrandasperclient(DealData?.ClientCode);\r\n        if (Brand.status == 200) {\r\n          const brandOptions =\r\n            Brand.data != ''\r\n              ? Brand.data.map((option) => ({\r\n                value: option.BrandMaster.BrandCode,\r\n                label: option.BrandMaster.BrandName,\r\n              }))\r\n              : [];\r\n          setbrand(brandOptions);\r\n        }\r\n      } catch (error) {\r\n        if (error.response.status == 404) {\r\n          openNotification('warning', 'Brand Not Found');\r\n        }\r\n        if (error.response.status == 500) {\r\n          openNotification('danger', 'Server Error.');\r\n        }\r\n      }\r\n    })();\r\n  }, [DealData?.ClientCode]);\r\n\r\n  useEffect(() => {\r\n    if (DealData?.ClientCode && formState?.brand) {\r\n      setcommercial([]);\r\n      (async () => {\r\n        const resp = await apiGetCommercialClientBrandwisedrop(\r\n          formState.brand,\r\n          DealData?.ClientCode,\r\n          Channel.LocationCode,\r\n          Channel.ChannelCode,\r\n          IsNTCPage,\r\n        );\r\n\r\n        if (resp.status == 204) {\r\n          setcommercial([]);\r\n          return;\r\n        }\r\n\r\n        const clients = resp.data\r\n          .filter((item) => {\r\n            const startDate = item.StartDate ? new Date(item.StartDate) : null;\r\n            const killDate = item.KillDate ? new Date(item.KillDate) : null;\r\n\r\n            const rangeStartDate = new Date(formState.datesrange[0]);\r\n            const rangeEndDate = new Date(formState.datesrange[1]);\r\n            if (startDate) {\r\n              if (startDate > rangeStartDate) {\r\n                //||  24-21 startDate < rangeEndDate) {\r\n                return false;\r\n              }\r\n            }\r\n\r\n            if (killDate) {\r\n              if (killDate < rangeEndDate) {\r\n                return false;\r\n              }\r\n            }\r\n            return true;\r\n          })\r\n          .map((commercial) => {\r\n            let res = {};\r\n            res.label = `[${commercial.VideoID}] ${commercial.CommercialCaption}`;\r\n            res.value = commercial.CommercialCode;\r\n            res.CommercialCaption = commercial.CommercialCaption;\r\n            res.DurInSec = commercial.DurInSec;\r\n            res.VideoID = commercial.VideoID;\r\n\r\n            return res;\r\n          });\r\n\r\n\r\n        setcommercial(clients);\r\n\r\n      })();\r\n    }\r\n  }, [DealData?.ClientCode, formState.brand]);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(setDealData([]));\r\n    dispatch(setDealDataDetails([]));\r\n    dispatch(\r\n      setdateForm([\r\n        '', // This is the first empty string before the comma\r\n        spotBooking === 'RoImportDetails'\r\n          ? 'RO Import'\r\n          : spotBooking === 'BookingDetails'\r\n            ? 'Spot Booking'\r\n            : 'Spot NTC Booking',\r\n      ]),\r\n    );\r\n\r\n    // const gboxElement = document.getElementsByClassName('Gbox')[0];\r\n    const gboxElement2 = document.getElementsByClassName('Gbox19')[0];\r\n    const gboxElement1 = document.getElementsByClassName('Gbox10')[0];\r\n    const gboxElement = document.getElementsByClassName('Gbox2')[0];\r\n\r\n    // if (gboxElement2) {\r\n    gboxElement.style.display = 'block';\r\n    gboxElement1.style.display = 'flex';\r\n    gboxElement2.style.display = 'none';\r\n\r\n    // }    // Optionally, you might want to revert the change when the component unmounts\r\n    return () => {\r\n      // if (gboxElement2) {\r\n      gboxElement.style.display = 'none';\r\n      gboxElement1.style.display = 'none';\r\n      gboxElement2.style.display = 'flex';\r\n      // }\r\n    };\r\n  }, []);\r\n  useEffect(() => {\r\n    if (Object.keys(SelectedItem).length > 0) {\r\n\r\n      (async (values) => {\r\n        try {\r\n          const dealmaster = await apidealmasterBYID(SelectedItem.value);\r\n          dispatch(setDealData(dealmaster.data));\r\n        } catch (error) { }\r\n      })();\r\n      (async (values) => {\r\n        try {\r\n          const dealdetail = await apiGetdealdetailId(SelectedItem.value);\r\n          dispatch(setDealDataDetails(dealdetail.data));\r\n        } catch (error) { }\r\n      })();\r\n    } else {\r\n      dispatch(setDealData({}));\r\n      dispatch(setDealDataDetails([]));\r\n    }\r\n  }, [SelectedItem]);\r\n\r\n\r\n  const openDialog = (e) => {\r\n    setmyid(e);\r\n    setIsOpen(true);\r\n  };\r\n\r\n  const onDialogClose = (e) => {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const onDialogOk = (e) => {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const [Deatils, setDeatils] = useState([]);\r\n  const [newBookSpotDeatils, setnewBookSpotDeatils] = useState([]);\r\n  const [ShowBookingSpots, setShowBookingSpots] = useState([]);\r\n  useEffect(() => {\r\n    setShowLoader(true);\r\n    if (myid) {\r\n      const filteredData = myid !== 'Y'\r\n        ? Deatils.filter((i) => i.DealLineItemNo === myid)\r\n        : Deatils;\r\n\r\n      const formattedData = filteredData.map((item) => ({\r\n        ...item,\r\n        ScheduleDate: FORMATDATE_FOR_EVERY(item?.ScheduleDate)\r\n      }));\r\n\r\n      setShowBookingSpots(formattedData);\r\n    }\r\n    setShowLoader(false);\r\n  }, [myid, Deatils]);\r\n\r\n\r\n  const [SpotCopy, setSpotCopy] = useState([]);\r\n  const token = useSelector((state) => state.auth.session.token);\r\n\r\n\r\n  const [checked, setChecked] = useState(false);\r\n  const [InputValue, setInputValue] = useState('');\r\n  const [selectedFile, setSelectedFile] = useState('');\r\n  const [SelectMonth, setSelectMonth] = useState({});\r\n  const beforeUpload = async (files, fileList) => {\r\n\r\n\r\n    const allowedFileType = [\r\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n      'application/vnd.ms-excel',\r\n    ];\r\n    const invalidFileTypeMessage = 'Please upload an XLSX file!';\r\n    if (fileList.length >= 1) {\r\n      return `You can only upload ${1} file(s)`;\r\n    }\r\n    const selectedFile = files[0];\r\n\r\n    if (!allowedFileType.includes(selectedFile.type)) {\r\n      return invalidFileTypeMessage;\r\n    }\r\n\r\n    setSelectedFile(selectedFile);\r\n  };\r\n\r\n\r\n  const monthOptions2024 = generateMultiYearMonthOptions(\r\n    new Date(DealData?.DealPeriodFromDate),\r\n    new Date(DealData?.DealPeriodToDate),\r\n  );\r\n  const SENDAPI = async () => {\r\n    if (selectedFile.type) {\r\n      if (SelectMonth[0] && formState?.BookingRefNumber) {\r\n        try {\r\n          const headersList = {\r\n            Accept: '*/*',\r\n            Authorization: `Bearer ${token}`,\r\n          };\r\n          const bodyContent = new FormData();\r\n          // Read the selected file as an ArrayBuffer\r\n          const reader = new FileReader();\r\n          reader.onload = async (event) => {\r\n            const arrayBuffer = event.target.result;\r\n            const blob = new Blob([arrayBuffer], { type: selectedFile.type });\r\n            bodyContent.append('file', blob, selectedFile.name);\r\n            try {\r\n              setShowLoader(true);\r\n              const response = await fetch(\r\n                `${appConfig.apiPrefix\r\n                }/spotschedule/USP_SA_RO_SpotSchedule_import/?DealNumber=${SelectedItem.value\r\n                }&LocationCode=${Channel.LocationCode}&ChannelCode=${Channel.ChannelCode\r\n                }&month=${SelectMonth}&IsMakeGoodRO=${checked ? 1 : 0\r\n                }${`&BookingNumber=${Content?.BookingNumber ? Content?.BookingNumber : 0}`}&BookingRefNumber=${formState?.BookingRefNumber\r\n                }&IsNTC=${IsNTCPage}`,\r\n                {\r\n                  method: 'POST',\r\n                  body: bodyContent,\r\n                  headers: headersList,\r\n                },\r\n              );\r\n\r\n              const data = await response.json();\r\n\r\n              if (response.status === 204) {\r\n                setShowLoader(false);\r\n                openNotification('warning', 'Data Already Exist');\r\n              } else if (response.status === 200) {\r\n                openNotification('success', 'Ro Imported Successfully');\r\n                setIsOpen2(true);\r\n                setShowLoader(false);\r\n                const formattedData = data.map((item) => ({\r\n                  ...item,\r\n                  ScheduleDate: FORMATDATE_FOR_EVERY(item?.ScheduleDate)\r\n                }));\r\n                setData(formattedData); // Assuming resp.data contains the relevant data\r\n              } else {\r\n                setShowLoader(false);\r\n                openNotification(\r\n                  'danger',\r\n                  `Unexpected Response: ${response.status}`,\r\n                );\r\n              }\r\n            } catch (error) {\r\n              setShowLoader(false);\r\n              console.error('Error during API call:', error);\r\n              openNotification('danger', 'Server Error during file upload.');\r\n            }\r\n          };\r\n\r\n          // Read the file as an ArrayBuffer\r\n          reader.readAsArrayBuffer(selectedFile);\r\n          setShowLoader(false);\r\n        } catch (error) {\r\n          console.error('Error during file processing:', error);\r\n          openNotification('danger', 'File processing failed.');\r\n        }\r\n      } else {\r\n        openNotification(\r\n          'warning',\r\n          'Please Select Month And Booking Ref Number ',\r\n        );\r\n        setShowLoader(false);\r\n      }\r\n    } else {\r\n      openNotification('warning', 'Please Select Ro Import File');\r\n      setShowLoader(false);\r\n    }\r\n    setShowLoader(false);\r\n  };\r\n\r\n  function parseDurationE(duration) {\r\n    const [hours, minutes, seconds, milliseconds] = duration\r\n      .split(':')\r\n      .map(Number);\r\n    return hours * 3600 + minutes * 60 + seconds;\r\n  }\r\n\r\n  function calculateTotal(items) {\r\n    return items?.reduce(\r\n      (sum, item) =>\r\n        sum + Number(item?.TotalAmount || item.Rate * item.SpotCount),\r\n      0,\r\n    );\r\n  }\r\n  function sumAddedSpotCount(items) {\r\n    return items.reduce(\r\n      (sum, item) => sum + Number(item.AddedSpotCount || item.TotalSpot),\r\n      0,\r\n    );\r\n  }\r\n\r\n\r\n  return (\r\n    <Card header={<HeaderExtra Component={'Booking Master'} />}>\r\n      <Container className=\"h-100\">\r\n        <div className=\"mb-2\">\r\n          <div>\r\n            <div className=\"\">\r\n              <div className=\"m-2 \">\r\n                <SearchInputBooking\r\n                  setCheckedItems={setCheckedItems}\r\n                  SelectedItem={SelectedItem}\r\n                  setSelectedItem={setSelectedItem}\r\n                  data={Dealdata2}\r\n                  placeholder=\"Search Deal Here...\"\r\n                  DealData={DealData}\r\n                  length={The_data_I_want_To_Upload?.length}\r\n                  setFormState={setFormState}\r\n                  setThe_data_I_want_To_Upload={setThe_data_I_want_To_Upload}\r\n                  InputValue={InputValue}\r\n                  setInputValue={setInputValue}\r\n                  Deatils={Deatils}\r\n\r\n                ></SearchInputBooking>\r\n\r\n                {DealData?.DealNumber ? (\r\n                  <DealMasterGlobel\r\n                    DealData={DealData}\r\n                    onCollapse={onCollapse}\r\n                    collapse={collapse}\r\n                  />\r\n                ) : null}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex justify-end items-center\">\r\n            {DealDataDetails?.length > 0 ? (\r\n              <div className=\"flex justify-end items-center\">\r\n                <div className=\"mr-2\">\r\n                  <div>\r\n                    <Checkbox\r\n                      className=\"mr-4 lbale\"\r\n                      checked={checked}\r\n                      onChange={setChecked}\r\n                      name=\"IsMakeGoodRO\"\r\n                      style={{ marginTop: '-10px' }}\r\n                    >\r\n                      <div>\r\n                        <p className=\" lbale\" style={{ marginTop: '-10px' }}>\r\n                          Is MakeGood RO\r\n                        </p>\r\n                      </div>\r\n                    </Checkbox>\r\n                    <p className=\"font-medium text-[12px] text-[red]\">\r\n                      (Check for RO Re-airing )\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                {spotBooking === 'RoImportDetails' && (\r\n                  <div className=\"mr-4\">\r\n                    <p className=\"lbale\">\r\n                      Select Month <span style={{ color: 'red' }}>*</span>\r\n                    </p>\r\n                    <Select\r\n                      placeholder=\"Please Select Month\"\r\n                      options={monthOptions2024}\r\n                      onChange={(e) => setSelectMonth(e.value)}\r\n                    ></Select>\r\n                  </div>\r\n                )}\r\n                <div>\r\n                  <p className=\"lbale\">\r\n                    Booking Ref Number <span style={{ color: 'red' }}>*</span>\r\n                  </p>\r\n                  <Input\r\n                    value={formState?.BookingRefNumber}\r\n                    size=\"sm\"\r\n                    maxLength=\"20\"\r\n                    onChange={(e) => {\r\n                      if (/^[a-zA-Z0-9@_-]*$/.test(e.target.value)) {\r\n                        setFormState((prevFormState) => ({\r\n                          ...prevFormState,\r\n                          BookingRefNumber: e.target.value,\r\n                        }));\r\n                      }\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n\r\n            {Deatils.length > 0 && (\r\n              <div className=\"mt-8 ml-2\">\r\n                <Button variant=\"solid\" onClick={() => openDialog('Y')}>\r\n                  Show Booking\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div>\r\n            {SelectedItem ? (\r\n              <DealDeatilsGlobel\r\n                DealData={DealData}\r\n                DealDataDetails={DealDataDetails}\r\n                handleCheckboxChange={handleCheckboxChange}\r\n                setmyid={setmyid}\r\n                openDialog={openDialog}\r\n                Deatils={Deatils}\r\n                checkedItems={checkedItems}\r\n                IsNTCPage={IsNTCPage}\r\n              />\r\n            ) : null}\r\n          </div>\r\n          {spotBooking === 'RoImportDetails' && SelectedItem.value && (\r\n            <div>\r\n              <Upload beforeUpload={beforeUpload} uploadLimit={1} draggable />\r\n              <Button\r\n                onClick={() => SENDAPI()}\r\n                variant=\"solid\"\r\n                type=\"button\"\r\n                size=\"sm\" icon={<FaRegSave />}\r\n              >\r\n                Schedule Spot\r\n              </Button>\r\n            </div>\r\n          )}\r\n          {checkedItems.length > 0 &&\r\n            (spotBooking === 'BookingDetails' ||\r\n              spotBooking === 'NTCBookingDetails') ? (\r\n            <div>\r\n              <div className=\"grid grid-cols-4 gap-2\">\r\n                <div className=\" col-span-1\">\r\n                  <p className=\"lbale\">Booking Date</p>\r\n                  <DatePicker\r\n                    value={formState.date}\r\n                    inputFormat=\"DD-MM-YYYY\"\r\n                    defaultMonth={dayjs(new Date())\r\n                      .subtract(0, 'day')\r\n                      .startOf('day')\r\n                      .toDate()}\r\n                    minDate={dayjs(new Date(DealData?.DealPeriodFromDate))\r\n                      .subtract(0, 'day')\r\n                      .startOf('day')\r\n                      .toDate()}\r\n                    maxDate={dayjs(new Date(DealData?.DealPeriodToDate))\r\n                      .subtract(0, 'day')\r\n                      .startOf('day')\r\n                      .toDate()}\r\n                    onChange={(e) => {\r\n                      setFormState((prevFormState) => ({\r\n                        ...prevFormState,\r\n                        date: e,\r\n                      }));\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div className=\" col-span-1\">\r\n                  {/* {JSON.stringify(trafficDayList.length)} */}\r\n                  <p className=\"lbale\">Date Range</p>\r\n                  <DatePickerRange\r\n                    placeholder=\"Select date range\"\r\n                    defaultMonth={defaultMonth}\r\n                    inputFormat=\"DD-MM-YYYY\"\r\n                    minDate={\r\n                      trafficDayList.length == 0 &&\r\n                      dayjs(\r\n                        new Date(DealData?.DealPeriodFromDate).getDate() >\r\n                          new Date().getDate()\r\n                          ? new Date(DealData?.DealPeriodFromDate)\r\n                          : new Date(),\r\n                      )\r\n                        .subtract(0, 'day')\r\n                        .startOf('day')\r\n                        .toDate()\r\n                    }\r\n                    maxDate={\r\n                      trafficDayList.length == 0 &&\r\n                      dayjs(new Date(DealData?.DealPeriodToDate))\r\n                        .subtract(0, 'day')\r\n                        .startOf('day')\r\n                        .toDate()\r\n                    }\r\n                    disableDate={disableCertainDate}\r\n                    onChange={(e) => {\r\n                      setFormState({\r\n                        MID: 2,\r\n                        position: 3,\r\n                        brand: Content?.BrandMaster?.BrandCode,\r\n                        datesrange: [],\r\n                        BookingRefNumber: Content?.BookingRefNumber\r\n                          ? Content?.BookingRefNumber\r\n                          : '',\r\n                      });\r\n                      setFormState((prevFormState) => ({\r\n                        ...prevFormState,\r\n                        datesrange: e,\r\n                      }));\r\n                    }}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\" col-span-2\">\r\n                  {!Content.BrandMaster?.BrandCode &&\r\n                    formState.datesrange[0] &&\r\n                    formState.datesrange[1] && (\r\n                      <div>\r\n                        {' '}\r\n                        <p className=\"lbale\">Brand </p>\r\n                        <CommercialTypeDropNew\r\n                          selected={formState.brand}\r\n                          setSelected={setFormState}\r\n                          List={brand}\r\n                          name={'brand'}\r\n                        />\r\n                      </div>\r\n                    )}\r\n\r\n                  {Content.BrandMaster?.BrandCode && (\r\n                    <div>\r\n                      <p className=\"lbale\">Brand</p>\r\n                      <Input value={Content.BrandMaster?.BrandName} disabled />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"grid grid-cols-5 gap-2\">\r\n                <div className=\" col-span-1\">\r\n                  <p className=\"lbale\"> MID-OCL-CCL</p>\r\n\r\n                  <CommercialTypeDropNew\r\n                    selected={formState.MID}\r\n                    setSelected={setFormState}\r\n                    List={spotposition}\r\n                    name={'MID'}\r\n                  />\r\n                </div>\r\n                <div className=\" col-span-1\">\r\n                  <p className=\"lbale\"> Position</p>\r\n\r\n                  <CommercialTypeDropNew\r\n                    selected={formState.position}\r\n                    setSelected={setFormState}\r\n                    List={position}\r\n                    name={'position'}\r\n                  />\r\n                </div>\r\n\r\n                <div className={` ${formState.brand ? 'col-span-2' : 'hidden'} `}>\r\n                  <p className=\"lbale flex\">Commercial</p>\r\n                  <Select\r\n                    isMulti\r\n                    options={commercial}\r\n                    value={formState.Commercial}\r\n                    onChange={(e) => {\r\n                      setFormState((prevFormState) => {\r\n                        const filteredData = Object.entries(prevFormState).reduce((acc, [key, value]) => {\r\n                          const preservedKeys = [\"MID\", \"position\", \"brand\", \"datesrange\", \"BookingRefNumber\", \"Commercial\"];\r\n                          if (preservedKeys.includes(key)) {\r\n                            acc[key] = value;\r\n                          } else {\r\n                            const [, id] = key.split(\"|\");\r\n                            if (e.some(item => item.value === Number(id))) {\r\n                              acc[key] = value;\r\n                            }\r\n                          }\r\n                          return acc;\r\n                        }, {});\r\n\r\n                        return { ...filteredData, Commercial: e };\r\n                      });\r\n\r\n                      try {\r\n                        const RK = JSON.parse(`{${The_data_I_want_To_Upload}}`);\r\n\r\n                        const filteredData2 = Object.entries(RK).reduce((acc, [key, value]) => {\r\n                          const [, id] = key.split(\"|\");\r\n                          if (e.some(item => item.value === Number(id))) {\r\n                            acc[key] = value;\r\n                          }\r\n                          return acc;\r\n                        }, {});\r\n                        setThe_data_I_want_To_Upload(JSON.stringify(filteredData2, null, 2)\r\n                          .replace(/^{|}$/g, '')  // Remove curly braces\r\n                          .trim());\r\n\r\n                      } catch (error) {\r\n                        console.error(\"Error parsing JSON:\", error);\r\n                      }\r\n                    }}\r\n\r\n                  />\r\n                </div>\r\n\r\n                <div className={` ${formState.brand && formState.Commercial?.length != 0 ? 'col-span-1' : 'hidden'} `}>\r\n                  <Dropdown title={<Button className='mt-5' size='sm' variant='solid'>Copy Pattern</Button>} className=\"mr-2\" placement=\"top-end\">\r\n                    <div className='p-5 '>\r\n                      <div className='mb-2'>\r\n                        <h6 >Select Date Range <span className='text-red-500'>*</span></h6>\r\n                        <DatePickerRange size='sm'\r\n                          inputFormat=\"DD-MM-YYYY\"\r\n                          minDate={\r\n\r\n                            dayjs(\r\n                              new Date(formState?.datesrange[0]).getDate() >\r\n                                new Date().getDate()\r\n                                ? new Date(formState?.datesrange[0])\r\n                                : new Date(),\r\n                            )\r\n                              .subtract(0, 'day')\r\n                              .startOf('day')\r\n                              .toDate()\r\n                          }\r\n                          maxDate={\r\n\r\n                            dayjs(new Date(formState?.datesrange[1]))\r\n                              .subtract(0, 'day')\r\n                              .startOf('day')\r\n                              .toDate()\r\n                          }\r\n                          // disableDate={disableCertainDate}\r\n                          value={valueInsertDateRange}\r\n                          onChange={(e) => {\r\n                            setValueInsertDateRange(e)\r\n                          }} />\r\n                      </div>\r\n                      <div className='mb-2'>\r\n                        <h6>Select Days </h6>\r\n                        <Checkbox.Group value={checkboxListDay} onChange={onCheckboxChangeDay}>\r\n                          <Checkbox value=\"Sunday\">Sun </Checkbox>\r\n                          <Checkbox value=\"Monday\">Mon</Checkbox>\r\n                          <Checkbox value=\"Tuesday\">Tue</Checkbox>\r\n                          <Checkbox value=\"Wednesday\">Wed</Checkbox>\r\n                          <Checkbox value=\"Thursday\">Thu</Checkbox>\r\n                          <Checkbox value=\"Friday\">Fri</Checkbox>\r\n                          <Checkbox value=\"Saturday\">Sat</Checkbox>\r\n                        </Checkbox.Group>\r\n                      </div>\r\n                      <div className='mb-2'>\r\n                        <h6>Select DealLine Line <span className='text-red-500'>*</span></h6>\r\n                        <Checkbox.Group vertical value={checkboxList} onChange={onCheckboxChange}>\r\n                          {checkedItems.map((item, key) => (<Checkbox value={item.DealLineItemNo}> {item.TimeBandCode != 0 && item.TimeBandName}\r\n                            {item.ContentCode != 0 && item.ContentName} </Checkbox>))}\r\n                        </Checkbox.Group>\r\n                      </div>\r\n                      <div className='mb-2'>\r\n                        <h6> Alternate Days </h6>\r\n                        <Checkbox checked={checkedAlternateDays} onChange={setCheckedAlternateDays}>\r\n                          Alternate Days\r\n                        </Checkbox>\r\n                      </div>\r\n                      <div className='mb-2'>\r\n                        <h6>Select Commercial <span className='text-red-500'>*</span></h6>\r\n                        <Checkbox.Group vertical value={checkboxListCommercial} onChange={onCheckboxChangeCommercial}>\r\n                          {formState?.Commercial && formState.Commercial.map((item, key) => (<Checkbox value={item.value}>{item.CommercialCaption} </Checkbox>))}\r\n                        </Checkbox.Group>\r\n                      </div>\r\n                      <div className='mb-2'>\r\n                        <h6>Select Value <span className='text-red-500'>*</span></h6>\r\n                        <Input size='sm' value={valueInsert} onChange={(e) => { setValueInsert(Number(e.target.value)) }} />\r\n                      </div>\r\n\r\n                      <Button\r\n                        size=\"xs\"\r\n                        variant=\"solid\"\r\n                        onClick={() => {\r\n                          if (\r\n                            checkboxList.length == 0 ||\r\n                            checkboxListCommercial.length == 0 ||\r\n                            valueInsertDateRange[0] == null ||\r\n                            valueInsertDateRange[1] == null ||\r\n                            !valueInsert\r\n                          ) {\r\n                            openNotification(\"warning\", \"Please Select All Field\");\r\n                          } else {\r\n                            const { MID, position, brand, datesrange, BookingRefNumber, Commercial, ...filteredArray } = formState;\r\n\r\n                            const generateDateRange = (startDate, endDate) => {\r\n                              const dates = [];\r\n                              while (startDate <= endDate) {\r\n                                dates.push(\r\n                                  startDate\r\n                                    .toLocaleDateString(\"en-GB\", {\r\n                                      day: \"2-digit\",\r\n                                      month: \"short\",\r\n                                      year: \"numeric\",\r\n                                    })\r\n                                    .replace(/ /g, \"-\")\r\n                                );\r\n                                startDate.setDate(startDate.getDate() + 1);\r\n                              }\r\n                              return dates;\r\n                            };\r\n\r\n                            // Generate the date range\r\n                            const dateList = generateDateRange(valueInsertDateRange[0], valueInsertDateRange[1]);\r\n                            const result = { ...filteredArray };\r\n\r\n                            checkboxListDD.forEach((deal) => {\r\n                              let combinedTotalForDeal = 0; // Tracks the accumulated total for the deal.\r\n                              // Select weekendsdetail based on DealLineItemTypeCode\r\n                              let weekendDetails = [];\r\n                              if (deal.DealLineItemTypeCode === 4) {\r\n                                weekendDetails = deal.weekendsdetail || [];\r\n                              } else if (deal.DealLineItemTypeCode === 5 || deal.DealLineItemTypeCode === 6) {\r\n                                weekendDetails = deal.weekendsdetail || [];\r\n                              } else if (deal.DealLineItemTypeCode === 2 || deal.DealLineItemTypeCode === 1) {\r\n                                weekendDetails = deal.weekendsdetail || [];\r\n                              }\r\n\r\n                              const weekendNames = weekendDetails.map((item) => daysOfWeek[item.Day]); // Get correct weekend names\r\n                              checkboxListDDCom.forEach((commercial) => {\r\n                                for (let i = 0; i < dateList.length; i++) {\r\n                                  const currentDate = new Date(dateList[i]);\r\n                                  const dayOfWeek = currentDate.toLocaleString(\"en-GB\", { weekday: \"long\" });\r\n\r\n                                  // **Step 1: Check if the day is allowed in `weekendsdetail`**\r\n                                  const isWeekendAllowed = weekendNames.includes(dayOfWeek);\r\n\r\n                                  // **Step 2: If `checkboxListDay` is used, ensure it matches `weekendsdetail`**\r\n                                  const isCheckboxSelectedValid =\r\n                                    checkboxListDay.length > 0 ? checkboxListDay.includes(dayOfWeek) : true;\r\n\r\n                                  // **Final Check: Only insert if the date is in weekendsdetail and checkboxListDay (if used)**\r\n\r\n                                  const isDaysInsert = !isWeekendAllowed || (checkboxListDay.length > 0 && !isCheckboxSelectedValid)\r\n                                  // if (isDaysInsert) {\r\n                                  //   continue; // Skip this date\r\n                                  // }\r\n                                  // Skip alternate days if checkedAlternateDays is true\r\n                                  const isAlternateDay = checkedAlternateDays && i % 2 !== 0;\r\n\r\n                                  // **Step 3: If it is an alternate day, replace data with 0 if it exists**\r\n                                  const formattedDate = currentDate\r\n                                    .toLocaleDateString(\"en-GB\", {\r\n                                      day: \"2-digit\",\r\n                                      month: \"short\",\r\n                                    })\r\n                                    .replace(/ /g, \"-\");\r\n\r\n                                  const key = `${deal.DealLineItemNo}|${commercial.value}|${formattedDate}`;\r\n                                  const valueKey = `Y${deal.DealLineItemNo}|${commercial.value}|${formattedDate}`;\r\n\r\n                                  if (isAlternateDay || isDaysInsert) {\r\n                                    // Replace existing data with 0 if it already exists\r\n                                    result[key] = 0;\r\n                                    result[valueKey] = {\r\n                                      value: 0,\r\n                                      date: currentDate\r\n                                        .toLocaleDateString(\"en-GB\", {\r\n                                          day: \"2-digit\",\r\n                                          month: \"short\",\r\n                                          year: \"numeric\",\r\n                                        })\r\n                                        .replace(/ /g, \"-\"),\r\n                                      total: 0,\r\n                                    };\r\n                                  } else {\r\n                                    // If it's not an alternate day, proceed as normal\r\n\r\n\r\n                                    const newTotal = deal.DealLineItemTypeCode === 4\r\n                                      ? valueInsert\r\n                                      : deal.DealLineItemTypeCode === 5 || deal.DealLineItemTypeCode === 6\r\n                                        ? valueInsert\r\n                                        : deal.DealLineItemTypeCode === 2 || deal.DealLineItemTypeCode === 1\r\n                                          ? valueInsert * commercial.DurInSec\r\n                                          : valueInsert * commercial.DurInSec;\r\n                                    const projectedTotal = combinedTotalForDeal + newTotal;\r\n                                    const maxAllowed =\r\n                                      deal.DealLineItemTypeCode === 4\r\n                                        ? deal.NTCBalanceSpots\r\n                                        : deal.DealLineItemTypeCode === 5 || deal.DealLineItemTypeCode === 6\r\n                                          ? deal.BalancedSpots\r\n                                          : deal.DealLineItemTypeCode === 2 || deal.DealLineItemTypeCode === 1\r\n                                            ? deal.BalancedSeconds\r\n                                            : 0;\r\n                                    console.log(projectedTotal > maxAllowed);\r\n                                    if (projectedTotal > maxAllowed) {\r\n                                      // If the condition is true, immediately make this date 0\r\n                                      result[key] = 0;\r\n                                      result[valueKey] = {\r\n                                        value: 0,\r\n                                        date: currentDate\r\n                                          .toLocaleDateString(\"en-GB\", {\r\n                                            day: \"2-digit\",\r\n                                            month: \"short\",\r\n                                            year: \"numeric\",\r\n                                          })\r\n                                          .replace(/ /g, \"-\"),\r\n                                        total: 0,\r\n                                      };\r\n                                    } else {\r\n                                      // If the condition is false, insert the value and update the combined total\r\n                                      result[key] = valueInsert;\r\n                                      result[valueKey] = {\r\n                                        value: valueInsert,\r\n                                        date: currentDate\r\n                                          .toLocaleDateString(\"en-GB\", {\r\n                                            day: \"2-digit\",\r\n                                            month: \"short\",\r\n                                            year: \"numeric\",\r\n                                          })\r\n                                          .replace(/ /g, \"-\"),\r\n                                        total: newTotal,\r\n                                      };\r\n\r\n                                      // Update the combined total\r\n                                      combinedTotalForDeal = projectedTotal;\r\n                                    }\r\n                                  }\r\n                                }\r\n                              });\r\n                            });\r\n\r\n                            const filteredDataresult = Object.fromEntries(\r\n                              Object.entries(result).filter(([key]) => !key.includes(\"total\"))\r\n                            );\r\n\r\n                            function processArray(data) {\r\n                              const result = {};\r\n                              Object.keys(data).forEach((key) => {\r\n                                // Remove the 'Y' from keys if it exists\r\n                                const newKey = key.replace(/^Y/, \"\").split(\"|\").slice(0, 2).join(\"|\") + \"|total\";\r\n\r\n                                // Check if the key is an object\r\n                                if (typeof data[key] === \"object\" && data[key] !== null) {\r\n                                  if (!result[newKey]) {\r\n                                    result[newKey] = 0; // Initialize if not already present\r\n                                  }\r\n                                  // Sum the `value` property\r\n                                  result[newKey] += data[key].value;\r\n                                }\r\n                              });\r\n                              return result;\r\n                            }\r\n\r\n                            const totals = processArray(filteredDataresult);\r\n                            setFormState({\r\n                              MID: MID,\r\n                              position: position,\r\n                              brand: brand,\r\n                              datesrange: datesrange,\r\n                              BookingRefNumber: BookingRefNumber,\r\n                              Commercial: Commercial,\r\n                              ...totals,\r\n                              ...filteredDataresult,\r\n                            });\r\n\r\n                            const finalData = {\r\n                              MID,\r\n                              position,\r\n                              brand,\r\n                              datesrange,\r\n                              BookingRefNumber,\r\n                              Commercial,\r\n                              ...totals,\r\n                              ...filteredDataresult,\r\n                            };\r\n\r\n                            const formattedString = generateCustomArray(finalData)\r\n                              .map((obj) => {\r\n                                let key = Object.keys(obj)[0];\r\n                                return `\"${key}\":\"${obj[key]}\"`;\r\n                              })\r\n                              .join(\",\");\r\n                            console.log(formattedString);\r\n\r\n                            setThe_data_I_want_To_Upload(formattedString);\r\n\r\n                            setValueInsertDateRange({});\r\n                          }\r\n                        }}\r\n                      >\r\n                        Apply\r\n                      </Button>\r\n\r\n\r\n\r\n\r\n                    </div>\r\n                  </Dropdown>\r\n                </div>\r\n              </div> </div>\r\n          ) : null}\r\n          {/* {JSON.stringify(formState)} */}\r\n          {(formState?.datesrange[0] || formState?.datesrange[1]) && (\r\n            // <Card className='mt-2'>\r\n\r\n            <div>\r\n              <DateRangeInputs\r\n                date1={formState?.datesrange[0]}\r\n                date2={formState?.datesrange[1]}\r\n                formState={formState}\r\n                setFormState={setFormState}\r\n                checkedItems={checkedItems}\r\n                CommercialMasterData={formState.Commercial}\r\n                setThe_data_I_want_To_Upload={setThe_data_I_want_To_Upload}\r\n                IsNTCPage={IsNTCPage}\r\n                trafficDayList={trafficDayList}\r\n                generateCustomArray={generateCustomArray}\r\n              />\r\n\r\n\r\n            </div>\r\n          )}\r\n          <StickyFooter\r\n            className=\"-mx-8 px-8 flex items-center justify-between py-4 pt-2 pb-2\"\r\n            stickyClass=\"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700\"\r\n          >\r\n            <div className=\"md:flex items-center\">\r\n              {(formState?.datesrange[0] || formState?.datesrange[1]) &&\r\n                <Button\r\n                  disabled={ScheduleButton}\r\n                  icon={<FaRegSave />}\r\n                  onClick={() => {\r\n                    if (DealData?.ChannelCode) {\r\n                      (async (values) => {\r\n                        if (formState?.BookingRefNumber == '') {\r\n                          openNotification(\r\n                            'warning',\r\n                            'Please Select Booking Ref Number   ',\r\n                          );\r\n                          return;\r\n                        }\r\n                        try {\r\n                          setShowLoader(true);\r\n                          setScheduleButton(true);\r\n                          const USP_SA_RO_SpotSchedule =\r\n                            await apiUSP_SA_RO_SpotSchedule(\r\n                              convertDateToYMD(formState?.datesrange[0]),\r\n                              convertDateToYMD(formState?.datesrange[1]),\r\n                              DealData?.DealNumber,\r\n                              Content?.BookingNumber\r\n                                ? Content?.BookingNumber\r\n                                : 0,\r\n                              `{${The_data_I_want_To_Upload} } `,\r\n                              DealData?.ChannelCode,\r\n                              DealData?.LocationCode,\r\n                              checked,\r\n                              formState?.BookingRefNumber,\r\n                              IsNTCPage,\r\n                              formState?.brand,\r\n                            );\r\n                          if (USP_SA_RO_SpotSchedule.status == 200) {\r\n                            const data = USP_SA_RO_SpotSchedule.data.map((item) => ({\r\n                              ...item,\r\n                              ScheduleDate: FORMATDATE_FOR_EVERY(item?.ScheduleDate)\r\n                            }));\r\n                            setData(data);\r\n                            setIsOpen2(true);\r\n                            setShowLoader(false);\r\n                            // navigate('/BookingMaster')\r\n                          }\r\n                        } catch (error) {\r\n                          if (error.response.status == 500) {\r\n                            setShowLoader(false);\r\n                            openNotification('danger', 'Server  Error');\r\n                            setData([]);\r\n                            setnewBookSpotDeatils([]);\r\n                            setIsOpen2(false);\r\n                          }\r\n                        }\r\n                      })();\r\n                    } else {\r\n                      setShowLoader(false);\r\n                      openNotification(\r\n                        'warning',\r\n                        'Please Select Global Channel',\r\n                      );\r\n                      setData([]);\r\n                    }\r\n                  }}\r\n                  variant=\"solid\"\r\n                  type=\"submit\"\r\n                  size=\"sm\"\r\n                >\r\n                  Schedule Spot\r\n                </Button>\r\n              }\r\n              &nbsp;<Button\r\n                type=\"button\"\r\n                size=\"sm\"\r\n                icon={<HiOutlineArrowNarrowLeft />}\r\n                onClick={() =>\r\n                  navigate(\r\n                    spotBooking === 'RoImportDetails'\r\n                      ? '/RoImport'\r\n                      : spotBooking === 'BookingDetails'\r\n                        ? '/SpotBooking'\r\n                        : '/NtcSpotBooking',\r\n                  )\r\n                }\r\n              >\r\n                Back\r\n              </Button>\r\n            </div>\r\n          </StickyFooter>\r\n        </div>\r\n\r\n        <Dialogg visible={dialogIsOpen} style={{ width: '100vw', height: '100%' }} onHide={onDialogClose} footer={<ShowBookingFooter Deatils={Deatils} onDialogOk={onDialogOk} onDialogClose={onDialogClose} DealData={DealData} />}>\r\n          <div className=\"flex flex-col h-full \">\r\n            <h4 className=\"mb-4 ml-5\">Show Bookings</h4>\r\n            {Deatils.length > 0 && (\r\n              <Card className=\" overflow-scroll\">\r\n                <ReportsTable\r\n                  tableData={ShowBookingSpots}\r\n                  originalColumns={columns}\r\n                  managedColumns={TableColumns}\r\n                  setManagedColumns={setTableColumns}\r\n\r\n                  tableName='Booked Spots'\r\n                // exportFileName=\"Imported Spots\"\r\n                // columnsToFormatInINR={['BalancedAmount', 'TotalAmount']}\r\n                />\r\n              </Card>\r\n            )}\r\n          </div>\r\n        </Dialogg>\r\n        {/* {parseDurationE('00:00:30:00')} */}\r\n\r\n        <Dialogg visible={dialogIsOpen2} style={{ width: '100vw', height: '100%' }} onHide={() => setIsOpen2(false)} footer={<div className=\" px-6 py-1 bg-gray-100 dark:bg-gray-700 rounded-bl-lg rounded-br-lg\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div className=\"flex \">\r\n              {' '}\r\n              <div\r\n                className=\"mr-2\"\r\n                style={{\r\n                  backgroundColor: 'rgb(26, 36, 48)',\r\n                  borderColor: 'rgb(75, 85, 99)',\r\n                  padding: '0.50rem',\r\n                  borderRadius: '10px',\r\n                }}\r\n              >\r\n                <div className=\" w-full\">\r\n                  <div className=\"flex justify-between\">\r\n                    <p>Total Amount</p>\r\n                    <p className=\"dark:text-sky-500 text-xl font-normal\">\r\n                      {DealData?.CurrencySymbol}\r\n                    </p>\r\n                  </div>\r\n                  <h3>\r\n                    {DealData?.CurrencySymbol}\r\n                    {numberToINRFormat(calculateTotal(Data))}\r\n                  </h3>\r\n                </div>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  backgroundColor: 'rgb(26, 36, 48)',\r\n                  borderColor: 'rgb(75, 85, 99)',\r\n                  padding: '0.50rem',\r\n                  borderRadius: '10px',\r\n                  width: 100,\r\n                }}\r\n              >\r\n                <div className=\" w-full\">\r\n                  <div className=\"flex justify-between\">\r\n                    <p>Spots</p>\r\n                    <p className=\"dark:text-sky-500 text-xl font-normal\">\r\n                      <VscRecord size={20} className=\"text-rose-700\" />\r\n                    </p>\r\n                  </div>\r\n                  <h3 className=\"m-1\">{sumAddedSpotCount(Data)}</h3>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <Button\r\n                className=\"ltr:mr-2 rtl:ml-2\"\r\n                onClick={() => handleDelete(Data[0].BookingNumber)}\r\n              >\r\n                Discard\r\n              </Button>\r\n              <Button\r\n                variant=\"solid\"\r\n                onClick={async () => {\r\n                  try {\r\n                    setShowLoader(true);\r\n                    const resp = await apiCallstoreprocedure_WithOutParamgg(\r\n                      'USP_SA_RO_BookingSave',\r\n                      Content?.BookingCode\r\n                        ? Content?.BookingCode.replace('_unsave', '')\r\n                        : Data[0].BookingCode.replace('_unsave', ''),\r\n                      IsNTCPage,\r\n                    );\r\n                    setShowLoader(false);\r\n                    setIsOpen2(false);\r\n                    if (resp.status == 200) {\r\n                      SEND_NOTIFICATION(\r\n                        8,\r\n                        `Spot Booking for ${Channel.ChannelName\r\n                        } is confirmed from ${FORMATDATE_FOR_EVERY(\r\n                          formState.datesrange[0],\r\n                        )} to ${FORMATDATE_FOR_EVERY(\r\n                          formState.datesrange[1],\r\n                        )}, total ${sumAddedSpotCount(Data)} Bookings Done.\r\n                          `,\r\n                        '',\r\n                        `Spot Booking for ${Channel.ChannelName\r\n                        } is confirmed from ${FORMATDATE_FOR_EVERY(\r\n                          formState.datesrange[0],\r\n                        )} to ${FORMATDATE_FOR_EVERY(\r\n                          formState.datesrange[1],\r\n                        )}, total ${sumAddedSpotCount(Data)} Bookings Done.\r\n                          `,\r\n                        1,\r\n                        1,\r\n                        'Booking',\r\n                        'Booking',\r\n                      );\r\n                      openNotification(\r\n                        'success',\r\n                        `Data saved!!! ${resp.data[0]?.BookingCode} `,\r\n                      );\r\n                      setShowLoader(false);\r\n                      setThe_data_I_want_To_Upload();\r\n                    }\r\n                  } catch (error) {\r\n                    if (error.response.status == 500) {\r\n                      openNotification('danger', 'Server Error.');\r\n                      setShowLoader(false);\r\n                      setIsOpen2(false);\r\n                    }\r\n                  }\r\n                  setShowLoader(false);\r\n                }}\r\n              >\r\n                Save\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>}>\r\n          <Tabs value={currentTab} onChange={(val) => setCurrentTab(val)}>\r\n            <TabList>\r\n              <TabNav value=\"tab1\" icon={<HiOutlineHome />}>\r\n                Booking Spots Summary\r\n              </TabNav>\r\n              <TabNav\r\n                value=\"tab2\"\r\n                icon={<HiOutlineUser />}\r\n                onClick={async () => {\r\n                  setShowLoader(true);\r\n                  setCurrentTab('tab2');\r\n                  try {\r\n                    const newBookSpotDetails = await apiCallstoreprocedure(\r\n                      'GetNewBookSpot',\r\n                      {\r\n                        par_BookingCode: Data[0].BookingCode,\r\n                        par_BookingNumber: Data[0].BookingNumber,\r\n                      },\r\n\r\n                    );\r\n                    console.log(newBookSpotDetails);\r\n\r\n                    if (newBookSpotDetails.status === 200) {\r\n                      setShowLoader(false);\r\n                      const formatedData = newBookSpotDetails.data.map((item) => ({\r\n                        ...item,\r\n                        ScheduleDate: FORMATDATE_FOR_EVERY(new Date(item?.ScheduleDate))\r\n                      })); setnewBookSpotDeatils(formatedData);\r\n                    } else if (newBookSpotDetails.status === 204) {\r\n                      setnewBookSpotDeatils([]);\r\n                      setShowLoader(false);\r\n                    }\r\n                  } catch (error) {\r\n                    setnewBookSpotDeatils([]);\r\n                    setShowLoader(false);\r\n                  }\r\n                }}\r\n              >\r\n                Booking Spots Details\r\n              </TabNav>\r\n            </TabList>\r\n            <div className=\"p-4\">\r\n              <TabContent value=\"tab1\">\r\n                <div\r\n                  className=\"px-3  overflow-scroll\"\r\n                >\r\n                  <ReportsTable\r\n                    tableData={Data}\r\n                    toolbarOptions={ToolbarOptionsBooking}\r\n                    originalColumns={BookingDetailsColumn}\r\n                    managedColumns={ManagedColumnBookings}\r\n                    setManagedColumns={setManagedColumnBookings}\r\n                    exportFileName=\"Booking Master\"\r\n                    columnsToFormatInINR={[]}\r\n                    tableName='Booking Spots Summary'\r\n                  />\r\n                </div>\r\n              </TabContent>\r\n              <TabContent value=\"tab2\">\r\n                <div\r\n                  className=\"px-3  overflow-scroll\"\r\n                >\r\n                  <ReportsTable\r\n                    tableData={newBookSpotDeatils}\r\n                    toolbarOptions={ToolbarOptionsBooking}\r\n                    originalColumns={BookingDetailsColumnSummary}\r\n                    managedColumns={ManagedColumnBookings2}\r\n                    setManagedColumns={setManagedColumnBookings2}\r\n                    exportFileName=\"Booking Master\"\r\n                    columnsToFormatInINR={[]}\r\n                    tableName='Booking Spots Details'\r\n\r\n                  />\r\n                </div>\r\n              </TabContent>\r\n            </div>\r\n          </Tabs>\r\n        </Dialogg>\r\n      </Container >\r\n      <Loader showLoader={showLoader} />\r\n    </Card >\r\n  );\r\n};\r\n\r\nexport default BookingMaster;\r\n\r\nexport const VisableColumns = [\r\n  {\r\n    header: 'Commercial',\r\n    name: 'Commercial',\r\n    code: 'Commercial',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n  {\r\n    header: 'Schedule Date',\r\n    name: 'ScheduleDate',\r\n    code: 'ScheduleDate',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n  {\r\n    header: 'Schedule Time',\r\n    name: 'ScheduleTime',\r\n    code: 'ScheduleTime',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n  {\r\n    header: 'Content',\r\n    name: 'ContentName',\r\n    code: 'ContentName',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n\r\n  {\r\n    header: 'Break',\r\n    name: 'BreakNumber',\r\n    code: 'BreakNumber',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n  {\r\n    header: 'Position',\r\n    name: 'PositionNumber',\r\n    code: 'PositionNumber',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n  {\r\n    header: 'Spot',\r\n    name: 'SpotPosition',\r\n    code: 'SpotPosition',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n  {\r\n    header: 'Time Band',\r\n    name: 'TimeBand',\r\n    code: 'TimeBand',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n  {\r\n    header: 'Spot Type',\r\n    name: 'SpotType',\r\n    code: 'SpotType',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n  {\r\n    header: 'VideoID',\r\n    name: 'VideoID',\r\n    code: 'VideoID',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n  {\r\n    header: 'Duration',\r\n    name: 'Duration',\r\n    code: 'Duration',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n  {\r\n    header: 'Spot Rate',\r\n    name: 'SpotRate',\r\n    code: 'SpotRate',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n  {\r\n    header: 'Spot Amount',\r\n    name: 'SpotAmount',\r\n    code: 'SpotAmount',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n  {\r\n    header: 'Booking Status',\r\n    name: 'BookingStatus',\r\n    code: 'BookingStatus',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n  {\r\n    header: 'Spot Status',\r\n    name: 'SpotStatus',\r\n    code: 'SpotStatus',\r\n    width: 'auto',\r\n    ScreenType: 'SpotBooking',\r\n    Sequence: 2,\r\n    isvisible: true,\r\n  },\r\n];\r\n","'use client';\nimport * as React from 'react';\nimport { IconBase } from 'primereact/iconbase';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nvar ChevronDownIcon = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var pti = IconBase.getPTI(inProps);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, pti), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z\",\n    fill: \"currentColor\"\n  }));\n}));\nChevronDownIcon.displayName = 'ChevronDownIcon';\n\nexport { ChevronDownIcon };\n","'use client';\nimport * as React from 'react';\nimport { IconBase } from 'primereact/iconbase';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nvar ChevronRightIcon = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var pti = IconBase.getPTI(inProps);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, pti), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z\",\n    fill: \"currentColor\"\n  }));\n}));\nChevronRightIcon.displayName = 'ChevronRightIcon';\n\nexport { ChevronRightIcon };\n","'use client';\nimport * as React from 'react';\nimport { IconBase } from 'primereact/iconbase';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nvar TimesIcon = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var pti = IconBase.getPTI(inProps);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, pti), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z\",\n    fill: \"currentColor\"\n  }));\n}));\nTimesIcon.displayName = 'TimesIcon';\n\nexport { TimesIcon };\n","'use client';\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport PrimeReact, { PrimeReactContext } from 'primereact/api';\nimport { useMountEffect, useUpdateEffect, useUnmountEffect } from 'primereact/hooks';\nimport { ObjectUtils, DomHandler } from 'primereact/utils';\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar PortalBase = {\n  defaultProps: {\n    __TYPE: 'Portal',\n    element: null,\n    appendTo: null,\n    visible: false,\n    onMounted: null,\n    onUnmounted: null,\n    children: undefined\n  },\n  getProps: function getProps(props) {\n    return ObjectUtils.getMergedProps(props, PortalBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return ObjectUtils.getDiffProps(props, PortalBase.defaultProps);\n  }\n};\n\nvar Portal = /*#__PURE__*/React.memo(function (inProps) {\n  var props = PortalBase.getProps(inProps);\n  var context = React.useContext(PrimeReactContext);\n  var _React$useState = React.useState(props.visible && DomHandler.isClient()),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    mountedState = _React$useState2[0],\n    setMountedState = _React$useState2[1];\n  useMountEffect(function () {\n    if (DomHandler.isClient() && !mountedState) {\n      setMountedState(true);\n      props.onMounted && props.onMounted();\n    }\n  });\n  useUpdateEffect(function () {\n    props.onMounted && props.onMounted();\n  }, [mountedState]);\n  useUnmountEffect(function () {\n    props.onUnmounted && props.onUnmounted();\n  });\n  var element = props.element || props.children;\n  if (element && mountedState) {\n    var appendTo = props.appendTo || context && context.appendTo || PrimeReact.appendTo || document.body;\n    return appendTo === 'self' ? element : /*#__PURE__*/ReactDOM.createPortal(element, appendTo);\n  }\n  return null;\n});\nPortal.displayName = 'Portal';\n\nexport { Portal };\n","'use client';\nimport * as React from 'react';\nimport PrimeReact, { PrimeReactContext } from 'primereact/api';\nimport { useStyle, useMountEffect, useUpdateEffect, useUnmountEffect } from 'primereact/hooks';\nimport { ObjectUtils, mergeProps, classNames, DomHandler } from 'primereact/utils';\nimport { ComponentBase } from 'primereact/componentbase';\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nvar styles = \"\\n@layer primereact {\\n    .p-ripple {\\n        overflow: hidden;\\n        position: relative;\\n    }\\n    \\n    .p-ink {\\n        display: block;\\n        position: absolute;\\n        background: rgba(255, 255, 255, 0.5);\\n        border-radius: 100%;\\n        transform: scale(0);\\n    }\\n    \\n    .p-ink-active {\\n        animation: ripple 0.4s linear;\\n    }\\n    \\n    .p-ripple-disabled .p-ink {\\n        display: none !important;\\n    }\\n}\\n\\n@keyframes ripple {\\n    100% {\\n        opacity: 0;\\n        transform: scale(2.5);\\n    }\\n}\\n\\n\";\nvar classes = {\n  root: 'p-ink'\n};\nvar RippleBase = ComponentBase.extend({\n  defaultProps: {\n    __TYPE: 'Ripple',\n    children: undefined\n  },\n  css: {\n    styles: styles,\n    classes: classes\n  },\n  getProps: function getProps(props) {\n    return ObjectUtils.getMergedProps(props, RippleBase.defaultProps);\n  },\n  getOtherProps: function getOtherProps(props) {\n    return ObjectUtils.getDiffProps(props, RippleBase.defaultProps);\n  }\n});\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar Ripple = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (inProps, ref) {\n  var inkRef = React.useRef(null);\n  var targetRef = React.useRef(null);\n  var context = React.useContext(PrimeReactContext);\n  var props = RippleBase.getProps(inProps, context);\n  var metaData = {\n    props: props\n  };\n  useStyle(RippleBase.css.styles, {\n    name: 'ripple'\n  });\n  var _RippleBase$setMetaDa = RippleBase.setMetaData(_objectSpread({}, metaData)),\n    ptm = _RippleBase$setMetaDa.ptm,\n    cx = _RippleBase$setMetaDa.cx;\n  var getTarget = function getTarget() {\n    return inkRef.current && inkRef.current.parentElement;\n  };\n  var bindEvents = function bindEvents() {\n    if (targetRef.current) {\n      targetRef.current.addEventListener('pointerdown', onPointerDown);\n    }\n  };\n  var unbindEvents = function unbindEvents() {\n    if (targetRef.current) {\n      targetRef.current.removeEventListener('pointerdown', onPointerDown);\n    }\n  };\n  var onPointerDown = function onPointerDown(event) {\n    var offset = DomHandler.getOffset(targetRef.current);\n    var offsetX = event.pageX - offset.left + document.body.scrollTop - DomHandler.getWidth(inkRef.current) / 2;\n    var offsetY = event.pageY - offset.top + document.body.scrollLeft - DomHandler.getHeight(inkRef.current) / 2;\n    activateRipple(offsetX, offsetY);\n  };\n  var activateRipple = function activateRipple(offsetX, offsetY) {\n    if (!inkRef.current || getComputedStyle(inkRef.current, null).display === 'none') {\n      return;\n    }\n    DomHandler.removeClass(inkRef.current, 'p-ink-active');\n    setDimensions();\n    inkRef.current.style.top = offsetY + 'px';\n    inkRef.current.style.left = offsetX + 'px';\n    DomHandler.addClass(inkRef.current, 'p-ink-active');\n  };\n  var onAnimationEnd = function onAnimationEnd(event) {\n    DomHandler.removeClass(event.currentTarget, 'p-ink-active');\n  };\n  var setDimensions = function setDimensions() {\n    if (inkRef.current && !DomHandler.getHeight(inkRef.current) && !DomHandler.getWidth(inkRef.current)) {\n      var d = Math.max(DomHandler.getOuterWidth(targetRef.current), DomHandler.getOuterHeight(targetRef.current));\n      inkRef.current.style.height = d + 'px';\n      inkRef.current.style.width = d + 'px';\n    }\n  };\n  React.useImperativeHandle(ref, function () {\n    return {\n      props: props,\n      getInk: function getInk() {\n        return inkRef.current;\n      },\n      getTarget: function getTarget() {\n        return targetRef.current;\n      }\n    };\n  });\n  useMountEffect(function () {\n    if (inkRef.current) {\n      targetRef.current = getTarget();\n      setDimensions();\n      bindEvents();\n    }\n  });\n  useUpdateEffect(function () {\n    if (inkRef.current && !targetRef.current) {\n      targetRef.current = getTarget();\n      setDimensions();\n      bindEvents();\n    }\n  });\n  useUnmountEffect(function () {\n    if (inkRef.current) {\n      targetRef.current = null;\n      unbindEvents();\n    }\n  });\n  var rootProps = mergeProps({\n    className: classNames(cx('root'))\n  }, ptm('root'));\n  return context && context.ripple || PrimeReact.ripple ? /*#__PURE__*/React.createElement(\"span\", _extends({\n    role: \"presentation\",\n    ref: inkRef\n  }, rootProps, {\n    onAnimationEnd: onAnimationEnd\n  })) : null;\n}));\nRipple.displayName = 'Ripple';\n\nexport { Ripple };\n"],"names":["axios","require","async","apiGetCommercialtypemaster","data","ApiService","url","method","apispotcancellation","i","IsNTC","Postcommercialtype","param","token","Promise","resolve","reject","JSON","stringify","CommercialTypeName","CommercialTypeShortName","IsActive","config","maxBodyLength","Infinity","appConfig","headers","Authorization","request","then","response","catch","errors","Putcommercialtype","CommercialTypeCode","apiGetCommercialmaster","LocationCode","ChannelCode","FromDate","ToDate","apiGetBooking","id","apiUSP_SA_RO_SpotSchedule","From_DT","To_DT","DealNumber","BookingNumber","ScheduleDate","checked","BookingRefNumber","IsNTCPage","Brand","apiGetCommercialClientBrandwisedro2p","selectedBrand","selectedClient","selectedCommercial","value","DurInSec","apiGetCommercialClientBrandwisedrop","Postcommercial","console","log","Putcommercial","apiGetPositionDrop","apiGetSpotPositionDrop","apiGetCancelRemarkMaster","AddCancelremark","row","fetch","Accept","body","CancelRemarkName","UpdateCancelremark","CancelRemarkCode","apiGetYearMaster","AddYear","Description","StartDate","EndDate","UpdateYear","Yearcode","apiGetTaxMaster","AddTax","UpdateTax","TaxCode","apiGetTrafficDayClose","date","channel","error","Error","apiGetTrafficDayCloseByDateRange","fromdate","todate","apiCreateTrafficDayClose","apiGetBookingByClient","clientCode","apiGetBookingActivityForBookingCode","bookingNumber","apiGet_BookinActivityByDate","activity","type","dateTime","executerId","selected","setSelected","List","name","handleCommercialTypeChange","byagecy","className","size","placeholder","options","filter","option","label","onChange","selectedOption","prevFormState","Commercial","epNo","end","Tr","Th","Td","THead","TBody","Table","DealMasterGlobel","DealData","style","fontSize","lineHeight","fontWeight","opacity","color","AgencyName","prefix","prefixClass","showCloseButton","BookingCode","ClientName","FORMATDATE_FOR_EVERY","Date","DealPeriodFromDate","DealPeriodToDate","Emp_FirstName","Emp_LastName","ZoneName","CurrencyName","CurrencySymbol","TotalAmount","toLocaleString","DealDeatilsGlobel","DealDataDetails","handleCheckboxChange","setmyid","openDialog","Deatils","checkedItems","hashPart","window","location","href","split","spotBooking","Channel","useSelector","state","locale","selectedChannel","length","compact","textTransform","map","item","index","borderBottom","height","width","DealLineItemTypeCode","disabled","some","checkedItem","Id","e","whiteSpace","overflow","textOverflow","textAlign","DealLineItemTypeName","NTCTypeName","TimeBandCode","TimeBandName","ContentCode","ContentName","SpotTypeName","WeekdaysName","Rate","TotalSpots","Seconds","NTCTotalSpots","includes","ConsumedSpots","ConsumedSeconds","NTCConsumedSpots","BalancedSpots","BalancedSeconds","NTCBalanceSpots","Amount","ConsumedAmount","BalancedAmount","onClick","DealLineItemNo","date1","date2","formState","setFormState","CommercialMasterData","setThe_data_I_want_To_Upload","trafficDayList","generateCustomArray","formatDate","day","Intl","DateTimeFormat","format","month","substring","formatDate2","year","updateFormState","newFormState","currentYear","currentDate","Name","updatedCopyFormState","key","endsWith","parts","dealLineItemNo","commId","dateParts","MID","position","stringFromArray","replace","handleChange","target","totalKey","slice","join","limit","getLimit","valueInInt","parseInt","totalConsumedBalance","calculateTotalConsumedBalance","totalValue","calculateTotalValuSep","updateFormStateWithNewValue","openNotification","removeFormStateEntry","Object","keys","toString","reduce","total","calculateTotalValue","startsWith","sum","getFullYear","inputGridRef","useRef","handleKeyDownNavigation","rowIndex","dateFieldIndex","totalDays","currentInput","cursorAtStart","selectionStart","cursorAtEnd","current","focus","totalRows","createInputFields","weekendsdetail","startDate","endDate","fields","Math","floor","getTime","setDate","getDate","currentDay","getDay","isWeekendDay","weekend","Day","convertDateToYMD","fieldName","Name1","push","border","borderRadius","paddingLeft","marginRight","backgroundColor","onKeyDown","ref","el","isNumbers","result","setResult","useState","CheckConditionForCommId","setCheckConditionForCommId","CommId","setCommId","DealId","setDealId","InsettedData","setInsettedData","Array","isArray","useEffect","datesrange","newResult","forEach","dealLineItem","yearKey","commercialKey","start","dates","generateDateRange","commercialCode","Temp_string","BookingValue","number","arr","firstThreeAreNumbers","every","element","isNaN","hasNumbersAfterIndexThree","checkArray","checkedIndex","comm","commIndex","jsx","marginTop","title","CommercialCaption","VideoID","variant","icon","updatedState","formattedDate","fieldNameBase","removeKey","obj","keyPrefix","newObj","removeKeysStartingWith","formattedString","maxWidth","innerWidth","inputField","inputIndex","props","TabNav","TabList","TabContent","Tabs","ToolbarOptionsBooking","groupBy","manageColumns","daysOfWeek","midRaw","commercialId","mid","undefined","newKey","Boolean","ShowBookingFooter","onDialogClose","onDialogOk","ChannelSetting","auth","session","totalDuration","totalSpotAmount","parseDurationE","Number","FramePerSec","Duration","SpotAmount","borderColor","padding","numberToINRFormat","round","columns","useMemo","header","accessorKey","cell","original","SpotRate","BookingDetailsColumn","TotalSpot","AddedSpotCount","SpotCount","BookingDetailsColumnSummary","currentTab","setCurrentTab","Path","Content","base","common","user","dayjs","dealPeriodFrom","dealPeriodTo","setIsNTCPage","ManagedColumnBookings","setManagedColumnBookings","ManagedColumnBookings2","setManagedColumnBookings2","The_data_I_want_To_Upload","SelectedItem","setSelectedItem","TableColumns","setTableColumns","setCheckedItems","brand","setbrand","setposition","setTrafficDayList","dialogIsOpen","setIsOpen","dialogIsOpen2","setIsOpen2","showLoader","setShowLoader","ScheduleButton","setScheduleButton","spotposition","setspotposition","commercial","setcommercial","Dealdata2","setDealdata2","checkboxList","setCheckboxList","checkboxListDay","setCheckboxListDay","checkboxListDD","setCheckboxListDD","checkboxListDDCom","setCheckboxListDDCom","checkboxListCommercial","setCheckboxListCommercial","valueInsert","setValueInsert","valueInsertDateRange","setValueInsertDateRange","checkedAlternateDays","setCheckedAlternateDays","BrandMaster","BrandCode","showSpotdata","setshowSpotdata","BONUS","PAID","Drop","Cancelled","spotAmountSum","lengthof","collapse","setCollapse","Data","setData","defaultMonth","isAfter","startOf","isBefore","endOf","toDate","resp","status","navigate","useNavigate","locations","myid","apiCallforbookdeatil","SpotType","toUpperCase","BookingStatus","acc","bookingStatusCount","duration","hours","minutes","seconds","milliseconds","setDeatils","setSpotCopy","formattedOptions","PositionCode","PositionName","SpotPositionTypeCode","SpotPositionTypeName","Parameters","apiGetdealsearchdrop","DealCode","formatDateToDDMMMYYYY","apiGetBrandasperclient","ClientCode","brandOptions","BrandName","clients","killDate","KillDate","rangeStartDate","rangeEndDate","res","CommercialCode","dispatch","useDispatch","setDealData","setDealDataDetails","setdateForm","gboxElement2","document","getElementsByClassName","gboxElement1","gboxElement","display","dealmaster","apidealmasterBYID","dealdetail","apiGetdealdetailId","newBookSpotDeatils","setnewBookSpotDeatils","ShowBookingSpots","setShowBookingSpots","formattedData","SpotCopy","setChecked","InputValue","setInputValue","selectedFile","setSelectedFile","SelectMonth","setSelectMonth","monthOptions2024","generateMultiYearMonthOptions","sumAddedSpotCount","items","HeaderExtra","Component","SearchInputBooking","onCollapse","maxLength","test","isChecked","prevItems","prevItem","beforeUpload","files","fileList","uploadLimit","draggable","headersList","bodyContent","FormData","reader","FileReader","onload","arrayBuffer","event","blob","Blob","append","json","readAsArrayBuffer","SENDAPI","inputFormat","subtract","minDate","maxDate","DatePickerRange","disableDate","dateObj","find","CommercialTypeDropNew","isMulti","filteredData","entries","RK","parse","filteredData2","trim","placement","vertical","previous","filteredPrevious","newItems","existing","filteredArray","dateList","toLocaleDateString","deal","combinedTotalForDeal","weekendDetails","weekendNames","dayOfWeek","weekday","isWeekendAllowed","isCheckboxSelectedValid","isDaysInsert","isAlternateDay","valueKey","newTotal","projectedTotal","maxAllowed","filteredDataresult","fromEntries","processArray","totals","stickyClass","USP_SA_RO_SpotSchedule","visible","onHide","footer","ReportsTable","tableData","originalColumns","managedColumns","setManagedColumns","tableName","apiCallstoreprocedure","par_BookingNumber","prevData","handleDelete","apiCallstoreprocedure_WithOutParamgg","SEND_NOTIFICATION","ChannelName","val","newBookSpotDetails","par_BookingCode","formatedData","toolbarOptions","exportFileName","columnsToFormatInINR","Loader","VisableColumns","code","ScreenType","Sequence","isvisible","_extends","assign","bind","arguments","source","prototype","hasOwnProperty","call","apply","this","ChevronDownIcon","React","inProps","pti","IconBase","viewBox","fill","xmlns","d","displayName","ChevronRightIcon","TimesIcon","_arrayLikeToArray","len","arr2","_slicedToArray","_arrayWithHoles","r","l","t","Symbol","iterator","n","u","a","f","o","next","done","_iterableToArrayLimit","minLen","constructor","from","_unsupportedIterableToArray","TypeError","_nonIterableRest","PortalBase","defaultProps","__TYPE","appendTo","onMounted","onUnmounted","children","getProps","ObjectUtils","getOtherProps","Portal","context","PrimeReactContext","_React$useState2","DomHandler","mountedState","setMountedState","useMountEffect","useUpdateEffect","useUnmountEffect","PrimeReact","ReactDOM","_typeof","_toPropertyKey","arg","input","hint","prim","toPrimitive","String","_toPrimitive","_defineProperty","defineProperty","enumerable","configurable","writable","RippleBase","ComponentBase","css","styles","classes","root","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","Ripple","inkRef","targetRef","metaData","useStyle","_RippleBase$setMetaDa","setMetaData","getOwnPropertyDescriptors","defineProperties","_objectSpread","ptm","cx","getTarget","parentElement","bindEvents","addEventListener","onPointerDown","offset","offsetX","pageX","left","scrollTop","offsetY","pageY","top","scrollLeft","activateRipple","getComputedStyle","setDimensions","max","getInk","removeEventListener","rootProps","mergeProps","classNames","ripple","role","onAnimationEnd","currentTarget"],"sourceRoot":""}