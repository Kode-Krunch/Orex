"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[401],{80666:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var a=t(1413),i=t(2803),l=t(72791),o=t(67388),c=t(96361),n=t(46657),r=t(60364),d=t(4621),u=t(32640),p=t(80184);const m=()=>{const e=(0,r.useSelector)((e=>e.auth.session.token)),s=(0,l.useRef)(0);function t(e,s){i.Am.push((0,p.jsx)(i.P_,{closable:!0,type:s,duration:1e3,title:s.charAt(0).toUpperCase()+s.slice(1),children:e}))}const[m,y]=(0,l.useState)(""),[h,g]=(0,l.useState)(!1),[x,f]=(0,l.useState)(""),[N,T]=(0,l.useState)(!1),[V,v]=(0,l.useState)(),b=(0,l.useRef)(null),[A,j]=(0,l.useState)();(0,l.useEffect)((()=>{s.current=s.current+1,1==s.current&&(async e=>{const s=[...(await(0,o.apiGetvideotypeMaster)()).data].reverse().map(((e,s)=>(0,a.Z)((0,a.Z)({},e),{},{serialNumber:s+1})));j(s)})()}),[]);const w=s=>{console.log("VideoType",A);const a=[...A];let i=a[s];i.IsActive=1==i.IsActive?0:1,(0,o.UpdateVideoType)(i,e).then((e=>204==e.status?(console.log(e),t("Data Already Exists.","warning"),null):e.json())).then((e=>{e.serialNumber=i.serialNumber,e.IsActive=i.IsActive,e.VideoTypeName=i.VideoTypeName,a[s]=e,j(a),t("Data Updated Succesfully","success")})).catch((e=>{console.log(e)}))},S=[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"VideoTypeName",header:"VideoTypeName",width:"20%"}];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n.F,{ref:b}),(0,p.jsx)(d.Q,{group:"declarative",visible:N,onHide:()=>T(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{w(V)}}),(0,p.jsx)(i.Zb,{header:(0,p.jsxs)("div",{className:"flex justify-between",children:[(0,p.jsx)("div",{children:(0,p.jsx)("span",{className:"flex items-center",children:(0,p.jsx)(c.Z,{ModuleText:"Programming",Component:"Video Type"})})}),(0,p.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}}),(0,p.jsx)("div",{})]}),headerExtra:(0,u.W)(x,f,g,h,(()=>{if(m){const s={VideoTypeName:m,IsActive:1};(0,o.AddVideoType)(s,e).then((e=>{204==e.status&&t("Data Already Exists.","warning"),200==e.status&&(s.serialNumber=A.length+1,j((e=>[...e,s])),t("Data Added Succesfully","success")),y(""),g(!1)})).catch((e=>{console.log(e)}))}else t("Kindly Enter Video Type Name","danger")}),m,y,"Video Type",A,S),bodyClass:"text-center",children:(0,p.jsx)(u.Z,{data:A,onRowEditComplete:s=>{let a=[...A],{newData:i,index:l}=s;console.log(i),a[l].VideoTypeName=i.VideoTypeName,a[l].IsActive=i.IsActive,i.VideoTypeName&&(console.log("_VideoType",a),(0,o.UpdateVideoType)(i,e).then((e=>204==e.status?(console.log(e),t("Data Already Exists.","warning"),null):e.json())).then((e=>{console.log(e),console.log(i.serialNumber),a[l]=e,a[l].serialNumber=i.serialNumber,a[l].VideoTypeName=i.VideoTypeName,a[l].IsActive=i.IsActive,j(a),t("Data Updated Succesfully","success")})).catch((e=>{console.log(e)})))},globalFilter:x,dataKey:"VideoTypeCode",columns:S,setyup:v,scrollHeight:"70vh",setVisible:T})})]})}}}]);
//# sourceMappingURL=401.179f4ea6.chunk.js.map