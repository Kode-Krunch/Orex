"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[5216],{15216:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var n=s(2803),r=s(72791),a=s(16856),c=s(23853),o=s(84373),i=s(80184);const l=function(e){let{isOpen:t,setIsOpen:s,maxDurationInSec:a,setMaxDurationInSec:l}=e;const[u,x]=(0,r.useState)(parseInt(a/60)),d=()=>{try{s(!1)}catch(e){console.error(e)}};return(0,i.jsxs)(n.Vq,{isOpen:t,onClose:d,onRequestClose:d,children:[(0,i.jsx)("h5",{className:"mb-4 pb-2 border-b border-b-gray-700",children:"Edit Duration"}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("p",{className:"text-white",children:"Duration"}),(0,i.jsxs)("div",{className:"mt-1 flex items-center gap-3 text-white",children:[(0,i.jsx)(n.zx,{icon:(0,i.jsx)(c.ego,{className:"text-white"}),size:"xs",onClick:()=>{u>1&&x(u-1)},disabled:1===u}),(0,i.jsxs)(i.Fragment,{children:[u<10?"0".concat(u):u," ","Min"]}),(0,i.jsx)(n.zx,{icon:(0,i.jsx)(o.D0w,{className:"text-white"}),size:"xs",onClick:()=>{u<61&&x(u+1)},disabled:59===u})]})]}),(0,i.jsx)("div",{className:"text-right mt-4 pt-4 border-t border-t-gray-700",children:(0,i.jsx)(n.zx,{variant:"solid",onClick:()=>{l(60*u),d()},children:"Save"})})]})};const u=function(e){let{width:t,strokeWidth:s,color:c,maxDurationInSec:o,dependencies:u,executeFunction:x}=e;const[d,h]=(0,r.useState)(o),[m,p]=(0,r.useState)(o),[v,f]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),I=(0,r.useRef)(!1),b=(0,r.useRef)(Date.now());let N,S="".concat(parseInt(d/60)<10?"0".concat(parseInt(d/60)):parseInt(d/60),":").concat(d%60<10?"0".concat(d%60):d%60);(0,r.useEffect)((()=>{try{return v?N=setInterval((async()=>{if(0===d){if("function"===typeof x){if(I.current)return;I.current=!0,await x(),I.current=!1}h(m)}else h((e=>e-1))}),1e3):clearInterval(N),()=>clearInterval(N)}catch(e){console.error(e)}}),[v,d,...u]),(0,r.useEffect)((()=>{try{h(m);const e=setInterval((()=>{Date.now()-b.current>2*m*1e3&&f(!1)}),1e3);return window.addEventListener("mousemove",k),()=>{window.removeEventListener("mousemove",k),clearInterval(e)}}catch(e){console.error(e)}}),[m]);const k=()=>{b.current=Date.now()};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.Ex,{variant:"circle",percent:d/m*100,width:t,customInfo:(0,i.jsxs)("p",{className:"flex flex-col items-center justify-center mt-2.5",children:[(0,i.jsx)(n.u,{title:"".concat(v?"Auto saving in ".concat(S):"Auto save paused at ".concat(S),". Click to edit."),placement:"top-end",wrapperClass:"hover:cursor-pointer",children:(0,i.jsx)("span",{className:"text-xs font-semibold",onClick:()=>w(!0),children:S})}),(0,i.jsx)("div",{onClick:()=>f(!v),children:(0,i.jsx)(n.u,{title:v?"Pause Auto Save":"Play Auto Save",wrapperClass:"transition-all",children:v?(0,i.jsx)(a.WtV,{className:"text-sm hover:cursor-pointer hover:text-".concat(c," transition-all")}):(0,i.jsx)(a.Nhx,{className:"text-sm hover:cursor-pointer hover:text-".concat(c," transition-all")})})})]}),strokeWidth:s,color:c,className:"!w-max"}),(0,i.jsx)(l,{isOpen:j,setIsOpen:w,maxDurationInSec:m,setMaxDurationInSec:p})]})}}}]);
//# sourceMappingURL=5216.bc25077b.chunk.js.map