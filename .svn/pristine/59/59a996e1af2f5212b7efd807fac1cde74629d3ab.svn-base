{"version":3,"file":"static/js/6446.cbd14809.chunk.js","mappings":"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","sources":["views/Scheduling/Scheduler/components/SchedulingArea/components/Toolbar/components/SmartShuffleDrawer/index.js"],"sourcesContent":["import React, { useEffect, useState, useCallback, useMemo, useContext } from 'react';\r\nimport { DragDropContext, Draggable, Droppable } from '@hello-pangea/dnd';\r\nimport { AdaptableCard, Container } from 'components/shared';\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Card,\r\n  Dialog,\r\n  Drawer,\r\n  Input,\r\n  Radio,\r\n  Switcher,\r\n  Table,\r\n  Tabs,\r\n  Tooltip,\r\n} from 'components/ui';\r\nimport { HiOutlineExclamationCircle, HiOutlineUser } from 'react-icons/hi';\r\nimport { RiDraggable } from 'react-icons/ri';\r\nimport { TbSettings } from 'react-icons/tb';\r\nimport { getRandomColorClass } from 'views/Billing/BillGeneration/dtat';\r\nimport {\r\n  apiGetsmartshufflesetting,\r\n  apiPostsmartshufflesetting,\r\n  apiPutsmartshufflesetting,\r\n} from 'services/SchedulingService';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n  formatOnHHMMSSFFBlur,\r\n  handleChangeWithFrameNew,\r\n  openNotification,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport { convertDateToYMD, isNumbers } from 'components/validators';\r\nimport Loader from 'views/Controls/Loader';\r\nimport TabList from 'components/ui/Tabs/TabList';\r\nimport TabNav from 'components/ui/Tabs/TabNav';\r\nimport { apiGetbrandmaster } from 'services/ProgrammingService';\r\nimport { apiCallstoreprocedure } from 'services/CommonService';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport { operationTypesEnum } from 'views/Scheduling/Scheduler/enum';\r\nimport { apiGetagencymasterDrop } from 'services/CreditcontrolService';\r\n\r\nconst { Tr, Th, Td, THead, TBody } = Table;\r\n\r\nconst getListStyle = (isDraggingOver) => ({\r\n  background: isDraggingOver ? 'transparent' : 'transparent',\r\n});\r\n\r\nconst getItemStyle = (isDragging, draggableStyle) => ({\r\n  userSelect: 'none',\r\n  margin: '0 0 5px 0',\r\n  background: isDragging ? 'transparent' : 'transparent',\r\n  display: isDragging ? 'flex' : null,\r\n  ...draggableStyle,\r\n});\r\n\r\n\r\nconst SmartShuffleDrawer = ({ verticalOpen, onDrawerClose, }) => {\r\n  /* CONTEXT */\r\n  const {\r\n    date,\r\n    showLoader,\r\n    setShowLoader,\r\n    executeOperation\r\n  } = useContext(SchedulerContext);\r\n\r\n  const ChannelSetting = useSelector(\r\n    (state) => state.auth.session.ChannelSetting,\r\n  );\r\n  const Channel = useSelector((state) => state.locale.selectedChannel);\r\n  const [currentStep, setCurrentStep] = useState('0');\r\n  const [storeApiData, setStoreApiData] = useState({});\r\n  const [isConfirmDialog, setIsConfirmDialog] = useState(false);\r\n\r\n  const [inputs, setInputs] = useState({\r\n    SpotSequence: 2,\r\n    SpotRate: 0,\r\n    Timeband: 0,\r\n  });\r\n  const [brandsList, setBrandsList] = useState([]);\r\n  const [agencyList, setAgencyList] = useState([]);\r\n\r\n  const formatAgencysandBrand = useCallback((items) => {\r\n    return items.map((item, index) => ({\r\n      Code: item.Code,\r\n      Name: item.Name,\r\n      colorClass: getRandomColorClass(),\r\n      back2back: item?.back2back === 1,\r\n      multi: item?.multi === 1,\r\n      sequence: item?.sequence || index + 1,\r\n    }));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchSmartShuffleSetting = async () => {\r\n      try {\r\n        setShowLoader(true);\r\n        const params = {\r\n          LocationCode: Channel.LocationCode,\r\n          ChannelCode: Channel.ChannelCode,\r\n        };\r\n        const response = await apiGetsmartshufflesetting(params);\r\n\r\n        if (response.data[0]) {\r\n          const data = response.data[0];\r\n\r\n          setStoreApiData(data);\r\n          setInputs({\r\n            SmartshufflesettingCode: data.SmartshufflesettingCode,\r\n            MultiSpots: data.MultiSpots === 1,\r\n            MakeGoodPriority: data.MakeGoodPriority === 1,\r\n            BreakDuration: data.BreakDuration,\r\n            BonusRatio: data.BonusRatio,\r\n            SpotRate: data.SpotRate,\r\n            Timeband: data.Timeband,\r\n            SpotSequence: data.SpotSequence,\r\n            Isbarkrating: data.Isbarkrating === 1,\r\n            hour_allocation: data.hour_allocation == \"1\",\r\n          });\r\n\r\n          // Fetch brand/agency lists based on SpotSequence\r\n          if (data.SpotSequence === 2) {\r\n            fetchAgencyList([]); // Fetch agency list from API\r\n            fetchBrandList(data.details);\r\n          } else if (data.SpotSequence === 1) {\r\n            fetchBrandList([]);\r\n            fetchAgencyList(data.details);\r\n          } else {\r\n            fetchBrandsAndAgencies();\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch Smart Shuffle Setting:\", error);\r\n      } finally {\r\n        setShowLoader(false);\r\n      }\r\n    };\r\n\r\n    fetchSmartShuffleSetting();\r\n  }, [Channel]);\r\n\r\n\r\n  const mergeUniqueEntries = (existingArray, newData, codeKey, nameKey) => {\r\n    const existingCodes = new Set(existingArray.map((item) => item.Code));\r\n    const updatedExistingArray = existingArray.map((item) => ({\r\n      ...item,\r\n      colorClass: item.colorClass || getRandomColorClass(),\r\n    }));\r\n    return [\r\n      ...updatedExistingArray,\r\n      ...newData\r\n        .filter((item) => !existingCodes.has(item[codeKey]))\r\n        .map((item, index) => ({\r\n          Code: item[codeKey],\r\n          Name: item[nameKey],\r\n          back2back: 0,\r\n          colorClass: getRandomColorClass(),\r\n          multi: 0,\r\n          sequence: updatedExistingArray.length + index + 1,\r\n        })),\r\n    ];\r\n  };\r\n\r\n\r\n  const fetchBrandList = async (array) => {\r\n    try {\r\n      const brandResponse = await apiGetbrandmaster();\r\n      const newBrandList = array.length > 0\r\n        ? mergeUniqueEntries(array, brandResponse.data, \"BrandCode\", \"BrandName\")\r\n        : formatAgencysandBrand(\r\n          brandResponse.data.map(({ BrandName, BrandCode }) => ({\r\n            Name: BrandName,\r\n            Code: BrandCode,\r\n          }))\r\n        );\r\n      setBrandsList(newBrandList);\r\n    } catch (error) {\r\n      console.error(\"Error fetching brand list:\", error);\r\n    }\r\n  };\r\n\r\n  const fetchAgencyList = async (array) => {\r\n    try {\r\n      const agencyResponse = await apiGetagencymasterDrop();\r\n      const newAgencyList = array.length > 0\r\n        ? mergeUniqueEntries(array, agencyResponse.data, \"AgencyCode\", \"AgencyName\")\r\n        : formatAgencysandBrand(\r\n          agencyResponse.data.map(({ AgencyName, AgencyCode }) => ({\r\n            Name: AgencyName,\r\n            Code: AgencyCode,\r\n          }))\r\n        );\r\n\r\n      setAgencyList(newAgencyList);\r\n    } catch (error) {\r\n      console.error(\"Error fetching agency list:\", error);\r\n    }\r\n  };\r\n\r\n  const fetchBrandsAndAgencies = async () => {\r\n    try {\r\n      const [brandResponse, agencyResponse] = await Promise.all([\r\n        apiGetbrandmaster(),\r\n        apiGetagencymasterDrop(),\r\n      ]);\r\n\r\n      setBrandsList(\r\n        formatAgencysandBrand(\r\n          brandResponse.data.map(({ BrandName, BrandCode }) => ({\r\n            Name: BrandName,\r\n            Code: BrandCode,\r\n          }))\r\n        )\r\n      );\r\n\r\n      setAgencyList(\r\n        formatAgencysandBrand(\r\n          agencyResponse.data.map(({ AgencyName, AgencyCode }) => ({\r\n            Name: AgencyName,\r\n            Code: AgencyCode,\r\n          }))\r\n        )\r\n      );\r\n    } catch (error) {\r\n      console.error(\"Error fetching brands or agencies:\", error);\r\n    }\r\n  };\r\n\r\n\r\n  const handleInputChange = (field, value) => {\r\n\r\n    setInputs((prev) => ({ ...prev, [field]: value }));\r\n  };\r\n  const handleBlur = (event) => {\r\n    const { name, value } = event.target;\r\n    const formattedValue = (value, Number(ChannelSetting[0]?.FramePerSec || 24));\r\n    setInputs((prevFormState) => ({\r\n      ...prevFormState,\r\n      [name]: formattedValue,\r\n    }));\r\n  };\r\n  const handleToggle = (field) => {\r\n    setInputs((prev) => ({ ...prev, [field]: !prev[field] }));\r\n  };\r\n\r\n  const handleSwitchChange = (index, field) => {\r\n    setBrandsList((prev) =>\r\n      prev.map((item, i) =>\r\n        i === index\r\n          ? {\r\n            ...item,\r\n            [field]: !item[field],\r\n            ...(field === \"back2back\" && !item[field] ? { multi: true } : {}), // If back2back is checked, set multi to true\r\n          }\r\n          : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleSwitchChangeAgency = (index, field) => {\r\n    setAgencyList((prev) =>\r\n      prev.map((item, i) =>\r\n        i === index\r\n          ? {\r\n            ...item,\r\n            [field]: !item[field],\r\n            ...(field === \"back2back\" && !item[field] ? { multi: true } : {}), // If back2back is checked, set multi to true\r\n          }\r\n          : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const saveData = async () => {\r\n    setShowLoader(true);\r\n\r\n    const ParamsData = {\r\n      request: {\r\n        ...inputs,\r\n        Isbarkrating: inputs.Isbarkrating ? 1 : 0,\r\n        MultiSpots: inputs.MultiSpots ? 1 : 0,\r\n        MakeGoodPriority: inputs.MakeGoodPriority ? 1 : 0,\r\n        LocationCode: Channel.LocationCode,\r\n        ChannelCode: Channel.ChannelCode,\r\n        IsActive: 1,\r\n        BreakDuration: inputs.BreakDuration,\r\n        BonusRatio: inputs.BonusRatio,\r\n        SpotRate: inputs.SpotRate,\r\n        Timeband: inputs.Timeband,\r\n        SpotSequence: inputs.SpotSequence,\r\n        hour_allocation: inputs.hour_allocation ? '1' : '0',\r\n\r\n      },\r\n\r\n      details: inputs.SpotSequence == 0 ? [] : inputs.SpotSequence == 1 ? agencyList.map((item, key) => ({ ...item, back2back: item.back2back ? 1 : 0, multi: item.multi ? 1 : 0, sequence: key + 1 })) : brandsList.map((item, key) => ({ ...item, back2back: item.back2back ? 1 : 0, multi: item.multi ? 1 : 0, sequence: key + 1 })),\r\n    };\r\n    try {\r\n      const response = inputs.SmartshufflesettingCode\r\n        ? await apiPutsmartshufflesetting(\r\n          ParamsData,\r\n          inputs.SmartshufflesettingCode,\r\n        )\r\n        : await apiPostsmartshufflesetting(ParamsData);\r\n\r\n      if (response.status === 200) {\r\n        onDrawerClose();\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to save data:', error);\r\n    } finally {\r\n      setShowLoader(false);\r\n    }\r\n  };\r\n\r\n  const onDragEndBrand = (result) => {\r\n    if (!result.destination) return;\r\n\r\n    const reorderedList = Array.from(brandsList);\r\n    const [moved] = reorderedList.splice(result.source.index, 1);\r\n    reorderedList.splice(result.destination.index, 0, moved);\r\n\r\n    setBrandsList(reorderedList);\r\n  };\r\n  const onDragEndAgency = (result) => {\r\n    if (!result.destination) return;\r\n\r\n    const reorderedList = Array.from(agencyList);\r\n    const [moved] = reorderedList.splice(result.source.index, 1);\r\n    reorderedList.splice(result.destination.index, 0, moved);\r\n\r\n    setAgencyList(reorderedList);\r\n  };\r\n  const Footer = (\r\n    <div className=\"text-right w-full\">\r\n      <Button size=\"sm\" className=\"mr-2\" onClick={onDrawerClose}>\r\n        Cancel\r\n      </Button>\r\n\r\n      <Button size=\"sm\" variant=\"twoTone\" onClick={saveData} className=\"mr-2\">\r\n        Save\r\n      </Button>\r\n      <Button size=\"sm\" variant=\"solid\" onClick={() => setIsConfirmDialog(true)}>\r\n        Smart Shuffle\r\n      </Button>\r\n    </div>\r\n  );\r\n  return (\r\n    <>\r\n      <Loader showLoader={showLoader} />\r\n      <Drawer\r\n        title=\"Auto Smart Shuffle\"\r\n        isOpen={verticalOpen}\r\n        placement=\"right\"\r\n        footer={Footer}\r\n        width={800}\r\n        onClose={onDrawerClose}\r\n      >\r\n        <Container className=\"h-full\">\r\n          <div className=\"grid grid-cols-6 gap-4 \">\r\n            <div className=\"col-span-6\">\r\n              <Tabs\r\n                value={currentStep}\r\n                onChange={(val) => setCurrentStep(val)}\r\n              >\r\n                <TabList>\r\n                  <TabNav value={'0'} icon={<TbSettings />}>\r\n                    Settings\r\n                  </TabNav>\r\n                  <TabNav value={'1'} icon={<TbSettings />}>\r\n                    Spot Sequence\r\n                  </TabNav>\r\n\r\n                </TabList>\r\n              </Tabs>\r\n            </div>\r\n          </div>\r\n          {currentStep === '0' && (\r\n            <Card\r\n              className=\"col-span-6 mt-4\"\r\n            >\r\n              <div className=\"flex justify-between grid grid-cols-6 gap-3 pb-2 \">\r\n                <div className=\" col-span-2\" >\r\n                  <div >\r\n                    <label>Per Break</label>\r\n                    <Input\r\n                      className=\"w-50 \"\r\n                      size=\"sm\"\r\n                      name=\"BreakDuration\"\r\n                      maxLength=\"12\"\r\n                      value={inputs.BreakDuration}\r\n                      disabled={inputs.hour_allocation}\r\n                      onChange={(e) =>\r\n                        handleChangeWithFrameNew(e, setInputs, Number(ChannelSetting[0]?.FramePerSec || 24))\r\n                      }\r\n                      onBlur={handleBlur}\r\n                    />\r\n                  </div>\r\n\r\n                </div>\r\n                <div className=\" col-span-1\">\r\n                  <label>Bonus Ratio</label>\r\n                  <Input\r\n                    className=\"w-28\"\r\n                    size=\"sm\"\r\n                    prefix=\"%\"\r\n                    maxLength=\"3\"\r\n                    suffix={\r\n                      <Tooltip title=\"Between 100%\">\r\n                        <HiOutlineExclamationCircle className=\"text-lg cursor-pointer ml-1\" />\r\n                      </Tooltip>\r\n                    }\r\n                    value={inputs.BonusRatio}\r\n                    onChange={(e) => {\r\n                      if (isNumbers(e.target.value)) {\r\n                        handleInputChange('BonusRatio', e.target.value);\r\n                      }\r\n                    }}\r\n                  />\r\n                </div>\r\n                <div className=\"col-span-3\">\r\n                  <Switcher\r\n                    checked={inputs.hour_allocation}\r\n                    className=\"mt-1 mr-2\"\r\n                    onChange={(e) => {\r\n                      handleToggle('hour_allocation');\r\n                      if (!inputs.hour_allocation) {\r\n                        setInputs((prev) => ({ ...prev, 'BreakDuration': '' }));\r\n                      }\r\n                    }}\r\n                  />\r\n                  <div>\r\n                    <h6 className=\"!font-medium !text-sm\">Hourly Allocation</h6>\r\n                    <p>Multiple One program for better reach and revenue.</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className='grid grid-cols-3 gap-2 pb-4 pt-2'  >\r\n                <AdaptableCard bodyClass=\"p-3\" className=\"w-[200px]  col-1\">\r\n                  <h6>Timeband</h6>\r\n                  <Radio.Group\r\n                    vertical\r\n                    value={inputs.Timeband}\r\n                    onChange={(val) => handleInputChange('Timeband', val)}\r\n                  >\r\n                    <Radio value={0}>No Preference</Radio>\r\n                    <Radio value={1}>Short Timeband</Radio>\r\n                    <Radio value={2}>Long Timeband</Radio>\r\n                  </Radio.Group>\r\n                </AdaptableCard>\r\n                {/* {inputs.Timeband} */}\r\n                <div>\r\n                  <Card bodyClass=\"p-3\">\r\n                    <h6>SpotRate</h6>\r\n                    <Radio.Group\r\n                      vertical\r\n                      value={inputs.SpotRate}\r\n                      onChange={(val) => handleInputChange('SpotRate', val)}\r\n                    >\r\n                      <Radio value={0}>No Preference</Radio>\r\n                      <Radio value={1}>Low To High</Radio>\r\n                      <Radio value={2}>High To Low</Radio>\r\n\r\n                    </Radio.Group>\r\n                  </Card>\r\n                </div>\r\n\r\n\r\n              </div>\r\n              <div className=\"flex justify-between mb-4\">\r\n                <div>\r\n                  <div className=\"flex mb-3\">\r\n                    <Switcher\r\n                      checked={inputs.MultiSpots}\r\n                      className=\"mt-1 mr-2\"\r\n                      onChange={() => handleToggle('MultiSpots')}\r\n                    />\r\n                    <div>\r\n                      <h6 className=\"!font-medium !text-sm\">Multi Spots</h6>\r\n                      <p>Multiple One program for better reach and revenue.</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex mb-3\">\r\n                    <Switcher\r\n                      checked={inputs.MakeGoodPriority}\r\n                      className=\"mt-1 mr-2\"\r\n                      onChange={() => handleToggle('MakeGoodPriority')}\r\n                    />\r\n                    <div>\r\n                      <h6 className=\"!font-medium !text-sm\">\r\n                        MakeGood Priority\r\n                      </h6>\r\n                      <p>\r\n                        Set Priority spots if their original spots fail to air.\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex mb-3\">\r\n                    <Switcher\r\n                      checked={inputs.Isbarkrating}\r\n                      className=\"mt-1 mr-2\"\r\n                      onChange={() => handleToggle('Isbarkrating')}\r\n                    />\r\n                    <div>\r\n                      <h6 className=\"!font-medium !text-sm\">As Per BARC Rating</h6>\r\n                      <p>Multiple One program for better reach and revenue.</p>\r\n                    </div>\r\n                  </div>\r\n                </div>{' '}\r\n\r\n\r\n              </div>\r\n            </Card>\r\n          )}\r\n          {currentStep === '1' && (\r\n            <AdaptableCard\r\n              className=\"h-full col-span-6 grow overflow-y-auto mt-4\"\r\n              bodyClass=\"h-full grow overflow-y-auto\"\r\n            >\r\n              <Card bodyClass=\"p-2 \" className='mb-2'>\r\n                <h6 className='mb-2'>Spot Sequence</h6>\r\n                <Radio.Group\r\n                  value={inputs.SpotSequence}\r\n                  onChange={(val) => handleInputChange('SpotSequence', val)}\r\n                >\r\n                  <Radio value={0}>No Preference</Radio>\r\n                  <Radio value={1}>Agency Wise</Radio>\r\n                  <Radio value={2}>Brand Wise</Radio>\r\n                </Radio.Group>\r\n              </Card>\r\n              {inputs.SpotSequence == 2 && <DragDropContext onDragEnd={onDragEndBrand}>\r\n                <Droppable droppableId=\"brandsList\">\r\n                  {(provided, snapshot) => (\r\n                    <div\r\n                      {...provided.droppableProps}\r\n                      ref={provided.innerRef}\r\n                      style={getListStyle(snapshot.isDraggingOver)}\r\n                    >\r\n                      <Table compact borderlessRow={false}>\r\n                        <THead>\r\n                          <Tr>\r\n                            <Th>Brand</Th>\r\n                            <Th>Is Back 2 Back</Th>\r\n                            <Th>Is MultiBrand</Th>\r\n                          </Tr>\r\n                        </THead>\r\n                        <TBody>\r\n                          {brandsList.map((item, index) => (\r\n                            <Draggable\r\n                              key={`${item?.Code}`}\r\n                              draggableId={`${item?.Code}`}\r\n                              index={index}\r\n                            >\r\n                              {(provided, snapshot) => (\r\n                                <Tr\r\n                                  ref={provided.innerRef}\r\n                                  {...provided.draggableProps}\r\n                                  {...provided.dragHandleProps}\r\n                                  style={getItemStyle(\r\n                                    snapshot.isDragging,\r\n                                    provided.draggableProps.style,\r\n                                  )}\r\n                                >\r\n                                  <Td className=\"flex items-center\">\r\n                                    <RiDraggable\r\n                                      size={20}\r\n                                      className=\"mr-1\"\r\n                                    />\r\n                                    <Avatar\r\n                                      size=\"sm\"\r\n                                      shape=\"circle\"\r\n                                      className={`mr-3 dark:${item.colorClass} ${item.colorClass}`}\r\n                                    >\r\n                                      <p className=\"text-base dark:text-gray-200 text-gray-800\">\r\n                                        {item?.Name && item?.Name.slice(0, 1)}\r\n                                      </p>\r\n                                    </Avatar>\r\n                                    <div>\r\n                                      <p className=\"text-base font-semibold dark:text-gray-200 text-gray-800 capitalize\">\r\n                                        {item?.Name}\r\n                                      </p>{' '}\r\n                                      <p className=\"text-xs dark:text-gray-400 text-gray-400\">\r\n                                        {item?.Name}\r\n                                      </p>\r\n                                    </div>\r\n                                  </Td>\r\n                                  <Td>\r\n                                    <Switcher\r\n                                      checked={item?.back2back}\r\n                                      onChange={() =>\r\n                                        handleSwitchChange(\r\n                                          index,\r\n                                          'back2back',\r\n                                        )\r\n                                      }\r\n                                    />\r\n                                  </Td>\r\n                                  <Td>\r\n                                    <Switcher\r\n                                      checked={item?.multi}\r\n                                      onChange={() =>\r\n                                        handleSwitchChange(\r\n                                          index,\r\n                                          'multi',\r\n                                        )\r\n                                      }\r\n                                    />\r\n                                  </Td>\r\n                                </Tr>\r\n                              )}\r\n                            </Draggable>\r\n                          ))}\r\n                          {provided.placeholder}\r\n                        </TBody>\r\n                      </Table>\r\n                    </div>\r\n                  )}\r\n                </Droppable>\r\n              </DragDropContext>}\r\n              {inputs.SpotSequence == 1 && <DragDropContext onDragEnd={onDragEndAgency}>\r\n                <Droppable droppableId=\"agencyList\">\r\n                  {(provided, snapshot) => (\r\n                    <div\r\n                      {...provided.droppableProps}\r\n                      ref={provided.innerRef}\r\n                      style={getListStyle(snapshot.isDraggingOver)}\r\n                    >\r\n                      <Table compact borderlessRow={false}>\r\n                        <THead>\r\n                          <Tr>\r\n                            <Th>Agency</Th>\r\n                            <Th>Is Back 2 Back</Th>\r\n                            <Th>Is Multi Agency</Th>\r\n                          </Tr>\r\n                        </THead>\r\n                        <TBody>\r\n                          {agencyList.map((item, index) => (\r\n                            <Draggable\r\n                              key={`${item?.Code}`}\r\n                              draggableId={`${item?.Code}`}\r\n                              index={index}\r\n                            >\r\n                              {(provided, snapshot) => (\r\n                                <Tr\r\n                                  ref={provided.innerRef}\r\n                                  {...provided.draggableProps}\r\n                                  {...provided.dragHandleProps}\r\n                                  style={getItemStyle(\r\n                                    snapshot.isDragging,\r\n                                    provided.draggableProps.style,\r\n                                  )}\r\n                                >\r\n                                  <Td className=\"flex items-center\">\r\n                                    <RiDraggable\r\n                                      size={20}\r\n                                      className=\"mr-1\"\r\n                                    />\r\n                                    <Avatar\r\n                                      size=\"sm\"\r\n                                      shape=\"circle\"\r\n                                      className={`mr-3 dark:${item.colorClass} ${item.colorClass}`}\r\n                                    >\r\n                                      <p className=\"text-base dark:text-gray-200 text-gray-800\">\r\n                                        {item?.Name?.slice(0, 1)}\r\n                                      </p>\r\n                                    </Avatar>\r\n                                    <div>\r\n                                      <p className=\"text-base font-semibold dark:text-gray-200 text-gray-800 capitalize\">\r\n                                        {item?.Name}\r\n                                      </p>{' '}\r\n                                      <p className=\"text-xs dark:text-gray-400 text-gray-400\">\r\n                                        {item?.Name}\r\n                                      </p>\r\n                                    </div>\r\n                                  </Td>\r\n                                  <Td>\r\n                                    <Switcher\r\n                                      checked={item.back2back}\r\n                                      onChange={() =>\r\n                                        handleSwitchChangeAgency(\r\n                                          index,\r\n                                          'back2back',\r\n                                        )\r\n                                      }\r\n                                    />\r\n                                  </Td>\r\n                                  <Td>\r\n                                    <Switcher\r\n                                      checked={item?.multi}\r\n                                      onChange={() =>\r\n                                        handleSwitchChangeAgency(\r\n                                          index,\r\n                                          'multi',\r\n                                        )\r\n                                      }\r\n                                    />\r\n                                  </Td>\r\n                                </Tr>\r\n                              )}\r\n                            </Draggable>\r\n                          ))}\r\n                          {provided.placeholder}\r\n                        </TBody>\r\n                      </Table>\r\n                    </div>\r\n                  )}\r\n                </Droppable>\r\n              </DragDropContext>}\r\n            </AdaptableCard>)}\r\n\r\n\r\n        </Container>\r\n      </Drawer>\r\n      <Dialog\r\n        isOpen={isConfirmDialog}\r\n        onClose={() => setIsConfirmDialog(false)}\r\n        onRequestClose={() => setIsConfirmDialog(false)}\r\n      >\r\n        <h5 className=\"mb-4\">Confirm Smart Shuffle</h5>\r\n        <p>\r\n          Are you sure you want to do Smart Shuffle\r\n        </p>\r\n        <div className=\"text-right mt-6\">\r\n          <Button\r\n            className=\"ltr:mr-2 rtl:ml-2\"\r\n            variant=\"plain\"\r\n            onClick={() => setIsConfirmDialog(false)}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"solid\" onClick={async () => {\r\n            try {\r\n              setShowLoader(true);\r\n              const Resp = await apiCallstoreprocedure('CloudBATS_AutoShuffle', {\r\n                LocationCode: Channel.LocationCode,\r\n                ChannelCode: Channel.ChannelCode,\r\n                ScheduleDate: convertDateToYMD(date)\r\n              })\r\n              if (Resp.status === 200) {\r\n                try {\r\n                  await executeOperation({\r\n                    operation: operationTypesEnum.INITIALIZE_SCHEDULER,\r\n                    isFirstLoad: true,\r\n                  });\r\n                  openNotification('success', 'Smart Shuffle has been successfully completed');\r\n                } catch (error) {\r\n                  openNotification(\r\n                    'danger',\r\n                    'Smart Shuffle is failed to refresh the schedule',\r\n                  );\r\n                }\r\n\r\n              }\r\n            } catch (error) {\r\n              openNotification(\r\n                'danger',\r\n                'Please Save Settings before Smart Shuffle.!',\r\n              );\r\n            } finally {\r\n              setShowLoader(false);\r\n              setIsConfirmDialog(false)\r\n            }\r\n\r\n          }}>\r\n            Okay\r\n          </Button>\r\n        </div>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SmartShuffleDrawer;\r\n"],"names":["Tr","Th","Td","THead","TBody","Table","getItemStyle","isDragging","draggableStyle","userSelect","margin","background","display","verticalOpen","onDrawerClose","date","showLoader","setShowLoader","executeOperation","useContext","SchedulerContext","ChannelSetting","useSelector","state","auth","session","Channel","locale","selectedChannel","currentStep","setCurrentStep","useState","storeApiData","setStoreApiData","isConfirmDialog","setIsConfirmDialog","inputs","setInputs","SpotSequence","SpotRate","Timeband","brandsList","setBrandsList","agencyList","setAgencyList","formatAgencysandBrand","useCallback","items","map","item","index","Code","Name","colorClass","getRandomColorClass","back2back","multi","sequence","useEffect","async","params","LocationCode","ChannelCode","response","apiGetsmartshufflesetting","data","SmartshufflesettingCode","MultiSpots","MakeGoodPriority","BreakDuration","BonusRatio","Isbarkrating","hour_allocation","fetchAgencyList","fetchBrandList","details","fetchBrandsAndAgencies","error","console","fetchSmartShuffleSetting","mergeUniqueEntries","existingArray","newData","codeKey","nameKey","existingCodes","Set","updatedExistingArray","filter","has","length","brandResponse","apiGetbrandmaster","newBrandList","array","BrandName","BrandCode","agencyResponse","apiGetagencymasterDrop","newAgencyList","AgencyName","AgencyCode","Promise","all","handleInputChange","field","value","prev","handleToggle","handleSwitchChange","i","handleSwitchChangeAgency","Footer","className","size","onClick","variant","ParamsData","request","IsActive","key","apiPutsmartshufflesetting","apiPostsmartshufflesetting","status","title","isOpen","placement","footer","width","onClose","onChange","val","icon","name","maxLength","disabled","e","handleChangeWithFrameNew","Number","FramePerSec","onBlur","event","target","formattedValue","prevFormState","prefix","suffix","isNumbers","checked","bodyClass","vertical","onDragEnd","result","destination","reorderedList","Array","from","moved","splice","source","droppableId","provided","snapshot","droppableProps","ref","innerRef","style","isDraggingOver","compact","borderlessRow","draggableId","draggableProps","dragHandleProps","shape","slice","placeholder","onRequestClose","apiCallstoreprocedure","ScheduleDate","convertDateToYMD","operation","operationTypesEnum","isFirstLoad","openNotification"],"sourceRoot":""}