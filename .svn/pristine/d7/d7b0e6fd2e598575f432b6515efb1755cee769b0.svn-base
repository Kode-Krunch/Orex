"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[7287],{54301:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(72791),r=s(80184);const l=e=>{let{date:t,Name:s=""}=e;const l=(0,a.useCallback)((()=>{const e=new Date,a=((e,t)=>{const s="Admin"===t?new Date:new Date(e);return s.setHours(23,59,0,0),s})(t,s),r=a-e;return r>0?{days:Math.floor(r/864e5),hours:Math.floor(r%864e5/36e5),minutes:Math.floor(r%36e5/6e4),seconds:Math.floor(r%6e4/1e3)}:{days:0,hours:0,minutes:0,seconds:0}}),[t,s]),[n,i]=(0,a.useState)(l());(0,a.useEffect)((()=>{const e=setInterval((()=>{i(l())}),1e3);return()=>clearInterval(e)}),[l]);const c=[{unit:"Days",value:n.days},{unit:"Hours",value:n.hours},{unit:"Min",value:n.minutes},{unit:"Sec",value:n.seconds}];return(0,r.jsx)("div",{className:"flex justify-between mb-2",children:c.map((e=>{let{unit:t,value:s}=e;return(0,r.jsxs)("div",{className:"text-center px-4 py-2 dark:bg-[#191F31] bg-[#191F31]` dark:text-[#307EF3] text-[#307EF3] min-w-[58px] mr-3",children:[(0,r.jsx)("p",{className:"text-sm font-extrabold",children:s}),(0,r.jsx)("span",{className:"text-[0.7rem] font-semibold  text-slate-400 dark:text-slate-400",children:t})]},t)}))})}},66983:(e,t,s)=>{s.d(t,{Z:()=>c});s(72791);var a=s(2803),r=s(39126),l=s(85214),n=s(54301),i=(s(60364),s(80184));const c=function(e){let{lastBackupTimestamp:t,storageDetails:s={},tabContentMaxHeight:c,isDisplayBackup:d}=e;const{totalStorage:o,storageUnit:m,usedStorage:u,usedPercent:x}=s;return(0,i.jsxs)("div",{className:"web-card mb-0 p-3 px-5 dark:!bg-[#1f2639] !bg-[#fff] ",style:{height:200,maxHeight:c,minHeight:"100%"},children:[(0,i.jsxs)("h5",{className:"pb-2 mb-2 border-b border-gray-700  flex items-center",children:[(0,i.jsx)(r.oxP,{className:"mr-2",size:23})," Storage"]}),(0,i.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,i.jsxs)("div",{className:"flex gap-2 justify-between items-center",children:[(0,i.jsxs)("div",{className:"grow",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2 dark:text-gray-200 text-gray-800",children:[(0,i.jsx)("p",{className:"dark:text-gray-200 text-gray-800",children:"DB Usage"}),(0,i.jsxs)("p",{children:[o," ",m]})]}),(0,i.jsx)(a.Ex,{percent:x,size:"md",color:"red-500",customInfo:(0,i.jsx)(i.Fragment,{})}),(0,i.jsxs)("p",{className:"mt-2 text-sm text-gray-400",children:[u," MB of ",o," ",m," used"]})]}),(0,i.jsx)("div",{className:"flex",children:(0,i.jsx)("div",{className:"animate__animated onlythis2 order order1",children:(0,i.jsx)("span",{children:(0,i.jsx)(r.oxP,{style:{fontSize:30,color:l.TW_COLORS.red[500]}})})})})]}),d&&(0,i.jsxs)("div",{className:"mb-4 pt-2",style:{borderTop:"1px solid #606468"},children:[(0,i.jsx)("h5",{className:"text-gray-800 dark:text-gray-200 mb-0.5",children:"Last Backup"}),(0,i.jsxs)("div",{className:"pt-1 flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"pt-1 flex items-center ",children:[(0,i.jsx)(a.qE,{className:"mr-2 dark:bg-emerald-500 bg-emerald-500 text-[1rem] font-semibold",children:null===t||void 0===t?void 0:t.split(" ")[1].replace(",","")})," ",(0,i.jsx)("div",{children:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-semibold  text-gray-800 dark:text-gray-200",children:t}),(0,i.jsx)("p",{className:"text-[0.8rem] text-gray-800 dark:text-gray-200",children:"Backup"})]})})]})," "]}),(0,i.jsxs)("div",{className:"mt-2",children:[(0,i.jsx)("h5",{className:" mb-2 text-gray-800 dark:text-gray-200",children:"Next Backup"}),(0,i.jsx)(n.Z,{date:"",Name:"Admin"})]})]})]})]})}},60729:(e,t,s)=>{s.d(t,{Z:()=>x});var a=s(2803),r=s(72299),l=s(63821),n=s(34927),i=s(72791),c=(s(56761),s(97261)),d=s(80184);const o=function(e){let{users:t,Search:s}=e;return(0,d.jsx)("div",{children:t.filter((e=>{var t;return null===e||void 0===e||null===(t=e.UserName)||void 0===t?void 0:t.toLowerCase().includes(s.toLowerCase())})).map(((e,t)=>(0,d.jsx)("div",{className:"flex flex-col gap-1 py-2 border-b border-b-gray-700",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{className:"flex items-center ",children:[(0,d.jsx)(a.qE,{size:"md",className:"mr-2 dark:".concat((0,c.H)()," ").concat((0,c.H)()),children:(0,d.jsxs)("p",{className:"text-base dark:text-gray-200 text-gray-800",children:[" ",null===e||void 0===e?void 0:e.UserName.slice(0,1)]})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-base font-semibold dark:text-gray-200 text-gray-800 capitalize",children:null===e||void 0===e?void 0:e.UserName})," ",(0,d.jsx)("p",{className:"text-xs dark:text-gray-400 text-gray-400",children:null===e||void 0===e?void 0:e.Email})]})]}),(null===e||void 0===e?void 0:e.Status)&&(0,d.jsx)(a.Vp,{prefix:!0,prefixClass:"Offline"===(null===e||void 0===e?void 0:e.Status)?"bg-red-500":"bg-emerald-500",showCloseButton:!1,children:(0,d.jsx)("span",{className:"text-[0.8rem] text-gray-400",children:(null===e||void 0===e?void 0:e.Status)||(null===e||void 0===e?void 0:e.ChannelName)})})]})},t)))})};var m=s(58617),u=s(56355);const x=function(e){let{activeUsers:t,inactiveUsers:s,tabContentMaxHeight:c}=e;const[x,h]=(0,i.useState)("Online"),[f,v]=(0,i.useState)("");return(0,d.jsxs)("div",{className:"web-card mb-0 p-3 flex flex-col min-h-[350px] max-h-[350px] h-[350px] px-5 dark:!bg-[#1f2639] !bg-[#fff]",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center border-b pb-2 mb-1 border-gray-700",children:[(0,d.jsxs)("h5",{className:" flex items-center ",children:[(0,d.jsx)(u.wzp,{className:"mr-2",size:23}),"Users"]}),(0,d.jsx)("div",{children:(0,d.jsx)(a.II,{size:"sm",placeholder:"Search",style:{width:"180px"},onChange:e=>v(e.target.value)})})]}),(0,d.jsxs)(a.mQ,{defaultValue:"Online",className:"grow flex flex-col",onChange:e=>h(e),children:[(0,d.jsxs)(l.Z,{children:[(0,d.jsx)(n.Z,{value:"Online",icon:(0,d.jsx)(m.Hhh,{}),children:"Online"}),(0,d.jsx)(n.Z,{value:"Offline",icon:(0,d.jsx)(m.NVR,{}),children:"Offline"})]}),(0,d.jsxs)("div",{className:"mt-2 grow",children:["Online"===x&&(0,d.jsx)(r.Z,{value:"Online",className:"overflow-hidden hover:overflow-y-scroll hover:pr-2",style:{maxHeight:c,minHeight:"100%"},children:(0,d.jsx)(o,{users:t,Search:f})}),"Offline"===x&&(0,d.jsx)(r.Z,{value:"Offline",className:"overflow-hidden hover:overflow-y-scroll hover:pr-2",style:{maxHeight:c,minHeight:"100%"},children:(0,d.jsx)(o,{users:s,Search:f})})]})]})]})}},17287:(e,t,s)=>{s.r(t),s.d(t,{default:()=>E});var a=s(72791),r=s(66983),l=s(60729),n=s(9494),i=s(43235),c=s(32540);function d(e,t){var s;const a=null!==(s=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==s?s:2,r=function(e){const t={},s=e.split(o.dateTimeDelimiter);let a;if(s.length>2)return t;/:/.test(s[0])?a=s[0]:(t.date=s[0],a=s[1],o.timeZoneDelimiter.test(t.date)&&(t.date=e.split(o.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length)));if(a){const e=o.timezone.exec(a);e?(t.time=a.replace(e[1],""),t.timezone=e[1]):t.time=a}return t}(e);let l;if(r.date){const e=function(e,t){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(s);if(!a)return{year:NaN,restDateString:""};const r=a[1]?parseInt(a[1]):null,l=a[2]?parseInt(a[2]):null;return{year:null===l?r:100*l,restDateString:e.slice((a[1]||a[2]).length)}}(r.date,a);l=function(e,t){if(null===t)return new Date(NaN);const s=e.match(m);if(!s)return new Date(NaN);const a=!!s[4],r=h(s[1]),l=h(s[2])-1,n=h(s[3]),i=h(s[4]),c=h(s[5])-1;if(a)return function(e,t,s){return t>=1&&t<=53&&s>=0&&s<=6}(0,i,c)?function(e,t,s){const a=new Date(0);a.setUTCFullYear(e,0,4);const r=a.getUTCDay()||7,l=7*(t-1)+s+1-r;return a.setUTCDate(a.getUTCDate()+l),a}(t,i,c):new Date(NaN);{const e=new Date(0);return function(e,t,s){return t>=0&&t<=11&&s>=1&&s<=(v[t]||(g(e)?29:28))}(t,l,n)&&function(e,t){return t>=1&&t<=(g(e)?366:365)}(t,r)?(e.setUTCFullYear(t,l,Math.max(r,n)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!l||isNaN(l.getTime()))return new Date(NaN);const n=l.getTime();let i,d=0;if(r.time&&(d=function(e){const t=e.match(u);if(!t)return NaN;const s=f(t[1]),a=f(t[2]),r=f(t[3]);if(!function(e,t,s){if(24===e)return 0===t&&0===s;return s>=0&&s<60&&t>=0&&t<60&&e>=0&&e<25}(s,a,r))return NaN;return s*c.vh+a*c.yJ+1e3*r}(r.time),isNaN(d)))return new Date(NaN);if(!r.timezone){const e=new Date(n+d),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return i=function(e){if("Z"===e)return 0;const t=e.match(x);if(!t)return 0;const s="+"===t[1]?-1:1,a=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,r))return NaN;return s*(a*c.vh+r*c.yJ)}(r.timezone),isNaN(i)?new Date(NaN):new Date(n+d+i)}const o={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},m=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,x=/^([+-])(\d{2})(?::?(\d{2}))?$/;function h(e){return e?parseInt(e):1}function f(e){return e&&parseFloat(e.replace(",","."))||0}const v=[31,null,31,30,31,30,31,31,30,31,30,31];function g(e){return e%400===0||e%4===0&&e%100!==0}var p=s(25808),j=s(94604),N=s(8062),b=s(2803),y=s(65334),w=s(81721),D=s(20724),C=s(63524),S=s(16856),T=(s(54048),s(60364)),k=s(1680),U=s(80184);const{TabNav:F,TabList:Z,TabContent:B}=b.mQ,E=()=>{const[e,t]=(0,a.useState)({}),[s,c]=(0,a.useState)([]),[o,m]=(0,a.useState)([]),[u,x]=(0,a.useState)([]),h=(0,T.useSelector)((e=>e.locale.selectedChannel));return(0,a.useEffect)((()=>{(async()=>{try{const e=await(0,n.apiCallstoreprocedure)("GetDepartmentwiseUsersInfo",{});x(e.data)}catch(e){}})(),(async()=>{try{const e=await(0,n.apiCallstoreprocedure)("GetActiveInActiveUsersInfo",{}),t=e.data.filter((e=>"Online"===e.Status)),s=e.data.filter((e=>"Online"!==e.Status)).map((e=>({UserName:e.UserName,Email:e.Email,Status:"Offline"})));console.log(s),c(t),m(s)}catch(e){console.error("Error fetching User details:",e)}})(),(async()=>{try{const e=await(0,n.apiCallstoreprocedure)("GetCurrentDBSize",{flag:"PYBATS_2"}),s=await(0,n.apiCallstoreprocedure)("GetLastDBBackupDetail",{flag:"PYBATS_2"}),a={lastBackupTimestamp:(0,i.WU)(d(s.data[0]["Last Full"]),"MMMM dd, yyyy 'at' hh:mm a"),storageDetails:{totalStorage:1,storageUnit:"TB",usedStorage:e.data[0].CurrentDBSize,usedPercent:e.data[0].CurrentDBSize/1e4*100}};t(a)}catch(e){console.error("Error fetching storage details:",e)}})()}),[]),(0,U.jsxs)(w.W2,{children:[(0,U.jsx)(D.Z,{Name:"Admin Dashboard",Page:"Admin",Links:"Admin"}),(0,U.jsxs)("div",{children:[(0,U.jsx)("div",{className:"grid grid-cols-".concat(j.i6.length," gap-4"),children:(0,U.jsx)(p.Z,{shortcuts:j.i6})}),(0,U.jsxs)("div",{className:"grid grid-cols-12 gap-4",children:[(0,U.jsx)("div",{className:"col-span-4",children:(0,U.jsx)(r.Z,{lastBackupTimestamp:e.lastBackupTimestamp,storageDetails:e.storageDetails,tabContentMaxHeight:"35vh",isDisplayBackup:!0})}),(0,U.jsx)("div",{className:"col-span-4",children:(0,U.jsx)(l.Z,{activeUsers:s,inactiveUsers:o,tabContentMaxHeight:"200px"})}),(0,U.jsx)("div",{className:"col-span-4",children:(0,U.jsx)("div",{className:"web-card mb-0 p-3 flex flex-col overflow-hidden hover:overflow-y-scroll hover:pr-2 dark:!bg-[#1f2639] !bg-[#fff]",style:{maxHeight:"35vh",minHeight:"100%"},children:(0,U.jsxs)(b.mQ,{defaultValue:"tab1",children:[(0,U.jsxs)(Z,{children:[(0,U.jsx)(F,{value:"tab1",icon:(0,U.jsx)(C.pu0,{}),children:h.label==k.CLIENT.USA_Forbes?"Playlist Template":"FPC"}),h.label!=k.CLIENT.USA_Forbes&&(0,U.jsx)(F,{value:"tab2",icon:(0,U.jsx)(S.yFm,{}),children:"Daily FPC"}),(0,U.jsx)(F,{value:"tab3",icon:(0,U.jsx)(S.rEI,{}),children:h.label==k.CLIENT.USA_Forbes?"Playlist":"Final_Log"})]}),(0,U.jsxs)("div",{className:"px-4",children:[(0,U.jsx)(B,{value:"tab1",children:(0,U.jsx)("div",{className:"",children:(0,U.jsx)("div",{className:"mt-2",children:(0,U.jsx)(N.Z,{multipleSelection:!0,value:"",name:h.label==k.CLIENT.USA_Forbes?"FPC_NEW":"FPC"})})})}),(0,U.jsx)(B,{value:"tab2",children:(0,U.jsx)("div",{className:"",children:(0,U.jsx)("div",{className:"mt-2",children:(0,U.jsx)(N.Z,{multipleSelection:!0,value:"",name:"Daily"})})})}),(0,U.jsx)(B,{value:"tab3",children:(0,U.jsx)("div",{className:"",children:(0,U.jsx)("div",{className:"mt-2",children:(0,U.jsx)(y.Z,{multipleSelection:!0,value:"",name:"Final"})})})})]})]})})})]})]})]})}}}]);
//# sourceMappingURL=7287.439d82e2.chunk.js.map