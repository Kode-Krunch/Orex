import { Button, Dialog } from 'components/ui';
import React, { useContext } from 'react';
import { openNotification } from 'views/Controls/GLOBALFUNACTION';
import { operationTypesEnum } from 'views/Scheduling/Scheduler/enum';
// import SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';
import SchedulerContext from 'views/Scheduling/SchedulerOld/context/SchedulerContext';

function ResetCellColor({ closeParentDialog, isOpen, setIsOpen }) {
  /* CONTEXT */
  const { executeOperation } = useContext(SchedulerContext);

  /* EVENT HANDLERS */
  const handleReset = () => {
    try {
      executeOperation({
        operation: operationTypesEnum.RESET_CELL_COLOR,
      });
      closeParentDialog();
      setIsOpen(false);
      openNotification('success', 'Changes reset successfully');
    } catch (error) {
      openNotification('danger', 'Something went wrong while resetting');
      console.error(error);
    }
  };

  return (
    <Dialog
      isOpen={isOpen}
      onClose={() => setIsOpen(false)}
      onRequestClose={() => setIsOpen(false)}
      contentClassName="mt-8"
    >
      <div className="flex flex-col h-full justify-between">
        <h5 className="mb-4">Reset Cell Customization</h5>
        <div className="mb-4">
          <p className="text-gray-200 mb-1">
            All the customizations made to the cells will be reset. Are you sure
            you want to reset?
          </p>
        </div>
        <div className="text-right mt-6">
          <Button variant="solid" onClick={handleReset}>
            Reset
          </Button>
        </div>
      </div>
    </Dialog>
  );
}

export default ResetCellColor;
