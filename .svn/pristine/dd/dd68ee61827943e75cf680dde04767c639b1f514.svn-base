"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[3423],{42264:(e,t,o)=>{o.d(t,{Kc:()=>s,Ms:()=>i,Rd:()=>x,U2:()=>m,Vg:()=>l,Vm:()=>u,Yd:()=>c,ZI:()=>p,bn:()=>g,mz:()=>h,pf:()=>d,xS:()=>S,yv:()=>C});var n=o(54048),a=o(46152);const r=o(74569),s=(e,t,o,a,s)=>{try{return new Promise(((l,i)=>{let c={method:"post",maxBodyLength:1/0,url:n.Z.apiPrefix+"/asrun/?TelecastDate=".concat(t,"&LocationCode=").concat(o,"&ChannelCode=").concat(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},data:e};r.request(c).then((e=>{l(e)})).catch((e=>{i(e)}))}))}catch(l){throw new Error(l)}},l=(e,t)=>{let{filter:o,id:a,loginCode:s,fromDate:l,uptoDate:i,channelCode:c,locationCode:d}=e;try{return new Promise(((e,h)=>{let u={method:"get",url:n.Z.apiPrefix+"/invoice/getinvoice/?Filter=".concat(o,"&ID=").concat(a,"&LoginCode=").concat(s,"&FromDate=").concat(l,"&UptoDate=").concat(i,"&ChannelCode=").concat(c,"&LocationCode=").concat(d),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}};r.request(u).then((t=>{e(t)})).catch((e=>{h(e)}))}))}catch(h){throw new Error(h)}},i=(e,t)=>{try{return a.Z.fetchData({method:"get",url:"/invoiceseries/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}catch(o){throw new Error(o)}},c=(e,t)=>{let{filter:o,id:a,loginCode:s,fromDate:l,uptoDate:i,channelCode:c,locationCode:d,SpotTypeCode:h}=e;try{return new Promise(((e,u)=>{let m={method:"get",url:n.Z.apiPrefix+"/invoice/gettelecastreport/?Filter=".concat(o,"&ID=").concat(a,"&LoginCode=").concat(s,"&FromDate=").concat(l,"&UptoDate=").concat(i,"&ChannelCode=").concat(c,"&LocationCode=").concat(d,"&SpotType=").concat(h),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}};r.request(m).then((t=>{e(t)})).catch((e=>{u(e)}))}))}catch(u){throw new Error(u)}},d=async(e,t)=>{try{return new Promise(((o,a)=>{let s={method:"post",maxBodyLength:1/0,url:n.Z.apiPrefix+"/invoiceseries/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};r.request(s).then((e=>{o(e)})).catch((e=>{a(e)}))}))}catch(o){throw o}},h=(e,t,o)=>{try{return new Promise(((a,s)=>{let l={method:"put",maxBodyLength:1/0,url:n.Z.apiPrefix+"/invoiceseries/".concat(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:e};r.request(l).then((e=>{a(e)})).catch((e=>{s(e)}))}))}catch(a){throw new Error(a)}},u=(e,t)=>{let{filter:o,id:a,loginCode:s,fromDate:l,uptoDate:i,channelCode:c,locationCode:d}=e;try{return new Promise(((e,h)=>{let u={method:"get",url:n.Z.apiPrefix+"/invoice/getinvoiceNTC/?Filter=".concat(o,"&ID=").concat(a,"&LoginCode=").concat(s,"&FromDate=").concat(l,"&UptoDate=").concat(i,"&ChannelCode=").concat(c,"&LocationCode=").concat(d),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}};r.request(u).then((t=>{e(t)})).catch((e=>{h(e)}))}))}catch(h){throw new Error(h)}},m=(e,t)=>{try{return a.Z.fetchData({method:"get",url:"/invoiceseriesntc/?LocationCode=".concat(e.LocationCode,"&ChannelCode=").concat(e.ChannelCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}catch(o){throw new Error(o)}},g=async(e,t)=>{try{return new Promise(((o,a)=>{let s={method:"post",maxBodyLength:1/0,url:n.Z.apiPrefix+"/invoiceseriesntc/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};r.request(s).then((e=>{o(e)})).catch((e=>{a(e)}))}))}catch(o){throw o}},p=(e,t,o)=>{try{return new Promise(((a,s)=>{let l={method:"put",maxBodyLength:1/0,url:n.Z.apiPrefix+"/invoiceseriesntc/".concat(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:e};r.request(l).then((e=>{a(e)})).catch((e=>{s(e)}))}))}catch(a){throw new Error(a)}},C=e=>{try{return a.Z.fetchData({method:"get",url:"/yeartaxdetail/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}catch(t){throw t}},x=(e,t,o)=>{try{return new Promise(((a,s)=>{let l={method:"post",maxBodyLength:1/0,url:n.Z.apiPrefix+"/yeartaxdetail/?YearCode=".concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:t};r.request(l).then((e=>{a(e)})).catch((e=>{s(e)}))}))}catch(a){throw a}},S=(e,t,o,a)=>{try{return new Promise(((s,l)=>{let i={method:"post",maxBodyLength:1/0,url:n.Z.apiPrefix+"/asrun/asrunmatch/?LocationCode=".concat(t.LocationCode,"&ChannelCode=").concat(t.ChannelCode,"&IsNTC=").concat(a),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},data:e};r.request(i).then((e=>{s(e)})).catch((e=>{l(e)}))}))}catch(s){throw s}}},89151:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(45987),a=o(1413),r=o(2803),s=(o(72791),o(58617)),l=o(88406),i=o(80184);const c=["children"];const d=function(e){let{location:t,channel:o,channelList:d,onChange:h}=e;const{Control:u}=l.c;return console.log("channelList",d),(0,i.jsx)(r.Ph,{options:d,components:{Option:e=>{let{innerProps:t,label:o,data:n,isSelected:r}=e;return(0,i.jsxs)("div",(0,a.Z)((0,a.Z)({className:"flex items-center justify-between p-2 ".concat(r?"bg-gray-100 dark:bg-gray-500":"hover:bg-gray-50 dark:hover:bg-gray-600")},t),{},{children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("img",{src:n.imgPath,style:{height:"20px",width:"20px",borderRadius:20}}),(0,i.jsx)("span",{className:"ml-2 rtl:mr-2",children:o})]}),r&&(0,i.jsx)(s.dZ6,{className:"text-emerald-500 text-xl"})]}))},Control:e=>{let{children:t}=e,o=(0,n.Z)(e,c);const r=o.getValue()[0];return(0,i.jsxs)(u,(0,a.Z)((0,a.Z)({},o),{},{children:["\xa0\xa0",r&&(0,i.jsx)("img",{src:r.imgPath,style:{height:"20px",width:"20px",borderRadius:20}}),t]}))}},value:d.filter((e=>e.ChannelCode===o&&e.LocationCode==t)),onChange:h,placeholder:"Select",className:"caret-white",defaultMenuIsOpen:!0,blurInputOnSelect:!0,autoFocus:!0,styles:{menuList:e=>(0,a.Z)((0,a.Z)({},e),{},{"&:hover":{cursor:"pointer"}}),control:e=>(0,a.Z)((0,a.Z)({},e),{},{"&:hover":{cursor:"pointer"}}),input:e=>(0,a.Z)((0,a.Z)({},e),{},{color:"white"})}})}},82600:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(1413),a=o(45987),r=o(72791),s=o(2803),l=o(80184);const i=["value","onChange","debounce","showSearchLabel","marginBottom"],c=e=>{let{value:t="",onChange:o,debounce:c=500,showSearchLabel:d=!0,marginBottom:h="mb-4"}=e,u=(0,a.Z)(e,i);const[m,g]=(0,r.useState)("");return(0,r.useEffect)((()=>{const e=setTimeout((()=>{o(m)}),c);return()=>clearTimeout(e)}),[m]),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)("div",{className:"flex items-center ".concat(h),children:(0,l.jsx)(s.II,(0,n.Z)((0,n.Z)({suffix:!0},u),{},{value:m,onChange:e=>{/^[0-9a-zA-Z\s]*$/.test(e.target.value)&&g(e.target.value)}}))})})}},83659:(e,t,o)=>{o.d(t,{U:()=>I,Z:()=>_});var n=o(72791),a=o(2803),r=o(36996),s=o(48080),l=o(58617),i=o(60364),c=(o(33155),o(51314)),d=o(25146),h=o(39126),u=o(46513),m=o(56355),g=o(25763),p=o(41578),C=o(9494),x=o(80184);const{Tr:S,Th:f,Td:N,THead:y,TBody:v,Sorter:j}=a.iA,b=[{value:10,label:"10 / page"},{value:20,label:"20 / page"},{value:30,label:"30 / page"},{value:40,label:"40 / page"},{value:50,label:"50 / page"}],I=(e,t,o)=>{const n={};if(e.forEach((e=>{e.accessorKey&&(n[e.accessorKey]=e.header)})),Array.isArray(t))(0,d.J)(!1,!1,0,0,!0,t,o,e,!1);else{const a=t.getCoreRowModel().rows.map((e=>{const t={};return Object.keys(e.original).forEach((o=>{n[o]?t[n[o]]=e.original[o]:t[o]=e.original[o]})),t})),r=[...e,{header:"IsActive",accessorKey:"IsActive"}];(0,d.J)(!1,!1,0,0,!0,a,o,r,!1)}},_=e=>{let{data:t,columns:o,globalFilter:d,setGlobalFilter:_,seteditData:T,openDrawer:w,ExportName:E}=e;const A=(0,i.useSelector)((e=>e.theme.themeColor)),D=(0,i.useSelector)((e=>e.theme.mode)),[L,P]=(0,n.useState)([]),[B,z]=(0,n.useState)(!0),F=(0,r.b7)({data:t,columns:o,state:{columnFilters:L,globalFilter:d},onColumnFiltersChange:P,onGlobalFilterChange:_,globalFilterFn:function(e,t,o,n){const a=(0,u.O4)(e.getValue(t),o);return n({itemRank:a}),a.passed},getCoreRowModel:(0,s.sC)(),getFilteredRowModel:(0,s.vL)(),getSortedRowModel:(0,s.tj)(),getPaginationRowModel:(0,s.G_)(),getFacetedRowModel:(0,s.o6)(),getFacetedUniqueValues:(0,s.JG)(),getFacetedMinMaxValues:(0,s.HO)(),debugHeaders:!0,debugColumns:!1,debugTable:!0});(0,n.useEffect)((()=>{t.length>0&&z(!1)}),[]);return(0,x.jsxs)("div",{className:"root-container",children:[(0,x.jsxs)(a.iA,{className:"table",children:[(0,x.jsx)(y,{className:"border-b-1 ",style:{borderColor:A,height:"4%"},variant:"solid",children:F.getHeaderGroups().map((e=>(0,x.jsxs)(S,{className:"tr3",children:[(0,x.jsx)(f,{className:"dark"==D?"srno th":"srno th Light",style:{textAlign:"Center"},children:(0,x.jsx)("h6",{className:"dark"==D?"capitalize  text-xs":"capitalize   text-xs Light",children:"Sr."})}),e.headers.map((e=>{var t;return(0,x.jsx)(f,{colSpan:e.colSpan,style:{width:null===(t=e.column.columnDef.headStyle)||void 0===t?void 0:t.width},children:(0,x.jsx)("h6",{className:"capitalize text-xs",children:e.isPlaceholder?null:(0,x.jsxs)("div",{className:e.column.getCanSort()?"cursor-pointer select-none ":"",onClick:e.column.getToggleSortingHandler(),children:[(0,r.ie)(e.column.columnDef.header,e.getContext()),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(j,{sort:e.column.getIsSorted()}),(0,x.jsx)("div",{className:"cursor-all-scroll ".concat(e.column.getIsResizing()?"isResizing":""),onMouseDown:e.getResizeHandler(),onTouchStart:e.getResizeHandler()})]})]})})},e.id)})),"ExchangeMaster"==E||E.includes("Retrieved Spots")||E.includes("Matched Spots")||E.includes("Missed Spots")||E.includes("All Spots")||E.includes("Imported Spots")||E.includes("Bill Spots")||""===E?null:(0,x.jsx)(f,{className:"actions ",children:(0,x.jsx)("center",{className:"capitalize text-center font-bold ",children:"Actions"})})]},e.id)))}),B?(0,x.jsx)(c.Z,{columns:3,rows:5}):(0,x.jsx)(v,{className:"tbody",children:F.getRowModel().rows.map(((e,t)=>{var o;const n=F.getState().pagination.pageIndex*F.getState().pagination.pageSize+t+1;return(0,x.jsxs)(S,{className:"tr",children:[(0,x.jsx)(N,{className:"dark"==D?"text-xs  srno td":"text-xs  srno tdLight",style:{textAlign:"Center"},children:n}),e.getVisibleCells().map((e=>{var t;return(0,x.jsx)(N,{className:"dark"==D?"text-xs  font-medium  td":"text-xs   font-medium  tdLight",style:{width:null===(t=e.column.columnDef.cellStyle)||void 0===t?void 0:t.width},children:(0,x.jsx)("p",{className:"text-xs",children:(0,r.ie)(e.column.columnDef.cell,e.getContext())})},e.id)})),"ExchangeMaster"==E||E.includes("Retrieved Spots")||E.includes("Matched Spots")||E.includes("Missed Spots")||E.includes("All Spots")||E.includes("Imported Spots")||E.includes("Bill Spots")||""===E?null:E.includes("Credit/Debit Note Bills")?(0,x.jsx)(N,{className:"dark"==D?"text-xs font-medium  td !w-max":"text-xs font-medium  tdLight ",children:(0,x.jsx)("center",{children:(0,x.jsx)(a.u,{title:"Generate ".concat(e.original.noteType.label," Note"),children:(0,x.jsx)(a.zx,{className:"btnEdit",size:"xs",icon:(0,x.jsx)(h.HlX,{}),onClick:()=>{T(e.original)}})})})}):E.includes("Credit/Debit Notes Edit")?(0,x.jsx)(N,{className:"dark"==D?"text-xs font-medium  td ":"text-xs font-medium  tdLight ",children:(0,x.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,x.jsx)(a.u,{title:"View Note",children:(0,x.jsx)(a.zx,{size:"xs",icon:(0,x.jsx)(m.z5B,{})})}),(0,x.jsx)(a.u,{title:"Download Note",children:(0,x.jsx)(a.zx,{size:"xs",icon:(0,x.jsx)(p.HXz,{})})}),""===e.original.IRNNumber&&""===e.original.QRCODE&&(0,x.jsx)(a.u,{title:"Edit Note",children:(0,x.jsx)(a.zx,{size:"xs",icon:(0,x.jsx)(g.LBv,{}),onClick:()=>{T(e.original)}})})]})}):(0,x.jsx)(N,{className:"dark"==D?"text-xs font-medium actions td ":"text-xs font-medium  actions tdLight ",children:(0,x.jsxs)("center",{children:[(0,x.jsx)(a.zx,{className:"btnEdit",size:"xs",icon:(0,x.jsx)(l._vs,{}),onClick:()=>{T(e.original),w(e.original)}}),"SpotBooking"==E&&(null===(o=e.original.BookingCode)||void 0===o?void 0:o.startsWith("uns"))&&(0,x.jsx)(a.zx,{className:"btnEdit ml-2",size:"xs",icon:(0,x.jsx)(l.fMW,{}),onClick:async()=>{try{const t=await(0,C.apiCallstoreprocedure)("USP_DELETE_TEMPBooking",{par_BookingNumber:e.original.BookingNumber});console.log(t)}catch(t){console.error("Error calling stored procedure:",t)}}})]})})]},e.id)}))})]}),(0,x.jsxs)("div",{className:"bottom-actions-container",children:[(null===t||void 0===t?void 0:t.length)>10&&(0,x.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,x.jsx)(a.tl,{pageSize:F.getState().pagination.pageSize,currentPage:F.getState().pagination.pageIndex+1,total:t.length,onChange:e=>{F.setPageIndex(e-1)}}),(0,x.jsxs)("div",{className:"flex items-center justify-end mt-1",children:[(0,x.jsx)(a.zx,{variant:"solid",className:"mr-2",onClick:()=>{I(o,F,E)},style:{width:130},block:!0,size:"sm",icon:(0,x.jsx)(l.H_7,{}),children:"Export"}),t.length>10?(0,x.jsx)("div",{style:{minWidth:130},children:(0,x.jsx)(a.Ph,{size:"sm",isSearchable:!1,value:b.filter((e=>e.value===F.getState().pagination.pageSize)),options:b,onChange:e=>{return t=e.value,void F.setPageSize(Number(t));var t}})}):null]})]}),(0,x.jsx)("div",{className:"flex  justify-start mt-2",children:(0,x.jsxs)("h1",{className:"text-xs  font-light",children:["Records : ",null===t||void 0===t?void 0:t.length]})})]})]})}},25146:(e,t,o)=>{o.d(t,{J:()=>l});var n=o(1413),a=(o(72791),o(25415)),r=o(64802),s=o(81320);const l=(e,t,o,l,i,c,d,h,u)=>{if(0===c.length)return void(0,s.openNotification)("info","No data to export");const m=c.map((e=>(0,n.Z)({},e))),g={};h.forEach((e=>{e.accessorKey&&(console.log(e.accessorKey),console.log(g[e.accessorKey]),g[e.accessorKey]=e.header)}));const p=m.map((e=>{const t={};return Object.keys(e).forEach((o=>{g[o]?t[g[o]]=e[o]:t[o]=e[o]})),t})),C=Object.keys(g).length>0?Object.keys(g).map((e=>g[e])):[],x=(C.map((e=>({header:e,key:e}))),new a.Workbook),S=x.addWorksheet(d);for(let n=0;n<l;n++)S.addRow([]);const f=[];for(let n=0;n<o;n++)f.push("");if(f.push(...C),S.addRow(f),e){S.getRow(l+1).font={bold:!0,size:10}}if(i){const e=S.getRow(l+1);e.font={bold:!0,size:12},e.eachCell((e=>{e.border={top:{style:"medium"},left:{style:"medium"},bottom:{style:"medium"},right:{style:"medium"}},u||(e.fill={type:"pattern",pattern:"solid",fgColor:{argb:"009dff"}})}))}if(p.forEach((e=>{const t=[];for(let a=0;a<o;a++)t.push("");C.forEach((o=>{t.push(e[o]||"")}));const n=S.addRow(t);n.font={size:10},n.eachCell(((t,o)=>{t.value instanceof Date&&(t.value=new Date(Date.UTC(t.value.getFullYear(),t.value.getMonth(),t.value.getDate()))),u&&e.EventDefaultBackColor&&(t.fill={type:"pattern",pattern:"solid",fgColor:{argb:e.EventDefaultBackColor.substring(1)}}),u&&e.EventDefaultFrontColor&&(t.font={color:{argb:e.EventDefaultFrontColor.substring(1)}}),i&&(t.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}})}))})),S.columns.forEach((e=>{let t=10;e.eachCell((e=>{const o=(e.value||"").toString().length;t=Math.max(t,o)})),e.width=Math.min(30,t+2)})),S.views=[{state:"frozen",xSplit:o,ySplit:l+1,topLeftCell:"A".concat(l+2)}],t){const e=c.length+l+100,t=h.length>0?h.length+100:100;for(let o=1;o<=e;o++){const e=S.getRow(o);for(let o=1;o<=t;o++){const t=e.getCell(o);t.value=t.value||"",t.border={top:{style:"thin",color:{argb:"000000"}},left:{style:"thin",color:{argb:"000000"}},bottom:{style:"thin",color:{argb:"000000"}},right:{style:"thin",color:{argb:"000000"}}}}}}x.xlsx.writeBuffer().then((e=>{(0,r.saveAs)(new Blob([e]),"".concat(d,".xlsx"))}))}},24933:(e,t,o)=>{o.d(t,{Z:()=>m});var n=o(2803),a=o(72791),r=o(60364),s=o(11308),l=o(36064),i=o(88406),c=o(81320),d=o(89151),h=o(80184);const{Control:u}=i.c;const m=function(){const e=(0,r.useSelector)((e=>e.locale.isSelectChannelDialogOpen)),t=(0,r.useSelector)((e=>e.locale.selectedChannel)),o=(0,r.useSelector)((e=>e.locale.channelList)),i=(0,r.useSelector)((e=>e.auth.session.LoginId)),u=(0,r.useDispatch)();(0,a.useEffect)((()=>{(async()=>{try{if((0,c.isChannelSelected)(t)?u((0,l.ar)(!1)):u((0,l.ar)(!0)),!o){const e=await g();u((0,l.Uy)(e))}}catch(e){console.error(e)}})()}),[]),(0,a.useEffect)((()=>{try{(0,c.isChannelSelected)(t)&&u((0,l.ar)(!1))}catch(e){console.error(e)}}),[t]);const m=()=>{try{u((0,l.ar)(!1))}catch(e){console.error(e)}},g=async()=>{try{const e=await(0,s.bu)(i);return e.data.map((e=>({value:e.ChannelCode,label:e.LocationName+" "+e.ChannelName,ChannelCode:e.ChannelCode,LocationCode:e.LocationCode,ChannelName:e.ChannelName,ColorClass:"bg-rose-500",LocationName:e.LocationName,imgPath:e.Channel_Image})))}catch(e){throw e}};return(0,h.jsx)(h.Fragment,{children:Array.isArray(o)&&(0,h.jsxs)(n.Vq,{isOpen:e,onClose:m,onRequestClose:m,children:[(0,h.jsx)("h5",{className:"mb-6",children:"Select Channel"}),(0,h.jsx)("p",{className:"text-white mb-1",children:"Channel"}),(0,h.jsx)(d.Z,{channel:t,channelList:o,onChange:e=>{u((0,l.z8)(e))}}),(0,h.jsx)("div",{className:"text-right mt-6",children:(0,h.jsx)(n.zx,{variant:"solid",onClick:m,children:"Close"})})]})})}},1680:(e,t,o)=>{o.r(t),o.d(t,{CLIENT:()=>n,CLIENTWiseUploadPath:()=>a});const n={LOCAL:"LOCAL",INDIA_SPORTS:"INDIA SPORTS TV",USA_Forbes:"Forbes",FOOD_INDIA:"India Food Food",FOOD_USA:"USA Food Food INT",SWAMI:"INDIA SWAMI FILMS",GEC:"GEC CHANNEL",USA_GEC:"USA GEC CHANNEL",INDIA_GEC:"INDIA GEC CHANNEL",NEWS:"NEWS CHANNEL",USA_NEWS:"NEWS CHANNEL USA",BeIN_Sports:"BeIN Sports",MASST_INDIA:"INDIA MASST",ASIANET:"INDIA ASIANET CINEMA",INDIAMYMOVIES:"INDIA MY MOVIES",ANI_PLUS:"SINGAPORE ANI PLUS",SATHIYAM_TV:"INDIA SATHIYAM TV"},a={USA_Forbes:"/playlist",ASIANET:"/video/volume1/playlist"}},60488:(e,t,o)=>{o.d(t,{Dh:()=>g,SE:()=>m,SU:()=>S,a1:()=>d,aP:()=>c,f$:()=>p,rp:()=>u,yw:()=>C});var n=o(1413),a=(o(81320),o(72791)),r=o(56355),s=o(2803),l=o(80184);const i=e=>e.split(":").map((e=>e.padStart(2,"0"))).join(":").substring(0,11);function c(e){let t=0;const o=[];return e.forEach((e=>{"NTC"!==e.F_C_S_P&&t++;const a=(0,n.Z)((0,n.Z)({},e),{},{PrimaryID:t});o.push(a)})),o}function d(e,t,o){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"CM",r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c="00:00:00:00",d=r||"00:00:00:00";return e.map(((e,u)=>{if(s&&"NTC"===e.F_C_S_P&&"DTM"===e.NtcTypeName)return e;if("NTC"===e.F_C_S_P||"BR"===e.F_C_S_P)return e.OffsetStartTime?(0,n.Z)((0,n.Z)({},e),{},{Start_Time:e.OffsetStartTime,Tel_Time:e.OffsetStartTime}):(0,n.Z)((0,n.Z)({},e),{},{Start_Time:"00:00:00:00",Tel_Time:"00:00:00:00",OffsetStartTime:"00:00:00:00"});let m=d;if(t)return"CT"!==e.F_C_S_P?e.F_C_S_P===a&&o||"NTC"===e.F_C_S_P||"BR"===e.F_C_S_P?(d=i(d),(0,n.Z)((0,n.Z)({},e),{},{Start_Time:d,Tel_Time:d})):(m=h(d,c,l),c=e.Duration,m=i(m),d=i(m),(0,n.Z)((0,n.Z)({},e),{},{Start_Time:m,Tel_Time:m})):(d=e.FPC_Time+":00:00",c=e.Duration,m=i(m),d=i(d),(0,n.Z)((0,n.Z)({},e),{},{Start_Time:d,Tel_Time:d}));if(0===u)d=r||e.Start_Time,c=e.Duration;else{if(m=h(d,c,l),m=i(m),d=i(m),"NTC"===e.F_C_S_P&&o||"BR"===e.F_C_S_P)return(0,n.Z)((0,n.Z)({},e),{},{Start_Time:d,Tel_Time:d});c=e.Duration,m=i(m),d=i(m)}return(0,n.Z)((0,n.Z)({},e),{},{Start_Time:m,Tel_Time:m})}))}const h=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:24;try{const n=60,a=60,r=24,[s,l,i,c]=e.split(":").map(Number),[d,h,u,m]=t.split(":").map(Number);let g=c+m,p=Math.floor(g/o);g%=o;let C=i+u+p,x=Math.floor(C/n);C%=n;let S=l+h+x,f=Math.floor(S/a);S%=a;let N=s+d+f;N%=r;return String(N).padStart(2,"0")+":"+String(S).padStart(2,"0")+":"+String(C).padStart(2,"0")+":"+String(g).padStart(2,"0")}catch(n){throw n}};function u(e){let t=0;return e.forEach((e=>{const[o,n,a,r]=e.CommercialDuration.split(":").map((e=>parseInt(e)));t+=3600*o+60*n+a+r/30})),t}function m(){document.getElementsByClassName("stacked-side-nav")[0].classList.add("hidden");document.getElementsByClassName("footer")[0].classList.add("hidden")}function g(){var e,t;const o=document.getElementsByClassName("stacked-side-nav-secondary")[0];void 0!=o&&(null===o||void 0===o||o.classList.add("hidden")),null===(e=document.getElementById("rightIndicator"))||void 0===e||e.classList.remove("hidden"),null===(t=document.getElementById("leftIndicator"))||void 0===t||t.classList.add("hidden")}function p(){var e,t;const o=document.getElementsByClassName("stacked-side-nav-secondary")[0];void 0!=o&&(null===o||void 0===o||o.classList.remove("hidden")),null===(e=document.getElementById("leftIndicator"))||void 0===e||e.classList.remove("hidden"),null===(t=document.getElementById("rightIndicator"))||void 0===t||t.classList.add("hidden")}const C=(e,t)=>e.map((e=>{let o=(0,n.Z)({},e);return"S"===o.F_C_S_P||o.F_C_S_P,"NTC"===o.F_C_S_P?(o.PrimaryID=t.PrimaryID,o.SeasonNo=t.SeasonNo,o.Ep_No=t.Ep_No,o.ContentCode=t.ContentCode,o.BreakNumber=t.BreakNumber,o.SeasonNo=t.SeasonNo,o.FPC_ID=t.FPC_ID):"CM"===o.F_C_S_P?(o.PrimaryID=t.PrimaryID,o.SeasonNo=t.SeasonNo,o.Ep_No=t.Ep_No,o.ContentCode=t.ContentCode,o.BreakNumber=t.BreakNumber,o.SeasonNo=t.SeasonNo,o.FPC_ID=t.FPC_ID,o.ScheduleTime=t.ScheduleTime):(o.SeasonNo=t.SeasonNo,o.Ep_No=t.Ep_No,o.ContentCode=t.ContentCode,o.BreakNumber=t.BreakNumber,o.SeasonNo=t.SeasonNo,o.FPC_ID=t.FPC_ID),o.SequenceNo=t.SequenceNo,o.Start_Time="00:00:00:00",o})),x=e=>{const t=Math.floor(e/60),o=e%60;return"".concat(String(t).padStart(2,"0"),":").concat(String(o).padStart(2,"0"))};const S=e=>{let{Progress:t,PromoSchdulingSave:o,openNotification:n}=e;const[i,c]=(0,a.useState)(0),[d,h]=(0,a.useState)(0),[u,m]=(0,a.useState)(0),[g,p]=(0,a.useState)(!1),C=(0,a.useRef)(!0),[S,f]=(0,a.useState)(!1),[N,y]=(0,a.useState)(""),v=e=>{let{percent:t}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{onClick:()=>{f(!0)},style:{cursor:"pointer"},children:(0,l.jsx)("p",{style:{marginTop:"5px",fontSize:"12px",color:"white"},children:x(d)})}),(0,l.jsx)("p",{style:{cursor:"pointer",color:"white",marginLeft:"10px"},onClick:()=>{p(!g)},children:g?(0,l.jsx)(r.Wh,{}):(0,l.jsx)(r.gmG,{})})]})};(0,a.useEffect)((()=>{j(10)}),[]),(0,a.useEffect)((()=>{let e;return g&&d>0?e=setInterval((()=>{h((e=>Math.max(e-1,0))),c((e=>{const t=100-d/(u||1)*100;return Math.min(t,100)}))}),1e3):0===d&&g&&(o(),n("info"),h(u)),()=>clearInterval(e)}),[g,d,u]),(0,a.useEffect)((()=>{C.current&&(C.current=!1)}),[d]);const j=e=>{const t=parseInt(e,10);if(!isNaN(t)&&t>0){const e=60*t;h(e),m(e),c(0),p(!0)}},b=e=>{console.log("onDialogClose",e),f(!1)};return(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)(s.Vq,{isOpen:S,width:300,height:200,onClose:b,onRequestClose:b,children:(0,l.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,l.jsx)("h5",{className:"mb-4",children:"Set Timer"}),(0,l.jsx)("div",{className:"flex align-center",children:(0,l.jsx)(s.II,{maxLength:"2",value:N,onChange:e=>{const t=e.target.value;(/^\d{0,2}$/.test(t)||""===t)&&y(t)}})}),(0,l.jsxs)("div",{className:"text-right mt-6",children:[(0,l.jsx)(s.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"solid",onClick:()=>{j(N),b()},children:"Set"}),(0,l.jsx)(s.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"solid",onClick:b,children:"Cancel"})]})]})}),(0,l.jsx)("div",{className:"flex",style:{width:"120px"},children:(0,l.jsx)(t,{variant:"circle",className:"mx-6",size:"sm",width:50,percent:i,customInfo:(0,l.jsx)(v,{percent:i})})})]})}},33155:()=>{}}]);
//# sourceMappingURL=3423.debeff01.chunk.js.map