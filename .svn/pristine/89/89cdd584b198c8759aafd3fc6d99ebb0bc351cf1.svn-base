{"version":3,"file":"static/js/4333.7fcb8820.chunk.js","mappings":"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","sources":["views/Scheduling/Scheduler/components/SchedulingArea/components/DraggableTable/Cell/components/EditRowDialogs/EditNTCDialog.js","views/Scheduling/Scheduler/components/SchedulingArea/components/DraggableTable/Cell/components/EditRowDialogs/EditLiveDialog.js","views/Scheduling/Scheduler/components/SchedulingArea/components/DraggableTable/Cell/components/Action.js","views/Scheduling/Scheduler/components/SchedulingArea/components/DraggableTable/Cell/components/FPCTimeCell.js"],"sourcesContent":["import { Button, Dialog, Input } from 'components/ui';\r\nimport React, { useContext, useState } from 'react';\r\nimport {\r\n  autoCompleteTime,\r\n  getFormattedTime,\r\n  openNotification,\r\n  subtractTimes,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport {\r\n  operationTypesEnum,\r\n  rowDataTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport { addTimes } from '../../../../Summary/utils';\r\nimport { getNTCParentRow } from 'views/Scheduling/Scheduler/context/utils';\r\nimport { updateOffsetStartTimeOfNTCs } from 'views/Scheduling/Scheduler/context/utils/ntcOperations/utils';\r\nimport lodash from 'lodash';\r\n\r\nfunction EditNTCDialog({ isDialogOpen, setIsDialogOpen, row, editRowInfo }) {\r\n  /* CONTEXT */\r\n  const { schedulingTableData, executeOperation, isAutoCalcNtcOffsetTime } =\r\n    useContext(SchedulerContext);\r\n\r\n  /* STATES */\r\n  const [duration, setDuration] = useState(row.Duration)\r\n  const [offsetTime, setOffsetTime] = useState(row.OffsetStartTime);\r\n  const [gap, setGap] = useState(row.DefaultGAP);\r\n  const [description, setDescription] = useState(row.Description)\r\n\r\n  /* CONSTANTS */\r\n  const ntcParentRow = getNTCParentRow(row.rowIndex, schedulingTableData);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleClose = () => {\r\n    setIsDialogOpen(false);\r\n  };\r\n\r\n  const handleInputKeyDown = (event) => {\r\n    if (\r\n      event.key === 'Enter' &&\r\n      duration.length === 11 &&\r\n      offsetTime.length === 11 &&\r\n      gap.length === 11\r\n    ) {\r\n      handleSubmit();\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      let newTableData;\r\n      if (isAutoCalcNtcOffsetTime) {\r\n        newTableData = getTableDataWithAutoNtcOffsetTimeCalc();\r\n      } else {\r\n        newTableData = [...schedulingTableData];\r\n        newTableData[row.rowIndex] = {\r\n          ...row,\r\n          OffsetStartTime: offsetTime,\r\n          DefaultGAP: gap,\r\n          Duration: duration,\r\n          Description: description\r\n        };\r\n      }\r\n      if (!('Description' in row)) {\r\n        delete newTableData[row.rowIndex].Description\r\n      }\r\n      await executeOperation({\r\n        operation: operationTypesEnum.UPDATE_TABLE,\r\n        newSchTableData: newTableData,\r\n      });\r\n      openNotification('success', 'Changes saved successfully');\r\n      handleClose();\r\n    } catch (error) {\r\n      openNotification('danger', 'Something went wrong while saving changes');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  /* HELPER FUNCTIONS */\r\n  const getTableDataWithAutoNtcOffsetTimeCalc = () => {\r\n    let newTableData = lodash.cloneDeep(schedulingTableData);\r\n    newTableData[row.rowIndex].Duration = duration\r\n    newTableData[row.rowIndex].Description = description\r\n    const prevRow = schedulingTableData[row.rowIndex - 1];\r\n    const isPrevRowNTC = prevRow.F_C_S_P === rowDataTypesEnum.NTC;\r\n    if (\r\n      !isAutoCalcNtcOffsetTime ||\r\n      !isPrevRowNTC ||\r\n      prevRow.NTCGroupCode !== row.NTCGroupCode\r\n    ) {\r\n      newTableData[row.rowIndex] = {\r\n        ...newTableData[row.rowIndex],\r\n        OffsetStartTime: offsetTime,\r\n        Start_Time: offsetTime,\r\n        Tel_Time: offsetTime,\r\n        DefaultGAP: gap,\r\n      };\r\n    } else {\r\n      const prevRowEndTime = addTimes(prevRow.Start_Time, prevRow.Duration);\r\n      const newPrevRowGap = subtractTimes(offsetTime, prevRowEndTime);\r\n      newTableData[row.rowIndex - 1] = {\r\n        ...prevRow,\r\n        DefaultGAP: newPrevRowGap,\r\n      };\r\n    }\r\n    newTableData = updateOffsetStartTimeOfNTCs(newTableData);\r\n    return newTableData;\r\n  };\r\n\r\n  const validateOffsetTime = (offsetTime) => {\r\n    const prevRow = schedulingTableData[row.rowIndex - 1];\r\n    const isPrevRowNTC = prevRow.F_C_S_P === rowDataTypesEnum.NTC;\r\n    const ntcEndTime = addTimes(offsetTime, duration);\r\n    if (\r\n      !isAutoCalcNtcOffsetTime ||\r\n      !isPrevRowNTC ||\r\n      prevRow.NTCGroupCode !== row.NTCGroupCode\r\n    ) {\r\n      if (ntcEndTime > ntcParentRow.Duration) {\r\n        return `NTC end time should not exceed its parent's end time`\r\n      }\r\n      return '';\r\n    }\r\n    const prevRowEndTime = getEventEndTime(prevRow, true);\r\n    const ntcStartTime = addTimes(prevRow.Start_Time, offsetTime);\r\n    if (ntcStartTime < prevRowEndTime) {\r\n      return `NTC start time should not overlap with its previous NTC`\r\n    }\r\n    if (ntcEndTime > ntcParentRow.Duration) {\r\n      return `NTC end time should not exceed its parent's end time`\r\n    }\r\n    return '';\r\n  };\r\n\r\n  const getEventEndTime = (row, isIncludeGap) => {\r\n    return isIncludeGap\r\n      ? addTimes(row.Start_Time, row.Duration, row.DefaultGAP)\r\n      : addTimes(row.Start_Time, row.Duration);\r\n  };\r\n\r\n  /* CONSTANTS */\r\n  const durErrorMsg = duration.length === 11 && addTimes(offsetTime, duration) > ntcParentRow.Duration ? `NTC Duration cannot be greater than its parent's duration` : ''\r\n  const offsetTimeErrorMsg = offsetTime.length === 11 ? validateOffsetTime(offsetTime) : ''\r\n\r\n  return (\r\n    <>\r\n      {editRowInfo && (\r\n        <Dialog\r\n          isOpen={isDialogOpen}\r\n          onClose={handleClose}\r\n          className=\"z-[1000]\"\r\n          width={'40%'}\r\n        >\r\n          <h5 className=\"mb-4\">Edit NTC</h5>\r\n          <div className=\"max-h-96 overflow-y-auto flex flex-col gap-8\">\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <div className=\"col-span-2\">\r\n                <p className=\"text-white mb-1\">NTC Name</p>\r\n                <Input size=\"sm\" value={row.Event_Name} disabled={true} />\r\n              </div>\r\n              <div>\r\n                <div>\r\n                  <p className=\"text-white mb-1\">NTC Duration</p>\r\n                  <Input\r\n                    size=\"sm\"\r\n                    value={duration}\r\n                    onChange={(event) => setDuration(getFormattedTime(event, duration))}\r\n                    onBlur={() => setDuration(autoCompleteTime(duration))}\r\n                    onKeyDown={handleInputKeyDown} />\r\n                </div>\r\n                {durErrorMsg && (\r\n                  <p className=\"text-red-500 mt-1.5 leading-tight\">\r\n                    {durErrorMsg}\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <div>\r\n                <p className=\"text-white mb-1\">Parent Start Time</p>\r\n                <Input\r\n                  size=\"sm\"\r\n                  value={ntcParentRow.Start_Time}\r\n                  disabled={true}\r\n                />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-white mb-1\">Parent End Time</p>\r\n                <Input\r\n                  size=\"sm\"\r\n                  value={getEventEndTime(ntcParentRow)}\r\n                  disabled={true}\r\n                />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-white mb-1\">Parent Duration</p>\r\n                <Input\r\n                  size=\"sm\"\r\n                  value={ntcParentRow.Duration}\r\n                  disabled={true}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <div>\r\n                <p className=\"text-white mb-1\">\r\n                  Offset Time <span className=\"text-red-500\">*</span>\r\n                </p>\r\n                <Input\r\n                  size=\"sm\"\r\n                  value={offsetTime}\r\n                  placeholder=\"HH:FF:SS:FF\"\r\n                  onChange={(event) => setOffsetTime(getFormattedTime(event, offsetTime))}\r\n                  onBlur={() => setOffsetTime(autoCompleteTime(offsetTime))}\r\n                  onKeyDown={handleInputKeyDown}\r\n                />\r\n                {offsetTimeErrorMsg && (\r\n                  <p className=\"text-red-500 mt-1.5 leading-tight\">\r\n                    {offsetTimeErrorMsg}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div>\r\n                <p className=\"text-white mb-1\">\r\n                  Gap <span className=\"text-red-500\">*</span>\r\n                </p>\r\n                <Input\r\n                  size=\"sm\"\r\n                  value={gap}\r\n                  placeholder=\"HH:FF:SS:FF\"\r\n                  onChange={(event) => setGap(getFormattedTime(event, gap))}\r\n                  onBlur={() => setGap(autoCompleteTime(gap))}\r\n                  onKeyDown={handleInputKeyDown}\r\n                />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-white mb-1\">NTC End Time</p>\r\n                <Input\r\n                  size=\"sm\"\r\n                  value={\r\n                    offsetTime.length === 11\r\n                      ? addTimes(\r\n                        ntcParentRow.Start_Time,\r\n                        offsetTime,\r\n                        row.Duration,\r\n                      )\r\n                      : 'HH:MM:SS:FF'\r\n                  }\r\n                  disabled={true}\r\n                />\r\n              </div>\r\n            </div>\r\n            {'Description' in row && <div>\r\n              <p className=\"text-white mb-1\">Description</p>\r\n              <Input\r\n                size=\"sm\"\r\n                placeholder=\"Description\"\r\n                value={description}\r\n                onChange={(event) => setDescription(event.target.value)}\r\n              />\r\n            </div>}\r\n          </div>\r\n          <div className=\"text-right mt-6\">\r\n            <Button\r\n              variant=\"solid\"\r\n              onClick={handleSubmit}\r\n              disabled={\r\n                duration.length < 11 || offsetTime.length < 11 || gap.length < 11 || offsetTimeErrorMsg || durErrorMsg\r\n              }\r\n            >\r\n              Submit\r\n            </Button>\r\n          </div>\r\n        </Dialog>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default EditNTCDialog;\r\n","import { Button, Dialog, Input } from 'components/ui';\r\nimport React, { useContext, useState } from 'react';\r\nimport {\r\n  autoCompleteTime,\r\n  getFormattedTime,\r\n  openNotification,\r\n} from 'views/Controls/GLOBALFUNACTION';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport { operationTypesEnum } from 'views/Scheduling/Scheduler/enum';\r\n\r\nfunction EditLiveDialog({ isDialogOpen, setIsDialogOpen, row }) {\r\n  /* CONTEXT */\r\n  const { schedulingTableData, executeOperation } =\r\n    useContext(SchedulerContext);\r\n\r\n  /* STATES */\r\n  const [duration, setDuration] = useState(row.Duration);\r\n\r\n  /* EVENT HANDLERS */\r\n  const handleClose = () => {\r\n    setIsDialogOpen(false);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      let newTableData = [...schedulingTableData];\r\n      newTableData[row.rowIndex] = {\r\n        ...row,\r\n        Duration: duration,\r\n      };\r\n      await executeOperation({\r\n        operation: operationTypesEnum.UPDATE_TABLE,\r\n        newSchTableData: newTableData,\r\n      });\r\n      openNotification('success', 'Changes saved successfully');\r\n      handleClose();\r\n    } catch (error) {\r\n      console.error(error);\r\n      openNotification('danger', 'Something went wrong while saving changes');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      isOpen={isDialogOpen}\r\n      onClose={handleClose}\r\n      onRequestClose={handleClose}\r\n    >\r\n      <h5 className=\"mb-4\">Edit Live Event</h5>\r\n      <div className=\"max-h-96 overflow-y-auto flex flex-col gap-8\">\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <div>\r\n            <p className=\"text-white mb-1\">Live Event</p>\r\n            <Input size=\"sm\" value={row.Event_Name} disabled={true} />\r\n          </div>\r\n          <div>\r\n            <p className=\"text-white mb-1\">\r\n              Duration <span className=\"text-red-500\">*</span>\r\n            </p>\r\n            <Input\r\n              size=\"sm\"\r\n              value={duration}\r\n              onChange={(event) =>\r\n                setDuration(getFormattedTime(event, duration))\r\n              }\r\n              onBlur={() => setDuration(autoCompleteTime(duration))}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"text-right mt-6\">\r\n        <Button\r\n          variant=\"solid\"\r\n          onClick={handleSave}\r\n          disabled={duration.length < 11}\r\n        >\r\n          Save\r\n        </Button>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default EditLiveDialog;\r\n","import React, { lazy, Suspense, useContext, useState } from 'react';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport { Tooltip } from 'components/ui';\r\nimport { rowDataTypesEnum } from 'views/Scheduling/Scheduler/enum';\r\nimport { getDeletableRows } from '../../../../utils/utils';\r\nimport { EDIT_ROW_INFO } from 'views/Scheduling/Scheduler/constants';\r\nimport Loader from 'views/Controls/Loader';\r\nimport EditNTCDialog from './EditRowDialogs/EditNTCDialog';\r\nimport EditLiveDialog from './EditRowDialogs/EditLiveDialog';\r\n\r\n/* CODE SPLITTING */\r\nconst DeleteMultipleRowsDialog = lazy(() =>\r\n  import('./DeleteMultipleRowsDialog'),\r\n);\r\nconst DropMultipleRowsDialog = lazy(() => import('./DropMultipleRowsDialog'));\r\n\r\nfunction Action({ action, row, selectedRows, setSelectedRows }) {\r\n  /* CONTEXT */\r\n  const {\r\n    executeOperation,\r\n    activeFeatures,\r\n    setActiveFeatures,\r\n    schedulingTableData,\r\n    setSchedulingTableSelectedRows,\r\n    maintainScrolledOffsetOfTables,\r\n    secondaryAreaZindexRef,\r\n  } = useContext(SchedulerContext);\r\n\r\n  /* STATES */\r\n  const [isDeleteMultipleRowsDialogOpen, setIsDeleteMultipleRowsDialogOpen] =\r\n    useState(false);\r\n  const [isDropMultipleRowsDialogOpen, setIsDropMultipleRowsDialogOpen] =\r\n    useState(false);\r\n  const [isEditRowDialogOpen, setIsEditRowDialogOpen] = useState(false);\r\n\r\n  return (\r\n    <Suspense fallback={<Loader showLoader={true} />}>\r\n      <Tooltip title={action.tooltip} wrapperClass=\"hover:cursor-pointer\">\r\n        <div\r\n          className=\"bg-gray-800 bg-opacity-80 rounded-full p-1\"\r\n          onClick={(event) => {\r\n            event.stopPropagation();\r\n            if (event.ctrlKey || event.metaKey) return;\r\n            action.actionHandler({\r\n              rows:\r\n                action.id === 'rotationInfo' || selectedRows.length === 0\r\n                  ? [row]\r\n                  : selectedRows,\r\n              executeOperation,\r\n              activeFeatures,\r\n              setActiveFeatures,\r\n              setIsDeleteMultipleRowsDialogOpen,\r\n              setIsDropMultipleRowsDialogOpen,\r\n              setSchedulingTableSelectedRows,\r\n              maintainScrolledOffsetOfTables,\r\n              setIsEditingRowDialogOpen: setIsEditRowDialogOpen,\r\n              tableData: schedulingTableData,\r\n              secondaryAreaZindexRef,\r\n            });\r\n          }}\r\n        >\r\n          {action.icon}\r\n        </div>\r\n      </Tooltip>\r\n      {isDeleteMultipleRowsDialogOpen && (\r\n        <DeleteMultipleRowsDialog\r\n          isDialogOpen={isDeleteMultipleRowsDialogOpen}\r\n          setIsDialogOpen={setIsDeleteMultipleRowsDialogOpen}\r\n          selectedRows={getDeletableRows(selectedRows)}\r\n          setSelectedRows={setSelectedRows}\r\n        />\r\n      )}\r\n      {isDropMultipleRowsDialogOpen && (\r\n        <DropMultipleRowsDialog\r\n          isDialogOpen={isDropMultipleRowsDialogOpen}\r\n          setIsDialogOpen={setIsDropMultipleRowsDialogOpen}\r\n          selectedRows={selectedRows.filter(\r\n            (row) => row.F_C_S_P === rowDataTypesEnum.COMMERCIAL,\r\n          )}\r\n          setSelectedRows={setSelectedRows}\r\n        />\r\n      )}\r\n      {isEditRowDialogOpen && (\r\n        <>\r\n          {row.F_C_S_P === rowDataTypesEnum.NTC && (\r\n            <EditNTCDialog\r\n              isDialogOpen={isEditRowDialogOpen}\r\n              setIsDialogOpen={setIsEditRowDialogOpen}\r\n              row={row}\r\n              editRowInfo={EDIT_ROW_INFO[row.F_C_S_P]}\r\n            />\r\n          )}\r\n          {row.F_C_S_P === rowDataTypesEnum.LIVE && (\r\n            <EditLiveDialog\r\n              isDialogOpen={isEditRowDialogOpen}\r\n              setIsDialogOpen={setIsEditRowDialogOpen}\r\n              row={row}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nexport default Action;\r\n","import React, { useContext } from 'react';\r\nimport SchedulerContext from 'views/Scheduling/Scheduler/context/SchedulerContext';\r\nimport {\r\n  featuresEnum,\r\n  rowDataTypesEnum,\r\n  tableTypesEnum,\r\n} from 'views/Scheduling/Scheduler/enum';\r\nimport Action from './Action';\r\nimport { Tooltip } from 'components/ui';\r\nimport { TbStatusChange } from 'react-icons/tb';\r\nimport { ROW_ACTIONS } from 'views/Scheduling/Scheduler/constants';\r\n\r\nfunction FPCTimeCell({\r\n  row,\r\n  column,\r\n  selectedRows,\r\n  setSelectedRows,\r\n  setIsChangeProgramDialogOpen,\r\n  setClickedProgram,\r\n  tableType,\r\n}) {\r\n  /* CONTEXT */\r\n  const { activeFeatures, isScheduleAllowedToEdit } =\r\n    useContext(SchedulerContext);\r\n\r\n  return (\r\n    <>\r\n      {tableType === tableTypesEnum.SCHEDULING &&\r\n      !activeFeatures[featuresEnum.ROTATION_INFO] &&\r\n      !activeFeatures[featuresEnum.ROTATION_INFO_WITH_MANAGE_COLUMNS] &&\r\n      isScheduleAllowedToEdit ? (\r\n        <>\r\n          {!activeFeatures[featuresEnum.CHANGE_PROGRAM] &&\r\n            !activeFeatures[featuresEnum.MANAGE_SEGMENT] && (\r\n              <>\r\n                {row.actions ? (\r\n                  <div\r\n                    className={`group-hover:flex w-full h-full flex items-center gap-[1%] justify-${\r\n                      column.accessorKey !== 'Event_Name' && 'center'\r\n                    } ${\r\n                      selectedRows.length > 0 &&\r\n                      selectedRows.map((row) => row.rowId).includes(row.rowId)\r\n                        ? `flex`\r\n                        : 'hidden'\r\n                    }`}\r\n                  >\r\n                    {row.actions.map((action) => (\r\n                      <Action\r\n                        action={action}\r\n                        row={row}\r\n                        selectedRows={selectedRows}\r\n                        setSelectedRows={setSelectedRows}\r\n                        key={action.id}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"py-1 px-2.5 overflow-hidden text-ellipsis whitespace-nowrap text-[12px] w-full\">\r\n                    {row[column.accessorKey]}\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          {activeFeatures[featuresEnum.CHANGE_PROGRAM] &&\r\n            row.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION && (\r\n              <div\r\n                className=\"py-1 px-2.5 overflow-hidden text-ellipsis whitespace-nowrap text-[12px] w-full flex items-center justify-center gap-[0.2rem]\"\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  setIsChangeProgramDialogOpen(true);\r\n                  setClickedProgram(row);\r\n                }}\r\n              >\r\n                {row[column.accessorKey]}\r\n                <Tooltip\r\n                  title=\"Replace Program\"\r\n                  wrapperClass=\"hover:cursor-pointer\"\r\n                >\r\n                  <div className=\"bg-gray-800 bg-opacity-80 rounded-full p-1 flex items-center justify-center\">\r\n                    <TbStatusChange className=\"text-gray-200 text-[1rem] -scale-x-100\" />\r\n                  </div>\r\n                </Tooltip>\r\n              </div>\r\n            )}\r\n          {activeFeatures[featuresEnum.MANAGE_SEGMENT] && (\r\n            <div className=\"py-1 px-2.5 overflow-hidden text-ellipsis whitespace-nowrap text-[12px] w-full flex items-center justify-center gap-[0.2rem]\">\r\n              {row.F_C_S_P === rowDataTypesEnum.SEGMENT && (\r\n                <Action\r\n                  action={ROW_ACTIONS.DELETE}\r\n                  row={row}\r\n                  selectedRows={selectedRows}\r\n                  setSelectedRows={setSelectedRows}\r\n                  key={ROW_ACTIONS.DELETE.id}\r\n                />\r\n              )}\r\n              {row.F_C_S_P === rowDataTypesEnum.CONTENT_TERMINATION && (\r\n                <>\r\n                  {row[column.accessorKey]}\r\n                  {row.rowIndex !== 1 && (\r\n                    <Action\r\n                      action={ROW_ACTIONS.DELETE}\r\n                      row={row}\r\n                      selectedRows={selectedRows}\r\n                      setSelectedRows={setSelectedRows}\r\n                      key={ROW_ACTIONS.DELETE}\r\n                    />\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <div className=\"py-1 px-2.5 overflow-hidden text-ellipsis whitespace-nowrap text-[12px] w-full\">\r\n          {row[column.accessorKey]}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FPCTimeCell;\r\n"],"names":["isDialogOpen","setIsDialogOpen","row","editRowInfo","schedulingTableData","executeOperation","isAutoCalcNtcOffsetTime","useContext","SchedulerContext","duration","setDuration","useState","Duration","offsetTime","setOffsetTime","OffsetStartTime","gap","setGap","DefaultGAP","description","setDescription","Description","ntcParentRow","getNTCParentRow","rowIndex","handleClose","handleInputKeyDown","event","key","length","handleSubmit","async","newTableData","getTableDataWithAutoNtcOffsetTimeCalc","operation","operationTypesEnum","newSchTableData","openNotification","error","console","lodash","prevRow","isPrevRowNTC","F_C_S_P","rowDataTypesEnum","NTCGroupCode","prevRowEndTime","addTimes","Start_Time","newPrevRowGap","subtractTimes","Tel_Time","updateOffsetStartTimeOfNTCs","getEventEndTime","isIncludeGap","durErrorMsg","offsetTimeErrorMsg","ntcEndTime","validateOffsetTime","isOpen","onClose","className","width","size","value","Event_Name","disabled","onChange","getFormattedTime","onBlur","autoCompleteTime","onKeyDown","placeholder","target","variant","onClick","onRequestClose","DeleteMultipleRowsDialog","lazy","DropMultipleRowsDialog","action","selectedRows","setSelectedRows","activeFeatures","setActiveFeatures","setSchedulingTableSelectedRows","maintainScrolledOffsetOfTables","secondaryAreaZindexRef","isDeleteMultipleRowsDialogOpen","setIsDeleteMultipleRowsDialogOpen","isDropMultipleRowsDialogOpen","setIsDropMultipleRowsDialogOpen","isEditRowDialogOpen","setIsEditRowDialogOpen","Suspense","fallback","Loader","showLoader","title","tooltip","wrapperClass","stopPropagation","ctrlKey","metaKey","actionHandler","rows","id","setIsEditingRowDialogOpen","tableData","icon","getDeletableRows","filter","EDIT_ROW_INFO","column","setIsChangeProgramDialogOpen","setClickedProgram","tableType","isScheduleAllowedToEdit","tableTypesEnum","featuresEnum","accessorKey","actions","map","rowId","includes","ROW_ACTIONS"],"sourceRoot":""}