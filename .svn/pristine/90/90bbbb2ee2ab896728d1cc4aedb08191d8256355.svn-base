"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[5895],{30623:(e,t,a)=>{a.d(t,{GE:()=>l,Pv:()=>d,UY:()=>n,W5:()=>c,eR:()=>i,nP:()=>m});var s=a(54048),r=a(46152);const o=a(74569);async function i(e){return r.Z.fetchData({url:"/teammaster/",method:"get",data:e})}const n=(e,t)=>new Promise(((a,r)=>{let i=JSON.stringify({TeamName:e.TeamName,ShortName:e.ShortName,IsActive:e.IsActive?1:0}),n={method:"post",maxBodyLength:1/0,url:s.Z.apiPrefix+"/teammaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:i};o.request(n).then((e=>{a(e)})).catch((e=>{r(e)}))})),l=(e,t,a)=>new Promise(((r,i)=>{let n=JSON.stringify({TeamName:e.TeamName,Team_Image:a,IsActive:e.IsActive?1:0}),l={method:"put",maxBodyLength:1/0,url:s.Z.apiPrefix+"/teammaster/".concat(e.TeamCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:n};o.request(l).then((e=>{r(e)})).catch((e=>{i(e)}))}));async function d(e){return r.Z.fetchData({url:"/groupmaster/",method:"get",data:e})}const c=(e,t)=>new Promise(((a,r)=>{let i={method:"post",maxBodyLength:1/0,url:s.Z.apiPrefix+"/groupmaster/",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};o.request(i).then((e=>{a(e)})).catch((e=>{r(e)}))})),m=(e,t)=>new Promise(((a,r)=>{let i={method:"put",maxBodyLength:1/0,url:s.Z.apiPrefix+"/groupmaster/".concat(e.GroupCode),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:e};o.request(i).then((e=>{a(e)})).catch((e=>{r(e)}))}))},2541:(e,t,a)=>{a.d(t,{Z:()=>c});a(72791);var s=a(1063),r=a(99917),o=a(2803),i=a(58617),n=(a(25146),a(60364)),l=a(80184);const d=e=>{let{checked:t,onToggle:a}=e;return(0,l.jsx)("div",{className:"p-field-switch",children:(0,l.jsx)(o.T5,{checked:t,onChange:a})})},c=e=>{let{data:t,onRowEditComplete:a,globalFilter:c,dataKey:m,columns:u,setyup:h,scrollHeight:p,setVisible:g,title:x,setAvatarImg:y,avatarImg:f,img:b}=e;const w=(0,n.useSelector)((e=>e.theme.mode)),j=(e,t)=>{let a=!0;const s=["image/jpeg","image/png"];if(e)for(const r of e)s.includes(r.type)||(a="Please upload a .jpeg or .png file!"),r.size>=5e5&&(a="Upload image cannot more then 500kb!");return a},v=e=>(0,l.jsxs)("div",{className:"flex items-center",children:[("Team"==x||"SubGenre"==x)&&(0,l.jsx)(o.gq,{className:"cursor-pointer mr-2",showList:!1,uploadLimit:1,beforeUpload:j,onChange:e=>{const t=new FileReader,a=e[0];a&&a.size>0&&(t.readAsDataURL(a),t.onloadend=()=>{y(t.result)})},children:(0,l.jsx)(o.qE,{size:30,src:f,icon:(0,l.jsx)(i.r7I,{})})}),(0,l.jsx)(o.II,{type:"text",size:"sm",maxLength:"20",value:e.value,onChange:t=>{const a=t.target.value;(/^[0-9a-zA-Z:.+/\s]*$/.test(a)||""===a)&&e.editorCallback(a)}})]});return(0,l.jsxs)(r.w,{paginator:!0,rows:10,value:t||[],editMode:"row",size:"small",dataKey:m,onRowEditComplete:a,onRowEditInit:e=>y(null===e||void 0===e?void 0:e.data[b]),tableStyle:{minWidth:"50rem"},globalFilter:c||"",emptyMessage:"No records found.",scrollable:!0,scrollHeight:p,children:[u.map(((e,t)=>(0,l.jsx)(s.s,{field:e.field,header:e.header,bodyStyle:"dark"==w?{border:"1px solid #6a6a6a"}:{border:"1px solid #e5e7eb",color:"black"},body:t=>(0,l.jsxs)("div",{className:"flex items-center",children:["serialNumber"!=e.field&&(0,l.jsx)("img",{src:t[b]?t[b]:"/img/27002.jpg",style:{height:"30px",width:"30px"},className:"hover:opacity-80 cursor-pointer  rounded-full mr-2"}),t[e.field]]}),editor:"TeamName"==e.field||"SubGenreName"==e.field?v:null,headerStyle:{textAlign:"center",width:e.width,paddingInline:"0.5rem",paddingBlock:"0.75rem"}},t))),(0,l.jsx)(s.s,{header:"Active",bodyStyle:"dark"==w?{border:"1px solid #6a6a6a"}:{border:"1px solid #e5e7eb",color:"black"},body:e=>(0,l.jsx)(d,{checked:1===e.IsActive,onToggle:()=>{g(!0),h(t.indexOf(e))}}),headerStyle:{textAlign:"center",width:"0.1%"}}),(0,l.jsx)(s.s,{header:"Action",rowEditor:!0,bodyStyle:"dark"==w?{border:"1px solid #6a6a6a"}:{border:"1px solid #e5e7eb",color:"black"},headerStyle:{textAlign:"center",width:"0.1%"}})]})}},61619:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(72791),r=a(30623),o=a(1413),i=a(60364),n=a(2803),l=a(46657),d=a(4621),c=a(32640),m=a(96361),u=a(2541),h=a(80184);const p=e=>{let{title:t,moduleText:a,apiGet:r,apiPost:p,apiPut:g,columns:x,defaultValues:y,MainFieldName:f,dataKey:b}=e;const w=(0,i.useSelector)((e=>e.auth.session.token)),j=(0,s.useRef)(0),[v,N]=(0,s.useState)([]),[S,A]=(0,s.useState)(!1),[T,Z]=(0,s.useState)(""),[I,C]=(0,s.useState)(!1),[P,k]=(0,s.useState)(),[E,D]=(0,s.useState)(y),[z,R]=(0,s.useState)(""),B=(0,s.useRef)(null),F=(e,t)=>{n.Am.push((0,h.jsx)(n.P_,{closable:!0,type:t,duration:2e3,title:t.charAt(0).toUpperCase()+t.slice(1),children:e}))};(0,s.useEffect)((()=>{j.current+=1,1===j.current&&(async()=>{const e=[...(await r()).data].reverse().map(((e,t)=>(0,o.Z)((0,o.Z)({},e),{},{serialNumber:t+1})));N(e)})()}),[r]);const L=async e=>{const t=[...v],a=t[e];a.IsActive=1===a.IsActive?0:1;try{const e=await g(a,w);204===e.status?F("Data Already Exists.","warning"):200===e.status&&(F("Data Updated Successfully","success"),N(t))}catch(s){console.error(s)}};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(l.F,{ref:B}),(0,h.jsx)(d.Q,{group:"declarative",visible:I,onHide:()=>C(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{L(P)}}),(0,h.jsx)(n.Zb,{header:(0,h.jsx)("div",{className:"flex justify-between",children:(0,h.jsx)("div",{children:(0,h.jsx)("span",{className:"flex items-center",children:(0,h.jsx)(m.Z,{ModuleText:a,Component:t})})})}),headerExtra:(0,c.W)(T,Z,A,S,(async()=>{if(E){const t=(0,o.Z)((0,o.Z)({},E),{},{serialNumber:1,IsActive:1,ShortName:E[f].substring(0,2)});try{const e=await p(t,w);204===e.status?F("Data Already Exists.","warning"):200===e.status&&(N((e=>[t,...e.map(((e,t)=>(0,o.Z)((0,o.Z)({},e),{},{serialNumber:t+2})))])),F("Data Added Successfully","success"),D(y),A(!1))}catch(e){console.error(e)}}else F("Kindly Enter Department Name","danger")}),E[f],(e=>D((0,o.Z)((0,o.Z)({},E),{},{[f]:e}))),E.ShortName,(e=>D((0,o.Z)((0,o.Z)({},E),{},{ShortName:e}))),t,v,x),bodyClass:"text-center",children:(0,h.jsx)(u.Z,{data:v,onRowEditComplete:async e=>{const{newData:t,index:a}=e,s=[...v];s[a]=(0,o.Z)((0,o.Z)({},t),{},{Team_Image:z});try{const e=await g(t,w,z);204===e.status?F("Data Already Exists.","warning"):200===e.status&&(F("Data Updated Successfully","success"),N(s)),R("")}catch(r){console.error(r),R()}},globalFilter:T,dataKey:b,columns:x,setyup:e=>{k(e),C(!0)},scrollHeight:"70vh",setVisible:C,title:t,setAvatarImg:R,avatarImg:z,img:"Team_Image"})})]})},g=()=>(0,h.jsx)(p,{title:"Team",moduleText:"Programming",apiGet:r.eR,apiPost:r.UY,apiPut:r.GE,columns:[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"TeamName",header:"Team Name",width:"20%",IsPrimary:!0}],defaultValues:{TeamName:""},MainFieldName:"TeamName",dataKey:"TeamCoode"})}}]);
//# sourceMappingURL=5895.fe3c4c15.chunk.js.map