"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[9309],{75035:(e,t,a)=>{a.d(t,{Z:()=>m});var s=a(1413),r=a(72791),i=a(60364),n=a(2803),l=a(46657),c=a(4621),o=a(32640),u=a(96361),d=a(80184);const m=e=>{let{title:t,moduleText:a,apiGet:m,apiPost:p,apiPut:h,columns:f,defaultValues:x,MainFieldName:y,dataKey:N}=e;const v=(0,i.useSelector)((e=>e.auth.session.token)),w=(0,r.useRef)(0),S=(e,t)=>{n.Am.push((0,d.jsx)(n.P_,{closable:!0,type:t,duration:1e3,title:t.charAt(0).toUpperCase()+t.slice(1),children:e}))},[Z,g]=(0,r.useState)([]),[D,b]=(0,r.useState)(!1),[j,A]=(0,r.useState)(""),[C,E]=(0,r.useState)(!1),[P,k]=(0,r.useState)(),[F,K]=(0,r.useState)(x),R=(0,r.useRef)(null);(0,r.useEffect)((()=>{w.current=w.current+1,1===w.current&&(async()=>{const e=[...(await m()).data].reverse().map(((e,t)=>(0,s.Z)((0,s.Z)({},e),{},{serialNumber:t+1})));g(e)})()}),[m]);const I=async e=>{const t=[...Z];let a=t[e];a.IsActive=1===a.IsActive?0:1;try{const e=await h(a,v);if(204===e.status)return void S("Data Already Exists.","warning");if(200===e.status)return S("Data Updated Successfully","success"),void g(t)}catch(s){console.error(s)}};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.F,{ref:R}),(0,d.jsx)(c.Q,{group:"declarative",visible:C,onHide:()=>E(!1),message:"Are you sure you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{I(P)}}),(0,d.jsx)(n.Zb,{header:(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("div",{children:(0,d.jsx)("span",{className:"flex items-center",children:(0,d.jsx)(u.Z,{ModuleText:a,Component:t})})}),(0,d.jsx)("div",{className:"flex flex-col items-center",style:{marginLeft:"-20%"}})]}),headerExtra:(0,o.W)(j,A,b,D,(async()=>{if(F){const t=(0,s.Z)((0,s.Z)({},F),{},{serialNumber:1,IsActive:1,ShortName:F[y].substring(0,2)});try{const e=await p(t,v);204===e.status&&S("Data Already Exists.","warning"),200===e.status&&(g((e=>{const a=e.map(((e,t)=>(0,s.Z)((0,s.Z)({},e),{},{serialNumber:t+2})));return[t,...a]})),S("Data Added Successfully","success"),K(x),b(!1))}catch(e){console.error(e)}}else S("Kindly Enter Department Name","danger")}),F[y],(e=>K((0,s.Z)((0,s.Z)({},F),{},{[y]:e}))),F.ShortName,(e=>K((0,s.Z)((0,s.Z)({},F),{},{[y]:e}))),t,Z,f),bodyClass:"text-center",children:(0,d.jsx)(o.Z,{data:Z,onRowEditComplete:async e=>{let t=[...Z],{newData:a,index:r}=e;t[r]=(0,s.Z)({},a);try{const e=await h(a,v);if(204===e.status)return void S("Data Already Exists.","warning");if(200===e.status)return S("Data Updated Successfully","success"),void g(t)}catch(i){console.error(i)}},globalFilter:j,dataKey:N,columns:f,setyup:e=>{console.log(e),k(e),E(!0)},scrollHeight:"70vh",setVisible:E})})]})}},53809:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});a(72791);var s=a(11308),r=a(75035),i=a(80184);const n=()=>(0,i.jsx)(r.Z,{title:"Department",moduleText:"Programming",apiGet:s.Dz,apiPost:s.iR,apiPut:s.Lp,columns:[{field:"serialNumber",header:"Sr.",width:"0.5%"},{field:"DepartmentName",header:"Department Name",width:"20%"},{field:"ShortName",header:"Short Name",width:"20%"}],defaultValues:{DepartmentName:"",ShortName:""},MainFieldName:"DepartmentName",dataKey:"DepartmentCode"})}}]);
//# sourceMappingURL=9309.31e9a84b.chunk.js.map